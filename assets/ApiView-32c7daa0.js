import{C as E,ao as G,i as ue,ap as pe,aq as q,ah as te,ar as ve,as as _e,at as J,au as ye,av as L,aw as me,ax as he,x as xe,aj as Oe,G as ge,c as be,w as se,H as i,o as oe,j as Pe,f as e,b as m,O as je,P as S,V as we,J as ae,an as Te,e as Ie,t as Ee,h as Fe,I as Ve}from"./index-db3394f4.js";import"./divider.esm-57ad9839.js";import{u as Ce}from"./apikey-7fd72e61.js";const Ne=ve?window:void 0,W=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},R="__vueuse_ssr_handlers__";W[R]=W[R]||{};W[R];var Se=Object.defineProperty,$e=Object.defineProperties,Be=Object.getOwnPropertyDescriptors,ne=Object.getOwnPropertySymbols,Ue=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable,le=(s,t,o)=>t in s?Se(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o,f=(s,t)=>{for(var o in t||(t={}))Ue.call(t,o)&&le(s,o,t[o]);if(ne)for(var o of ne(t))Ae.call(t,o)&&le(s,o,t[o]);return s},I=(s,t)=>$e(s,Be(t));const De={json:"application/json",text:"text/plain"};function ie(s){return _e(s,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch")}function M(s){return typeof Headers<"u"&&s instanceof Headers?Object.fromEntries([...s.entries()]):s}function He(s,...t){var o;const x=typeof AbortController=="function";let r={},n={immediate:!0,refetch:!1,timeout:0};const a={method:"GET",type:"text",payload:void 0};t.length>0&&(ie(t[0])?n=f(f({},n),t[0]):r=t[0]),t.length>1&&ie(t[1])&&(n=f(f({},n),t[1]));const{fetch:$=(o=Ne)==null?void 0:o.fetch,initialData:z,timeout:B}=n,b=L(),U=L(),l=L(),c=E(!1),P=E(!1),A=E(!1),j=E(null),D=G(null),H=G(null),Q=G(z),fe=ue(()=>x&&P.value);let O,w;const X=()=>{x&&O&&O.abort()},k=d=>{P.value=d,c.value=!d};B&&(w=pe(X,B,{immediate:!1}));const F=async(d=!1)=>{var v;k(!0),H.value=null,j.value=null,A.value=!1,O=void 0,x&&(O=new AbortController,O.signal.onabort=()=>A.value=!0,r=I(f({},r),{signal:O.signal}));const p={method:a.method,headers:{}};if(a.payload){const C=M(p.headers);a.payloadType&&(C["Content-Type"]=(v=De[a.payloadType])!=null?v:a.payloadType);const N=J(a.payload);p.body=a.payloadType==="json"?JSON.stringify(N):N}let g=!1;const _={url:J(s),options:f(f({},p),r),cancel:()=>{g=!0}};if(n.beforeFetch&&Object.assign(_,await n.beforeFetch(_)),g||!$)return k(!1),Promise.resolve(null);let y=null;return w&&w.start(),new Promise((C,N)=>{var Z;$(_.url,I(f(f({},p),_.options),{headers:f(f({},M(p.headers)),M((Z=_.options)==null?void 0:Z.headers))})).then(async u=>{if(D.value=u,j.value=u.status,y=await u[a.type](),n.afterFetch&&j.value>=200&&j.value<300&&({data:y}=await n.afterFetch({data:y,response:u})),Q.value=y,!u.ok)throw new Error(u.statusText);return b.trigger(u),C(u)}).catch(async u=>{let ee=u.message||u.name;return n.onFetchError&&({data:y,error:ee}=await n.onFetchError({data:y,error:u,response:D.value})),Q.value=y,H.value=ee,U.trigger(u),d?N(u):C(null)}).finally(()=>{k(!1),w&&w.stop(),l.trigger(null)})})},Y=q(n.refetch);te([Y,q(s)],([d])=>d&&F(),{deep:!0});const V={isFinished:c,statusCode:j,response:D,error:H,data:Q,isFetching:P,canAbort:fe,aborted:A,abort:X,execute:F,onFetchResponse:b.on,onFetchError:U.on,onFetchFinally:l.on,get:h("GET"),put:h("PUT"),post:h("POST"),delete:h("DELETE"),patch:h("PATCH"),head:h("HEAD"),options:h("OPTIONS"),json:T("json"),text:T("text"),blob:T("blob"),arrayBuffer:T("arrayBuffer"),formData:T("formData")};function h(d){return(v,p)=>{if(!P.value){a.method=d,a.payload=v,a.payloadType=p,me(a.payload)&&te([Y,q(a.payload)],([_])=>_&&F(),{deep:!0});const g=J(a.payload);return!p&&g&&Object.getPrototypeOf(g)===Object.prototype&&!(g instanceof FormData)&&(a.payloadType="json"),I(f({},V),{then(_,y){return K().then(_,y)}})}}}function K(){return new Promise((d,v)=>{he(c).toBe(!0).then(()=>d(V)).catch(p=>v(p))})}function T(d){return()=>{if(!P.value)return a.type=d,I(f({},V),{then(v,p){return K().then(v,p)}})}}return n.immediate&&setTimeout(F,0),I(f({},V),{then(d,v){return K().then(d,v)}})}var re;(function(s){s.UP="UP",s.RIGHT="RIGHT",s.DOWN="DOWN",s.LEFT="LEFT",s.NONE="NONE"})(re||(re={}));var Qe=Object.defineProperty,ce=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable,de=(s,t,o)=>t in s?Qe(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o,Ge=(s,t)=>{for(var o in t||(t={}))ke.call(t,o)&&de(s,o,t[o]);if(ce)for(var o of ce(t))Ke.call(t,o)&&de(s,o,t[o]);return s};const qe={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Ge({linear:ye},qe);const Je={class:"grid p-fluid"},Le={class:"flex col-12"},Me=e("div",{class:"col-2 flex justify-content-end"},[e("div",{class:"flex align-items-center"},"API Key")],-1),We={class:"col-9 flex justify-content-start"},Re={class:"flex align-items-center"},ze={class:"flex col-12"},Xe=e("div",{class:"col-2 flex justify-content-end"},[e("div",{class:"flex align-items-center"},"Node")],-1),Ye={class:"col-9 flex justify-content-start"},Ze={class:"flex align-items-center"},et={class:"flex col-12"},tt=e("div",{class:"col-2 flex justify-content-end"},[e("div",{class:"flex align-items-center"},"Tag")],-1),st={class:"col-9 flex justify-content-start"},ot={class:"flex align-items-center"},at={class:"flex col-12"},nt=e("div",{class:"col-2 flex justify-content-end"},[e("div",{class:"flex align-items-center"},"Summary")],-1),lt={class:"col-9 flex justify-content-start"},it={class:"flex align-items-center"},rt={class:"flex col-12"},ct=e("div",{class:"col-2 flex justify-content-end"},[e("div",{class:"flex align-items-center"},"Severity")],-1),dt={class:"col-9 flex justify-content-start"},ut={class:"flex align-items-center"},ft={class:"flex col-12"},pt={class:"col-2 flex justify-content-end"},vt={class:"flex align-items-center"},_t={class:"flex col-12"},yt=e("div",{class:"col-2 flex justify-content-end"},[e("div",{class:"flex align-items-center"},"URL")],-1),mt={class:"col-9 flex justify-content-start"},ht={class:"flex align-items-center"},xt={class:"flex col-12"},Ot=e("div",{class:"col-2 flex justify-content-end"},[e("div",{class:"flex align-items-center"},"Request Body")],-1),gt={class:"col-9 flex justify-content-start"},bt={class:"flex align-items-center"},Pt={key:0},It=xe({__name:"ApiView",setup(s){const t=E(),o="http://localhost:5173/blah",x=Ce(),r=Oe({event:{node:"",tag:"",summary:"",severity:0}}),n=ue(()=>JSON.stringify(r,null,4)),{execute:a,data:$,isFetching:z,error:B,statusCode:b}=He(o,{immediate:!1}).post();return ge(()=>{x.generateKeys()}),(U,l)=>(oe(),be(i(Ve),null,{title:se(()=>[Pe("Event API")]),content:se(()=>[e("div",Je,[e("div",Le,[Me,e("div",We,[e("div",Re,[m(i(je),{placeholder:"Select a Key",modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=c=>t.value=c),options:i(x).keys,"option-label":"key","option-value":"uuid"},null,8,["modelValue","options"])])])]),e("div",ze,[Xe,e("div",Ye,[e("div",Ze,[m(i(S),{modelValue:r.event.node,"onUpdate:modelValue":l[1]||(l[1]=c=>r.event.node=c),placeholder:"Hostname"},null,8,["modelValue"])])])]),e("div",et,[tt,e("div",st,[e("div",ot,[m(i(S),{modelValue:r.event.tag,"onUpdate:modelValue":l[2]||(l[2]=c=>r.event.tag=c),placeholder:"Tag"},null,8,["modelValue"])])])]),e("div",at,[nt,e("div",lt,[e("div",it,[m(i(S),{modelValue:r.event.summary,"onUpdate:modelValue":l[3]||(l[3]=c=>r.event.summary=c),placeholder:"Summary"},null,8,["modelValue"])])])]),e("div",rt,[ct,e("div",dt,[e("div",ut,[m(i(we),{modelValue:r.event.severity,"onUpdate:modelValue":l[4]||(l[4]=c=>r.event.severity=c),mode:"decimal",min:1,max:5},null,8,["modelValue"])])])]),e("div",ft,[e("div",pt,[e("div",vt,[m(i(ae),{label:"Send",onClick:l[5]||(l[5]=c=>i(a)())}),m(i(ae),{label:"Reset"})])])]),e("div",_t,[yt,e("div",mt,[e("div",ht,[m(i(S),{readonly:!0,value:o})])])]),e("div",xt,[Ot,e("div",gt,[e("div",bt,[m(i(Te),{style:{"font-family":"monospace"},readonly:!0,"auto-resize":!0,rows:"5",cols:"30",value:i(n)},null,8,["value"])])])]),i(b)?(oe(),Ie("div",Pt,"statusCode "+Ee(i(b)),1)):Fe("",!0)])]),_:1}))}});export{It as default};
