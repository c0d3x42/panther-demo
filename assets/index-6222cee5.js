var Uh=Object.defineProperty;var Hh=(e,t,n)=>t in e?Uh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var b=(e,t,n)=>(Hh(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function ll(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function qe(e){if(we(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=et(i)?Wh(i):qe(i);if(r)for(const s in r)t[s]=r[s]}return t}else{if(et(e))return e;if(We(e))return e}}const $h=/;(?![^(]*\))/g,qh=/:([^]+)/,Gh=/\/\*.*?\*\//gs;function Wh(e){const t={};return e.replace(Gh,"").split($h).forEach(n=>{if(n){const i=n.split(qh);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ie(e){let t="";if(et(e))t=e;else if(we(e))for(let n=0;n<e.length;n++){const i=ie(e[n]);i&&(t+=i+" ")}else if(We(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Jh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Yh=ll(Jh);function jc(e){return!!e||e===""}const Me=e=>et(e)?e:e==null?"":we(e)||We(e)&&(e.toString===Hc||!Se(e.toString))?JSON.stringify(e,Vc,2):String(e),Vc=(e,t)=>t&&t.__v_isRef?Vc(e,t.value):Ai(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:Kc(t)?{[`Set(${t.size})`]:[...t.values()]}:We(t)&&!we(t)&&!$c(t)?String(t):t,Ge={},Ri=[],rn=()=>{},Xh=()=>!1,Zh=/^on[^a-z]/,kr=e=>Zh.test(e),al=e=>e.startsWith("onUpdate:"),ft=Object.assign,cl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Qh=Object.prototype.hasOwnProperty,Te=(e,t)=>Qh.call(e,t),we=Array.isArray,Ai=e=>Pr(e)==="[object Map]",Kc=e=>Pr(e)==="[object Set]",Se=e=>typeof e=="function",et=e=>typeof e=="string",ul=e=>typeof e=="symbol",We=e=>e!==null&&typeof e=="object",Uc=e=>We(e)&&Se(e.then)&&Se(e.catch),Hc=Object.prototype.toString,Pr=e=>Hc.call(e),ef=e=>Pr(e).slice(8,-1),$c=e=>Pr(e)==="[object Object]",dl=e=>et(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ir=ll(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},tf=/-(\w)/g,gn=Rr(e=>e.replace(tf,(t,n)=>n?n.toUpperCase():"")),nf=/\B([A-Z])/g,hi=Rr(e=>e.replace(nf,"-$1").toLowerCase()),Ar=Rr(e=>e.charAt(0).toUpperCase()+e.slice(1)),sr=Rr(e=>e?`on${Ar(e)}`:""),bs=(e,t)=>!Object.is(e,t),rr=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},dr=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Eo=e=>{const t=parseFloat(e);return isNaN(t)?e:t},sf=e=>{const t=et(e)?Number(e):NaN;return isNaN(t)?e:t};let ea;const rf=()=>ea||(ea=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Dt;class qc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Dt,!t&&Dt&&(this.index=(Dt.scopes||(Dt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Dt;try{return Dt=this,t()}finally{Dt=n}}}on(){Dt=this}off(){Dt=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function hl(e){return new qc(e)}function of(e,t=Dt){t&&t.active&&t.effects.push(e)}function fl(){return Dt}function Gc(e){Dt&&Dt.cleanups.push(e)}const pl=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Wc=e=>(e.w&Kn)>0,Jc=e=>(e.n&Kn)>0,lf=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Kn},af=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];Wc(r)&&!Jc(r)?r.delete(e):t[n++]=r,r.w&=~Kn,r.n&=~Kn}t.length=n}},hr=new WeakMap;let ns=0,Kn=1;const ko=30;let en;const ai=Symbol(""),Po=Symbol("");class ml{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,of(this,i)}run(){if(!this.active)return this.fn();let t=en,n=Dn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=en,en=this,Dn=!0,Kn=1<<++ns,ns<=ko?lf(this):ta(this),this.fn()}finally{ns<=ko&&af(this),Kn=1<<--ns,en=this.parent,Dn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){en===this?this.deferStop=!0:this.active&&(ta(this),this.onStop&&this.onStop(),this.active=!1)}}function ta(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Dn=!0;const Yc=[];function Vi(){Yc.push(Dn),Dn=!1}function Ki(){const e=Yc.pop();Dn=e===void 0?!0:e}function Ot(e,t,n){if(Dn&&en){let i=hr.get(e);i||hr.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=pl()),Xc(r)}}function Xc(e,t){let n=!1;ns<=ko?Jc(e)||(e.n|=Kn,n=!Wc(e)):n=!e.has(en),n&&(e.add(en),en.deps.push(e))}function Sn(e,t,n,i,r,s){const o=hr.get(e);if(!o)return;let l=[];if(t==="clear")l=[...o.values()];else if(n==="length"&&we(e)){const c=Number(i);o.forEach((a,d)=>{(d==="length"||d>=c)&&l.push(a)})}else switch(n!==void 0&&l.push(o.get(n)),t){case"add":we(e)?dl(n)&&l.push(o.get("length")):(l.push(o.get(ai)),Ai(e)&&l.push(o.get(Po)));break;case"delete":we(e)||(l.push(o.get(ai)),Ai(e)&&l.push(o.get(Po)));break;case"set":Ai(e)&&l.push(o.get(ai));break}if(l.length===1)l[0]&&Ro(l[0]);else{const c=[];for(const a of l)a&&c.push(...a);Ro(pl(c))}}function Ro(e,t){const n=we(e)?e:[...e];for(const i of n)i.computed&&na(i);for(const i of n)i.computed||na(i)}function na(e,t){(e!==en||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function cf(e,t){var n;return(n=hr.get(e))===null||n===void 0?void 0:n.get(t)}const uf=ll("__proto__,__v_isRef,__isVue"),Zc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ul)),df=gl(),hf=gl(!1,!0),ff=gl(!0),ia=pf();function pf(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Oe(this);for(let s=0,o=this.length;s<o;s++)Ot(i,"get",s+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(Oe)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Vi();const i=Oe(this)[t].apply(this,n);return Ki(),i}}),e}function mf(e){const t=Oe(this);return Ot(t,"has",e),t.hasOwnProperty(e)}function gl(e=!1,t=!1){return function(i,r,s){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&s===(e?t?Of:iu:t?nu:tu).get(i))return i;const o=we(i);if(!e){if(o&&Te(ia,r))return Reflect.get(ia,r,s);if(r==="hasOwnProperty")return mf}const l=Reflect.get(i,r,s);return(ul(r)?Zc.has(r):uf(r))||(e||Ot(i,"get",r),t)?l:Ze(l)?o&&dl(r)?l:l.value:We(l)?e?wl(l):Vt(l):l}}const gf=Qc(),bf=Qc(!0);function Qc(e=!1){return function(n,i,r,s){let o=n[i];if(Fi(o)&&Ze(o)&&!Ze(r))return!1;if(!e&&(!fr(r)&&!Fi(r)&&(o=Oe(o),r=Oe(r)),!we(n)&&Ze(o)&&!Ze(r)))return o.value=r,!0;const l=we(n)&&dl(i)?Number(i)<n.length:Te(n,i),c=Reflect.set(n,i,r,s);return n===Oe(s)&&(l?bs(r,o)&&Sn(n,"set",i,r):Sn(n,"add",i,r)),c}}function yf(e,t){const n=Te(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&Sn(e,"delete",t,void 0),i}function wf(e,t){const n=Reflect.has(e,t);return(!ul(t)||!Zc.has(t))&&Ot(e,"has",t),n}function xf(e){return Ot(e,"iterate",we(e)?"length":ai),Reflect.ownKeys(e)}const eu={get:df,set:gf,deleteProperty:yf,has:wf,ownKeys:xf},vf={get:ff,set(e,t){return!0},deleteProperty(e,t){return!0}},_f=ft({},eu,{get:hf,set:bf}),bl=e=>e,Or=e=>Reflect.getPrototypeOf(e);function zs(e,t,n=!1,i=!1){e=e.__v_raw;const r=Oe(e),s=Oe(t);n||(t!==s&&Ot(r,"get",t),Ot(r,"get",s));const{has:o}=Or(r),l=i?bl:n?vl:ys;if(o.call(r,t))return l(e.get(t));if(o.call(r,s))return l(e.get(s));e!==r&&e.get(t)}function js(e,t=!1){const n=this.__v_raw,i=Oe(n),r=Oe(e);return t||(e!==r&&Ot(i,"has",e),Ot(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function Vs(e,t=!1){return e=e.__v_raw,!t&&Ot(Oe(e),"iterate",ai),Reflect.get(e,"size",e)}function sa(e){e=Oe(e);const t=Oe(this);return Or(t).has.call(t,e)||(t.add(e),Sn(t,"add",e,e)),this}function ra(e,t){t=Oe(t);const n=Oe(this),{has:i,get:r}=Or(n);let s=i.call(n,e);s||(e=Oe(e),s=i.call(n,e));const o=r.call(n,e);return n.set(e,t),s?bs(t,o)&&Sn(n,"set",e,t):Sn(n,"add",e,t),this}function oa(e){const t=Oe(this),{has:n,get:i}=Or(t);let r=n.call(t,e);r||(e=Oe(e),r=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return r&&Sn(t,"delete",e,void 0),s}function la(){const e=Oe(this),t=e.size!==0,n=e.clear();return t&&Sn(e,"clear",void 0,void 0),n}function Ks(e,t){return function(i,r){const s=this,o=s.__v_raw,l=Oe(o),c=t?bl:e?vl:ys;return!e&&Ot(l,"iterate",ai),o.forEach((a,d)=>i.call(r,c(a),c(d),s))}}function Us(e,t,n){return function(...i){const r=this.__v_raw,s=Oe(r),o=Ai(s),l=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,a=r[e](...i),d=n?bl:t?vl:ys;return!t&&Ot(s,"iterate",c?Po:ai),{next(){const{value:u,done:h}=a.next();return h?{value:u,done:h}:{value:l?[d(u[0]),d(u[1])]:d(u),done:h}},[Symbol.iterator](){return this}}}}function Pn(e){return function(...t){return e==="delete"?!1:this}}function Cf(){const e={get(s){return zs(this,s)},get size(){return Vs(this)},has:js,add:sa,set:ra,delete:oa,clear:la,forEach:Ks(!1,!1)},t={get(s){return zs(this,s,!1,!0)},get size(){return Vs(this)},has:js,add:sa,set:ra,delete:oa,clear:la,forEach:Ks(!1,!0)},n={get(s){return zs(this,s,!0)},get size(){return Vs(this,!0)},has(s){return js.call(this,s,!0)},add:Pn("add"),set:Pn("set"),delete:Pn("delete"),clear:Pn("clear"),forEach:Ks(!0,!1)},i={get(s){return zs(this,s,!0,!0)},get size(){return Vs(this,!0)},has(s){return js.call(this,s,!0)},add:Pn("add"),set:Pn("set"),delete:Pn("delete"),clear:Pn("clear"),forEach:Ks(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Us(s,!1,!1),n[s]=Us(s,!0,!1),t[s]=Us(s,!1,!0),i[s]=Us(s,!0,!0)}),[e,n,t,i]}const[Sf,If,Ef,kf]=Cf();function yl(e,t){const n=t?e?kf:Ef:e?If:Sf;return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Te(n,r)&&r in i?n:i,r,s)}const Pf={get:yl(!1,!1)},Rf={get:yl(!1,!0)},Af={get:yl(!0,!1)},tu=new WeakMap,nu=new WeakMap,iu=new WeakMap,Of=new WeakMap;function Tf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Lf(e){return e.__v_skip||!Object.isExtensible(e)?0:Tf(ef(e))}function Vt(e){return Fi(e)?e:xl(e,!1,eu,Pf,tu)}function Mf(e){return xl(e,!1,_f,Rf,nu)}function wl(e){return xl(e,!0,vf,Af,iu)}function xl(e,t,n,i,r){if(!We(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const o=Lf(e);if(o===0)return e;const l=new Proxy(e,o===2?i:n);return r.set(e,l),l}function Bn(e){return Fi(e)?Bn(e.__v_raw):!!(e&&e.__v_isReactive)}function Fi(e){return!!(e&&e.__v_isReadonly)}function fr(e){return!!(e&&e.__v_isShallow)}function su(e){return Bn(e)||Fi(e)}function Oe(e){const t=e&&e.__v_raw;return t?Oe(t):e}function di(e){return dr(e,"__v_skip",!0),e}const ys=e=>We(e)?Vt(e):e,vl=e=>We(e)?wl(e):e;function ru(e){Dn&&en&&(e=Oe(e),Xc(e.dep||(e.dep=pl())))}function ou(e,t){e=Oe(e);const n=e.dep;n&&Ro(n)}function Ze(e){return!!(e&&e.__v_isRef===!0)}function it(e){return lu(e,!1)}function Ff(e){return lu(e,!0)}function lu(e,t){return Ze(e)?e:new Df(e,t)}class Df{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Oe(t),this._value=n?t:ys(t)}get value(){return ru(this),this._value}set value(t){const n=this.__v_isShallow||fr(t)||Fi(t);t=n?t:Oe(t),bs(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ys(t),ou(this))}}function ge(e){return Ze(e)?e.value:e}const Bf={get:(e,t,n)=>ge(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Ze(r)&&!Ze(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function au(e){return Bn(e)?e:new Proxy(e,Bf)}function Nf(e){const t=we(e)?new Array(e.length):{};for(const n in e)t[n]=jf(e,n);return t}class zf{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return cf(Oe(this._object),this._key)}}function jf(e,t,n){const i=e[t];return Ze(i)?i:new zf(e,t,n)}var cu;class Vf{constructor(t,n,i,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[cu]=!1,this._dirty=!0,this.effect=new ml(t,()=>{this._dirty||(this._dirty=!0,ou(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const t=Oe(this);return ru(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}cu="__v_isReadonly";function Kf(e,t,n=!1){let i,r;const s=Se(e);return s?(i=e,r=rn):(i=e.get,r=e.set),new Vf(i,r,s||!r,n)}function Nn(e,t,n,i){let r;try{r=i?e(...i):e()}catch(s){Tr(s,t,n)}return r}function Wt(e,t,n,i){if(Se(e)){const s=Nn(e,t,n,i);return s&&Uc(s)&&s.catch(o=>{Tr(o,t,n)}),s}const r=[];for(let s=0;s<e.length;s++)r.push(Wt(e[s],t,n,i));return r}function Tr(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,l=n;for(;s;){const a=s.ec;if(a){for(let d=0;d<a.length;d++)if(a[d](e,o,l)===!1)return}s=s.parent}const c=t.appContext.config.errorHandler;if(c){Nn(c,null,10,[e,o,l]);return}}Uf(e,n,r,i)}function Uf(e,t,n,i=!0){console.error(e)}let ws=!1,Ao=!1;const wt=[];let hn=0;const Oi=[];let _n=null,ti=0;const uu=Promise.resolve();let _l=null;function Lr(e){const t=_l||uu;return e?t.then(this?e.bind(this):e):t}function Hf(e){let t=hn+1,n=wt.length;for(;t<n;){const i=t+n>>>1;xs(wt[i])<e?t=i+1:n=i}return t}function Cl(e){(!wt.length||!wt.includes(e,ws&&e.allowRecurse?hn+1:hn))&&(e.id==null?wt.push(e):wt.splice(Hf(e.id),0,e),du())}function du(){!ws&&!Ao&&(Ao=!0,_l=uu.then(fu))}function $f(e){const t=wt.indexOf(e);t>hn&&wt.splice(t,1)}function qf(e){we(e)?Oi.push(...e):(!_n||!_n.includes(e,e.allowRecurse?ti+1:ti))&&Oi.push(e),du()}function aa(e,t=ws?hn+1:0){for(;t<wt.length;t++){const n=wt[t];n&&n.pre&&(wt.splice(t,1),t--,n())}}function hu(e){if(Oi.length){const t=[...new Set(Oi)];if(Oi.length=0,_n){_n.push(...t);return}for(_n=t,_n.sort((n,i)=>xs(n)-xs(i)),ti=0;ti<_n.length;ti++)_n[ti]();_n=null,ti=0}}const xs=e=>e.id==null?1/0:e.id,Gf=(e,t)=>{const n=xs(e)-xs(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function fu(e){Ao=!1,ws=!0,wt.sort(Gf);const t=rn;try{for(hn=0;hn<wt.length;hn++){const n=wt[hn];n&&n.active!==!1&&Nn(n,null,14)}}finally{hn=0,wt.length=0,hu(),ws=!1,_l=null,(wt.length||Oi.length)&&fu()}}function Wf(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Ge;let r=n;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in i){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:u,trim:h}=i[d]||Ge;h&&(r=n.map(f=>et(f)?f.trim():f)),u&&(r=n.map(Eo))}let l,c=i[l=sr(t)]||i[l=sr(gn(t))];!c&&s&&(c=i[l=sr(hi(t))]),c&&Wt(c,e,6,r);const a=i[l+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Wt(a,e,6,r)}}function pu(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const s=e.emits;let o={},l=!1;if(!Se(e)){const c=a=>{const d=pu(a,t,!0);d&&(l=!0,ft(o,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!s&&!l?(We(e)&&i.set(e,null),null):(we(s)?s.forEach(c=>o[c]=null):ft(o,s),We(e)&&i.set(e,o),o)}function Mr(e,t){return!e||!kr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Te(e,t[0].toLowerCase()+t.slice(1))||Te(e,hi(t))||Te(e,t))}let yt=null,Fr=null;function pr(e){const t=yt;return yt=e,Fr=e&&e.type.__scopeId||null,t}function Jf(e){Fr=e}function Yf(){Fr=null}function ye(e,t=yt,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&wa(-1);const s=pr(t);let o;try{o=e(...r)}finally{pr(s),i._d&&wa(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function lo(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:s,propsOptions:[o],slots:l,attrs:c,emit:a,render:d,renderCache:u,data:h,setupState:f,ctx:v,inheritAttrs:k}=e;let O,A;const L=pr(e);try{if(n.shapeFlag&4){const T=r||i;O=dn(d.call(T,T,u,s,f,h,v)),A=c}else{const T=t;O=dn(T.length>1?T(s,{attrs:c,slots:l,emit:a}):T(s,null)),A=t.props?c:Xf(c)}}catch(T){as.length=0,Tr(T,e,1),O=he(Jt)}let q=O;if(A&&k!==!1){const T=Object.keys(A),{shapeFlag:B}=q;T.length&&B&7&&(o&&T.some(al)&&(A=Zf(A,o)),q=Un(q,A))}return n.dirs&&(q=Un(q),q.dirs=q.dirs?q.dirs.concat(n.dirs):n.dirs),n.transition&&(q.transition=n.transition),O=q,pr(L),O}const Xf=e=>{let t;for(const n in e)(n==="class"||n==="style"||kr(n))&&((t||(t={}))[n]=e[n]);return t},Zf=(e,t)=>{const n={};for(const i in e)(!al(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Qf(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:l,patchFlag:c}=t,a=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return i?ca(i,o,a):!!o;if(c&8){const d=t.dynamicProps;for(let u=0;u<d.length;u++){const h=d[u];if(o[h]!==i[h]&&!Mr(a,h))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:i===o?!1:i?o?ca(i,o,a):!0:!!o;return!1}function ca(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!Mr(n,s))return!0}return!1}function ep({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const tp=e=>e.__isSuspense;function np(e,t){t&&t.pendingBranch?we(e)?t.effects.push(...e):t.effects.push(e):qf(e)}function or(e,t){if(nt){let n=nt.provides;const i=nt.parent&&nt.parent.provides;i===n&&(n=nt.provides=Object.create(i)),n[e]=t}}function zt(e,t,n=!1){const i=nt||yt;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Se(t)?t.call(i.proxy):t}}const Hs={};function Rt(e,t,n){return mu(e,t,n)}function mu(e,t,{immediate:n,deep:i,flush:r,onTrack:s,onTrigger:o}=Ge){const l=fl()===(nt==null?void 0:nt.scope)?nt:null;let c,a=!1,d=!1;if(Ze(e)?(c=()=>e.value,a=fr(e)):Bn(e)?(c=()=>e,i=!0):we(e)?(d=!0,a=e.some(q=>Bn(q)||fr(q)),c=()=>e.map(q=>{if(Ze(q))return q.value;if(Bn(q))return li(q);if(Se(q))return Nn(q,l,2)})):Se(e)?t?c=()=>Nn(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return u&&u(),Wt(e,l,3,[h])}:c=rn,t&&i){const q=c;c=()=>li(q())}let u,h=q=>{u=A.onStop=()=>{Nn(q,l,4)}},f;if(Ss)if(h=rn,t?n&&Wt(t,l,3,[c(),d?[]:void 0,h]):c(),r==="sync"){const q=Wp();f=q.__watcherHandles||(q.__watcherHandles=[])}else return rn;let v=d?new Array(e.length).fill(Hs):Hs;const k=()=>{if(A.active)if(t){const q=A.run();(i||a||(d?q.some((T,B)=>bs(T,v[B])):bs(q,v)))&&(u&&u(),Wt(t,l,3,[q,v===Hs?void 0:d&&v[0]===Hs?[]:v,h]),v=q)}else A.run()};k.allowRecurse=!!t;let O;r==="sync"?O=k:r==="post"?O=()=>kt(k,l&&l.suspense):(k.pre=!0,l&&(k.id=l.uid),O=()=>Cl(k));const A=new ml(c,O);t?n?k():v=A.run():r==="post"?kt(A.run.bind(A),l&&l.suspense):A.run();const L=()=>{A.stop(),l&&l.scope&&cl(l.scope.effects,A)};return f&&f.push(L),L}function ip(e,t,n){const i=this.proxy,r=et(e)?e.includes(".")?gu(i,e):()=>i[e]:e.bind(i,i);let s;Se(t)?s=t:(s=t.handler,n=t);const o=nt;Di(this);const l=mu(r,s.bind(i),n);return o?Di(o):ci(),l}function gu(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function li(e,t){if(!We(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ze(e))li(e.value,t);else if(we(e))for(let n=0;n<e.length;n++)li(e[n],t);else if(Kc(e)||Ai(e))e.forEach(n=>{li(n,t)});else if($c(e))for(const n in e)li(e[n],t);return e}function bu(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Il(()=>{e.isMounted=!0}),_u(()=>{e.isUnmounting=!0}),e}const Ut=[Function,Array],sp={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ut,onEnter:Ut,onAfterEnter:Ut,onEnterCancelled:Ut,onBeforeLeave:Ut,onLeave:Ut,onAfterLeave:Ut,onLeaveCancelled:Ut,onBeforeAppear:Ut,onAppear:Ut,onAfterAppear:Ut,onAppearCancelled:Ut},setup(e,{slots:t}){const n=jr(),i=bu();let r;return()=>{const s=t.default&&Sl(t.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const k of s)if(k.type!==Jt){o=k;break}}const l=Oe(e),{mode:c}=l;if(i.isLeaving)return ao(o);const a=ua(o);if(!a)return ao(o);const d=vs(a,l,i,n);_s(a,d);const u=n.subTree,h=u&&ua(u);let f=!1;const{getTransitionKey:v}=a.type;if(v){const k=v();r===void 0?r=k:k!==r&&(r=k,f=!0)}if(h&&h.type!==Jt&&(!ni(a,h)||f)){const k=vs(h,l,i,n);if(_s(h,k),c==="out-in")return i.isLeaving=!0,k.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},ao(o);c==="in-out"&&a.type!==Jt&&(k.delayLeave=(O,A,L)=>{const q=wu(i,h);q[String(h.key)]=h,O._leaveCb=()=>{A(),O._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=L})}return o}}},yu=sp;function wu(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function vs(e,t,n,i){const{appear:r,mode:s,persisted:o=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:a,onEnterCancelled:d,onBeforeLeave:u,onLeave:h,onAfterLeave:f,onLeaveCancelled:v,onBeforeAppear:k,onAppear:O,onAfterAppear:A,onAppearCancelled:L}=t,q=String(e.key),T=wu(n,e),B=(H,be)=>{H&&Wt(H,i,9,be)},Z=(H,be)=>{const ve=be[1];B(H,be),we(H)?H.every(Ee=>Ee.length<=1)&&ve():H.length<=1&&ve()},te={mode:s,persisted:o,beforeEnter(H){let be=l;if(!n.isMounted)if(r)be=k||l;else return;H._leaveCb&&H._leaveCb(!0);const ve=T[q];ve&&ni(e,ve)&&ve.el._leaveCb&&ve.el._leaveCb(),B(be,[H])},enter(H){let be=c,ve=a,Ee=d;if(!n.isMounted)if(r)be=O||c,ve=A||a,Ee=L||d;else return;let re=!1;const Fe=H._enterCb=He=>{re||(re=!0,He?B(Ee,[H]):B(ve,[H]),te.delayedLeave&&te.delayedLeave(),H._enterCb=void 0)};be?Z(be,[H,Fe]):Fe()},leave(H,be){const ve=String(e.key);if(H._enterCb&&H._enterCb(!0),n.isUnmounting)return be();B(u,[H]);let Ee=!1;const re=H._leaveCb=Fe=>{Ee||(Ee=!0,be(),Fe?B(v,[H]):B(f,[H]),H._leaveCb=void 0,T[ve]===e&&delete T[ve])};T[ve]=e,h?Z(h,[H,re]):re()},clone(H){return vs(H,t,n,i)}};return te}function ao(e){if(Dr(e))return e=Un(e),e.children=null,e}function ua(e){return Dr(e)?e.children?e.children[0]:void 0:e}function _s(e,t){e.shapeFlag&6&&e.component?_s(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Sl(e,t=!1,n){let i=[],r=0;for(let s=0;s<e.length;s++){let o=e[s];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===me?(o.patchFlag&128&&r++,i=i.concat(Sl(o.children,t,l))):(t||o.type!==Jt)&&i.push(l!=null?Un(o,{key:l}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function As(e){return Se(e)?{setup:e,name:e.name}:e}const rs=e=>!!e.type.__asyncLoader,Dr=e=>e.type.__isKeepAlive;function rp(e,t){xu(e,"a",t)}function op(e,t){xu(e,"da",t)}function xu(e,t,n=nt){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Br(t,i,n),n){let r=n.parent;for(;r&&r.parent;)Dr(r.parent.vnode)&&lp(i,t,n,r),r=r.parent}}function lp(e,t,n,i){const r=Br(t,e,i,!0);Cu(()=>{cl(i[t],r)},n)}function Br(e,t,n=nt,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Vi(),Di(n);const l=Wt(t,n,e,o);return ci(),Ki(),l});return i?r.unshift(s):r.push(s),s}}const En=e=>(t,n=nt)=>(!Ss||e==="sp")&&Br(e,(...i)=>t(...i),n),ap=En("bm"),Il=En("m"),cp=En("bu"),vu=En("u"),_u=En("bum"),Cu=En("um"),up=En("sp"),dp=En("rtg"),hp=En("rtc");function fp(e,t=nt){Br("ec",e,t)}function ot(e,t){const n=yt;if(n===null)return e;const i=Vr(n)||n.proxy,r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,l,c,a=Ge]=t[s];o&&(Se(o)&&(o={mounted:o,updated:o}),o.deep&&li(l),r.push({dir:o,instance:i,value:l,oldValue:void 0,arg:c,modifiers:a}))}return e}function Jn(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const l=r[o];s&&(l.oldValue=s[o].value);let c=l.dir[i];c&&(Vi(),Wt(c,n,8,[e.el,l,e,t]),Ki())}}const El="components",pp="directives";function _e(e,t){return kl(El,e,!0,t)||e}const Su=Symbol();function ut(e){return et(e)?kl(El,e,!1)||e:e||Su}function Et(e){return kl(pp,e)}function kl(e,t,n=!0,i=!1){const r=yt||nt;if(r){const s=r.type;if(e===El){const l=Hp(s,!1);if(l&&(l===t||l===gn(t)||l===Ar(gn(t))))return s}const o=da(r[e]||s[e],t)||da(r.appContext[e],t);return!o&&i?s:o}}function da(e,t){return e&&(e[t]||e[gn(t)]||e[Ar(gn(t))])}function lt(e,t,n,i){let r;const s=n&&n[i];if(we(e)||et(e)){r=new Array(e.length);for(let o=0,l=e.length;o<l;o++)r[o]=t(e[o],o,void 0,s&&s[o])}else if(typeof e=="number"){r=new Array(e);for(let o=0;o<e;o++)r[o]=t(o+1,o,void 0,s&&s[o])}else if(We(e))if(e[Symbol.iterator])r=Array.from(e,(o,l)=>t(o,l,void 0,s&&s[l]));else{const o=Object.keys(e);r=new Array(o.length);for(let l=0,c=o.length;l<c;l++){const a=o[l];r[l]=t(e[a],a,l,s&&s[l])}}else r=[];return n&&(n[i]=r),r}function Oo(e,t){for(let n=0;n<t.length;n++){const i=t[n];if(we(i))for(let r=0;r<i.length;r++)e[i[r].name]=i[r].fn;else i&&(e[i.name]=i.key?(...r)=>{const s=i.fn(...r);return s&&(s.key=i.key),s}:i.fn)}return e}function Pe(e,t,n={},i,r){if(yt.isCE||yt.parent&&rs(yt.parent)&&yt.parent.isCE)return t!=="default"&&(n.name=t),he("slot",n,i&&i());let s=e[t];s&&s._c&&(s._d=!1),x();const o=s&&Iu(s(n)),l=le(me,{key:n.key||o&&o.key||`_${t}`},o||(i?i():[]),o&&e._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function Iu(e){return e.some(t=>gr(t)?!(t.type===Jt||t.type===me&&!Iu(t.children)):!0)?e:null}function $s(e,t){const n={};for(const i in e)n[t&&/[A-Z]/.test(i)?`on:${i}`:sr(i)]=e[i];return n}const To=e=>e?Du(e)?Vr(e)||e.proxy:To(e.parent):null,os=ft(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>To(e.parent),$root:e=>To(e.root),$emit:e=>e.emit,$options:e=>Pl(e),$forceUpdate:e=>e.f||(e.f=()=>Cl(e.update)),$nextTick:e=>e.n||(e.n=Lr.bind(e.proxy)),$watch:e=>ip.bind(e)}),co=(e,t)=>e!==Ge&&!e.__isScriptSetup&&Te(e,t),mp={get({_:e},t){const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:l,appContext:c}=e;let a;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(co(i,t))return o[t]=1,i[t];if(r!==Ge&&Te(r,t))return o[t]=2,r[t];if((a=e.propsOptions[0])&&Te(a,t))return o[t]=3,s[t];if(n!==Ge&&Te(n,t))return o[t]=4,n[t];Lo&&(o[t]=0)}}const d=os[t];let u,h;if(d)return t==="$attrs"&&Ot(e,"get",t),d(e);if((u=l.__cssModules)&&(u=u[t]))return u;if(n!==Ge&&Te(n,t))return o[t]=4,n[t];if(h=c.config.globalProperties,Te(h,t))return h[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:s}=e;return co(r,t)?(r[t]=n,!0):i!==Ge&&Te(i,t)?(i[t]=n,!0):Te(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let l;return!!n[o]||e!==Ge&&Te(e,o)||co(t,o)||(l=s[0])&&Te(l,o)||Te(i,o)||Te(os,o)||Te(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Te(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Lo=!0;function gp(e){const t=Pl(e),n=e.proxy,i=e.ctx;Lo=!1,t.beforeCreate&&ha(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:o,watch:l,provide:c,inject:a,created:d,beforeMount:u,mounted:h,beforeUpdate:f,updated:v,activated:k,deactivated:O,beforeDestroy:A,beforeUnmount:L,destroyed:q,unmounted:T,render:B,renderTracked:Z,renderTriggered:te,errorCaptured:H,serverPrefetch:be,expose:ve,inheritAttrs:Ee,components:re,directives:Fe,filters:He}=t;if(a&&bp(a,i,null,e.appContext.config.unwrapInjectedRef),o)for(const Ne in o){const Le=o[Ne];Se(Le)&&(i[Ne]=Le.bind(n))}if(r){const Ne=r.call(n,n);We(Ne)&&(e.data=Vt(Ne))}if(Lo=!0,s)for(const Ne in s){const Le=s[Ne],vt=Se(Le)?Le.bind(n,n):Se(Le.get)?Le.get.bind(n,n):rn,pt=!Se(Le)&&Se(Le.set)?Le.set.bind(n):rn,mt=Ue({get:vt,set:pt});Object.defineProperty(i,Ne,{enumerable:!0,configurable:!0,get:()=>mt.value,set:tt=>mt.value=tt})}if(l)for(const Ne in l)Eu(l[Ne],i,n,Ne);if(c){const Ne=Se(c)?c.call(n):c;Reflect.ownKeys(Ne).forEach(Le=>{or(Le,Ne[Le])})}d&&ha(d,e,"c");function $e(Ne,Le){we(Le)?Le.forEach(vt=>Ne(vt.bind(n))):Le&&Ne(Le.bind(n))}if($e(ap,u),$e(Il,h),$e(cp,f),$e(vu,v),$e(rp,k),$e(op,O),$e(fp,H),$e(hp,Z),$e(dp,te),$e(_u,L),$e(Cu,T),$e(up,be),we(ve))if(ve.length){const Ne=e.exposed||(e.exposed={});ve.forEach(Le=>{Object.defineProperty(Ne,Le,{get:()=>n[Le],set:vt=>n[Le]=vt})})}else e.exposed||(e.exposed={});B&&e.render===rn&&(e.render=B),Ee!=null&&(e.inheritAttrs=Ee),re&&(e.components=re),Fe&&(e.directives=Fe)}function bp(e,t,n=rn,i=!1){we(e)&&(e=Mo(e));for(const r in e){const s=e[r];let o;We(s)?"default"in s?o=zt(s.from||r,s.default,!0):o=zt(s.from||r):o=zt(s),Ze(o)&&i?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[r]=o}}function ha(e,t,n){Wt(we(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function Eu(e,t,n,i){const r=i.includes(".")?gu(n,i):()=>n[i];if(et(e)){const s=t[e];Se(s)&&Rt(r,s)}else if(Se(e))Rt(r,e.bind(n));else if(We(e))if(we(e))e.forEach(s=>Eu(s,t,n,i));else{const s=Se(e.handler)?e.handler.bind(n):t[e.handler];Se(s)&&Rt(r,s,e)}}function Pl(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,l=s.get(t);let c;return l?c=l:!r.length&&!n&&!i?c=t:(c={},r.length&&r.forEach(a=>mr(c,a,o,!0)),mr(c,t,o)),We(t)&&s.set(t,c),c}function mr(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&mr(e,s,n,!0),r&&r.forEach(o=>mr(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const l=yp[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const yp={data:fa,props:Qn,emits:Qn,methods:Qn,computed:Qn,beforeCreate:_t,created:_t,beforeMount:_t,mounted:_t,beforeUpdate:_t,updated:_t,beforeDestroy:_t,beforeUnmount:_t,destroyed:_t,unmounted:_t,activated:_t,deactivated:_t,errorCaptured:_t,serverPrefetch:_t,components:Qn,directives:Qn,watch:xp,provide:fa,inject:wp};function fa(e,t){return t?e?function(){return ft(Se(e)?e.call(this,this):e,Se(t)?t.call(this,this):t)}:t:e}function wp(e,t){return Qn(Mo(e),Mo(t))}function Mo(e){if(we(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function _t(e,t){return e?[...new Set([].concat(e,t))]:t}function Qn(e,t){return e?ft(ft(Object.create(null),e),t):t}function xp(e,t){if(!e)return t;if(!t)return e;const n=ft(Object.create(null),e);for(const i in t)n[i]=_t(e[i],t[i]);return n}function vp(e,t,n,i=!1){const r={},s={};dr(s,zr,1),e.propsDefaults=Object.create(null),ku(e,t,r,s);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:Mf(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function _p(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=e,l=Oe(r),[c]=e.propsOptions;let a=!1;if((i||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let u=0;u<d.length;u++){let h=d[u];if(Mr(e.emitsOptions,h))continue;const f=t[h];if(c)if(Te(s,h))f!==s[h]&&(s[h]=f,a=!0);else{const v=gn(h);r[v]=Fo(c,l,v,f,e,!1)}else f!==s[h]&&(s[h]=f,a=!0)}}}else{ku(e,t,r,s)&&(a=!0);let d;for(const u in l)(!t||!Te(t,u)&&((d=hi(u))===u||!Te(t,d)))&&(c?n&&(n[u]!==void 0||n[d]!==void 0)&&(r[u]=Fo(c,l,u,void 0,e,!0)):delete r[u]);if(s!==l)for(const u in s)(!t||!Te(t,u))&&(delete s[u],a=!0)}a&&Sn(e,"set","$attrs")}function ku(e,t,n,i){const[r,s]=e.propsOptions;let o=!1,l;if(t)for(let c in t){if(ir(c))continue;const a=t[c];let d;r&&Te(r,d=gn(c))?!s||!s.includes(d)?n[d]=a:(l||(l={}))[d]=a:Mr(e.emitsOptions,c)||(!(c in i)||a!==i[c])&&(i[c]=a,o=!0)}if(s){const c=Oe(n),a=l||Ge;for(let d=0;d<s.length;d++){const u=s[d];n[u]=Fo(r,c,u,a[u],e,!Te(a,u))}}return o}function Fo(e,t,n,i,r,s){const o=e[n];if(o!=null){const l=Te(o,"default");if(l&&i===void 0){const c=o.default;if(o.type!==Function&&Se(c)){const{propsDefaults:a}=r;n in a?i=a[n]:(Di(r),i=a[n]=c.call(null,t),ci())}else i=c}o[0]&&(s&&!l?i=!1:o[1]&&(i===""||i===hi(n))&&(i=!0))}return i}function Pu(e,t,n=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const s=e.props,o={},l=[];let c=!1;if(!Se(e)){const d=u=>{c=!0;const[h,f]=Pu(u,t,!0);ft(o,h),f&&l.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!c)return We(e)&&i.set(e,Ri),Ri;if(we(s))for(let d=0;d<s.length;d++){const u=gn(s[d]);pa(u)&&(o[u]=Ge)}else if(s)for(const d in s){const u=gn(d);if(pa(u)){const h=s[d],f=o[u]=we(h)||Se(h)?{type:h}:Object.assign({},h);if(f){const v=ba(Boolean,f.type),k=ba(String,f.type);f[0]=v>-1,f[1]=k<0||v<k,(v>-1||Te(f,"default"))&&l.push(u)}}}const a=[o,l];return We(e)&&i.set(e,a),a}function pa(e){return e[0]!=="$"}function ma(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function ga(e,t){return ma(e)===ma(t)}function ba(e,t){return we(t)?t.findIndex(n=>ga(n,e)):Se(t)&&ga(t,e)?0:-1}const Ru=e=>e[0]==="_"||e==="$stable",Rl=e=>we(e)?e.map(dn):[dn(e)],Cp=(e,t,n)=>{if(t._n)return t;const i=ye((...r)=>Rl(t(...r)),n);return i._c=!1,i},Au=(e,t,n)=>{const i=e._ctx;for(const r in e){if(Ru(r))continue;const s=e[r];if(Se(s))t[r]=Cp(r,s,i);else if(s!=null){const o=Rl(s);t[r]=()=>o}}},Ou=(e,t)=>{const n=Rl(t);e.slots.default=()=>n},Sp=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Oe(t),dr(t,"_",n)):Au(t,e.slots={})}else e.slots={},t&&Ou(e,t);dr(e.slots,zr,1)},Ip=(e,t,n)=>{const{vnode:i,slots:r}=e;let s=!0,o=Ge;if(i.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(ft(r,t),!n&&l===1&&delete r._):(s=!t.$stable,Au(t,r)),o=t}else t&&(Ou(e,t),o={default:1});if(s)for(const l in r)!Ru(l)&&!(l in o)&&delete r[l]};function Tu(){return{app:null,config:{isNativeTag:Xh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ep=0;function kp(e,t){return function(i,r=null){Se(i)||(i=Object.assign({},i)),r!=null&&!We(r)&&(r=null);const s=Tu(),o=new Set;let l=!1;const c=s.app={_uid:Ep++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:Jp,get config(){return s.config},set config(a){},use(a,...d){return o.has(a)||(a&&Se(a.install)?(o.add(a),a.install(c,...d)):Se(a)&&(o.add(a),a(c,...d))),c},mixin(a){return s.mixins.includes(a)||s.mixins.push(a),c},component(a,d){return d?(s.components[a]=d,c):s.components[a]},directive(a,d){return d?(s.directives[a]=d,c):s.directives[a]},mount(a,d,u){if(!l){const h=he(i,r);return h.appContext=s,d&&t?t(h,a):e(h,a,u),l=!0,c._container=a,a.__vue_app__=c,Vr(h.component)||h.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(a,d){return s.provides[a]=d,c}};return c}}function Do(e,t,n,i,r=!1){if(we(e)){e.forEach((h,f)=>Do(h,t&&(we(t)?t[f]:t),n,i,r));return}if(rs(i)&&!r)return;const s=i.shapeFlag&4?Vr(i.component)||i.component.proxy:i.el,o=r?null:s,{i:l,r:c}=e,a=t&&t.r,d=l.refs===Ge?l.refs={}:l.refs,u=l.setupState;if(a!=null&&a!==c&&(et(a)?(d[a]=null,Te(u,a)&&(u[a]=null)):Ze(a)&&(a.value=null)),Se(c))Nn(c,l,12,[o,d]);else{const h=et(c),f=Ze(c);if(h||f){const v=()=>{if(e.f){const k=h?Te(u,c)?u[c]:d[c]:c.value;r?we(k)&&cl(k,s):we(k)?k.includes(s)||k.push(s):h?(d[c]=[s],Te(u,c)&&(u[c]=d[c])):(c.value=[s],e.k&&(d[e.k]=c.value))}else h?(d[c]=o,Te(u,c)&&(u[c]=o)):f&&(c.value=o,e.k&&(d[e.k]=o))};o?(v.id=-1,kt(v,n)):v()}}}const kt=np;function Pp(e){return Rp(e)}function Rp(e,t){const n=rf();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:l,createComment:c,setText:a,setElementText:d,parentNode:u,nextSibling:h,setScopeId:f=rn,insertStaticContent:v}=e,k=(y,_,R,M=null,z=null,W=null,ne=!1,G=null,X=!!_.dynamicChildren)=>{if(y===_)return;y&&!ni(y,_)&&(M=J(y),tt(y,z,W,!0),y=null),_.patchFlag===-2&&(X=!1,_.dynamicChildren=null);const{type:K,ref:pe,shapeFlag:ce}=_;switch(K){case Nr:O(y,_,R,M);break;case Jt:A(y,_,R,M);break;case uo:y==null&&L(_,R,M,ne);break;case me:re(y,_,R,M,z,W,ne,G,X);break;default:ce&1?B(y,_,R,M,z,W,ne,G,X):ce&6?Fe(y,_,R,M,z,W,ne,G,X):(ce&64||ce&128)&&K.process(y,_,R,M,z,W,ne,G,X,oe)}pe!=null&&z&&Do(pe,y&&y.ref,W,_||y,!_)},O=(y,_,R,M)=>{if(y==null)i(_.el=l(_.children),R,M);else{const z=_.el=y.el;_.children!==y.children&&a(z,_.children)}},A=(y,_,R,M)=>{y==null?i(_.el=c(_.children||""),R,M):_.el=y.el},L=(y,_,R,M)=>{[y.el,y.anchor]=v(y.children,_,R,M,y.el,y.anchor)},q=({el:y,anchor:_},R,M)=>{let z;for(;y&&y!==_;)z=h(y),i(y,R,M),y=z;i(_,R,M)},T=({el:y,anchor:_})=>{let R;for(;y&&y!==_;)R=h(y),r(y),y=R;r(_)},B=(y,_,R,M,z,W,ne,G,X)=>{ne=ne||_.type==="svg",y==null?Z(_,R,M,z,W,ne,G,X):be(y,_,z,W,ne,G,X)},Z=(y,_,R,M,z,W,ne,G)=>{let X,K;const{type:pe,props:ce,shapeFlag:ue,transition:xe,dirs:Ie}=y;if(X=y.el=o(y.type,W,ce&&ce.is,ce),ue&8?d(X,y.children):ue&16&&H(y.children,X,null,M,z,W&&pe!=="foreignObject",ne,G),Ie&&Jn(y,null,M,"created"),te(X,y,y.scopeId,ne,M),ce){for(const De in ce)De!=="value"&&!ir(De)&&s(X,De,null,ce[De],W,y.children,M,z,se);"value"in ce&&s(X,"value",null,ce.value),(K=ce.onVnodeBeforeMount)&&cn(K,M,y)}Ie&&Jn(y,null,M,"beforeMount");const je=(!z||z&&!z.pendingBranch)&&xe&&!xe.persisted;je&&xe.beforeEnter(X),i(X,_,R),((K=ce&&ce.onVnodeMounted)||je||Ie)&&kt(()=>{K&&cn(K,M,y),je&&xe.enter(X),Ie&&Jn(y,null,M,"mounted")},z)},te=(y,_,R,M,z)=>{if(R&&f(y,R),M)for(let W=0;W<M.length;W++)f(y,M[W]);if(z){let W=z.subTree;if(_===W){const ne=z.vnode;te(y,ne,ne.scopeId,ne.slotScopeIds,z.parent)}}},H=(y,_,R,M,z,W,ne,G,X=0)=>{for(let K=X;K<y.length;K++){const pe=y[K]=G?Tn(y[K]):dn(y[K]);k(null,pe,_,R,M,z,W,ne,G)}},be=(y,_,R,M,z,W,ne)=>{const G=_.el=y.el;let{patchFlag:X,dynamicChildren:K,dirs:pe}=_;X|=y.patchFlag&16;const ce=y.props||Ge,ue=_.props||Ge;let xe;R&&Yn(R,!1),(xe=ue.onVnodeBeforeUpdate)&&cn(xe,R,_,y),pe&&Jn(_,y,R,"beforeUpdate"),R&&Yn(R,!0);const Ie=z&&_.type!=="foreignObject";if(K?ve(y.dynamicChildren,K,G,R,M,Ie,W):ne||Le(y,_,G,null,R,M,Ie,W,!1),X>0){if(X&16)Ee(G,_,ce,ue,R,M,z);else if(X&2&&ce.class!==ue.class&&s(G,"class",null,ue.class,z),X&4&&s(G,"style",ce.style,ue.style,z),X&8){const je=_.dynamicProps;for(let De=0;De<je.length;De++){const Qe=je[De],Lt=ce[Qe],kn=ue[Qe];(kn!==Lt||Qe==="value")&&s(G,Qe,Lt,kn,z,y.children,R,M,se)}}X&1&&y.children!==_.children&&d(G,_.children)}else!ne&&K==null&&Ee(G,_,ce,ue,R,M,z);((xe=ue.onVnodeUpdated)||pe)&&kt(()=>{xe&&cn(xe,R,_,y),pe&&Jn(_,y,R,"updated")},M)},ve=(y,_,R,M,z,W,ne)=>{for(let G=0;G<_.length;G++){const X=y[G],K=_[G],pe=X.el&&(X.type===me||!ni(X,K)||X.shapeFlag&70)?u(X.el):R;k(X,K,pe,null,M,z,W,ne,!0)}},Ee=(y,_,R,M,z,W,ne)=>{if(R!==M){if(R!==Ge)for(const G in R)!ir(G)&&!(G in M)&&s(y,G,R[G],null,ne,_.children,z,W,se);for(const G in M){if(ir(G))continue;const X=M[G],K=R[G];X!==K&&G!=="value"&&s(y,G,K,X,ne,_.children,z,W,se)}"value"in M&&s(y,"value",R.value,M.value)}},re=(y,_,R,M,z,W,ne,G,X)=>{const K=_.el=y?y.el:l(""),pe=_.anchor=y?y.anchor:l("");let{patchFlag:ce,dynamicChildren:ue,slotScopeIds:xe}=_;xe&&(G=G?G.concat(xe):xe),y==null?(i(K,R,M),i(pe,R,M),H(_.children,R,pe,z,W,ne,G,X)):ce>0&&ce&64&&ue&&y.dynamicChildren?(ve(y.dynamicChildren,ue,R,z,W,ne,G),(_.key!=null||z&&_===z.subTree)&&Al(y,_,!0)):Le(y,_,R,pe,z,W,ne,G,X)},Fe=(y,_,R,M,z,W,ne,G,X)=>{_.slotScopeIds=G,y==null?_.shapeFlag&512?z.ctx.activate(_,R,M,ne,X):He(_,R,M,z,W,ne,X):Ye(y,_,X)},He=(y,_,R,M,z,W,ne)=>{const G=y.component=jp(y,M,z);if(Dr(y)&&(G.ctx.renderer=oe),Vp(G),G.asyncDep){if(z&&z.registerDep(G,$e),!y.el){const X=G.subTree=he(Jt);A(null,X,_,R)}return}$e(G,y,_,R,z,W,ne)},Ye=(y,_,R)=>{const M=_.component=y.component;if(Qf(y,_,R))if(M.asyncDep&&!M.asyncResolved){Ne(M,_,R);return}else M.next=_,$f(M.update),M.update();else _.el=y.el,M.vnode=_},$e=(y,_,R,M,z,W,ne)=>{const G=()=>{if(y.isMounted){let{next:pe,bu:ce,u:ue,parent:xe,vnode:Ie}=y,je=pe,De;Yn(y,!1),pe?(pe.el=Ie.el,Ne(y,pe,ne)):pe=Ie,ce&&rr(ce),(De=pe.props&&pe.props.onVnodeBeforeUpdate)&&cn(De,xe,pe,Ie),Yn(y,!0);const Qe=lo(y),Lt=y.subTree;y.subTree=Qe,k(Lt,Qe,u(Lt.el),J(Lt),y,z,W),pe.el=Qe.el,je===null&&ep(y,Qe.el),ue&&kt(ue,z),(De=pe.props&&pe.props.onVnodeUpdated)&&kt(()=>cn(De,xe,pe,Ie),z)}else{let pe;const{el:ce,props:ue}=_,{bm:xe,m:Ie,parent:je}=y,De=rs(_);if(Yn(y,!1),xe&&rr(xe),!De&&(pe=ue&&ue.onVnodeBeforeMount)&&cn(pe,je,_),Yn(y,!0),ce&&Ce){const Qe=()=>{y.subTree=lo(y),Ce(ce,y.subTree,y,z,null)};De?_.type.__asyncLoader().then(()=>!y.isUnmounted&&Qe()):Qe()}else{const Qe=y.subTree=lo(y);k(null,Qe,R,M,y,z,W),_.el=Qe.el}if(Ie&&kt(Ie,z),!De&&(pe=ue&&ue.onVnodeMounted)){const Qe=_;kt(()=>cn(pe,je,Qe),z)}(_.shapeFlag&256||je&&rs(je.vnode)&&je.vnode.shapeFlag&256)&&y.a&&kt(y.a,z),y.isMounted=!0,_=R=M=null}},X=y.effect=new ml(G,()=>Cl(K),y.scope),K=y.update=()=>X.run();K.id=y.uid,Yn(y,!0),K()},Ne=(y,_,R)=>{_.component=y;const M=y.vnode.props;y.vnode=_,y.next=null,_p(y,_.props,M,R),Ip(y,_.children,R),Vi(),aa(),Ki()},Le=(y,_,R,M,z,W,ne,G,X=!1)=>{const K=y&&y.children,pe=y?y.shapeFlag:0,ce=_.children,{patchFlag:ue,shapeFlag:xe}=_;if(ue>0){if(ue&128){pt(K,ce,R,M,z,W,ne,G,X);return}else if(ue&256){vt(K,ce,R,M,z,W,ne,G,X);return}}xe&8?(pe&16&&se(K,z,W),ce!==K&&d(R,ce)):pe&16?xe&16?pt(K,ce,R,M,z,W,ne,G,X):se(K,z,W,!0):(pe&8&&d(R,""),xe&16&&H(ce,R,M,z,W,ne,G,X))},vt=(y,_,R,M,z,W,ne,G,X)=>{y=y||Ri,_=_||Ri;const K=y.length,pe=_.length,ce=Math.min(K,pe);let ue;for(ue=0;ue<ce;ue++){const xe=_[ue]=X?Tn(_[ue]):dn(_[ue]);k(y[ue],xe,R,null,z,W,ne,G,X)}K>pe?se(y,z,W,!0,!1,ce):H(_,R,M,z,W,ne,G,X,ce)},pt=(y,_,R,M,z,W,ne,G,X)=>{let K=0;const pe=_.length;let ce=y.length-1,ue=pe-1;for(;K<=ce&&K<=ue;){const xe=y[K],Ie=_[K]=X?Tn(_[K]):dn(_[K]);if(ni(xe,Ie))k(xe,Ie,R,null,z,W,ne,G,X);else break;K++}for(;K<=ce&&K<=ue;){const xe=y[ce],Ie=_[ue]=X?Tn(_[ue]):dn(_[ue]);if(ni(xe,Ie))k(xe,Ie,R,null,z,W,ne,G,X);else break;ce--,ue--}if(K>ce){if(K<=ue){const xe=ue+1,Ie=xe<pe?_[xe].el:M;for(;K<=ue;)k(null,_[K]=X?Tn(_[K]):dn(_[K]),R,Ie,z,W,ne,G,X),K++}}else if(K>ue)for(;K<=ce;)tt(y[K],z,W,!0),K++;else{const xe=K,Ie=K,je=new Map;for(K=Ie;K<=ue;K++){const dt=_[K]=X?Tn(_[K]):dn(_[K]);dt.key!=null&&je.set(dt.key,K)}let De,Qe=0;const Lt=ue-Ie+1;let kn=!1,$i=0;const Gn=new Array(Lt);for(K=0;K<Lt;K++)Gn[K]=0;for(K=xe;K<=ce;K++){const dt=y[K];if(Qe>=Lt){tt(dt,z,W,!0);continue}let Mt;if(dt.key!=null)Mt=je.get(dt.key);else for(De=Ie;De<=ue;De++)if(Gn[De-Ie]===0&&ni(dt,_[De])){Mt=De;break}Mt===void 0?tt(dt,z,W,!0):(Gn[Mt-Ie]=K+1,Mt>=$i?$i=Mt:kn=!0,k(dt,_[Mt],R,null,z,W,ne,G,X),Qe++)}const an=kn?Ap(Gn):Ri;for(De=an.length-1,K=Lt-1;K>=0;K--){const dt=Ie+K,Mt=_[dt],mi=dt+1<pe?_[dt+1].el:M;Gn[K]===0?k(null,Mt,R,mi,z,W,ne,G,X):kn&&(De<0||K!==an[De]?mt(Mt,R,mi,2):De--)}}},mt=(y,_,R,M,z=null)=>{const{el:W,type:ne,transition:G,children:X,shapeFlag:K}=y;if(K&6){mt(y.component.subTree,_,R,M);return}if(K&128){y.suspense.move(_,R,M);return}if(K&64){ne.move(y,_,R,oe);return}if(ne===me){i(W,_,R);for(let ce=0;ce<X.length;ce++)mt(X[ce],_,R,M);i(y.anchor,_,R);return}if(ne===uo){q(y,_,R);return}if(M!==2&&K&1&&G)if(M===0)G.beforeEnter(W),i(W,_,R),kt(()=>G.enter(W),z);else{const{leave:ce,delayLeave:ue,afterLeave:xe}=G,Ie=()=>i(W,_,R),je=()=>{ce(W,()=>{Ie(),xe&&xe()})};ue?ue(W,Ie,je):je()}else i(W,_,R)},tt=(y,_,R,M=!1,z=!1)=>{const{type:W,props:ne,ref:G,children:X,dynamicChildren:K,shapeFlag:pe,patchFlag:ce,dirs:ue}=y;if(G!=null&&Do(G,null,R,y,!0),pe&256){_.ctx.deactivate(y);return}const xe=pe&1&&ue,Ie=!rs(y);let je;if(Ie&&(je=ne&&ne.onVnodeBeforeUnmount)&&cn(je,_,y),pe&6)N(y.component,R,M);else{if(pe&128){y.suspense.unmount(R,M);return}xe&&Jn(y,null,_,"beforeUnmount"),pe&64?y.type.remove(y,_,R,z,oe,M):K&&(W!==me||ce>0&&ce&64)?se(K,_,R,!1,!0):(W===me&&ce&384||!z&&pe&16)&&se(X,_,R),M&&Tt(y)}(Ie&&(je=ne&&ne.onVnodeUnmounted)||xe)&&kt(()=>{je&&cn(je,_,y),xe&&Jn(y,null,_,"unmounted")},R)},Tt=y=>{const{type:_,el:R,anchor:M,transition:z}=y;if(_===me){qn(R,M);return}if(_===uo){T(y);return}const W=()=>{r(R),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(y.shapeFlag&1&&z&&!z.persisted){const{leave:ne,delayLeave:G}=z,X=()=>ne(R,W);G?G(y.el,W,X):X()}else W()},qn=(y,_)=>{let R;for(;y!==_;)R=h(y),r(y),y=R;r(_)},N=(y,_,R)=>{const{bum:M,scope:z,update:W,subTree:ne,um:G}=y;M&&rr(M),z.stop(),W&&(W.active=!1,tt(ne,y,_,R)),G&&kt(G,_),kt(()=>{y.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},se=(y,_,R,M=!1,z=!1,W=0)=>{for(let ne=W;ne<y.length;ne++)tt(y[ne],_,R,M,z)},J=y=>y.shapeFlag&6?J(y.component.subTree):y.shapeFlag&128?y.suspense.next():h(y.anchor||y.el),ae=(y,_,R)=>{y==null?_._vnode&&tt(_._vnode,null,null,!0):k(_._vnode||null,y,_,null,null,null,R),aa(),hu(),_._vnode=y},oe={p:k,um:tt,m:mt,r:Tt,mt:He,mc:H,pc:Le,pbc:ve,n:J,o:e};let ke,Ce;return t&&([ke,Ce]=t(oe)),{render:ae,hydrate:ke,createApp:kp(ae,ke)}}function Yn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Al(e,t,n=!1){const i=e.children,r=t.children;if(we(i)&&we(r))for(let s=0;s<i.length;s++){const o=i[s];let l=r[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[s]=Tn(r[s]),l.el=o.el),n||Al(o,l)),l.type===Nr&&(l.el=o.el)}}function Ap(e){const t=e.slice(),n=[0];let i,r,s,o,l;const c=e.length;for(i=0;i<c;i++){const a=e[i];if(a!==0){if(r=n[n.length-1],e[r]<a){t[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)l=s+o>>1,e[n[l]]<a?s=l+1:o=l;a<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}const Op=e=>e.__isTeleport,ls=e=>e&&(e.disabled||e.disabled===""),ya=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Bo=(e,t)=>{const n=e&&e.to;return et(n)?t?t(n):null:n},Tp={__isTeleport:!0,process(e,t,n,i,r,s,o,l,c,a){const{mc:d,pc:u,pbc:h,o:{insert:f,querySelector:v,createText:k,createComment:O}}=a,A=ls(t.props);let{shapeFlag:L,children:q,dynamicChildren:T}=t;if(e==null){const B=t.el=k(""),Z=t.anchor=k("");f(B,n,i),f(Z,n,i);const te=t.target=Bo(t.props,v),H=t.targetAnchor=k("");te&&(f(H,te),o=o||ya(te));const be=(ve,Ee)=>{L&16&&d(q,ve,Ee,r,s,o,l,c)};A?be(n,Z):te&&be(te,H)}else{t.el=e.el;const B=t.anchor=e.anchor,Z=t.target=e.target,te=t.targetAnchor=e.targetAnchor,H=ls(e.props),be=H?n:Z,ve=H?B:te;if(o=o||ya(Z),T?(h(e.dynamicChildren,T,be,r,s,o,l),Al(e,t,!0)):c||u(e,t,be,ve,r,s,o,l,!1),A)H||qs(t,n,B,a,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Ee=t.target=Bo(t.props,v);Ee&&qs(t,Ee,null,a,0)}else H&&qs(t,Z,te,a,1)}Lu(t)},remove(e,t,n,i,{um:r,o:{remove:s}},o){const{shapeFlag:l,children:c,anchor:a,targetAnchor:d,target:u,props:h}=e;if(u&&s(d),(o||!ls(h))&&(s(a),l&16))for(let f=0;f<c.length;f++){const v=c[f];r(v,t,n,!0,!!v.dynamicChildren)}},move:qs,hydrate:Lp};function qs(e,t,n,{o:{insert:i},m:r},s=2){s===0&&i(e.targetAnchor,t,n);const{el:o,anchor:l,shapeFlag:c,children:a,props:d}=e,u=s===2;if(u&&i(o,t,n),(!u||ls(d))&&c&16)for(let h=0;h<a.length;h++)r(a[h],t,n,2);u&&i(l,t,n)}function Lp(e,t,n,i,r,s,{o:{nextSibling:o,parentNode:l,querySelector:c}},a){const d=t.target=Bo(t.props,c);if(d){const u=d._lpa||d.firstChild;if(t.shapeFlag&16)if(ls(t.props))t.anchor=a(o(e),t,l(e),n,i,r,s),t.targetAnchor=u;else{t.anchor=o(e);let h=u;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){t.targetAnchor=h,d._lpa=t.targetAnchor&&o(t.targetAnchor);break}a(u,t,d,n,i,r,s)}Lu(t)}return t.anchor&&o(t.anchor)}const Mp=Tp;function Lu(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const me=Symbol(void 0),Nr=Symbol(void 0),Jt=Symbol(void 0),uo=Symbol(void 0),as=[];let nn=null;function x(e=!1){as.push(nn=e?null:[])}function Fp(){as.pop(),nn=as[as.length-1]||null}let Cs=1;function wa(e){Cs+=e}function Mu(e){return e.dynamicChildren=Cs>0?nn||Ri:null,Fp(),Cs>0&&nn&&nn.push(e),e}function I(e,t,n,i,r,s){return Mu(j(e,t,n,i,r,s,!0))}function le(e,t,n,i,r){return Mu(he(e,t,n,i,r,!0))}function gr(e){return e?e.__v_isVNode===!0:!1}function ni(e,t){return e.type===t.type&&e.key===t.key}const zr="__vInternal",Fu=({key:e})=>e??null,lr=({ref:e,ref_key:t,ref_for:n})=>e!=null?et(e)||Ze(e)||Se(e)?{i:yt,r:e,k:t,f:!!n}:e:null;function j(e,t=null,n=null,i=0,r=null,s=e===me?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Fu(t),ref:t&&lr(t),scopeId:Fr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:yt};return l?(Ol(c,n),s&128&&e.normalize(c)):n&&(c.shapeFlag|=et(n)?8:16),Cs>0&&!o&&nn&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&nn.push(c),c}const he=Dp;function Dp(e,t=null,n=null,i=0,r=null,s=!1){if((!e||e===Su)&&(e=Jt),gr(e)){const l=Un(e,t,!0);return n&&Ol(l,n),Cs>0&&!s&&nn&&(l.shapeFlag&6?nn[nn.indexOf(e)]=l:nn.push(l)),l.patchFlag|=-2,l}if($p(e)&&(e=e.__vccOpts),t){t=Bp(t);let{class:l,style:c}=t;l&&!et(l)&&(t.class=ie(l)),We(c)&&(su(c)&&!we(c)&&(c=ft({},c)),t.style=qe(c))}const o=et(e)?1:tp(e)?128:Op(e)?64:We(e)?4:Se(e)?2:0;return j(e,t,n,i,r,o,s,!0)}function Bp(e){return e?su(e)||zr in e?ft({},e):e:null}function Un(e,t,n=!1){const{props:i,ref:r,patchFlag:s,children:o}=e,l=t?Je(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Fu(l),ref:t&&t.ref?n&&r?we(r)?r.concat(lr(t)):[r,lr(t)]:lr(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==me?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Un(e.ssContent),ssFallback:e.ssFallback&&Un(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function xt(e=" ",t=0){return he(Nr,null,e,t)}function $(e="",t=!1){return t?(x(),le(Jt,null,e)):he(Jt,null,e)}function dn(e){return e==null||typeof e=="boolean"?he(Jt):we(e)?he(me,null,e.slice()):typeof e=="object"?Tn(e):he(Nr,null,String(e))}function Tn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Un(e)}function Ol(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(we(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),Ol(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(zr in t)?t._ctx=yt:r===3&&yt&&(yt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Se(t)?(t={default:t,_ctx:yt},n=32):(t=String(t),i&64?(n=16,t=[xt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Je(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=ie([t.class,i.class]));else if(r==="style")t.style=qe([t.style,i.style]);else if(kr(r)){const s=t[r],o=i[r];o&&s!==o&&!(we(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}function cn(e,t,n,i=null){Wt(e,t,7,[n,i])}const Np=Tu();let zp=0;function jp(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||Np,s={uid:zp++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new qc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pu(i,r),emitsOptions:pu(i,r),emit:null,emitted:null,propsDefaults:Ge,inheritAttrs:i.inheritAttrs,ctx:Ge,data:Ge,props:Ge,attrs:Ge,slots:Ge,refs:Ge,setupState:Ge,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Wf.bind(null,s),e.ce&&e.ce(s),s}let nt=null;const jr=()=>nt||yt,Di=e=>{nt=e,e.scope.on()},ci=()=>{nt&&nt.scope.off(),nt=null};function Du(e){return e.vnode.shapeFlag&4}let Ss=!1;function Vp(e,t=!1){Ss=t;const{props:n,children:i}=e.vnode,r=Du(e);vp(e,n,r,t),Sp(e,i);const s=r?Kp(e,t):void 0;return Ss=!1,s}function Kp(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=di(new Proxy(e.ctx,mp));const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?Nu(e):null;Di(e),Vi();const s=Nn(i,e,0,[e.props,r]);if(Ki(),ci(),Uc(s)){if(s.then(ci,ci),t)return s.then(o=>{xa(e,o,t)}).catch(o=>{Tr(o,e,0)});e.asyncDep=s}else xa(e,s,t)}else Bu(e,t)}function xa(e,t,n){Se(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:We(t)&&(e.setupState=au(t)),Bu(e,n)}let va;function Bu(e,t,n){const i=e.type;if(!e.render){if(!t&&va&&!i.render){const r=i.template||Pl(e).template;if(r){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:l,compilerOptions:c}=i,a=ft(ft({isCustomElement:s,delimiters:l},o),c);i.render=va(r,a)}}e.render=i.render||rn}Di(e),Vi(),gp(e),Ki(),ci()}function Up(e){return new Proxy(e.attrs,{get(t,n){return Ot(e,"get","$attrs"),t[n]}})}function Nu(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=Up(e))},slots:e.slots,emit:e.emit,expose:t}}function Vr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(au(di(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in os)return os[n](e)},has(t,n){return n in t||n in os}}))}function Hp(e,t=!0){return Se(e)?e.displayName||e.name:e.name||t&&e.__name}function $p(e){return Se(e)&&"__vccOpts"in e}const Ue=(e,t)=>Kf(e,t,Ss);function VC(){return qp().attrs}function qp(){const e=jr();return e.setupContext||(e.setupContext=Nu(e))}function Tl(e,t,n){const i=arguments.length;return i===2?We(t)&&!we(t)?gr(t)?he(e,null,[t]):he(e,t):he(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&gr(n)&&(n=[n]),he(e,t,n))}const Gp=Symbol(""),Wp=()=>zt(Gp),Jp="3.2.47",Yp="http://www.w3.org/2000/svg",ii=typeof document<"u"?document:null,_a=ii&&ii.createElement("template"),Xp={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?ii.createElementNS(Yp,e):ii.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>ii.createTextNode(e),createComment:e=>ii.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ii.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{_a.innerHTML=i?`<svg>${e}</svg>`:e;const l=_a.content;if(i){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Zp(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Qp(e,t,n){const i=e.style,r=et(n);if(n&&!r){if(t&&!et(t))for(const s in t)n[s]==null&&No(i,s,"");for(const s in n)No(i,s,n[s])}else{const s=i.display;r?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=s)}}const Ca=/\s*!important$/;function No(e,t,n){if(we(n))n.forEach(i=>No(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=em(e,t);Ca.test(n)?e.setProperty(hi(i),n.replace(Ca,""),"important"):e[i]=n}}const Sa=["Webkit","Moz","ms"],ho={};function em(e,t){const n=ho[t];if(n)return n;let i=gn(t);if(i!=="filter"&&i in e)return ho[t]=i;i=Ar(i);for(let r=0;r<Sa.length;r++){const s=Sa[r]+i;if(s in e)return ho[t]=s}return t}const Ia="http://www.w3.org/1999/xlink";function tm(e,t,n,i,r){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Ia,t.slice(6,t.length)):e.setAttributeNS(Ia,t,n);else{const s=Yh(t);n==null||s&&!jc(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function nm(e,t,n,i,r,s,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,r,s),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const c=n??"";(e.value!==c||e.tagName==="OPTION")&&(e.value=c),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=jc(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function _i(e,t,n,i){e.addEventListener(t,n,i)}function im(e,t,n,i){e.removeEventListener(t,n,i)}function sm(e,t,n,i,r=null){const s=e._vei||(e._vei={}),o=s[t];if(i&&o)o.value=i;else{const[l,c]=rm(t);if(i){const a=s[t]=am(i,r);_i(e,l,a,c)}else o&&(im(e,l,o,c),s[t]=void 0)}}const Ea=/(?:Once|Passive|Capture)$/;function rm(e){let t;if(Ea.test(e)){t={};let i;for(;i=e.match(Ea);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hi(e.slice(2)),t]}let fo=0;const om=Promise.resolve(),lm=()=>fo||(om.then(()=>fo=0),fo=Date.now());function am(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Wt(cm(i,n.value),t,5,[i])};return n.value=e,n.attached=lm(),n}function cm(e,t){if(we(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const ka=/^on[a-z]/,um=(e,t,n,i,r=!1,s,o,l,c)=>{t==="class"?Zp(e,i,r):t==="style"?Qp(e,n,i):kr(t)?al(t)||sm(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):dm(e,t,i,r))?nm(e,t,i,s,o,l,c):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),tm(e,t,i,r))};function dm(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&ka.test(t)&&Se(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||ka.test(t)&&et(n)?!1:t in e}const Rn="transition",Yi="animation",Hn=(e,{slots:t})=>Tl(yu,ju(e),t);Hn.displayName="Transition";const zu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},hm=Hn.props=ft({},yu.props,zu),Xn=(e,t=[])=>{we(e)?e.forEach(n=>n(...t)):e&&e(...t)},Pa=e=>e?we(e)?e.some(t=>t.length>1):e.length>1:!1;function ju(e){const t={};for(const re in e)re in zu||(t[re]=e[re]);if(e.css===!1)return t;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:a=o,appearToClass:d=l,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,v=fm(r),k=v&&v[0],O=v&&v[1],{onBeforeEnter:A,onEnter:L,onEnterCancelled:q,onLeave:T,onLeaveCancelled:B,onBeforeAppear:Z=A,onAppear:te=L,onAppearCancelled:H=q}=t,be=(re,Fe,He)=>{On(re,Fe?d:l),On(re,Fe?a:o),He&&He()},ve=(re,Fe)=>{re._isLeaving=!1,On(re,u),On(re,f),On(re,h),Fe&&Fe()},Ee=re=>(Fe,He)=>{const Ye=re?te:L,$e=()=>be(Fe,re,He);Xn(Ye,[Fe,$e]),Ra(()=>{On(Fe,re?c:s),xn(Fe,re?d:l),Pa(Ye)||Aa(Fe,i,k,$e)})};return ft(t,{onBeforeEnter(re){Xn(A,[re]),xn(re,s),xn(re,o)},onBeforeAppear(re){Xn(Z,[re]),xn(re,c),xn(re,a)},onEnter:Ee(!1),onAppear:Ee(!0),onLeave(re,Fe){re._isLeaving=!0;const He=()=>ve(re,Fe);xn(re,u),Ku(),xn(re,h),Ra(()=>{re._isLeaving&&(On(re,u),xn(re,f),Pa(T)||Aa(re,i,O,He))}),Xn(T,[re,He])},onEnterCancelled(re){be(re,!1),Xn(q,[re])},onAppearCancelled(re){be(re,!0),Xn(H,[re])},onLeaveCancelled(re){ve(re),Xn(B,[re])}})}function fm(e){if(e==null)return null;if(We(e))return[po(e.enter),po(e.leave)];{const t=po(e);return[t,t]}}function po(e){return sf(e)}function xn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function On(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Ra(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let pm=0;function Aa(e,t,n,i){const r=e._endId=++pm,s=()=>{r===e._endId&&i()};if(n)return setTimeout(s,n);const{type:o,timeout:l,propCount:c}=Vu(e,t);if(!o)return i();const a=o+"end";let d=0;const u=()=>{e.removeEventListener(a,h),s()},h=f=>{f.target===e&&++d>=c&&u()};setTimeout(()=>{d<c&&u()},l+1),e.addEventListener(a,h)}function Vu(e,t){const n=window.getComputedStyle(e),i=v=>(n[v]||"").split(", "),r=i(`${Rn}Delay`),s=i(`${Rn}Duration`),o=Oa(r,s),l=i(`${Yi}Delay`),c=i(`${Yi}Duration`),a=Oa(l,c);let d=null,u=0,h=0;t===Rn?o>0&&(d=Rn,u=o,h=s.length):t===Yi?a>0&&(d=Yi,u=a,h=c.length):(u=Math.max(o,a),d=u>0?o>a?Rn:Yi:null,h=d?d===Rn?s.length:c.length:0);const f=d===Rn&&/\b(transform|all)(,|$)/.test(i(`${Rn}Property`).toString());return{type:d,timeout:u,propCount:h,hasTransform:f}}function Oa(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>Ta(n)+Ta(e[i])))}function Ta(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Ku(){return document.body.offsetHeight}const Uu=new WeakMap,Hu=new WeakMap,$u={name:"TransitionGroup",props:ft({},hm,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=jr(),i=bu();let r,s;return vu(()=>{if(!r.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!xm(r[0].el,n.vnode.el,o))return;r.forEach(bm),r.forEach(ym);const l=r.filter(wm);Ku(),l.forEach(c=>{const a=c.el,d=a.style;xn(a,o),d.transform=d.webkitTransform=d.transitionDuration="";const u=a._moveCb=h=>{h&&h.target!==a||(!h||/transform$/.test(h.propertyName))&&(a.removeEventListener("transitionend",u),a._moveCb=null,On(a,o))};a.addEventListener("transitionend",u)})}),()=>{const o=Oe(e),l=ju(o);let c=o.tag||me;r=s,s=t.default?Sl(t.default()):[];for(let a=0;a<s.length;a++){const d=s[a];d.key!=null&&_s(d,vs(d,l,i,n))}if(r)for(let a=0;a<r.length;a++){const d=r[a];_s(d,vs(d,l,i,n)),Uu.set(d,d.el.getBoundingClientRect())}return he(c,null,s)}}},mm=e=>delete e.mode;$u.props;const gm=$u;function bm(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function ym(e){Hu.set(e,e.el.getBoundingClientRect())}function wm(e){const t=Uu.get(e),n=Hu.get(e),i=t.left-n.left,r=t.top-n.top;if(i||r){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",e}}function xm(e,t,n){const i=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(i);const{hasTransform:s}=Vu(i);return r.removeChild(i),s}const La=e=>{const t=e.props["onUpdate:modelValue"]||!1;return we(t)?n=>rr(t,n):t};function vm(e){e.target.composing=!0}function Ma(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const KC={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e._assign=La(r);const s=i||r.props&&r.props.type==="number";_i(e,t?"change":"input",o=>{if(o.target.composing)return;let l=e.value;n&&(l=l.trim()),s&&(l=Eo(l)),e._assign(l)}),n&&_i(e,"change",()=>{e.value=e.value.trim()}),t||(_i(e,"compositionstart",vm),_i(e,"compositionend",Ma),_i(e,"change",Ma))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:r}},s){if(e._assign=La(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===t||(r||e.type==="number")&&Eo(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},_m=["ctrl","shift","alt","meta"],Cm={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>_m.some(n=>e[`${n}Key`]&&!t.includes(n))},Ll=(e,t)=>(n,...i)=>{for(let r=0;r<t.length;r++){const s=Cm[t[r]];if(s&&s(n,t))return}return e(n,...i)},Sm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},cs=(e,t)=>n=>{if(!("key"in n))return;const i=hi(n.key);if(t.some(r=>r===i||Sm[r]===i))return e(n)},UC={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Xi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Xi(e,!0),i.enter(e)):i.leave(e,()=>{Xi(e,!1)}):Xi(e,t))},beforeUnmount(e,{value:t}){Xi(e,t)}};function Xi(e,t){e.style.display=t?e._vod:"none"}const Im=ft({patchProp:um},Xp);let Fa;function Em(){return Fa||(Fa=Pp(Im))}const km=(...e)=>{const t=Em().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=Pm(i);if(!r)return;const s=t._component;!Se(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function Pm(e){return et(e)?document.querySelector(e):e}var Rm=!1;/*!
  * pinia v2.0.30
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let qu;const Kr=e=>qu=e,Gu=Symbol();function zo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var us;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(us||(us={}));function Am(){const e=hl(!0),t=e.run(()=>it({}));let n=[],i=[];const r=di({install(s){Kr(r),r._a=s,s.provide(Gu,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return!this._a&&!Rm?i.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const Wu=()=>{};function Da(e,t,n,i=Wu){e.push(t);const r=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!n&&fl()&&Gc(r),r}function wi(e,...t){e.slice().forEach(n=>{n(...t)})}function jo(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],r=e[n];zo(r)&&zo(i)&&e.hasOwnProperty(n)&&!Ze(i)&&!Bn(i)?e[n]=jo(r,i):e[n]=i}return e}const Om=Symbol();function Tm(e){return!zo(e)||!e.hasOwnProperty(Om)}const{assign:Ln}=Object;function Lm(e){return!!(Ze(e)&&e.effect)}function Mm(e,t,n,i){const{state:r,actions:s,getters:o}=t,l=n.state.value[e];let c;function a(){l||(n.state.value[e]=r?r():{});const d=Nf(n.state.value[e]);return Ln(d,s,Object.keys(o||{}).reduce((u,h)=>(u[h]=di(Ue(()=>{Kr(n);const f=n._s.get(e);return o[h].call(f,f)})),u),{}))}return c=Ju(e,a,t,n,i,!0),c.$reset=function(){const u=r?r():{};this.$patch(h=>{Ln(h,u)})},c}function Ju(e,t,n={},i,r,s){let o;const l=Ln({actions:{}},n),c={deep:!0};let a,d,u=di([]),h=di([]),f;const v=i.state.value[e];!s&&!v&&(i.state.value[e]={}),it({});let k;function O(te){let H;a=d=!1,typeof te=="function"?(te(i.state.value[e]),H={type:us.patchFunction,storeId:e,events:f}):(jo(i.state.value[e],te),H={type:us.patchObject,payload:te,storeId:e,events:f});const be=k=Symbol();Lr().then(()=>{k===be&&(a=!0)}),d=!0,wi(u,H,i.state.value[e])}const A=Wu;function L(){o.stop(),u=[],h=[],i._s.delete(e)}function q(te,H){return function(){Kr(i);const be=Array.from(arguments),ve=[],Ee=[];function re(Ye){ve.push(Ye)}function Fe(Ye){Ee.push(Ye)}wi(h,{args:be,name:te,store:B,after:re,onError:Fe});let He;try{He=H.apply(this&&this.$id===e?this:B,be)}catch(Ye){throw wi(Ee,Ye),Ye}return He instanceof Promise?He.then(Ye=>(wi(ve,Ye),Ye)).catch(Ye=>(wi(Ee,Ye),Promise.reject(Ye))):(wi(ve,He),He)}}const T={_p:i,$id:e,$onAction:Da.bind(null,h),$patch:O,$reset:A,$subscribe(te,H={}){const be=Da(u,te,H.detached,()=>ve()),ve=o.run(()=>Rt(()=>i.state.value[e],Ee=>{(H.flush==="sync"?d:a)&&te({storeId:e,type:us.direct,events:f},Ee)},Ln({},c,H)));return be},$dispose:L},B=Vt(T);i._s.set(e,B);const Z=i._e.run(()=>(o=hl(),o.run(()=>t())));for(const te in Z){const H=Z[te];if(Ze(H)&&!Lm(H)||Bn(H))s||(v&&Tm(H)&&(Ze(H)?H.value=v[te]:jo(H,v[te])),i.state.value[e][te]=H);else if(typeof H=="function"){const be=q(te,H);Z[te]=be,l.actions[te]=H}}return Ln(B,Z),Ln(Oe(B),Z),Object.defineProperty(B,"$state",{get:()=>i.state.value[e],set:te=>{O(H=>{Ln(H,te)})}}),i._p.forEach(te=>{Ln(B,o.run(()=>te({store:B,app:i._a,pinia:i,options:l})))}),v&&s&&n.hydrate&&n.hydrate(B.$state,v),a=!0,d=!0,B}function Ur(e,t,n){let i,r;const s=typeof t=="function";typeof e=="string"?(i=e,r=s?n:t):(r=e,i=e.id);function o(l,c){const a=jr();return l=l||a&&zt(Gu,null),l&&Kr(l),l=qu,l._s.has(i)||(s?Ju(i,t,r,l):Mm(i,r,l)),l._s.get(i)}return o.$id=i,o}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Ci=typeof window<"u";function Fm(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ze=Object.assign;function mo(e,t){const n={};for(const i in t){const r=t[i];n[i]=on(r)?r.map(e):e(r)}return n}const ds=()=>{},on=Array.isArray,Dm=/\/$/,Bm=e=>e.replace(Dm,"");function go(e,t,n="/"){let i,r={},s="",o="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(i=t.slice(0,c),s=t.slice(c+1,l>-1?l:t.length),r=e(s)),l>-1&&(i=i||t.slice(0,l),o=t.slice(l,t.length)),i=Vm(i??t,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:o}}function Nm(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ba(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function zm(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&Bi(t.matched[i],n.matched[r])&&Yu(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Bi(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Yu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!jm(e[n],t[n]))return!1;return!0}function jm(e,t){return on(e)?Na(e,t):on(t)?Na(t,e):e===t}function Na(e,t){return on(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function Vm(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let r=n.length-1,s,o;for(s=0;s<i.length;s++)if(o=i[s],o!==".")if(o==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(s-(s===i.length?1:0)).join("/")}var Is;(function(e){e.pop="pop",e.push="push"})(Is||(Is={}));var hs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(hs||(hs={}));function Km(e){if(!e)if(Ci){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Bm(e)}const Um=/^[^#]+#/;function Hm(e,t){return e.replace(Um,"#")+t}function $m(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Hr=()=>({left:window.pageXOffset,top:window.pageYOffset});function qm(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=$m(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function za(e,t){return(history.state?history.state.position-t:-1)+e}const Vo=new Map;function Gm(e,t){Vo.set(e,t)}function Wm(e){const t=Vo.get(e);return Vo.delete(e),t}let Jm=()=>location.protocol+"//"+location.host;function Xu(e,t){const{pathname:n,search:i,hash:r}=t,s=e.indexOf("#");if(s>-1){let l=r.includes(e.slice(s))?e.slice(s).length:1,c=r.slice(l);return c[0]!=="/"&&(c="/"+c),Ba(c,"")}return Ba(n,e)+i+r}function Ym(e,t,n,i){let r=[],s=[],o=null;const l=({state:h})=>{const f=Xu(e,location),v=n.value,k=t.value;let O=0;if(h){if(n.value=f,t.value=h,o&&o===v){o=null;return}O=k?h.position-k.position:0}else i(f);r.forEach(A=>{A(n.value,v,{delta:O,type:Is.pop,direction:O?O>0?hs.forward:hs.back:hs.unknown})})};function c(){o=n.value}function a(h){r.push(h);const f=()=>{const v=r.indexOf(h);v>-1&&r.splice(v,1)};return s.push(f),f}function d(){const{history:h}=window;h.state&&h.replaceState(ze({},h.state,{scroll:Hr()}),"")}function u(){for(const h of s)h();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d),{pauseListeners:c,listen:a,destroy:u}}function ja(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?Hr():null}}function Xm(e){const{history:t,location:n}=window,i={value:Xu(e,n)},r={value:t.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(c,a,d){const u=e.indexOf("#"),h=u>-1?(n.host&&document.querySelector("base")?e:e.slice(u))+c:Jm()+e+c;try{t[d?"replaceState":"pushState"](a,"",h),r.value=a}catch(f){console.error(f),n[d?"replace":"assign"](h)}}function o(c,a){const d=ze({},t.state,ja(r.value.back,c,r.value.forward,!0),a,{position:r.value.position});s(c,d,!0),i.value=c}function l(c,a){const d=ze({},r.value,t.state,{forward:c,scroll:Hr()});s(d.current,d,!0);const u=ze({},ja(i.value,c,null),{position:d.position+1},a);s(c,u,!1),i.value=c}return{location:i,state:r,push:l,replace:o}}function Zm(e){e=Km(e);const t=Xm(e),n=Ym(e,t.state,t.location,t.replace);function i(s,o=!0){o||n.pauseListeners(),history.go(s)}const r=ze({location:"",base:e,go:i,createHref:Hm.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Qm(e){return typeof e=="string"||e&&typeof e=="object"}function Zu(e){return typeof e=="string"||typeof e=="symbol"}const An={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Qu=Symbol("");var Va;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Va||(Va={}));function Ni(e,t){return ze(new Error,{type:e,[Qu]:!0},t)}function wn(e,t){return e instanceof Error&&Qu in e&&(t==null||!!(e.type&t))}const Ka="[^/]+?",eg={sensitive:!1,strict:!1,start:!0,end:!0},tg=/[.+*?^${}()[\]/\\]/g;function ng(e,t){const n=ze({},eg,t),i=[];let r=n.start?"^":"";const s=[];for(const a of e){const d=a.length?[]:[90];n.strict&&!a.length&&(r+="/");for(let u=0;u<a.length;u++){const h=a[u];let f=40+(n.sensitive?.25:0);if(h.type===0)u||(r+="/"),r+=h.value.replace(tg,"\\$&"),f+=40;else if(h.type===1){const{value:v,repeatable:k,optional:O,regexp:A}=h;s.push({name:v,repeatable:k,optional:O});const L=A||Ka;if(L!==Ka){f+=10;try{new RegExp(`(${L})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${v}" (${L}): `+T.message)}}let q=k?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;u||(q=O&&a.length<2?`(?:/${q})`:"/"+q),O&&(q+="?"),r+=q,f+=20,O&&(f+=-8),k&&(f+=-20),L===".*"&&(f+=-50)}d.push(f)}i.push(d)}if(n.strict&&n.end){const a=i.length-1;i[a][i[a].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function l(a){const d=a.match(o),u={};if(!d)return null;for(let h=1;h<d.length;h++){const f=d[h]||"",v=s[h-1];u[v.name]=f&&v.repeatable?f.split("/"):f}return u}function c(a){let d="",u=!1;for(const h of e){(!u||!d.endsWith("/"))&&(d+="/"),u=!1;for(const f of h)if(f.type===0)d+=f.value;else if(f.type===1){const{value:v,repeatable:k,optional:O}=f,A=v in a?a[v]:"";if(on(A)&&!k)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const L=on(A)?A.join("/"):A;if(!L)if(O)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):u=!0);else throw new Error(`Missing required param "${v}"`);d+=L}}return d||"/"}return{re:o,score:i,keys:s,parse:l,stringify:c}}function ig(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function sg(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const s=ig(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(Ua(i))return 1;if(Ua(r))return-1}return r.length-i.length}function Ua(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const rg={type:0,value:""},og=/[a-zA-Z0-9_]/;function lg(e){if(!e)return[[]];if(e==="/")return[[rg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${a}": ${f}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let l=0,c,a="",d="";function u(){a&&(n===0?s.push({type:0,value:a}):n===1||n===2||n===3?(s.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${a}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:a,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),a="")}function h(){a+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:c==="/"?(a&&u(),o()):c===":"?(u(),n=1):h();break;case 4:h(),n=i;break;case 1:c==="("?n=2:og.test(c)?h():(u(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:n=3:d+=c;break;case 3:u(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${a}"`),u(),o(),r}function ag(e,t,n){const i=ng(lg(e.path),n),r=ze(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function cg(e,t){const n=[],i=new Map;t=qa({strict:!1,end:!0,sensitive:!1},t);function r(d){return i.get(d)}function s(d,u,h){const f=!h,v=ug(d);v.aliasOf=h&&h.record;const k=qa(t,d),O=[v];if("alias"in d){const q=typeof d.alias=="string"?[d.alias]:d.alias;for(const T of q)O.push(ze({},v,{components:h?h.record.components:v.components,path:T,aliasOf:h?h.record:v}))}let A,L;for(const q of O){const{path:T}=q;if(u&&T[0]!=="/"){const B=u.record.path,Z=B[B.length-1]==="/"?"":"/";q.path=u.record.path+(T&&Z+T)}if(A=ag(q,u,k),h?h.alias.push(A):(L=L||A,L!==A&&L.alias.push(A),f&&d.name&&!$a(A)&&o(d.name)),v.children){const B=v.children;for(let Z=0;Z<B.length;Z++)s(B[Z],A,h&&h.children[Z])}h=h||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&c(A)}return L?()=>{o(L)}:ds}function o(d){if(Zu(d)){const u=i.get(d);u&&(i.delete(d),n.splice(n.indexOf(u),1),u.children.forEach(o),u.alias.forEach(o))}else{const u=n.indexOf(d);u>-1&&(n.splice(u,1),d.record.name&&i.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function l(){return n}function c(d){let u=0;for(;u<n.length&&sg(d,n[u])>=0&&(d.record.path!==n[u].record.path||!ed(d,n[u]));)u++;n.splice(u,0,d),d.record.name&&!$a(d)&&i.set(d.record.name,d)}function a(d,u){let h,f={},v,k;if("name"in d&&d.name){if(h=i.get(d.name),!h)throw Ni(1,{location:d});k=h.record.name,f=ze(Ha(u.params,h.keys.filter(L=>!L.optional).map(L=>L.name)),d.params&&Ha(d.params,h.keys.map(L=>L.name))),v=h.stringify(f)}else if("path"in d)v=d.path,h=n.find(L=>L.re.test(v)),h&&(f=h.parse(v),k=h.record.name);else{if(h=u.name?i.get(u.name):n.find(L=>L.re.test(u.path)),!h)throw Ni(1,{location:d,currentLocation:u});k=h.record.name,f=ze({},u.params,d.params),v=h.stringify(f)}const O=[];let A=h;for(;A;)O.unshift(A.record),A=A.parent;return{name:k,path:v,params:f,matched:O,meta:hg(O)}}return e.forEach(d=>s(d)),{addRoute:s,resolve:a,removeRoute:o,getRoutes:l,getRecordMatcher:r}}function Ha(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function ug(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:dg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function dg(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="boolean"?n:n[i];return t}function $a(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function hg(e){return e.reduce((t,n)=>ze(t,n.meta),{})}function qa(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function ed(e,t){return t.children.some(n=>n===e||ed(e,n))}const td=/#/g,fg=/&/g,pg=/\//g,mg=/=/g,gg=/\?/g,nd=/\+/g,bg=/%5B/g,yg=/%5D/g,id=/%5E/g,wg=/%60/g,sd=/%7B/g,xg=/%7C/g,rd=/%7D/g,vg=/%20/g;function Ml(e){return encodeURI(""+e).replace(xg,"|").replace(bg,"[").replace(yg,"]")}function _g(e){return Ml(e).replace(sd,"{").replace(rd,"}").replace(id,"^")}function Ko(e){return Ml(e).replace(nd,"%2B").replace(vg,"+").replace(td,"%23").replace(fg,"%26").replace(wg,"`").replace(sd,"{").replace(rd,"}").replace(id,"^")}function Cg(e){return Ko(e).replace(mg,"%3D")}function Sg(e){return Ml(e).replace(td,"%23").replace(gg,"%3F")}function Ig(e){return e==null?"":Sg(e).replace(pg,"%2F")}function br(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Eg(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(nd," "),o=s.indexOf("="),l=br(o<0?s:s.slice(0,o)),c=o<0?null:br(s.slice(o+1));if(l in t){let a=t[l];on(a)||(a=t[l]=[a]),a.push(c)}else t[l]=c}return t}function Ga(e){let t="";for(let n in e){const i=e[n];if(n=Cg(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(on(i)?i.map(s=>s&&Ko(s)):[i&&Ko(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function kg(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=on(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const Pg=Symbol(""),Wa=Symbol(""),$r=Symbol(""),od=Symbol(""),Uo=Symbol("");function Zi(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Mn(e,t,n,i,r){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((o,l)=>{const c=u=>{u===!1?l(Ni(4,{from:n,to:t})):u instanceof Error?l(u):Qm(u)?l(Ni(2,{from:t,to:u})):(s&&i.enterCallbacks[r]===s&&typeof u=="function"&&s.push(u),o())},a=e.call(i&&i.instances[r],t,n,c);let d=Promise.resolve(a);e.length<3&&(d=d.then(c)),d.catch(u=>l(u))})}function bo(e,t,n,i){const r=[];for(const s of e)for(const o in s.components){let l=s.components[o];if(!(t!=="beforeRouteEnter"&&!s.instances[o]))if(Rg(l)){const a=(l.__vccOpts||l)[t];a&&r.push(Mn(a,n,i,s,o))}else{let c=l();r.push(()=>c.then(a=>{if(!a)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const d=Fm(a)?a.default:a;s.components[o]=d;const h=(d.__vccOpts||d)[t];return h&&Mn(h,n,i,s,o)()}))}}return r}function Rg(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ja(e){const t=zt($r),n=zt(od),i=Ue(()=>t.resolve(ge(e.to))),r=Ue(()=>{const{matched:c}=i.value,{length:a}=c,d=c[a-1],u=n.matched;if(!d||!u.length)return-1;const h=u.findIndex(Bi.bind(null,d));if(h>-1)return h;const f=Ya(c[a-2]);return a>1&&Ya(d)===f&&u[u.length-1].path!==f?u.findIndex(Bi.bind(null,c[a-2])):h}),s=Ue(()=>r.value>-1&&Lg(n.params,i.value.params)),o=Ue(()=>r.value>-1&&r.value===n.matched.length-1&&Yu(n.params,i.value.params));function l(c={}){return Tg(c)?t[ge(e.replace)?"replace":"push"](ge(e.to)).catch(ds):Promise.resolve()}return{route:i,href:Ue(()=>i.value.href),isActive:s,isExactActive:o,navigate:l}}const Ag=As({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ja,setup(e,{slots:t}){const n=Vt(Ja(e)),{options:i}=zt($r),r=Ue(()=>({[Xa(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Xa(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Tl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),Og=Ag;function Tg(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Lg(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!on(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function Ya(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Xa=(e,t,n)=>e??t??n,Mg=As({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=zt(Uo),r=Ue(()=>e.route||i.value),s=zt(Wa,0),o=Ue(()=>{let a=ge(s);const{matched:d}=r.value;let u;for(;(u=d[a])&&!u.components;)a++;return a}),l=Ue(()=>r.value.matched[o.value]);or(Wa,Ue(()=>o.value+1)),or(Pg,l),or(Uo,r);const c=it();return Rt(()=>[c.value,l.value,e.name],([a,d,u],[h,f,v])=>{d&&(d.instances[u]=a,f&&f!==d&&a&&a===h&&(d.leaveGuards.size||(d.leaveGuards=f.leaveGuards),d.updateGuards.size||(d.updateGuards=f.updateGuards))),a&&d&&(!f||!Bi(d,f)||!h)&&(d.enterCallbacks[u]||[]).forEach(k=>k(a))},{flush:"post"}),()=>{const a=r.value,d=e.name,u=l.value,h=u&&u.components[d];if(!h)return Za(n.default,{Component:h,route:a});const f=u.props[d],v=f?f===!0?a.params:typeof f=="function"?f(a):f:null,O=Tl(h,ze({},v,t,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(u.instances[d]=null)},ref:c}));return Za(n.default,{Component:O,route:a})||O}}});function Za(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ld=Mg;function Fg(e){const t=cg(e.routes,e),n=e.parseQuery||Eg,i=e.stringifyQuery||Ga,r=e.history,s=Zi(),o=Zi(),l=Zi(),c=Ff(An);let a=An;Ci&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=mo.bind(null,N=>""+N),u=mo.bind(null,Ig),h=mo.bind(null,br);function f(N,se){let J,ae;return Zu(N)?(J=t.getRecordMatcher(N),ae=se):ae=N,t.addRoute(ae,J)}function v(N){const se=t.getRecordMatcher(N);se&&t.removeRoute(se)}function k(){return t.getRoutes().map(N=>N.record)}function O(N){return!!t.getRecordMatcher(N)}function A(N,se){if(se=ze({},se||c.value),typeof N=="string"){const y=go(n,N,se.path),_=t.resolve({path:y.path},se),R=r.createHref(y.fullPath);return ze(y,_,{params:h(_.params),hash:br(y.hash),redirectedFrom:void 0,href:R})}let J;if("path"in N)J=ze({},N,{path:go(n,N.path,se.path).path});else{const y=ze({},N.params);for(const _ in y)y[_]==null&&delete y[_];J=ze({},N,{params:u(N.params)}),se.params=u(se.params)}const ae=t.resolve(J,se),oe=N.hash||"";ae.params=d(h(ae.params));const ke=Nm(i,ze({},N,{hash:_g(oe),path:ae.path})),Ce=r.createHref(ke);return ze({fullPath:ke,hash:oe,query:i===Ga?kg(N.query):N.query||{}},ae,{redirectedFrom:void 0,href:Ce})}function L(N){return typeof N=="string"?go(n,N,c.value.path):ze({},N)}function q(N,se){if(a!==N)return Ni(8,{from:se,to:N})}function T(N){return te(N)}function B(N){return T(ze(L(N),{replace:!0}))}function Z(N){const se=N.matched[N.matched.length-1];if(se&&se.redirect){const{redirect:J}=se;let ae=typeof J=="function"?J(N):J;return typeof ae=="string"&&(ae=ae.includes("?")||ae.includes("#")?ae=L(ae):{path:ae},ae.params={}),ze({query:N.query,hash:N.hash,params:"path"in ae?{}:N.params},ae)}}function te(N,se){const J=a=A(N),ae=c.value,oe=N.state,ke=N.force,Ce=N.replace===!0,y=Z(J);if(y)return te(ze(L(y),{state:typeof y=="object"?ze({},oe,y.state):oe,force:ke,replace:Ce}),se||J);const _=J;_.redirectedFrom=se;let R;return!ke&&zm(i,ae,J)&&(R=Ni(16,{to:_,from:ae}),pt(ae,ae,!0,!1)),(R?Promise.resolve(R):be(_,ae)).catch(M=>wn(M)?wn(M,2)?M:vt(M):Ne(M,_,ae)).then(M=>{if(M){if(wn(M,2))return te(ze({replace:Ce},L(M.to),{state:typeof M.to=="object"?ze({},oe,M.to.state):oe,force:ke}),se||_)}else M=Ee(_,ae,!0,Ce,oe);return ve(_,ae,M),M})}function H(N,se){const J=q(N,se);return J?Promise.reject(J):Promise.resolve()}function be(N,se){let J;const[ae,oe,ke]=Dg(N,se);J=bo(ae.reverse(),"beforeRouteLeave",N,se);for(const y of ae)y.leaveGuards.forEach(_=>{J.push(Mn(_,N,se))});const Ce=H.bind(null,N,se);return J.push(Ce),xi(J).then(()=>{J=[];for(const y of s.list())J.push(Mn(y,N,se));return J.push(Ce),xi(J)}).then(()=>{J=bo(oe,"beforeRouteUpdate",N,se);for(const y of oe)y.updateGuards.forEach(_=>{J.push(Mn(_,N,se))});return J.push(Ce),xi(J)}).then(()=>{J=[];for(const y of N.matched)if(y.beforeEnter&&!se.matched.includes(y))if(on(y.beforeEnter))for(const _ of y.beforeEnter)J.push(Mn(_,N,se));else J.push(Mn(y.beforeEnter,N,se));return J.push(Ce),xi(J)}).then(()=>(N.matched.forEach(y=>y.enterCallbacks={}),J=bo(ke,"beforeRouteEnter",N,se),J.push(Ce),xi(J))).then(()=>{J=[];for(const y of o.list())J.push(Mn(y,N,se));return J.push(Ce),xi(J)}).catch(y=>wn(y,8)?y:Promise.reject(y))}function ve(N,se,J){for(const ae of l.list())ae(N,se,J)}function Ee(N,se,J,ae,oe){const ke=q(N,se);if(ke)return ke;const Ce=se===An,y=Ci?history.state:{};J&&(ae||Ce?r.replace(N.fullPath,ze({scroll:Ce&&y&&y.scroll},oe)):r.push(N.fullPath,oe)),c.value=N,pt(N,se,J,Ce),vt()}let re;function Fe(){re||(re=r.listen((N,se,J)=>{if(!qn.listening)return;const ae=A(N),oe=Z(ae);if(oe){te(ze(oe,{replace:!0}),ae).catch(ds);return}a=ae;const ke=c.value;Ci&&Gm(za(ke.fullPath,J.delta),Hr()),be(ae,ke).catch(Ce=>wn(Ce,12)?Ce:wn(Ce,2)?(te(Ce.to,ae).then(y=>{wn(y,20)&&!J.delta&&J.type===Is.pop&&r.go(-1,!1)}).catch(ds),Promise.reject()):(J.delta&&r.go(-J.delta,!1),Ne(Ce,ae,ke))).then(Ce=>{Ce=Ce||Ee(ae,ke,!1),Ce&&(J.delta&&!wn(Ce,8)?r.go(-J.delta,!1):J.type===Is.pop&&wn(Ce,20)&&r.go(-1,!1)),ve(ae,ke,Ce)}).catch(ds)}))}let He=Zi(),Ye=Zi(),$e;function Ne(N,se,J){vt(N);const ae=Ye.list();return ae.length?ae.forEach(oe=>oe(N,se,J)):console.error(N),Promise.reject(N)}function Le(){return $e&&c.value!==An?Promise.resolve():new Promise((N,se)=>{He.add([N,se])})}function vt(N){return $e||($e=!N,Fe(),He.list().forEach(([se,J])=>N?J(N):se()),He.reset()),N}function pt(N,se,J,ae){const{scrollBehavior:oe}=e;if(!Ci||!oe)return Promise.resolve();const ke=!J&&Wm(za(N.fullPath,0))||(ae||!J)&&history.state&&history.state.scroll||null;return Lr().then(()=>oe(N,se,ke)).then(Ce=>Ce&&qm(Ce)).catch(Ce=>Ne(Ce,N,se))}const mt=N=>r.go(N);let tt;const Tt=new Set,qn={currentRoute:c,listening:!0,addRoute:f,removeRoute:v,hasRoute:O,getRoutes:k,resolve:A,options:e,push:T,replace:B,go:mt,back:()=>mt(-1),forward:()=>mt(1),beforeEach:s.add,beforeResolve:o.add,afterEach:l.add,onError:Ye.add,isReady:Le,install(N){const se=this;N.component("RouterLink",Og),N.component("RouterView",ld),N.config.globalProperties.$router=se,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>ge(c)}),Ci&&!tt&&c.value===An&&(tt=!0,T(r.location).catch(oe=>{}));const J={};for(const oe in An)J[oe]=Ue(()=>c.value[oe]);N.provide($r,se),N.provide(od,Vt(J)),N.provide(Uo,c);const ae=N.unmount;Tt.add(N),N.unmount=function(){Tt.delete(N),Tt.size<1&&(a=An,re&&re(),re=null,c.value=An,tt=!1,$e=!1),ae()}}};return qn}function xi(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function Dg(e,t){const n=[],i=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const l=t.matched[o];l&&(e.matched.find(a=>Bi(a,l))?i.push(l):n.push(l));const c=e.matched[o];c&&(t.matched.find(a=>Bi(a,c))||r.push(c))}return[n,i,r]}function Bg(){return zt($r)}var E={innerWidth(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0},width(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0},getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth(e,t){if(e){let n=e.offsetWidth;if(t){let i=getComputedStyle(e);n+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return n}return 0},getOuterHeight(e,t){if(e){let n=e.offsetHeight;if(t){let i=getComputedStyle(e);n+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return n}return 0},getClientHeight(e,t){if(e){let n=e.clientHeight;if(t){let i=getComputedStyle(e);n+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return n}return 0},getViewport(){let e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0],r=e.innerWidth||n.clientWidth||i.clientWidth,s=e.innerHeight||n.clientHeight||i.clientHeight;return{width:r,height:s}},getOffset(e){if(e){let t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index(e){if(e){let t=e.parentNode.childNodes,n=0;for(let i=0;i<t.length;i++){if(t[i]===e)return n;t[i].nodeType===1&&n++}}return-1},addMultipleClasses(e,t){if(e&&t)if(e.classList){let n=t.split(" ");for(let i=0;i<n.length;i++)e.classList.add(n[i])}else{let n=t.split(" ");for(let i=0;i<n.length;i++)e.className+=" "+n[i]}},addClass(e,t){e&&t&&(e.classList?e.classList.add(t):e.className+=" "+t)},removeClass(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass(e,t){return e?e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className):!1},find(e,t){return this.isElement(e)?e.querySelectorAll(t):[]},findSingle(e,t){return this.isElement(e)?e.querySelector(t):null},getHeight(e){if(e){let t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),t}return 0},getWidth(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),t}return 0},absolutePosition(e,t){if(e){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),i=n.height,r=n.width,s=t.offsetHeight,o=t.offsetWidth,l=t.getBoundingClientRect(),c=this.getWindowScrollTop(),a=this.getWindowScrollLeft(),d=this.getViewport(),u,h;l.top+s+i>d.height?(u=l.top+c-i,e.style.transformOrigin="bottom",u<0&&(u=c)):(u=s+l.top+c,e.style.transformOrigin="top"),l.left+r>d.width?h=Math.max(0,l.left+a+o-r):h=l.left+a,e.style.top=u+"px",e.style.left=h+"px"}},relativePosition(e,t){if(e){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const i=t.offsetHeight,r=t.getBoundingClientRect(),s=this.getViewport();let o,l;r.top+i+n.height>s.height?(o=-1*n.height,e.style.transformOrigin="bottom",r.top+o<0&&(o=-1*r.top)):(o=i,e.style.transformOrigin="top"),n.width>s.width?l=r.left*-1:r.left+n.width>s.width?l=(r.left+n.width-s.width)*-1:l=0,e.style.top=o+"px",e.style.left=l+"px"}},getParents(e,t=[]){return e.parentNode===null?t:this.getParents(e.parentNode,t.concat([e.parentNode]))},getScrollableParents(e){let t=[];if(e){let n=this.getParents(e);const i=/(auto|scroll)/,r=s=>{let o=window.getComputedStyle(s,null);return i.test(o.getPropertyValue("overflow"))||i.test(o.getPropertyValue("overflowX"))||i.test(o.getPropertyValue("overflowY"))};for(let s of n){let o=s.nodeType===1&&s.dataset.scrollselectors;if(o){let l=o.split(",");for(let c of l){let a=this.findSingle(s,c);a&&r(a)&&t.push(a)}}s.nodeType!==9&&r(s)&&t.push(s)}}return t},getHiddenElementOuterHeight(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementOuterWidth(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementDimensions(e){if(e){let t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}return 0},fadeIn(e,t){if(e){e.style.opacity=0;let n=+new Date,i=0,r=function(){i=+e.style.opacity+(new Date().getTime()-n)/t,e.style.opacity=i,n=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(r)||setTimeout(r,16))};r()}},fadeOut(e,t){if(e){let n=1,i=50,r=t,s=i/r,o=setInterval(()=>{n-=s,n<=0&&(n=0,clearInterval(o)),e.style.opacity=n},i)}},getUserAgent(){return navigator.userAgent},appendChild(e,t){if(this.isElement(t))t.appendChild(e);else if(t.el&&t.elElement)t.elElement.appendChild(e);else throw new Error("Cannot append "+t+" to "+e)},isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView(e,t){let n=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=n?parseFloat(n):0,r=getComputedStyle(e).getPropertyValue("paddingTop"),s=r?parseFloat(r):0,o=e.getBoundingClientRect(),c=t.getBoundingClientRect().top+document.body.scrollTop-(o.top+document.body.scrollTop)-i-s,a=e.scrollTop,d=e.clientHeight,u=this.getOuterHeight(t);c<0?e.scrollTop=a+c:c+u>d&&(e.scrollTop=a+c-d+u)},clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t},getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),t=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},isVisible(e){return e&&e.offsetParent!=null},invokeElementMethod(e,t,n){e[t].apply(e,n)},isExist(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode)},isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus(e,t){e&&document.activeElement!==e&&e.focus(t)},isFocusableElement(e,t=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`):!1},getFocusableElements(e,t=""){let n=this.find(e,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`),i=[];for(let r of n)getComputedStyle(r).display!="none"&&getComputedStyle(r).visibility!="hidden"&&i.push(r);return i},getFirstFocusableElement(e,t){const n=this.getFocusableElements(e,t);return n.length>0?n[0]:null},getLastFocusableElement(e,t){const n=this.getFocusableElements(e,t);return n.length>0?n[n.length-1]:null},getNextFocusableElement(e,t,n){const i=this.getFocusableElements(e,n),r=i.length>0?i.findIndex(o=>o===t):-1,s=r>-1&&i.length>=r+1?r+1:-1;return s>-1?i[s]:null},isClickable(e){const t=e.nodeName,n=e.parentElement&&e.parentElement.nodeName;return t=="INPUT"||t=="BUTTON"||t=="A"||n=="INPUT"||n=="BUTTON"||n=="A"||this.hasClass(e,"p-button")||this.hasClass(e.parentElement,"p-button")||this.hasClass(e.parentElement,"p-checkbox")||this.hasClass(e.parentElement,"p-radiobutton")},applyStyle(e,t){if(typeof t=="string")e.style.cssText=t;else for(let n in t)e.style[n]=t[n]},isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid(){return/(android)/i.test(navigator.userAgent)},isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},exportCSV(e,t){let n=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(n,t+".csv");else{let i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(n)),i.setAttribute("download",t+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}}};class Fl{constructor(t,n=()=>{}){this.element=t,this.listener=n}bindScrollListener(){this.scrollableParents=E.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}function Dl(){const e=new Map;return{on(t,n){let i=e.get(t);i?i.push(n):i=[n],e.set(t,i)},off(t,n){let i=e.get(t);i&&i.splice(i.indexOf(n)>>>0,1)},emit(t,n){let i=e.get(t);i&&i.slice().map(r=>{r(n)})}}}var V={equals(e,t,n){return n?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)},deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),i=Array.isArray(t),r,s,o;if(n&&i){if(s=e.length,s!=t.length)return!1;for(r=s;r--!==0;)if(!this.deepEquals(e[r],t[r]))return!1;return!0}if(n!=i)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var a=e instanceof RegExp,d=t instanceof RegExp;if(a!=d)return!1;if(a&&d)return e.toString()==t.toString();var u=Object.keys(e);if(s=u.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,u[r]))return!1;for(r=s;r--!==0;)if(o=u[r],!this.deepEquals(e[o],t[o]))return!1;return!0}return e!==e&&t!==t},resolveFieldData(e,t){if(e&&Object.keys(e).length&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")===-1)return e[t];{let r=t.split("."),s=e;for(var n=0,i=r.length;n<i;++n){if(s==null)return null;s=s[r[n]]}return s}}else return null},isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)},getItemValue(e,...t){return this.isFunction(e)?e(...t):e},filter(e,t,n){var i=[];if(e){for(let r of e)for(let s of t)if(String(this.resolveFieldData(r,s)).toLowerCase().indexOf(n.toLowerCase())>-1){i.push(r);break}}return i},reorderArray(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))},findIndexInList(e,t){let n=-1;if(t){for(let i=0;i<t.length;i++)if(t[i]===e){n=i;break}}return n},contains(e,t){if(e!=null&&t&&t.length){for(let n of t)if(this.equals(e,n))return!0}return!1},insertIntoOrderedArray(e,t,n,i){if(n.length>0){let r=!1;for(let s=0;s<n.length;s++)if(this.findIndexInList(n[s],i)>t){n.splice(s,0,e),r=!0;break}r||n.push(e)}else n.push(e)},removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp(e,t){let n=e.props;if(n){let i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=Object.prototype.hasOwnProperty.call(n,i)?i:t;return e.type.props[t].type===Boolean&&n[r]===""?!0:n[r]}return null},isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&typeof e=="object"&&Object.keys(e).length===0},isNotEmpty(e){return!this.isEmpty(e)},isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast(e,t){let n;if(this.isNotEmpty(e))try{n=e.findLast(t)}catch{n=[...e].reverse().find(t)}return n},findLastIndex(e,t){let n=-1;if(this.isNotEmpty(e))try{n=e.findLastIndex(t)}catch{n=e.lastIndexOf([...e].reverse().find(t))}return n}},Qa=0;function Kt(e="pv_id_"){return Qa++,`${e}${Qa}`}function Ng(){let e=[];const t=(o,l,c=999)=>{const a=r(o,l,c),d=a.value+(a.key===o?0:c)+1;return e.push({key:o,value:d}),d},n=o=>{e=e.filter(l=>l.value!==o)},i=(o,l)=>r(o,l).value,r=(o,l,c=0)=>[...e].reverse().find(a=>l?!0:a.key===o)||{key:o,value:c},s=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:s,set:(o,l,c)=>{l&&(l.style.zIndex=String(t(o,!0,c)))},clear:o=>{o&&(n(s(o)),o.style.zIndex="")},getCurrent:o=>i(o,!0)}}var rt=Ng();let Ho;function zg(e){e.addEventListener("mousedown",ad)}function jg(e){e.removeEventListener("mousedown",ad)}function Vg(e){let t=document.createElement("span");t.className="p-ink",t.setAttribute("role","presentation"),t.setAttribute("aria-hidden","true"),e.appendChild(t),t.addEventListener("animationend",cd)}function Kg(e){let t=ud(e);t&&(jg(e),t.removeEventListener("animationend",cd),t.remove())}function ad(e){let t=e.currentTarget,n=ud(t);if(!n||getComputedStyle(n,null).display==="none")return;if(E.removeClass(n,"p-ink-active"),!E.getHeight(n)&&!E.getWidth(n)){let o=Math.max(E.getOuterWidth(t),E.getOuterHeight(t));n.style.height=o+"px",n.style.width=o+"px"}let i=E.getOffset(t),r=e.pageX-i.left+document.body.scrollTop-E.getWidth(n)/2,s=e.pageY-i.top+document.body.scrollLeft-E.getHeight(n)/2;n.style.top=s+"px",n.style.left=r+"px",E.addClass(n,"p-ink-active"),Ho=setTimeout(()=>{n&&E.removeClass(n,"p-ink-active")},401)}function cd(e){Ho&&clearTimeout(Ho),E.removeClass(e.currentTarget,"p-ink-active")}function ud(e){for(let t=0;t<e.children.length;t++)if(typeof e.children[t].className=="string"&&e.children[t].className.indexOf("p-ink")!==-1)return e.children[t];return null}const Yt={mounted(e,t){t.instance.$primevue&&t.instance.$primevue.config&&t.instance.$primevue.config.ripple&&(Vg(e),zg(e))},unmounted(e){Kg(e)}};var dd={name:"MenubarSub",emits:["item-mouseenter","item-click"],props:{items:{type:Array,default:null},root:{type:Boolean,default:!1},popup:{type:Boolean,default:!1},mobileActive:{type:Boolean,default:!1},template:{type:Function,default:null},exact:{type:Boolean,default:!0},level:{type:Number,default:0},menuId:{type:String,default:null},focusedItemId:{type:String,default:null},activeItemPath:{type:Object,default:null}},list:null,methods:{getItemId(e){return`${this.menuId}_${e.key}`},getItemKey(e){return this.getItemId(e)},getItemProp(e,t,n){return e&&e.item?V.getItemValue(e.item[t],n):void 0},getItemLabel(e){return this.getItemProp(e,"label")},isItemActive(e){return this.activeItemPath.some(t=>t.key===e.key)},isItemVisible(e){return this.getItemProp(e,"visible")!==!1},isItemDisabled(e){return this.getItemProp(e,"disabled")},isItemFocused(e){return this.focusedItemId===this.getItemId(e)},isItemGroup(e){return V.isNotEmpty(e.items)},onItemClick(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.$emit("item-click",{originalEvent:e,processedItem:t,isFocus:!0})},onItemMouseEnter(e,t){this.$emit("item-mouseenter",{originalEvent:e,processedItem:t})},onItemActionClick(e,t){t&&t(e)},getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length},getAriaPosInset(e){return e-this.items.slice(0,e).filter(t=>this.isItemVisible(t)&&this.getItemProp(t,"separator")).length+1},getItemClass(e){return["p-menuitem",this.getItemProp(e,"class"),{"p-menuitem-active p-highlight":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)}]},getItemActionClass(e,t){return["p-menuitem-link",{"router-link-active":t&&t.isActive,"router-link-active-exact":this.exact&&t&&t.isExactActive}]},getItemIconClass(e){return["p-menuitem-icon",this.getItemProp(e,"icon")]},getSeparatorItemClass(e){return["p-menuitem-separator",this.getItemProp(e,"class")]},getSubmenuIcon(){return["p-submenu-icon pi",{"pi-angle-right":!this.root,"pi-angle-down":this.root}]}},computed:{containerClass(){return{"p-submenu-list":!this.root,"p-menubar-root-list":this.root}}},directives:{ripple:Yt}};const Ug=["id","aria-label","aria-disabled","aria-expanded","aria-haspopup","aria-level","aria-setsize","aria-posinset"],Hg=["onClick","onMouseenter"],$g=["href","onClick"],qg={class:"p-menuitem-text"},Gg=["href","target"],Wg={class:"p-menuitem-text"},Jg=["id"];function Yg(e,t,n,i,r,s){const o=_e("router-link"),l=_e("MenubarSub",!0),c=Et("ripple");return x(),I("ul",null,[(x(!0),I(me,null,lt(n.items,(a,d)=>(x(),I(me,{key:s.getItemKey(a)},[s.isItemVisible(a)&&!s.getItemProp(a,"separator")?(x(),I("li",{key:0,id:s.getItemId(a),style:qe(s.getItemProp(a,"style")),class:ie(s.getItemClass(a)),role:"menuitem","aria-label":s.getItemLabel(a),"aria-disabled":s.isItemDisabled(a)||void 0,"aria-expanded":s.isItemGroup(a)?s.isItemActive(a):void 0,"aria-haspopup":s.isItemGroup(a)&&!s.getItemProp(a,"to")?"menu":void 0,"aria-level":n.level+1,"aria-setsize":s.getAriaSetSize(),"aria-posinset":s.getAriaPosInset(d)},[j("div",{class:"p-menuitem-content",onClick:u=>s.onItemClick(u,a),onMouseenter:u=>s.onItemMouseEnter(u,a)},[n.template?(x(),le(ut(n.template),{key:1,item:a.item},null,8,["item"])):(x(),I(me,{key:0},[s.getItemProp(a,"to")&&!s.isItemDisabled(a)?(x(),le(o,{key:0,to:s.getItemProp(a,"to"),custom:""},{default:ye(({navigate:u,href:h,isActive:f,isExactActive:v})=>[ot((x(),I("a",{href:h,class:ie(s.getItemActionClass(a,{isActive:f,isExactActive:v})),tabindex:"-1","aria-hidden":"true",onClick:k=>s.onItemActionClick(k,u)},[s.getItemProp(a,"icon")?(x(),I("span",{key:0,class:ie(s.getItemIconClass(a))},null,2)):$("",!0),j("span",qg,Me(s.getItemLabel(a)),1)],10,$g)),[[c]])]),_:2},1032,["to"])):ot((x(),I("a",{key:1,href:s.getItemProp(a,"url"),class:ie(s.getItemActionClass(a)),target:s.getItemProp(a,"target"),tabindex:"-1","aria-hidden":"true"},[s.getItemProp(a,"icon")?(x(),I("span",{key:0,class:ie(s.getItemIconClass(a))},null,2)):$("",!0),j("span",Wg,Me(s.getItemLabel(a)),1),s.getItemProp(a,"items")?(x(),I("span",{key:1,class:ie(s.getSubmenuIcon())},null,2)):$("",!0)],10,Gg)),[[c]])],64))],40,Hg),s.isItemVisible(a)&&s.isItemGroup(a)?(x(),le(l,{key:0,menuId:n.menuId,role:"menu",class:"p-submenu-list",focusedItemId:n.focusedItemId,items:a.items,mobileActive:n.mobileActive,activeItemPath:n.activeItemPath,template:n.template,exact:n.exact,level:n.level+1,onItemClick:t[0]||(t[0]=u=>e.$emit("item-click",u)),onItemMouseenter:t[1]||(t[1]=u=>e.$emit("item-mouseenter",u))},null,8,["menuId","focusedItemId","items","mobileActive","activeItemPath","template","exact","level"])):$("",!0)],14,Ug)):$("",!0),s.isItemVisible(a)&&s.getItemProp(a,"separator")?(x(),I("li",{key:1,id:s.getItemId(a),style:qe(s.getItemProp(a,"style")),class:ie(s.getSeparatorItemClass(a)),role:"separator"},null,14,Jg)):$("",!0)],64))),128))])}dd.render=Yg;var hd={name:"Menubar",emits:["focus","blur"],props:{model:{type:Array,default:null},exact:{type:Boolean,default:!0},buttonProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{id:this.$attrs.id,mobileActive:!1,focused:!1,focusedItemInfo:{index:-1,level:0,parentKey:""},activeItemPath:[],dirty:!1}},watch:{"$attrs.id":function(e){this.id=e||Kt()},activeItemPath(e){V.isNotEmpty(e)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())}},outsideClickListener:null,container:null,menubar:null,mounted(){this.id=this.id||Kt()},beforeUnmount(){this.mobileActive=!1,this.unbindOutsideClickListener(),this.unbindResizeListener(),this.container&&rt.clear(this.container),this.container=null},methods:{getItemProp(e,t){return e?V.getItemValue(e[t]):void 0},getItemLabel(e){return this.getItemProp(e,"label")},isItemDisabled(e){return this.getItemProp(e,"disabled")},isItemGroup(e){return V.isNotEmpty(this.getItemProp(e,"items"))},isItemSeparator(e){return this.getItemProp(e,"separator")},getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0},isProccessedItemGroup(e){return e&&V.isNotEmpty(e.items)},toggle(e){this.mobileActive?(this.mobileActive=!1,rt.clear(this.menubar),this.hide()):(this.mobileActive=!0,rt.set("menu",this.menubar,this.$primevue.config.zIndex.menu),setTimeout(()=>{this.show()},0)),this.bindOutsideClickListener(),e.preventDefault()},show(){this.focusedItemInfo={index:this.findFirstFocusedItemIndex(),level:0,parentKey:""},E.focus(this.menubar)},hide(e,t){this.mobileActive&&setTimeout(()=>{E.focus(this.$refs.menubutton)},0),this.activeItemPath=[],this.focusedItemInfo={index:-1,level:0,parentKey:""},t&&E.focus(this.menubar),this.dirty=!1},onFocus(e){this.focused=!0,this.focusedItemInfo=this.focusedItemInfo.index!==-1?this.focusedItemInfo:{index:this.findFirstFocusedItemIndex(),level:0,parentKey:""},this.$emit("focus",e)},onBlur(e){this.focused=!1,this.focusedItemInfo={index:-1,level:0,parentKey:""},this.searchValue="",this.dirty=!1,this.$emit("blur",e)},onKeyDown(e){const t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&V.isPrintableCharacter(e.key)&&this.searchItems(e,e.key);break}},onItemChange(e){const{processedItem:t,isFocus:n}=e;if(V.isEmpty(t))return;const{index:i,key:r,level:s,parentKey:o,items:l}=t,c=V.isNotEmpty(l),a=this.activeItemPath.filter(d=>d.parentKey!==o&&d.parentKey!==r);c&&a.push(t),this.focusedItemInfo={index:i,level:s,parentKey:o},this.activeItemPath=a,c&&(this.dirty=!0),n&&E.focus(this.menubar)},onItemClick(e){const{originalEvent:t,processedItem:n}=e,i=this.isProccessedItemGroup(n),r=V.isEmpty(n.parent);if(this.isSelected(n)){const{index:o,key:l,level:c,parentKey:a}=n;this.activeItemPath=this.activeItemPath.filter(d=>l!==d.key&&l.startsWith(d.key)),this.focusedItemInfo={index:o,level:c,parentKey:a},this.dirty=!r,E.focus(this.menubar)}else if(i)this.onItemChange(e);else{const o=r?n:this.activeItemPath.find(l=>l.parentKey==="");this.hide(t),this.changeFocusedItemIndex(t,o?o.index:-1),this.mobileActive=!1,E.focus(this.menubar)}},onItemMouseEnter(e){!this.mobileActive&&this.dirty&&this.onItemChange(e)},menuButtonClick(e){this.toggle(e)},menuButtonKeydown(e){(e.code==="Enter"||e.code==="Space")&&this.menuButtonClick(e)},onArrowDownKey(e){const t=this.visibleItems[this.focusedItemInfo.index];if(t?V.isEmpty(t.parent):null)this.isProccessedItemGroup(t)&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo={index:-1,parentKey:t.key},this.onArrowRightKey(e));else{const i=this.focusedItemInfo.index!==-1?this.findNextItemIndex(this.focusedItemInfo.index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}},onArrowUpKey(e){const t=this.visibleItems[this.focusedItemInfo.index];if(V.isEmpty(t.parent)){if(this.isProccessedItemGroup(t)){this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo={index:-1,parentKey:t.key};const r=this.findLastItemIndex();this.changeFocusedItemIndex(e,r)}}else{const i=this.activeItemPath.find(r=>r.key===t.parentKey);if(this.focusedItemInfo.index===0)this.focusedItemInfo={index:-1,parentKey:i?i.parentKey:""},this.searchValue="",this.onArrowLeftKey(e),this.activeItemPath=this.activeItemPath.filter(r=>r.parentKey!==this.focusedItemInfo.parentKey);else{const r=this.focusedItemInfo.index!==-1?this.findPrevItemIndex(this.focusedItemInfo.index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,r)}}e.preventDefault()},onArrowLeftKey(e){const t=this.visibleItems[this.focusedItemInfo.index],n=t?this.activeItemPath.find(i=>i.key===t.parentKey):null;if(n)this.onItemChange({originalEvent:e,processedItem:n}),this.activeItemPath=this.activeItemPath.filter(i=>i.parentKey!==this.focusedItemInfo.parentKey),e.preventDefault();else{const i=this.focusedItemInfo.index!==-1?this.findPrevItemIndex(this.focusedItemInfo.index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}},onArrowRightKey(e){const t=this.visibleItems[this.focusedItemInfo.index];if(t?this.activeItemPath.find(i=>i.key===t.parentKey):null)this.isProccessedItemGroup(t)&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo={index:-1,parentKey:t.key},this.onArrowDownKey(e));else{const i=this.focusedItemInfo.index!==-1?this.findNextItemIndex(this.focusedItemInfo.index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}},onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()},onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()},onEnterKey(e){if(this.focusedItemInfo.index!==-1){const t=E.findSingle(this.menubar,`li[id="${`${this.focusedItemId}`}"]`),n=t&&E.findSingle(t,".p-menuitem-link");n?n.click():t&&t.click();const i=this.visibleItems[this.focusedItemInfo.index];!this.isProccessedItemGroup(i)&&(this.focusedItemInfo.index=this.findFirstFocusedItemIndex())}e.preventDefault()},onSpaceKey(e){this.onEnterKey(e)},onEscapeKey(e){this.hide(e,!0),this.focusedItemInfo.index=this.findFirstFocusedItemIndex(),e.preventDefault()},onTabKey(e){if(this.focusedItemInfo.index!==-1){const t=this.visibleItems[this.focusedItemInfo.index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{const t=this.menubar!==e.target&&!this.menubar.contains(e.target),n=this.mobileActive&&this.$refs.menubutton!==e.target&&!this.$refs.menubutton.contains(e.target);t&&(n?this.mobileActive=!1:this.hide())},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindResizeListener(){this.resizeListener||(this.resizeListener=e=>{E.isTouchDevice()||this.hide(e,!0),this.mobileActive=!1},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())},isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)},isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)},isSelected(e){return this.activeItemPath.some(t=>t.key===e.key)},findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))},findLastItemIndex(){return V.findLastIndex(this.visibleItems,e=>this.isValidItem(e))},findNextItemIndex(e){const t=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(n=>this.isValidItem(n)):-1;return t>-1?t+e+1:e},findPrevItemIndex(e){const t=e>0?V.findLastIndex(this.visibleItems.slice(0,e),n=>this.isValidItem(n)):-1;return t>-1?t:e},findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))},findFirstFocusedItemIndex(){const e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e},findLastFocusedItemIndex(){const e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e},searchItems(e,t){this.searchValue=(this.searchValue||"")+t;let n=-1,i=!1;return this.focusedItemInfo.index!==-1?(n=this.visibleItems.slice(this.focusedItemInfo.index).findIndex(r=>this.isItemMatched(r)),n=n===-1?this.visibleItems.slice(0,this.focusedItemInfo.index).findIndex(r=>this.isItemMatched(r)):n+this.focusedItemInfo.index):n=this.visibleItems.findIndex(r=>this.isItemMatched(r)),n!==-1&&(i=!0),n===-1&&this.focusedItemInfo.index===-1&&(n=this.findFirstFocusedItemIndex()),n!==-1&&this.changeFocusedItemIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),i},changeFocusedItemIndex(e,t){this.focusedItemInfo.index!==t&&(this.focusedItemInfo.index=t,this.scrollInView())},scrollInView(e=-1){const t=e!==-1?`${this.id}_${e}`:this.focusedItemId,n=E.findSingle(this.menubar,`li[id="${t}"]`);n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"start"})},createProcessedItems(e,t=0,n={},i=""){const r=[];return e&&e.forEach((s,o)=>{const l=(i!==""?i+"_":"")+o,c={item:s,index:o,level:t,key:l,parent:n,parentKey:i};c.items=this.createProcessedItems(s.items,t+1,c,l),r.push(c)}),r},containerRef(e){this.container=e},menubarRef(e){this.menubar=e?e.$el:void 0}},computed:{containerClass(){return["p-menubar p-component",{"p-menubar-mobile-active":this.mobileActive}]},processedItems(){return this.createProcessedItems(this.model||[])},visibleItems(){const e=this.activeItemPath.find(t=>t.key===this.focusedItemInfo.parentKey);return e?e.items:this.processedItems},focusedItemId(){return this.focusedItemInfo.index!==-1?`${this.id}${V.isNotEmpty(this.focusedItemInfo.parentKey)?"_"+this.focusedItemInfo.parentKey:""}_${this.focusedItemInfo.index}`:null}},components:{MenubarSub:dd}};const Xg={key:0,class:"p-menubar-start"},Zg=["aria-haspopup","aria-expanded","aria-controls","aria-label"],Qg=j("i",{class:"pi pi-bars"},null,-1),eb=[Qg],tb={key:2,class:"p-menubar-end"};function nb(e,t,n,i,r,s){const o=_e("MenubarSub");return x(),I("div",{ref:s.containerRef,class:ie(s.containerClass)},[e.$slots.start?(x(),I("div",Xg,[Pe(e.$slots,"start")])):$("",!0),n.model&&n.model.length>0?(x(),I("a",Je({key:1,ref:"menubutton",role:"button",tabindex:"0",class:"p-menubar-button","aria-haspopup":!!(n.model.length&&n.model.length>0),"aria-expanded":r.mobileActive,"aria-controls":r.id,"aria-label":e.$primevue.config.locale.aria.navigation,onClick:t[0]||(t[0]=l=>s.menuButtonClick(l)),onKeydown:t[1]||(t[1]=l=>s.menuButtonKeydown(l))},n.buttonProps),eb,16,Zg)):$("",!0),he(o,{ref:s.menubarRef,id:r.id,class:"p-menubar-root-list",role:"menubar",items:s.processedItems,template:e.$slots.item,root:!0,mobileActive:r.mobileActive,tabindex:"0","aria-activedescendant":r.focused?s.focusedItemId:void 0,menuId:r.id,focusedItemId:r.focused?s.focusedItemId:void 0,activeItemPath:r.activeItemPath,exact:n.exact,level:0,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onFocus:s.onFocus,onBlur:s.onBlur,onKeydown:s.onKeyDown,onItemClick:s.onItemClick,onItemMouseenter:s.onItemMouseEnter},null,8,["id","items","template","mobileActive","aria-activedescendant","menuId","focusedItemId","activeItemPath","exact","aria-labelledby","aria-label","onFocus","onBlur","onKeydown","onItemClick","onItemMouseenter"]),e.$slots.end?(x(),I("div",tb,[Pe(e.$slots,"end")])):$("",!0)],2)}function ib(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var sb=`
.p-menubar {
    display: flex;
    align-items: center;
}
.p-menubar ul {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-menubar .p-menuitem-link {
    cursor: pointer;
    display: flex;
    align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
.p-menubar .p-menuitem-text {
    line-height: 1;
}
.p-menubar .p-menuitem {
    position: relative;
}
.p-menubar-root-list {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
}
.p-menubar-root-list > li ul {
    display: none;
    z-index: 1;
}
.p-menubar-root-list > .p-menuitem-active > .p-submenu-list {
    display: block;
}
.p-menubar .p-submenu-list {
    display: none;
    position: absolute;
    z-index: 1;
}
.p-menubar .p-submenu-list > .p-menuitem-active > .p-submenu-list {
    display: block;
    left: 100%;
    top: 0;
}
.p-menubar .p-submenu-list .p-menuitem .p-menuitem-content .p-menuitem-link .p-submenu-icon {
    margin-left: auto;
}
.p-menubar .p-menubar-end {
    margin-left: auto;
    align-self: center;
}
.p-menubar-button {
    display: none;
    cursor: pointer;
    align-items: center;
    justify-content: center;
    text-decoration: none;
}
`;ib(sb);hd.render=nb;var Os={name:"Button",props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"}},computed:{buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":this.icon&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-disabled":this.$attrs.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label}},iconStyleClass(){return[this.loading?"p-button-loading-icon "+this.loadingIcon:this.icon,"p-button-icon",this.iconClass,{"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label}]},badgeStyleClass(){return["p-badge p-component",this.badgeClass,{"p-badge-no-gutter":this.badge&&String(this.badge).length===1}]},disabled(){return this.$attrs.disabled||this.loading},defaultAriaLabel(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs["aria-label"]}},directives:{ripple:Yt}};const rb=["aria-label","disabled"],ob={class:"p-button-label"};function lb(e,t,n,i,r,s){const o=Et("ripple");return ot((x(),I("button",{class:ie(s.buttonClass),type:"button","aria-label":s.defaultAriaLabel,disabled:s.disabled},[Pe(e.$slots,"default",{},()=>[n.loading&&!n.icon?(x(),I("span",{key:0,class:ie(s.iconStyleClass)},null,2)):$("",!0),n.icon?(x(),I("span",{key:1,class:ie(s.iconStyleClass)},null,2)):$("",!0),j("span",ob,Me(n.label||" "),1),n.badge?(x(),I("span",{key:2,class:ie(s.badgeStyleClass)},Me(n.badge),3)):$("",!0)])],10,rb)),[[o]])}Os.render=lb;var fd={name:"Textarea",emits:["update:modelValue"],props:{modelValue:null,autoResize:Boolean},mounted(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize(){const e=window.getComputedStyle(this.$el);this.$el.style.height="auto",this.$el.style.height=`calc(${e.borderTopWidth} + ${e.borderBottomWidth} + ${this.$el.scrollHeight}px)`,parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled(){return this.modelValue!=null&&this.modelValue.toString().length>0}}};const ab=["value"];function cb(e,t,n,i,r,s){return x(),I("textarea",{class:ie(["p-inputtextarea p-inputtext p-component",{"p-filled":s.filled,"p-inputtextarea-resizable ":n.autoResize}]),value:n.modelValue,onInput:t[0]||(t[0]=(...o)=>s.onInput&&s.onInput(...o))},null,42,ab)}function ub(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var db=`
.p-inputtextarea-resizable {
    overflow: hidden;
    resize: none;
}
.p-fluid .p-inputtextarea {
    width: 100%;
}
`;ub(db);fd.render=cb;var pd={name:"InputText",emits:["update:modelValue"],props:{modelValue:null},methods:{onInput(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled(){return this.modelValue!=null&&this.modelValue.toString().length>0}}};const hb=["value"];function fb(e,t,n,i,r,s){return x(),I("input",{class:ie(["p-inputtext p-component",{"p-filled":s.filled}]),value:n.modelValue,onInput:t[0]||(t[0]=(...o)=>s.onInput&&s.onInput(...o))},null,42,hb)}pd.render=fb;var Bl={name:"InputNumber",emits:["update:modelValue","input","focus","blur"],props:{modelValue:{type:Number,default:null},format:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!1},buttonLayout:{type:String,default:"stacked"},incrementButtonClass:{type:String,default:null},decrementButtonClass:{type:String,default:null},incrementButtonIcon:{type:String,default:"pi pi-angle-up"},decrementButtonIcon:{type:String,default:"pi pi-angle-down"},locale:{type:String,default:void 0},localeMatcher:{type:String,default:void 0},mode:{type:String,default:"decimal"},prefix:{type:String,default:null},suffix:{type:String,default:null},currency:{type:String,default:void 0},currencyDisplay:{type:String,default:void 0},useGrouping:{type:Boolean,default:!0},minFractionDigits:{type:Number,default:void 0},maxFractionDigits:{type:Number,default:void 0},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:1},allowEmpty:{type:Boolean,default:!0},highlightOnFocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},inputId:{type:String,default:null},inputClass:{type:String,default:null},inputStyle:{type:null,default:null},inputProps:{type:null,default:null},incrementButtonProps:{type:null,default:null},decrementButtonProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},numberFormat:null,_numeral:null,_decimal:null,_group:null,_minusSign:null,_currency:null,_suffix:null,_prefix:null,_index:null,groupChar:"",isSpecialChar:null,prefixChar:null,suffixChar:null,timer:null,data(){return{d_modelValue:this.modelValue,focused:!1}},watch:{modelValue(e){this.d_modelValue=e},locale(e,t){this.updateConstructParser(e,t)},localeMatcher(e,t){this.updateConstructParser(e,t)},mode(e,t){this.updateConstructParser(e,t)},currency(e,t){this.updateConstructParser(e,t)},currencyDisplay(e,t){this.updateConstructParser(e,t)},useGrouping(e,t){this.updateConstructParser(e,t)},minFractionDigits(e,t){this.updateConstructParser(e,t)},maxFractionDigits(e,t){this.updateConstructParser(e,t)},suffix(e,t){this.updateConstructParser(e,t)},prefix(e,t){this.updateConstructParser(e,t)}},created(){this.constructParser()},methods:{getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}},constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),t=new Map(e.map((n,i)=>[n,i]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=n=>t.get(n)},updateConstructParser(e,t){e!==t&&this.constructParser()},escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,{...this.getOptions(),useGrouping:!1});return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")},getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")},getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")},getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")},getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")},getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")},formatValue(e){if(e!=null){if(e==="-")return e;if(this.format){let n=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(n=this.prefix+n),this.suffix&&(n=n+this.suffix),n}return e.toString()}return""},parseValue(e){let t=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(t){if(t==="-")return t;let n=+t;return isNaN(n)?null:n}return null},repeat(e,t,n){if(this.readonly)return;let i=t||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,n)},i),this.spin(e,n)},spin(e,t){if(this.$refs.input){let n=this.step*t,i=this.parseValue(this.$refs.input.$el.value)||0,r=this.validateValue(i+n);this.updateInput(r,null,"spin"),this.updateModel(e,r),this.handleOnInput(e,i,r)}},onUpButtonMouseDown(e){this.disabled||(this.$refs.input.$el.focus(),this.repeat(e,null,1),e.preventDefault())},onUpButtonMouseUp(){this.disabled||this.clearTimer()},onUpButtonMouseLeave(){this.disabled||this.clearTimer()},onUpButtonKeyUp(){this.disabled||this.clearTimer()},onUpButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,1)},onDownButtonMouseDown(e){this.disabled||(this.$refs.input.$el.focus(),this.repeat(e,null,-1),e.preventDefault())},onDownButtonMouseUp(){this.disabled||this.clearTimer()},onDownButtonMouseLeave(){this.disabled||this.clearTimer()},onDownButtonKeyUp(){this.disabled||this.clearTimer()},onDownButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,-1)},onUserInput(){this.isSpecialChar&&(this.$refs.input.$el.value=this.lastValue),this.isSpecialChar=!1},onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey){this.isSpecialChar=!0;return}let t=e.target.selectionStart,n=e.target.selectionEnd,i=e.target.value,r=null;switch(e.altKey&&e.preventDefault(),e.code){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":this.isNumeralChar(i.charAt(t-1))||e.preventDefault();break;case"ArrowRight":this.isNumeralChar(i.charAt(t))||e.preventDefault();break;case"Tab":case"Enter":r=this.validateValue(this.parseValue(i)),this.$refs.input.$el.value=this.formatValue(r),this.$refs.input.$el.setAttribute("aria-valuenow",r),this.updateModel(e,r);break;case"Backspace":{if(e.preventDefault(),t===n){const s=i.charAt(t-1),{decimalCharIndex:o,decimalCharIndexWithoutPrefix:l}=this.getDecimalCharIndexes(i);if(this.isNumeralChar(s)){const c=this.getDecimalLength(i);if(this._group.test(s))this._group.lastIndex=0,r=i.slice(0,t-2)+i.slice(t-1);else if(this._decimal.test(s))this._decimal.lastIndex=0,c?this.$refs.input.$el.setSelectionRange(t-1,t-1):r=i.slice(0,t-1)+i.slice(t);else if(o>0&&t>o){const a=this.isDecimalMode()&&(this.minFractionDigits||0)<c?"":"0";r=i.slice(0,t-1)+a+i.slice(t)}else l===1?(r=i.slice(0,t-1)+"0"+i.slice(t),r=this.parseValue(r)>0?r:""):r=i.slice(0,t-1)+i.slice(t)}this.updateValue(e,r,null,"delete-single")}else r=this.deleteRange(i,t,n),this.updateValue(e,r,null,"delete-range");break}case"Delete":if(e.preventDefault(),t===n){const s=i.charAt(t),{decimalCharIndex:o,decimalCharIndexWithoutPrefix:l}=this.getDecimalCharIndexes(i);if(this.isNumeralChar(s)){const c=this.getDecimalLength(i);if(this._group.test(s))this._group.lastIndex=0,r=i.slice(0,t)+i.slice(t+2);else if(this._decimal.test(s))this._decimal.lastIndex=0,c?this.$refs.input.$el.setSelectionRange(t+1,t+1):r=i.slice(0,t)+i.slice(t+1);else if(o>0&&t>o){const a=this.isDecimalMode()&&(this.minFractionDigits||0)<c?"":"0";r=i.slice(0,t)+a+i.slice(t+1)}else l===1?(r=i.slice(0,t)+"0"+i.slice(t+1),r=this.parseValue(r)>0?r:""):r=i.slice(0,t)+i.slice(t+1)}this.updateValue(e,r,null,"delete-back-single")}else r=this.deleteRange(i,t,n),this.updateValue(e,r,null,"delete-range");break;case"Home":this.min&&(this.updateModel(e,this.min),e.preventDefault());break;case"End":this.max&&(this.updateModel(e,this.max),e.preventDefault());break}},onInputKeyPress(e){if(this.readonly)return;e.preventDefault();let t=e.which||e.keyCode,n=String.fromCharCode(t);const i=this.isDecimalSign(n),r=this.isMinusSign(n);(48<=t&&t<=57||r||i)&&this.insert(e,n,{isDecimalSign:i,isMinusSign:r})},onPaste(e){e.preventDefault();let t=(e.clipboardData||window.clipboardData).getData("Text");if(t){let n=this.parseValue(t);n!=null&&this.insert(e,n.toString())}},allowMinusSign(){return this.min===null||this.min<0},isMinusSign(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1},isDecimalSign(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1},isDecimalMode(){return this.mode==="decimal"},getDecimalCharIndexes(e){let t=e.search(this._decimal);this._decimal.lastIndex=0;const i=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:t,decimalCharIndexWithoutPrefix:i}},getCharIndexes(e){const t=e.search(this._decimal);this._decimal.lastIndex=0;const n=e.search(this._minusSign);this._minusSign.lastIndex=0;const i=e.search(this._suffix);this._suffix.lastIndex=0;const r=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:t,minusCharIndex:n,suffixCharIndex:i,currencyCharIndex:r}},insert(e,t,n={isDecimalSign:!1,isMinusSign:!1}){const i=t.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&i!==-1)return;const r=this.$refs.input.$el.selectionStart,s=this.$refs.input.$el.selectionEnd;let o=this.$refs.input.$el.value.trim();const{decimalCharIndex:l,minusCharIndex:c,suffixCharIndex:a,currencyCharIndex:d}=this.getCharIndexes(o);let u;if(n.isMinusSign)r===0&&(u=o,(c===-1||s!==0)&&(u=this.insertText(o,t,0,s)),this.updateValue(e,u,t,"insert"));else if(n.isDecimalSign)l>0&&r===l?this.updateValue(e,o,t,"insert"):l>r&&l<s?(u=this.insertText(o,t,r,s),this.updateValue(e,u,t,"insert")):l===-1&&this.maxFractionDigits&&(u=this.insertText(o,t,r,s),this.updateValue(e,u,t,"insert"));else{const h=this.numberFormat.resolvedOptions().maximumFractionDigits,f=r!==s?"range-insert":"insert";if(l>0&&r>l){if(r+t.length-(l+1)<=h){const v=d>=r?d-1:a>=r?a:o.length;u=o.slice(0,r)+t+o.slice(r+t.length,v)+o.slice(v),this.updateValue(e,u,t,f)}}else u=this.insertText(o,t,r,s),this.updateValue(e,u,t,f)}},insertText(e,t,n,i){if((t==="."?t:t.split(".")).length===2){const s=e.slice(n,i).search(this._decimal);return this._decimal.lastIndex=0,s>0?e.slice(0,n)+this.formatValue(t)+e.slice(i):e||this.formatValue(t)}else return i-n===e.length?this.formatValue(t):n===0?t+e.slice(i):i===e.length?e.slice(0,n)+t:e.slice(0,n)+t+e.slice(i)},deleteRange(e,t,n){let i;return n-t===e.length?i="":t===0?i=e.slice(n):n===e.length?i=e.slice(0,t):i=e.slice(0,t)+e.slice(n),i},initCursor(){let e=this.$refs.input.$el.selectionStart,t=this.$refs.input.$el.value,n=t.length,i=null,r=(this.prefixChar||"").length;t=t.replace(this._prefix,""),e=e-r;let s=t.charAt(e);if(this.isNumeralChar(s))return e+r;let o=e-1;for(;o>=0;)if(s=t.charAt(o),this.isNumeralChar(s)){i=o+r;break}else o--;if(i!==null)this.$refs.input.$el.setSelectionRange(i+1,i+1);else{for(o=e;o<n;)if(s=t.charAt(o),this.isNumeralChar(s)){i=o+r;break}else o++;i!==null&&this.$refs.input.$el.setSelectionRange(i,i)}return i||0},onInputClick(){const e=this.$refs.input.$el.value;!this.readonly&&e!==E.getSelection()&&this.initCursor()},isNumeralChar(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1},resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0},updateValue(e,t,n,i){let r=this.$refs.input.$el.value,s=null;t!=null&&(s=this.parseValue(t),s=!s&&!this.allowEmpty?0:s,this.updateInput(s,n,i,t),this.handleOnInput(e,r,s))},handleOnInput(e,t,n){this.isValueChanged(t,n)&&this.$emit("input",{originalEvent:e,value:n,formattedValue:t})},isValueChanged(e,t){if(t===null&&e!==null)return!0;if(t!=null){let n=typeof e=="string"?this.parseValue(e):e;return t!==n}return!1},validateValue(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e},updateInput(e,t,n,i){t=t||"";let r=this.$refs.input.$el.value,s=this.formatValue(e),o=r.length;if(s!==i&&(s=this.concatValues(s,i)),o===0){this.$refs.input.$el.value=s,this.$refs.input.$el.setSelectionRange(0,0);const c=this.initCursor()+t.length;this.$refs.input.$el.setSelectionRange(c,c)}else{let l=this.$refs.input.$el.selectionStart,c=this.$refs.input.$el.selectionEnd;this.$refs.input.$el.value=s;let a=s.length;if(n==="range-insert"){const d=this.parseValue((r||"").slice(0,l)),h=(d!==null?d.toString():"").split("").join(`(${this.groupChar})?`),f=new RegExp(h,"g");f.test(s);const v=t.split("").join(`(${this.groupChar})?`),k=new RegExp(v,"g");k.test(s.slice(f.lastIndex)),c=f.lastIndex+k.lastIndex,this.$refs.input.$el.setSelectionRange(c,c)}else if(a===o)n==="insert"||n==="delete-back-single"?this.$refs.input.$el.setSelectionRange(c+1,c+1):n==="delete-single"?this.$refs.input.$el.setSelectionRange(c-1,c-1):(n==="delete-range"||n==="spin")&&this.$refs.input.$el.setSelectionRange(c,c);else if(n==="delete-back-single"){let d=r.charAt(c-1),u=r.charAt(c),h=o-a,f=this._group.test(u);f&&h===1?c+=1:!f&&this.isNumeralChar(d)&&(c+=-1*h+1),this._group.lastIndex=0,this.$refs.input.$el.setSelectionRange(c,c)}else if(r==="-"&&n==="insert"){this.$refs.input.$el.setSelectionRange(0,0);const u=this.initCursor()+t.length+1;this.$refs.input.$el.setSelectionRange(u,u)}else c=c+(a-o),this.$refs.input.$el.setSelectionRange(c,c)}this.$refs.input.$el.setAttribute("aria-valuenow",e)},concatValues(e,t){if(e&&t){let n=t.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?e.replace(this.suffixChar,"").split(this._decimal)[0]+t.replace(this.suffixChar,"").slice(n)+this.suffixChar:n!==-1?e.split(this._decimal)[0]+t.slice(n):e}return e},getDecimalLength(e){if(e){const t=e.split(this._decimal);if(t.length===2)return t[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0},updateModel(e,t){this.d_modelValue=t,this.$emit("update:modelValue",t)},onInputFocus(e){this.focused=!0,!this.disabled&&!this.readonly&&this.$refs.input.$el.value!==E.getSelection()&&this.highlightOnFocus&&e.target.select(),this.$emit("focus",e)},onInputBlur(e){this.focused=!1;let t=e.target,n=this.validateValue(this.parseValue(t.value));this.$emit("blur",{originalEvent:e,value:t.value}),t.value=this.formatValue(n),t.setAttribute("aria-valuenow",n),this.updateModel(e,n)},clearTimer(){this.timer&&clearInterval(this.timer)},maxBoundry(){return this.d_modelValue>=this.max},minBoundry(){return this.d_modelValue<=this.min}},computed:{containerClass(){return["p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":this.filled,"p-inputwrapper-focus":this.focused,"p-inputnumber-buttons-stacked":this.showButtons&&this.buttonLayout==="stacked","p-inputnumber-buttons-horizontal":this.showButtons&&this.buttonLayout==="horizontal","p-inputnumber-buttons-vertical":this.showButtons&&this.buttonLayout==="vertical"}]},upButtonClass(){return["p-inputnumber-button p-inputnumber-button-up",this.incrementButtonClass,{"p-disabled":this.showButtons&&this.max!==null&&this.maxBoundry()}]},downButtonClass(){return["p-inputnumber-button p-inputnumber-button-down",this.decrementButtonClass,{"p-disabled":this.showButtons&&this.min!==null&&this.minBoundry()}]},filled(){return this.modelValue!=null&&this.modelValue.toString().length>0},upButtonListeners(){return{mousedown:e=>this.onUpButtonMouseDown(e),mouseup:e=>this.onUpButtonMouseUp(e),mouseleave:e=>this.onUpButtonMouseLeave(e),keydown:e=>this.onUpButtonKeyDown(e),keyup:e=>this.onUpButtonKeyUp(e)}},downButtonListeners(){return{mousedown:e=>this.onDownButtonMouseDown(e),mouseup:e=>this.onDownButtonMouseUp(e),mouseleave:e=>this.onDownButtonMouseLeave(e),keydown:e=>this.onDownButtonKeyDown(e),keyup:e=>this.onDownButtonKeyUp(e)}},formattedValue(){const e=!this.modelValue&&!this.allowEmpty?0:this.modelValue;return this.formatValue(e)},getFormatter(){return this.numberFormat}},components:{INInputText:pd,INButton:Os}};const pb={key:0,class:"p-inputnumber-button-group"};function mb(e,t,n,i,r,s){const o=_e("INInputText"),l=_e("INButton");return x(),I("span",{class:ie(s.containerClass)},[he(o,Je({ref:"input",id:n.inputId,class:["p-inputnumber-input",n.inputClass],role:"spinbutton",style:n.inputStyle,value:s.formattedValue,"aria-valuemin":n.min,"aria-valuemax":n.max,"aria-valuenow":n.modelValue,disabled:n.disabled,readonly:n.readonly,placeholder:n.placeholder,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onInput:s.onUserInput,onKeydown:s.onInputKeyDown,onKeypress:s.onInputKeyPress,onPaste:s.onPaste,onClick:s.onInputClick,onFocus:s.onInputFocus,onBlur:s.onInputBlur},n.inputProps),null,16,["id","class","style","value","aria-valuemin","aria-valuemax","aria-valuenow","disabled","readonly","placeholder","aria-labelledby","aria-label","onInput","onKeydown","onKeypress","onPaste","onClick","onFocus","onBlur"]),n.showButtons&&n.buttonLayout==="stacked"?(x(),I("span",pb,[he(l,Je({class:s.upButtonClass,icon:n.incrementButtonIcon},$s(s.upButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true"},n.incrementButtonProps),null,16,["class","icon","disabled"]),he(l,Je({class:s.downButtonClass,icon:n.decrementButtonIcon},$s(s.downButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true"},n.decrementButtonProps),null,16,["class","icon","disabled"])])):$("",!0),n.showButtons&&n.buttonLayout!=="stacked"?(x(),le(l,Je({key:1,class:s.upButtonClass,icon:n.incrementButtonIcon},$s(s.upButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true"},n.incrementButtonProps),null,16,["class","icon","disabled"])):$("",!0),n.showButtons&&n.buttonLayout!=="stacked"?(x(),le(l,Je({key:2,class:s.downButtonClass,icon:n.decrementButtonIcon},$s(s.downButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true"},n.decrementButtonProps),null,16,["class","icon","disabled"])):$("",!0)],2)}function gb(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var bb=`
.p-inputnumber {
    display: inline-flex;
}
.p-inputnumber-button {
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 0 0 auto;
}
.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,
.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label {
    display: none;
}
.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
    padding: 0;
}
.p-inputnumber-buttons-stacked .p-inputnumber-input {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}
.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down {
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    border-bottom-left-radius: 0;
    padding: 0;
}
.p-inputnumber-buttons-stacked .p-inputnumber-button-group {
    display: flex;
    flex-direction: column;
}
.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button {
    flex: 1 1 auto;
}
.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up {
    order: 3;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}
.p-inputnumber-buttons-horizontal .p-inputnumber-input {
    order: 2;
    border-radius: 0;
}
.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down {
    order: 1;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}
.p-inputnumber-buttons-vertical {
    flex-direction: column;
}
.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up {
    order: 1;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
    width: 100%;
}
.p-inputnumber-buttons-vertical .p-inputnumber-input {
    order: 2;
    border-radius: 0;
    text-align: center;
}
.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down {
    order: 3;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    width: 100%;
}
.p-inputnumber-input {
    flex: 1 1 auto;
}
.p-fluid .p-inputnumber {
    width: 100%;
}
.p-fluid .p-inputnumber .p-inputnumber-input {
    width: 1%;
}
.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input {
    width: 100%;
}
`;gb(bb);Bl.render=mb;var md={name:"InputSwitch",emits:["click","update:modelValue","change","input","focus","blur"],props:{modelValue:{type:null,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},disabled:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:String,default:null},inputStyle:{type:null,default:null},inputProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{focused:!1}},methods:{onClick(e){if(!this.disabled){const t=this.checked?this.falseValue:this.trueValue;this.$emit("click",e),this.$emit("update:modelValue",t),this.$emit("change",e),this.$emit("input",t),this.$refs.input.focus()}e.preventDefault()},onFocus(e){this.focused=!0,this.$emit("focus",e)},onBlur(e){this.focused=!1,this.$emit("blur",e)}},computed:{containerClass(){return["p-inputswitch p-component",{"p-inputswitch-checked":this.checked,"p-disabled":this.disabled,"p-focus":this.focused}]},checked(){return this.modelValue===this.trueValue}}};const yb={class:"p-hidden-accessible"},wb=["id","checked","disabled","aria-checked","aria-labelledby","aria-label"],xb=j("span",{class:"p-inputswitch-slider"},null,-1);function vb(e,t,n,i,r,s){return x(),I("div",{class:ie(s.containerClass),onClick:t[2]||(t[2]=o=>s.onClick(o))},[j("div",yb,[j("input",Je({ref:"input",id:n.inputId,type:"checkbox",role:"switch",class:n.inputClass,style:n.inputStyle,checked:s.checked,disabled:n.disabled,"aria-checked":s.checked,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onFocus:t[0]||(t[0]=o=>s.onFocus(o)),onBlur:t[1]||(t[1]=o=>s.onBlur(o))},n.inputProps),null,16,wb)]),xb],2)}function _b(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var Cb=`
.p-inputswitch {
    position: relative;
    display: inline-block;
}
.p-inputswitch-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
}
.p-inputswitch-slider:before {
    position: absolute;
    content: '';
    top: 50%;
}
`;_b(Cb);md.render=vb;function Sb(e,t){const{onFocusIn:n,onFocusOut:i}=t.value||{};e.$_pfocustrap_mutationobserver=new MutationObserver(r=>{r.forEach(s=>{if(s.type==="childList"&&!e.contains(document.activeElement)){const o=l=>{const c=E.isFocusableElement(l)?l:E.getFirstFocusableElement(l);return V.isNotEmpty(c)?c:o(l.nextSibling)};E.focus(o(s.nextSibling))}})}),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=r=>n&&n(r),e.$_pfocustrap_focusoutlistener=r=>i&&i(r),e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)}function ec(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)}function Ib(e,t){const{autoFocusSelector:n="",firstFocusableSelector:i="",autoFocus:r=!1}=t.value||{};let s=E.getFirstFocusableElement(e,`[autofocus]:not(.p-hidden-focusable)${n}`);r&&!s&&(s=E.getFirstFocusableElement(e,`:not(.p-hidden-focusable)${i}`)),E.focus(s)}function Eb(e){const{currentTarget:t,relatedTarget:n}=e,i=n===t.$_pfocustrap_lasthiddenfocusableelement?E.getFirstFocusableElement(t.parentElement,`:not(.p-hidden-focusable)${t.$_pfocustrap_focusableselector}`):t.$_pfocustrap_lasthiddenfocusableelement;E.focus(i)}function kb(e){const{currentTarget:t,relatedTarget:n}=e,i=n===t.$_pfocustrap_firsthiddenfocusableelement?E.getLastFocusableElement(t.parentElement,`:not(.p-hidden-focusable)${t.$_pfocustrap_focusableselector}`):t.$_pfocustrap_firsthiddenfocusableelement;E.focus(i)}function Pb(e,t){const{tabIndex:n=0,firstFocusableSelector:i="",lastFocusableSelector:r=""}=t.value||{},s=c=>{const a=document.createElement("span");return a.classList="p-hidden-accessible p-hidden-focusable",a.tabIndex=n,a.setAttribute("aria-hidden","true"),a.setAttribute("role","presentation"),a.addEventListener("focus",c),a},o=s(Eb),l=s(kb);o.$_pfocustrap_lasthiddenfocusableelement=l,o.$_pfocustrap_focusableselector=i,l.$_pfocustrap_firsthiddenfocusableelement=o,l.$_pfocustrap_focusableselector=r,e.prepend(o),e.append(l)}const Nl={mounted(e,t){const{disabled:n}=t.value||{};n||(Pb(e,t),Sb(e,t),Ib(e,t))},updated(e,t){const{disabled:n}=t.value||{};n&&ec(e)},unmounted(e){ec(e)}};var Gt=Dl(),fi={name:"Portal",props:{appendTo:{type:String,default:"body"},disabled:{type:Boolean,default:!1}},data(){return{mounted:!1}},mounted(){this.mounted=E.isClient()},computed:{inline(){return this.disabled||this.appendTo==="self"}}};function Rb(e,t,n,i,r,s){return s.inline?Pe(e.$slots,"default",{key:0}):r.mounted?(x(),le(Mp,{key:1,to:n.appendTo},[Pe(e.$slots,"default")],8,["to"])):$("",!0)}fi.render=Rb;var gd={name:"OverlayPanel",inheritAttrs:!1,emits:["show","hide"],props:{dismissable:{type:Boolean,default:!0},showCloseIcon:{type:Boolean,default:!1},appendTo:{type:String,default:"body"},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},breakpoints:{type:Object,default:null}},data(){return{visible:!1}},watch:{dismissable:{immediate:!0,handler(e){e?this.bindOutsideClickListener():this.unbindOutsideClickListener()}}},selfClick:!1,target:null,eventTarget:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,styleElement:null,overlayEventListener:null,beforeUnmount(){this.dismissable&&this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.destroyStyle(),this.unbindResizeListener(),this.target=null,this.container&&this.autoZIndex&&rt.clear(this.container),this.overlayEventListener&&(Gt.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.container=null},mounted(){this.breakpoints&&this.createStyle()},methods:{toggle(e,t){this.visible?this.hide():this.show(e,t)},show(e,t){this.visible=!0,this.eventTarget=e.currentTarget,this.target=t||e.currentTarget},hide(){this.visible=!1,E.focus(this.target)},onContentClick(){this.selfClick=!0},onEnter(e){this.container.setAttribute(this.attributeSelector,""),this.alignOverlay(),this.dismissable&&this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.autoZIndex&&rt.set("overlay",e,this.baseZIndex+this.$primevue.config.zIndex.overlay),this.overlayEventListener=t=>{this.container.contains(t.target)&&(this.selfClick=!0)},this.focus(),Gt.on("overlay-click",this.overlayEventListener),this.$emit("show")},onLeave(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),Gt.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null,this.$emit("hide")},onAfterLeave(e){this.autoZIndex&&rt.clear(e)},alignOverlay(){E.absolutePosition(this.container,this.target);const e=E.getOffset(this.container),t=E.getOffset(this.target);let n=0;e.left<t.left&&(n=t.left-e.left),this.container.style.setProperty("--overlayArrowLeft",`${n}px`),e.top<t.top&&E.addClass(this.container,"p-overlaypanel-flipped")},onContentKeydown(e){e.code==="Escape"&&this.hide()},onButtonKeydown(e){switch(e.code){case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":e.preventDefault()}},focus(){let e=this.container.querySelector("[autofocus]");e&&e.focus()},bindOutsideClickListener(){!this.outsideClickListener&&E.isClient()&&(this.outsideClickListener=e=>{this.visible&&!this.selfClick&&!this.isTargetClicked(e)&&(this.visible=!1),this.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Fl(this.target,()=>{this.visible&&(this.visible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.visible&&!E.isTouchDevice()&&(this.visible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isTargetClicked(e){return this.eventTarget&&(this.eventTarget===e.target||this.eventTarget.contains(e.target))},containerRef(e){this.container=e},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let t in this.breakpoints)e+=`
                        @media screen and (max-width: ${t}) {
                            .p-overlaypanel[${this.attributeSelector}] {
                                width: ${this.breakpoints[t]} !important;
                            }
                        }
                    `;this.styleElement.innerHTML=e}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},onOverlayClick(e){Gt.emit("overlay-click",{originalEvent:e,target:this.target})}},computed:{containerClass(){return["p-overlaypanel p-component",{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},attributeSelector(){return Kt()},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{focustrap:Nl,ripple:Yt},components:{Portal:fi}};const Ab=["aria-modal"],Ob=["aria-label"],Tb=j("span",{class:"p-overlaypanel-close-icon pi pi-times"},null,-1),Lb=[Tb];function Mb(e,t,n,i,r,s){const o=_e("Portal"),l=Et("ripple"),c=Et("focustrap");return x(),le(o,{appendTo:n.appendTo},{default:ye(()=>[he(Hn,{name:"p-overlaypanel",onEnter:s.onEnter,onLeave:s.onLeave,onAfterLeave:s.onAfterLeave},{default:ye(()=>[r.visible?ot((x(),I("div",Je({key:0,ref:s.containerRef,role:"dialog",class:s.containerClass,"aria-modal":r.visible,onClick:t[5]||(t[5]=(...a)=>s.onOverlayClick&&s.onOverlayClick(...a))},e.$attrs),[j("div",{class:"p-overlaypanel-content",onClick:t[0]||(t[0]=(...a)=>s.onContentClick&&s.onContentClick(...a)),onMousedown:t[1]||(t[1]=(...a)=>s.onContentClick&&s.onContentClick(...a)),onKeydown:t[2]||(t[2]=(...a)=>s.onContentKeydown&&s.onContentKeydown(...a))},[Pe(e.$slots,"default")],32),n.showCloseIcon?ot((x(),I("button",{key:0,class:"p-overlaypanel-close p-link","aria-label":s.closeAriaLabel,type:"button",autofocus:"",onClick:t[3]||(t[3]=(...a)=>s.hide&&s.hide(...a)),onKeydown:t[4]||(t[4]=(...a)=>s.onButtonKeydown&&s.onButtonKeydown(...a))},Lb,40,Ob)),[[l]]):$("",!0)],16,Ab)),[[c]]):$("",!0)]),_:3},8,["onEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo"])}function Fb(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var Db=`
.p-overlaypanel {
    position: absolute;
    margin-top: 10px;
    top: 0;
    left: 0;
}
.p-overlaypanel-flipped {
    margin-top: 0;
    margin-bottom: 10px;
}
.p-overlaypanel-close {
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    position: relative;
}

/* Animation */
.p-overlaypanel-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}
.p-overlaypanel-leave-to {
    opacity: 0;
}
.p-overlaypanel-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1), opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}
.p-overlaypanel-leave-active {
    transition: opacity 0.1s linear;
}
.p-overlaypanel:after,
.p-overlaypanel:before {
    bottom: 100%;
    left: calc(var(--overlayArrowLeft, 0) + 1.25rem);
    content: ' ';
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}
.p-overlaypanel:after {
    border-width: 8px;
    margin-left: -8px;
}
.p-overlaypanel:before {
    border-width: 10px;
    margin-left: -10px;
}
.p-overlaypanel-flipped:after,
.p-overlaypanel-flipped:before {
    bottom: auto;
    top: 100%;
}
.p-overlaypanel.p-overlaypanel-flipped:after {
    border-bottom-color: transparent;
}
.p-overlaypanel.p-overlaypanel-flipped:before {
    border-bottom-color: transparent;
}
`;Fb(Db);gd.render=Mb;var bd={name:"Image",inheritAttrs:!1,emits:["show","hide","error"],props:{preview:{type:Boolean,default:!1},class:{type:null,default:null},style:{type:null,default:null},imageStyle:{type:null,default:null},imageClass:{type:null,default:null},previewButtonProps:{type:null,default:null}},mask:null,data(){return{maskVisible:!1,previewVisible:!1,rotate:0,scale:1}},beforeUnmount(){this.mask&&rt.clear(this.container)},methods:{maskRef(e){this.mask=e},toolbarRef(e){this.toolbarRef=e},onImageClick(){this.preview&&(this.maskVisible=!0,setTimeout(()=>{this.previewVisible=!0},25))},onPreviewImageClick(){this.previewClick=!0},onMaskClick(){this.previewClick||(this.previewVisible=!1,this.rotate=0,this.scale=1),this.previewClick=!1},onMaskKeydown(e){switch(e.code){case"Escape":this.onMaskClick(),setTimeout(()=>{E.focus(this.$refs.previewButton)},25),e.preventDefault();break}},onError(){this.$emit("error")},rotateRight(){this.rotate+=90,this.previewClick=!0},rotateLeft(){this.rotate-=90,this.previewClick=!0},zoomIn(){this.scale=this.scale+.1,this.previewClick=!0},zoomOut(){this.scale=this.scale-.1,this.previewClick=!0},onBeforeEnter(){rt.set("modal",this.mask,this.$primevue.config.zIndex.modal)},onEnter(){this.focus(),this.$emit("show")},onBeforeLeave(){E.addClass(this.mask,"p-component-overlay-leave")},onLeave(){this.$emit("hide")},onAfterLeave(e){rt.clear(e),this.maskVisible=!1},focus(){let e=this.mask.querySelector("[autofocus]");e&&e.focus()}},computed:{containerClass(){return["p-image p-component",this.class,{"p-image-preview-container":this.preview}]},maskClass(){return["p-image-mask p-component-overlay p-component-overlay-enter"]},rotateClass(){return"p-image-preview-rotate-"+this.rotate},imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}},zoomDisabled(){return this.scale<=.5||this.scale>=1.5},rightAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateRight:void 0},leftAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateLeft:void 0},zoomInAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomIn:void 0},zoomOutAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomOut:void 0},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},components:{Portal:fi},directives:{focustrap:Nl}};const Bb=j("i",{class:"p-image-preview-icon pi pi-eye"},null,-1),Nb=["aria-modal"],zb={class:"p-image-toolbar"},jb=["aria-label"],Vb=j("i",{class:"pi pi-refresh"},null,-1),Kb=[Vb],Ub=["aria-label"],Hb=j("i",{class:"pi pi-undo"},null,-1),$b=[Hb],qb=["disabled","aria-label"],Gb=j("i",{class:"pi pi-search-minus"},null,-1),Wb=[Gb],Jb=["disabled","aria-label"],Yb=j("i",{class:"pi pi-search-plus"},null,-1),Xb=[Yb],Zb=["aria-label"],Qb=j("i",{class:"pi pi-times"},null,-1),ey=[Qb],ty={key:0},ny=["src"];function iy(e,t,n,i,r,s){const o=_e("Portal"),l=Et("focustrap");return x(),I("span",{class:ie(s.containerClass),style:qe(n.style)},[j("img",Je(e.$attrs,{style:n.imageStyle,class:n.imageClass,onError:t[0]||(t[0]=(...c)=>s.onError&&s.onError(...c))}),null,16),n.preview?(x(),I("button",Je({key:0,ref:"previewButton",class:"p-image-preview-indicator",onClick:t[1]||(t[1]=(...c)=>s.onImageClick&&s.onImageClick(...c))},n.previewButtonProps),[Pe(e.$slots,"indicator",{},()=>[Bb])],16)):$("",!0),he(o,null,{default:ye(()=>[r.maskVisible?ot((x(),I("div",{key:0,ref:s.maskRef,role:"dialog",class:ie(s.maskClass),"aria-modal":r.maskVisible,onClick:t[8]||(t[8]=(...c)=>s.onMaskClick&&s.onMaskClick(...c)),onKeydown:t[9]||(t[9]=(...c)=>s.onMaskKeydown&&s.onMaskKeydown(...c))},[j("div",zb,[j("button",{class:"p-image-action p-link",onClick:t[2]||(t[2]=(...c)=>s.rotateRight&&s.rotateRight(...c)),type:"button","aria-label":s.rightAriaLabel},Kb,8,jb),j("button",{class:"p-image-action p-link",onClick:t[3]||(t[3]=(...c)=>s.rotateLeft&&s.rotateLeft(...c)),type:"button","aria-label":s.leftAriaLabel},$b,8,Ub),j("button",{class:"p-image-action p-link",onClick:t[4]||(t[4]=(...c)=>s.zoomOut&&s.zoomOut(...c)),type:"button",disabled:s.zoomDisabled,"aria-label":s.zoomOutAriaLabel},Wb,8,qb),j("button",{class:"p-image-action p-link",onClick:t[5]||(t[5]=(...c)=>s.zoomIn&&s.zoomIn(...c)),type:"button",disabled:s.zoomDisabled,"aria-label":s.zoomInAriaLabel},Xb,8,Jb),j("button",{class:"p-image-action p-link",type:"button",onClick:t[6]||(t[6]=(...c)=>e.hidePreview&&e.hidePreview(...c)),"aria-label":s.closeAriaLabel,autofocus:""},ey,8,Zb)]),he(Hn,{name:"p-image-preview",onBeforeEnter:s.onBeforeEnter,onEnter:s.onEnter,onLeave:s.onLeave,onBeforeLeave:s.onBeforeLeave,onAfterLeave:s.onAfterLeave},{default:ye(()=>[r.previewVisible?(x(),I("div",ty,[j("img",{src:e.$attrs.src,class:"p-image-preview",style:qe(s.imagePreviewStyle),onClick:t[7]||(t[7]=(...c)=>s.onPreviewImageClick&&s.onPreviewImageClick(...c))},null,12,ny)])):$("",!0)]),_:1},8,["onBeforeEnter","onEnter","onLeave","onBeforeLeave","onAfterLeave"])],42,Nb)),[[l]]):$("",!0)]),_:1})],6)}function sy(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var ry=`
.p-image-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}
.p-image-preview-container {
    position: relative;
    display: inline-block;
}
.p-image-preview-indicator {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s;
}
.p-image-preview-icon {
    font-size: 1.5rem;
}
.p-image-preview-container:hover > .p-image-preview-indicator {
    opacity: 1;
    cursor: pointer;
}
.p-image-preview-container > img {
    cursor: pointer;
}
.p-image-toolbar {
    position: absolute;
    top: 0;
    right: 0;
    display: flex;
}
.p-image-action.p-link {
    display: flex;
    justify-content: center;
    align-items: center;
}
.p-image-preview {
    transition: transform 0.15s;
    max-width: 100vw;
    max-height: 100vh;
}
.p-image-preview-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}
.p-image-preview-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}
.p-image-preview-enter-from,
.p-image-preview-leave-to {
    opacity: 0;
    transform: scale(0.7);
}
`;sy(ry);bd.render=iy;var Cn=Dl(),yd={name:"ToastMessage",emits:["close"],props:{message:{type:null,default:null},template:{type:null,default:null},closeIcon:{type:String,default:null},infoIcon:{type:String,default:null},warnIcon:{type:String,default:null},errorIcon:{type:String,default:null},successIcon:{type:String,default:null},closeButtonProps:{type:null,default:null}},closeTimeout:null,mounted(){this.message.life&&(this.closeTimeout=setTimeout(()=>{this.close()},this.message.life))},beforeUnmount(){this.clearCloseTimeout()},methods:{close(){this.$emit("close",this.message)},onCloseClick(){this.clearCloseTimeout(),this.close()},clearCloseTimeout(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)}},computed:{containerClass(){return["p-toast-message",this.message.styleClass,{"p-toast-message-info":this.message.severity==="info","p-toast-message-warn":this.message.severity==="warn","p-toast-message-error":this.message.severity==="error","p-toast-message-success":this.message.severity==="success"}]},iconClass(){return["p-toast-message-icon",{[this.infoIcon]:this.message.severity==="info",[this.warnIcon]:this.message.severity==="warn",[this.errorIcon]:this.message.severity==="error",[this.successIcon]:this.message.severity==="success"}]},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{ripple:Yt}};const oy={class:"p-toast-message-text"},ly={class:"p-toast-summary"},ay={class:"p-toast-detail"},cy={key:2},uy=["aria-label"];function dy(e,t,n,i,r,s){const o=Et("ripple");return x(),I("div",{class:ie(s.containerClass),role:"alert","aria-live":"assertive","aria-atomic":"true"},[j("div",{class:ie(["p-toast-message-content",n.message.contentStyleClass])},[n.template?(x(),le(ut(n.template),{key:1,message:n.message},null,8,["message"])):(x(),I(me,{key:0},[j("span",{class:ie(s.iconClass)},null,2),j("div",oy,[j("span",ly,Me(n.message.summary),1),j("div",ay,Me(n.message.detail),1)])],64)),n.message.closable!==!1?(x(),I("div",cy,[ot((x(),I("button",Je({class:"p-toast-icon-close p-link",type:"button","aria-label":s.closeAriaLabel,onClick:t[0]||(t[0]=(...l)=>s.onCloseClick&&s.onCloseClick(...l)),autofocus:""},n.closeButtonProps),[j("span",{class:ie(["p-toast-icon-close-icon",n.closeIcon])},null,2)],16,uy)),[[o]])])):$("",!0)],2)],2)}yd.render=dy;var hy=0,wd={name:"Toast",inheritAttrs:!1,props:{group:{type:String,default:null},position:{type:String,default:"top-right"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},breakpoints:{type:Object,default:null},closeIcon:{type:String,default:"pi pi-times"},infoIcon:{type:String,default:"pi pi-info-circle"},warnIcon:{type:String,default:"pi pi-exclamation-triangle"},errorIcon:{type:String,default:"pi pi-times"},successIcon:{type:String,default:"pi pi-check"},closeButtonProps:{type:null,default:null}},data(){return{messages:[]}},styleElement:null,mounted(){Cn.on("add",this.onAdd),Cn.on("remove-group",this.onRemoveGroup),Cn.on("remove-all-groups",this.onRemoveAllGroups),this.breakpoints&&this.createStyle()},beforeUnmount(){this.destroyStyle(),this.$refs.container&&this.autoZIndex&&rt.clear(this.$refs.container),Cn.off("add",this.onAdd),Cn.off("remove-group",this.onRemoveGroup),Cn.off("remove-all-groups",this.onRemoveAllGroups)},methods:{add(e){e.id==null&&(e.id=hy++),this.messages=[...this.messages,e]},remove(e){let t=-1;for(let n=0;n<this.messages.length;n++)if(this.messages[n]===e){t=n;break}this.messages.splice(t,1)},onAdd(e){this.group==e.group&&this.add(e)},onRemoveGroup(e){this.group===e&&(this.messages=[])},onRemoveAllGroups(){this.messages=[]},onEnter(){this.$refs.container.setAttribute(this.attributeSelector,""),this.autoZIndex&&rt.set("modal",this.$refs.container,this.baseZIndex||this.$primevue.config.zIndex.modal)},onLeave(){this.$refs.container&&this.autoZIndex&&V.isEmpty(this.messages)&&setTimeout(()=>{rt.clear(this.$refs.container)},200)},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let t in this.breakpoints){let n="";for(let i in this.breakpoints[t])n+=i+":"+this.breakpoints[t][i]+"!important;";e+=`
                        @media screen and (max-width: ${t}) {
                            .p-toast[${this.attributeSelector}] {
                                ${n}
                            }
                        }
                    `}this.styleElement.innerHTML=e}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}},computed:{containerClass(){return["p-toast p-component p-toast-"+this.position,{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},attributeSelector(){return Kt()}},components:{ToastMessage:yd,Portal:fi}};function fy(e,t,n,i,r,s){const o=_e("ToastMessage"),l=_e("Portal");return x(),le(l,null,{default:ye(()=>[j("div",Je({ref:"container",class:s.containerClass},e.$attrs),[he(gm,{name:"p-toast-message",tag:"div",onEnter:s.onEnter,onLeave:s.onLeave},{default:ye(()=>[(x(!0),I(me,null,lt(r.messages,c=>(x(),le(o,{key:c.id,message:c,template:e.$slots.message,closeIcon:n.closeIcon,infoIcon:n.infoIcon,warnIcon:n.warnIcon,errorIcon:n.errorIcon,successIcon:n.successIcon,closeButtonProps:n.closeButtonProps,onClose:t[0]||(t[0]=a=>s.remove(a))},null,8,["message","template","closeIcon","infoIcon","warnIcon","errorIcon","successIcon","closeButtonProps"]))),128))]),_:1},8,["onEnter","onLeave"])],16)]),_:1})}function py(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var my=`
.p-toast {
    position: fixed;
    width: 25rem;
}
.p-toast-message-content {
    display: flex;
    align-items: flex-start;
}
.p-toast-message-text {
    flex: 1 1 auto;
}
.p-toast-top-right {
    top: 20px;
    right: 20px;
}
.p-toast-top-left {
    top: 20px;
    left: 20px;
}
.p-toast-bottom-left {
    bottom: 20px;
    left: 20px;
}
.p-toast-bottom-right {
    bottom: 20px;
    right: 20px;
}
.p-toast-top-center {
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
}
.p-toast-bottom-center {
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
}
.p-toast-center {
    left: 50%;
    top: 50%;
    min-width: 20vw;
    transform: translate(-50%, -50%);
}
.p-toast-icon-close {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}
.p-toast-icon-close.p-link {
    cursor: pointer;
}

/* Animations */
.p-toast-message-enter-from {
    opacity: 0;
    -webkit-transform: translateY(50%);
    -ms-transform: translateY(50%);
    transform: translateY(50%);
}
.p-toast-message-leave-from {
    max-height: 1000px;
}
.p-toast .p-toast-message.p-toast-message-leave-to {
    max-height: 0;
    opacity: 0;
    margin-bottom: 0;
    overflow: hidden;
}
.p-toast-message-enter-active {
    -webkit-transition: transform 0.3s, opacity 0.3s;
    transition: transform 0.3s, opacity 0.3s;
}
.p-toast-message-leave-active {
    -webkit-transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
}
`;py(my);wd.render=fy;const gy="/panther-demo/assets/panther_logo_thin-2d6524b3.png";let Gs;const by=new Uint8Array(16);function yy(){if(!Gs&&(Gs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Gs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gs(by)}const gt=[];for(let e=0;e<256;++e)gt.push((e+256).toString(16).slice(1));function wy(e,t=0){return(gt[e[t+0]]+gt[e[t+1]]+gt[e[t+2]]+gt[e[t+3]]+"-"+gt[e[t+4]]+gt[e[t+5]]+"-"+gt[e[t+6]]+gt[e[t+7]]+"-"+gt[e[t+8]]+gt[e[t+9]]+"-"+gt[e[t+10]]+gt[e[t+11]]+gt[e[t+12]]+gt[e[t+13]]+gt[e[t+14]]+gt[e[t+15]]).toLowerCase()}const xy=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),tc={randomUUID:xy};function zi(e,t,n){if(tc.randomUUID&&!t&&!e)return tc.randomUUID();e=e||{};const i=e.random||(e.rng||yy)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){n=n||0;for(let r=0;r<16;++r)t[n+r]=i[r];return t}return wy(i)}var nc;const xd=typeof window<"u";xd&&((nc=window==null?void 0:window.navigator)!=null&&nc.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Si(e){return typeof e=="function"?e():ge(e)}function ic(e,t=!1,n="Timeout"){return new Promise((i,r)=>{setTimeout(t?()=>r(n):i,e)})}function HC(e){return e}function $C(e,...t){return t.some(n=>n in e)}function zl(e){return fl()?(Gc(e),!0):!1}function qC(){const e=[],t=r=>{const s=e.indexOf(r);s!==-1&&e.splice(s,1)};return{on:r=>{e.push(r);const s=()=>t(r);return zl(s),{off:s}},off:t,trigger:r=>{e.forEach(s=>s(r))}}}function vd(e){let t=0,n,i;const r=()=>{t-=1,i&&t<=0&&(i.stop(),n=void 0,i=void 0)};return(...s)=>(t+=1,n||(i=hl(!0),n=i.run(()=>e(...s))),zl(r),n)}function GC(e){return typeof e=="function"?Ue(e):it(e)}function $o(e,t=!1){function n(u,{flush:h="sync",deep:f=!1,timeout:v,throwOnTimeout:k}={}){let O=null;const L=[new Promise(q=>{O=Rt(e,T=>{u(T)!==t&&(O==null||O(),q(T))},{flush:h,deep:f,immediate:!0})})];return v!=null&&L.push(ic(v,k).then(()=>Si(e)).finally(()=>O==null?void 0:O())),Promise.race(L)}function i(u,h){if(!Ze(u))return n(T=>T===u,h);const{flush:f="sync",deep:v=!1,timeout:k,throwOnTimeout:O}=h??{};let A=null;const q=[new Promise(T=>{A=Rt([e,u],([B,Z])=>{t!==(B===Z)&&(A==null||A(),T(B))},{flush:f,deep:v,immediate:!0})})];return k!=null&&q.push(ic(k,O).then(()=>Si(e)).finally(()=>(A==null||A(),Si(e)))),Promise.race(q)}function r(u){return n(h=>Boolean(h),u)}function s(u){return i(null,u)}function o(u){return i(void 0,u)}function l(u){return n(Number.isNaN,u)}function c(u,h){return n(f=>{const v=Array.from(f);return v.includes(u)||v.includes(Si(u))},h)}function a(u){return d(1,u)}function d(u=1,h){let f=-1;return n(()=>(f+=1,f>=u),h)}return Array.isArray(Si(e))?{toMatch:n,toContains:c,changed:a,changedTimes:d,get not(){return $o(e,!t)}}:{toMatch:n,toBe:i,toBeTruthy:r,toBeNull:s,toBeNaN:l,toBeUndefined:o,changed:a,changedTimes:d,get not(){return $o(e,!t)}}}function WC(e){return $o(e)}function JC(e,t,n={}){const{immediate:i=!0}=n,r=it(!1);let s=null;function o(){s&&(clearTimeout(s),s=null)}function l(){r.value=!1,o()}function c(...a){o(),r.value=!0,s=setTimeout(()=>{r.value=!1,s=null,e(...a)},Si(t))}return i&&(r.value=!0,xd&&c()),zl(l),{isPending:wl(r),start:c,stop:l}}function YC(e,t,n){const i=Rt(e,(...r)=>(Lr(()=>i()),t(...r)),n)}var Y;(function(e){e.ApiError="BAD API",e.BadAuthentication="BAD_AUTHENTICATION",e.BadCreds="BAD_CREDS",e.BadHeader="BAD_HEADER",e.BadJson="BAD_JSON",e.BadPayload="BAD_PAYLOAD",e.BadSubject="BAD_SUBJECT",e.Cancelled="CANCELLED",e.ConnectionClosed="CONNECTION_CLOSED",e.ConnectionDraining="CONNECTION_DRAINING",e.ConnectionRefused="CONNECTION_REFUSED",e.ConnectionTimeout="CONNECTION_TIMEOUT",e.Disconnect="DISCONNECT",e.InvalidOption="INVALID_OPTION",e.InvalidPayload="INVALID_PAYLOAD",e.MaxPayloadExceeded="MAX_PAYLOAD_EXCEEDED",e.NoResponders="503",e.NotFunction="NOT_FUNC",e.RequestError="REQUEST_ERROR",e.ServerOptionNotAvailable="SERVER_OPT_NA",e.SubClosed="SUB_CLOSED",e.SubDraining="SUB_DRAINING",e.Timeout="TIMEOUT",e.Tls="TLS",e.Unknown="UNKNOWN_ERROR",e.WssRequired="WSS_REQUIRED",e.JetStreamInvalidAck="JESTREAM_INVALID_ACK",e.JetStream404NoMessages="404",e.JetStream408RequestTimeout="408",e.JetStream409MaxAckPendingExceeded="409",e.JetStream409="409",e.JetStreamNotEnabled="503",e.JetStreamIdleHeartBeat="IDLE_HEARTBEAT",e.AuthorizationViolation="AUTHORIZATION_VIOLATION",e.AuthenticationExpired="AUTHENTICATION_EXPIRED",e.ProtocolError="NATS_PROTOCOL_ERR",e.PermissionsViolation="PERMISSIONS_VIOLATION"})(Y||(Y={}));class _d{constructor(){b(this,"messages");this.messages=new Map,this.messages.set(Y.InvalidPayload,"Invalid payload type - payloads can be 'binary', 'string', or 'json'"),this.messages.set(Y.BadJson,"Bad JSON"),this.messages.set(Y.WssRequired,"TLS is required, therefore a secure websocket connection is also required")}static getMessage(t){return vy.getMessage(t)}getMessage(t){return this.messages.get(t)||t}}const vy=new _d;function _y(e){return typeof e.code=="string"}class fe extends Error{constructor(n,i,r){super(n);b(this,"name");b(this,"message");b(this,"code");b(this,"permissionContext");b(this,"chainedError");b(this,"api_error");this.name="NatsError",this.message=n,this.code=i,this.chainedError=r}static errorForCode(n,i){const r=_d.getMessage(n);return new fe(r,n,i)}isAuthError(){return this.code===Y.AuthenticationExpired||this.code===Y.AuthorizationViolation}isPermissionError(){return this.code===Y.PermissionsViolation}isProtocolError(){return this.code===Y.ProtocolError}isJetStreamError(){return this.api_error!==void 0}jsError(){return this.api_error?this.api_error:null}}const It=new Uint8Array(0);var si;(function(e){e.Disconnect="disconnect",e.Reconnect="reconnect",e.Update="update",e.LDM="ldm",e.Error="error"})(si||(si={}));var Es;(function(e){e.Reconnecting="reconnecting",e.PingTimer="pingTimer",e.StaleConnection="staleConnection"})(Es||(Es={}));const qo="127.0.0.1",Cd=2*1e3,Sd=2*60*1e3,Cy=2;var fn;(function(e){e.Timer="timer",e.Count="count",e.JitterTimer="jitterTimer",e.SentinelMsg="sentinelMsg"})(fn||(fn={}));var sc;(function(e){e.API="api_audit",e.StreamAction="stream_action",e.ConsumerAction="consumer_action",e.SnapshotCreate="snapshot_create",e.SnapshotComplete="snapshot_complete",e.RestoreCreate="restore_create",e.RestoreComplete="restore_complete",e.MaxDeliver="max_deliver",e.Terminated="terminated",e.Ack="consumer_ack",e.StreamLeaderElected="stream_leader_elected",e.StreamQuorumLost="stream_quorum_lost",e.ConsumerLeaderElected="consumer_leader_elected",e.ConsumerQuorumLost="consumer_quorum_lost"})(sc||(sc={}));var Go;(function(e){e.Limits="limits",e.Interest="interest",e.Workqueue="workqueue"})(Go||(Go={}));var ks;(function(e){e.Old="old",e.New="new"})(ks||(ks={}));var Wo;(function(e){e.File="file",e.Memory="memory"})(Wo||(Wo={}));var Bt;(function(e){e.All="all",e.Last="last",e.New="new",e.StartSequence="by_start_sequence",e.StartTime="by_start_time",e.LastPerSubject="last_per_subject"})(Bt||(Bt={}));var bt;(function(e){e.None="none",e.All="all",e.Explicit="explicit",e.NotSet=""})(bt||(bt={}));var ji;(function(e){e.Instant="instant",e.Original="original"})(ji||(ji={}));var sn;(function(e){e.StreamSourceHdr="Nats-Stream-Source",e.LastConsumerSeqHdr="Nats-Last-Consumer",e.LastStreamSeqHdr="Nats-Last-Stream",e.ConsumerStalledHdr="Nats-Consumer-Stalled",e.MessageSizeHdr="Nats-Msg-Size",e.RollupHdr="Nats-Rollup",e.RollupValueSubject="sub",e.RollupValueAll="all"})(sn||(sn={}));var Ii;(function(e){e.Stream="Nats-Stream",e.Sequence="Nats-Sequence",e.TimeStamp="Nats-Time-Stamp",e.Subject="Nats-Subject"})(Ii||(Ii={}));var rc;(function(e){e.Stream="Nats-Stream",e.Subject="Nats-Subject",e.Sequence="Nats-Sequence",e.LastSequence="Nats-Last-Sequence",e.Size="Nats-Msg-Size"})(rc||(rc={}));const $n=new TextEncoder,ln=new TextDecoder;function Sy(...e){let t=0;for(let r=0;r<e.length;r++)t+=e[r].length;const n=new Uint8Array(t);let i=0;for(let r=0;r<e.length;r++)n.set(e[r],i),i+=e[r].length;return n}function fs(...e){const t=[];for(let n=0;n<e.length;n++)t.push($n.encode(e[n]));return t.length===0?It:t.length===1?t[0]:Sy(...t)}function oc(e){return!e||e.length===0?"":ln.decode(e)}class Ts{constructor(){b(this,"buffers");b(this,"byteLength");this.buffers=[],this.byteLength=0}static concat(...t){let n=0;for(let s=0;s<t.length;s++)n+=t[s].length;const i=new Uint8Array(n);let r=0;for(let s=0;s<t.length;s++)i.set(t[s],r),r+=t[s].length;return i}static fromAscii(t){return t||(t=""),$n.encode(t)}static toAscii(t){return ln.decode(t)}reset(){this.buffers.length=0,this.byteLength=0}pack(){if(this.buffers.length>1){const t=new Uint8Array(this.byteLength);let n=0;for(let i=0;i<this.buffers.length;i++)t.set(this.buffers[i],n),n+=this.buffers[i].length;this.buffers.length=0,this.buffers.push(t)}}shift(){if(this.buffers.length){const t=this.buffers.shift();if(t)return this.byteLength-=t.length,t}return new Uint8Array(0)}drain(t){if(this.buffers.length){this.pack();const n=this.buffers.pop();if(n){const i=this.byteLength;(t===void 0||t>i)&&(t=i);const r=n.subarray(0,t);return i>t&&this.buffers.push(n.subarray(t)),this.byteLength=i-t,r}}return new Uint8Array(0)}fill(t,...n){t&&(this.buffers.push(t),this.byteLength+=t.length);for(let i=0;i<n.length;i++)n[i]&&n[i].length&&(this.buffers.push(n[i]),this.byteLength+=n[i].length)}peek(){return this.buffers.length?(this.pack(),this.buffers[0]):new Uint8Array(0)}size(){return this.byteLength}length(){return this.buffers.length}}const ei=`\r
`,yr=Ts.fromAscii(ei),Iy=new Uint8Array(yr)[0],Ey=new Uint8Array(yr)[1];function ky(e){return e instanceof Uint8Array}function Py(e){for(let t=0;t<e.length;t++){const n=t+1;if(e.byteLength>n&&e[t]===Iy&&e[n]===Ey)return n+1}return 0}function Ry(e){const t=Py(e);if(t>0){const i=new Uint8Array(e).slice(0,t);return ln.decode(i)}return""}function qr(e,...t){for(let n=0;n<t.length;n++){const i=t[n];Object.keys(i).forEach(function(r){e[r]=i[r]})}return e}function Ws(e){const t="␍",n="␊";return ln.decode(e).replace(/\n/g,n).replace(/\r/g,t)}function Gr(e){const t=fe.errorForCode(Y.Timeout);let n,i;const r=new Promise((s,o)=>{n={cancel:()=>{i&&clearTimeout(i)}},i=setTimeout(()=>{o(t)},e)});return Object.assign(r,n)}function jl(e=0){return new Promise(t=>{setTimeout(()=>{t()},e)})}function st(){let e={};const t=new Promise((n,i)=>{e={resolve:n,reject:i}});return Object.assign(t,e)}function Id(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}class At{constructor(){b(this,"inflight");b(this,"processed");b(this,"received");b(this,"noIterator");b(this,"iterClosed");b(this,"done");b(this,"signal");b(this,"yields");b(this,"filtered");b(this,"pendingFiltered");b(this,"ingestionFilterFn");b(this,"protocolFilterFn");b(this,"dispatchedFn");b(this,"ctx");b(this,"_data");b(this,"err");b(this,"time");this.inflight=0,this.filtered=0,this.pendingFiltered=0,this.processed=0,this.received=0,this.noIterator=!1,this.done=!1,this.signal=st(),this.yields=[],this.iterClosed=st(),this.time=0}[Symbol.asyncIterator](){return this.iterate()}push(t){if(this.done)return;if(typeof t=="function"){this.yields.push(t),this.signal.resolve();return}const{ingest:n,protocol:i}=this.ingestionFilterFn?this.ingestionFilterFn(t,this.ctx||this):{ingest:!0,protocol:!1};n&&(i&&(this.filtered++,this.pendingFiltered++),this.yields.push(t),this.signal.resolve())}async*iterate(){if(this.noIterator)throw new fe("unsupported iterator",Y.ApiError);try{for(;;){if(this.yields.length===0&&await this.signal,this.err)throw this.err;const t=this.yields;this.inflight=t.length,this.yields=[];for(let n=0;n<t.length;n++){if(typeof t[n]=="function"){const r=t[n];try{r()}catch(s){throw s}if(this.err)throw this.err;continue}if(this.protocolFilterFn?this.protocolFilterFn(t[n]):!0){this.processed++;const r=Date.now();yield t[n],this.time=Date.now()-r,this.dispatchedFn&&t[n]&&this.dispatchedFn(t[n])}else this.pendingFiltered--;this.inflight--}if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=st())}}finally{this.stop()}}stop(t){this.done||(this.err=t,this.done=!0,this.signal.resolve(),this.iterClosed.resolve())}getProcessed(){return this.noIterator?this.received:this.processed}getPending(){return this.yields.length+this.inflight-this.pendingFiltered}getReceived(){return this.received-this.filtered}}function lc(e){let i=!0;const r=new Array(e.length);for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);if(o===58||o<33||o>126)throw new fe(`'${e[s]}' is not a valid character for a header key`,Y.BadHeader);i&&97<=o&&o<=122?o-=32:!i&&65<=o&&o<=90&&(o+=32),r[s]=o,i=o==45}return String.fromCharCode(...r)}function In(e=0,t=""){if(e===0&&t!==""||e>0&&t==="")throw new Error("setting status requires both code and description");return new zn(e,t)}const yo="NATS/1.0";var Ht;(function(e){e[e.Exact=0]="Exact",e[e.CanonicalMIME=1]="CanonicalMIME",e[e.IgnoreCase=2]="IgnoreCase"})(Ht||(Ht={}));class zn{constructor(t=0,n=""){b(this,"_code");b(this,"headers");b(this,"_description");this._code=t,this._description=n,this.headers=new Map}[Symbol.iterator](){return this.headers.entries()}size(){return this.headers.size}equals(t){if(t&&this.headers.size===t.headers.size&&this._code===t._code){for(const[n,i]of this.headers){const r=t.values(n);if(i.length!==r.length)return!1;const s=[...i].sort(),o=[...r].sort();for(let l=0;l<s.length;l++)if(s[l]!==o[l])return!1}return!0}return!1}static decode(t){const n=new zn,r=ln.decode(t).split(`\r
`),s=r[0];if(s!==yo){let o=s.replace(yo,"");n._code=parseInt(o,10);const l=n._code.toString();o=o.replace(l,""),n._description=o.trim()}return r.length>=1&&r.slice(1).map(o=>{if(o){const l=o.indexOf(":");if(l>-1){const c=o.slice(0,l),a=o.slice(l+1).trim();n.append(c,a)}}}),n}toString(){if(this.headers.size===0&&this._code===0)return"";let t=yo;this._code>0&&this._description!==""&&(t+=` ${this._code} ${this._description}`);for(const[n,i]of this.headers)for(let r=0;r<i.length;r++)t=`${t}\r
${n}: ${i[r]}`;return`${t}\r
\r
`}encode(){return $n.encode(this.toString())}static validHeaderValue(t){if(/[\r\n]/.test(t))throw new fe("invalid header value - \\r and \\n are not allowed.",Y.BadHeader);return t.trim()}keys(){const t=[];for(const n of this.headers.keys())t.push(n);return t}findKeys(t,n=Ht.Exact){const i=this.keys();switch(n){case Ht.Exact:return i.filter(r=>r===t);case Ht.CanonicalMIME:return t=lc(t),i.filter(r=>r===t);default:{const r=t.toLowerCase();return i.filter(s=>r===s.toLowerCase())}}}get(t,n=Ht.Exact){const i=this.findKeys(t,n);if(i.length){const r=this.headers.get(i[0]);if(r)return Array.isArray(r)?r[0]:r}return""}has(t,n=Ht.Exact){return this.findKeys(t,n).length>0}set(t,n,i=Ht.Exact){this.delete(t,i),this.append(t,n,i)}append(t,n,i=Ht.Exact){const r=lc(t);i===Ht.CanonicalMIME&&(t=r);const s=this.findKeys(t,i);t=s.length>0?s[0]:t;const o=zn.validHeaderValue(n);let l=this.headers.get(t);l||(l=[],this.headers.set(t,l)),l.push(o)}values(t,n=Ht.Exact){const i=[];return this.findKeys(t,n).forEach(s=>{const o=this.headers.get(s);o&&i.push(...o)}),i}delete(t,n=Ht.Exact){this.findKeys(t,n).forEach(r=>{this.headers.delete(r)})}get hasError(){return this._code>=300}get status(){return`${this._code} ${this._description}`.trim()}toRecord(){const t={};return this.keys().forEach(n=>{t[n]=this.values(n)}),t}get code(){return this._code}get description(){return this._description}static fromRecord(t){const n=new zn;for(const i in t)n.headers.set(i,t[i]);return n}}function Ay(){return{encode(e){return $n.encode(e)},decode(e){return ln.decode(e)}}}function tn(e){return{encode(t){try{return t===void 0&&(t=null),$n.encode(JSON.stringify(t))}catch(n){throw fe.errorForCode(Y.BadJson,n)}},decode(t){try{return JSON.parse(ln.decode(t),e)}catch(n){throw fe.errorForCode(Y.BadJson,n)}}}}const ac="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",cc=36,Oy=0xcfd41b9100000,uc=33,Ty=333,dc=12+10;function Ly(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(Math.random()*255)}function My(e){var t;(t=globalThis==null?void 0:globalThis.crypto)!=null&&t.getRandomValues?globalThis.crypto.getRandomValues(e):Ly(e)}class Fy{constructor(){b(this,"buf");b(this,"seq");b(this,"inc");this.buf=new Uint8Array(dc),this.init()}init(){this.setPre(),this.initSeqAndInc(),this.fillSeq()}initSeqAndInc(){this.seq=Math.floor(Math.random()*Oy),this.inc=Math.floor(Math.random()*(Ty-uc)+uc)}setPre(){const t=new Uint8Array(12);My(t);for(let n=0;n<12;n++){const i=t[n]%36;this.buf[n]=ac.charCodeAt(i)}}fillSeq(){let t=this.seq;for(let n=dc-1;n>=12;n--)this.buf[n]=ac.charCodeAt(t%cc),t=Math.floor(t/cc)}next(){return this.seq+=this.inc,this.seq>0xcfd41b9100000&&(this.setPre(),this.initSeqAndInc()),this.fillSeq(),String.fromCharCode.apply(String,this.buf)}reset(){this.init()}}const Wr=new Fy;function Ed(e){var t;return e&&e.data.length===0&&((t=e.headers)==null?void 0:t.code)===503?fe.errorForCode(Y.NoResponders):null}class kd{constructor(t,n,i){b(this,"_headers");b(this,"_msg");b(this,"_rdata");b(this,"_reply");b(this,"_subject");b(this,"publisher");this._msg=t,this._rdata=n,this.publisher=i}get subject(){return this._subject?this._subject:(this._subject=ln.decode(this._msg.subject),this._subject)}get reply(){return this._reply?this._reply:(this._reply=ln.decode(this._msg.reply),this._reply)}get sid(){return this._msg.sid}get headers(){if(this._msg.hdr>-1&&!this._headers){const t=this._rdata.subarray(0,this._msg.hdr);this._headers=zn.decode(t)}return this._headers}get data(){return this._rdata?this._msg.hdr>-1?this._rdata.subarray(this._msg.hdr):this._rdata:new Uint8Array(0)}respond(t=It,n){return this.reply?(this.publisher.publish(this.reply,t,n),!0):!1}size(){var r;const t=this._msg.subject.length,n=((r=this._msg.reply)==null?void 0:r.length)||0,i=this._msg.size===-1?0:this._msg.size;return t+n+i}}function Ti(e){return Li("durable",e)}function Pt(e){return Li("stream",e)}function Li(e,t=""){if(t==="")throw Error(`${e} name required`);const n=Pd(t);if(n.length)throw new Error(`invalid ${e} name - ${e} name ${n}`)}function Pd(e=""){if(e==="")throw Error("name required");const t=/^[-\w]+$/g;if(e.match(t)===null){for(const i of e.split(""))if(i.match(t)===null)return`cannot contain '${i}'`}return""}function Dy(e,t={}){return Object.assign({name:e,deliver_policy:Bt.All,ack_policy:bt.Explicit,ack_wait:ct(30*1e3),replay_policy:ji.Instant},t)}function ct(e){return e*1e6}function Vl(e){return Math.floor(e/1e6)}function Jo(e){if(e.data.length>0)return!1;const t=e.headers;return t?t.code>=100&&t.code<200:!1}function hc(e){var t;return Jo(e)&&((t=e.headers)==null?void 0:t.description)==="Idle Heartbeat"}function By(e,t,n){const i=In(e,t),r={hdr:1,sid:0,size:0},s=new kd(r,It,{});return s._headers=i,s._subject=n,s}function Mi(e){if(e.data.length!==0)return null;const t=e.headers;return t?Rd(t.code,t.description):null}var Qt;(function(e){e.MaxBatchExceeded="exceeded maxrequestbatch of",e.MaxExpiresExceeded="exceeded maxrequestexpires of",e.MaxBytesExceeded="exceeded maxrequestmaxbytes of",e.MaxMessageSizeExceeded="message size exceeds maxbytes",e.PushConsumer="consumer is push based",e.MaxWaitingExceeded="exceeded maxwaiting",e.IdleHeartbeatMissed="`idle heartbeats missed`"})(Qt||(Qt={}));function Ny(e){return e.code!==Y.JetStream409?!1:[Qt.MaxBatchExceeded,Qt.MaxExpiresExceeded,Qt.MaxBytesExceeded,Qt.MaxMessageSizeExceeded,Qt.PushConsumer,Qt.IdleHeartbeatMissed].find(n=>e.message.indexOf(n)!==-1)!==void 0}function Rd(e,t=""){if(e<300)return null;switch(t=t.toLowerCase(),e){case 404:return new fe(t,Y.JetStream404NoMessages);case 408:return new fe(t,Y.JetStream408RequestTimeout);case 409:{const n=t.startsWith(Qt.IdleHeartbeatMissed)?Y.JetStreamIdleHeartBeat:Y.JetStream409;return new fe(t,n)}case 503:return fe.errorForCode(Y.JetStreamNotEnabled,new Error(t));default:return t===""&&(t=Y.Unknown),new fe(t,`${e}`)}}function ui(e=""){const t=e.match(/(\d+).(\d+).(\d+)/);if(t)return{major:parseInt(t[1]),minor:parseInt(t[2]),micro:parseInt(t[3])};throw new Error(`'${e}' is not a semver value`)}function Yo(e,t){return e.major<t.major?-1:e.major>t.major?1:e.minor<t.minor?-1:e.minor>t.minor?1:e.micro<t.micro?-1:e.micro>t.micro?1:0}var Nt;(function(e){e.JS_KV="js_kv",e.JS_OBJECTSTORE="js_objectstore",e.JS_PULL_MAX_BYTES="js_pull_max_bytes",e.JS_NEW_CONSUMER_CREATE_API="js_new_consumer_create",e.JS_ALLOW_DIRECT="js_allow_direct"})(Nt||(Nt={}));class zy{constructor(t){b(this,"server");b(this,"features");b(this,"disabled");this.features=new Map,this.disabled=[],this.update(t)}resetDisabled(){this.disabled.length=0,this.update(this.server)}disable(t){this.disabled.push(t),this.update(this.server)}isDisabled(t){return this.disabled.indexOf(t)!==-1}update(t){typeof t=="string"&&(t=ui(t)),this.server=t,this.set(Nt.JS_KV,"2.6.2"),this.set(Nt.JS_OBJECTSTORE,"2.6.3"),this.set(Nt.JS_PULL_MAX_BYTES,"2.8.3"),this.set(Nt.JS_NEW_CONSUMER_CREATE_API,"2.9.0"),this.set(Nt.JS_ALLOW_DIRECT,"2.9.0"),this.disabled.forEach(n=>{this.features.delete(n)})}set(t,n){this.features.set(t,{min:n,ok:Yo(this.server,ui(n))>=0})}get(t){return this.features.get(t)||{min:"unknown",ok:!1}}supports(t){var n;return((n=this.get(t))==null?void 0:n.ok)||!1}require(t){return typeof t=="string"&&(t=ui(t)),Yo(this.server,t)>=0}}const jy="$SRV",wr="Nats-Service-Error",xr="Nats-Service-Error-Code";var pn;(function(e){e.PING="PING",e.STATS="STATS",e.INFO="INFO",e.SCHEMA="SCHEMA"})(pn||(pn={}));var Ei;(function(e){e.STATS="io.nats.micro.v1.stats_response",e.INFO="io.nats.micro.v1.info_response",e.PING="io.nats.micro.v1.ping_response",e.SCHEMA="io.nats.micro.v1.schema_response"})(Ei||(Ei={}));class fc{constructor(t){b(this,"msg");this.msg=t}get data(){return this.msg.data}get sid(){return this.msg.sid}get subject(){return this.msg.subject}respond(t,n){return this.msg.respond(t,n)}respondError(t,n,i,r){var s,o;return r=r||{},r.headers=r.headers||In(),(s=r.headers)==null||s.set(xr,`${t}`),(o=r.headers)==null||o.set(wr,n),this.msg.respond(i,r)}}class Ps{constructor(t,n=""){b(this,"subject");b(this,"srv");n!==""&&Ky("service group",n);let i="";if(t instanceof Ls)this.srv=t,i="";else if(t instanceof Ps){const r=t;this.srv=r.srv,i=r.subject}else throw new Error("unknown ServiceGroup type");this.subject=this.calcSubject(i,n)}calcSubject(t,n=""){return n===""?t:t!==""?`${t}.${n}`:n}addEndpoint(t="",n){n=n||{subject:t};const i=typeof n=="function"?{handler:n,subject:t}:n;Li("endpoint",t);let{subject:r,handler:s,schema:o}=i;r=r||t,Vy("endpoint subject",r),r=this.calcSubject(this.subject,r);const l={name:t,subject:r,handler:s,schema:o};return this.srv._addEndpoint(l)}addGroup(t=""){return new Ps(this,t)}}function Vy(e,t){if(t==="")throw new Error(`${e} cannot be empty`);if(t.indexOf(" ")!==-1)throw new Error(`${e} cannot contain spaces: '${t}'`);const n=t.split(".");n.forEach((i,r)=>{if(i===">"&&r!==n.length-1)throw new Error(`${e} cannot have internal '>': '${t}'`)})}function Ky(e,t){if(t.indexOf(" ")!==-1)throw new Error(`${e} cannot contain spaces: '${t}'`);t.split(".").forEach(i=>{if(i===">")throw new Error(`${e} name cannot contain internal '>': '${t}'`)})}class vr extends Error{constructor(n,i){super(i);b(this,"code");this.code=n}static isServiceError(n){return vr.toServiceError(n)!==null}static toServiceError(n){var r,s;const i=((r=n==null?void 0:n.headers)==null?void 0:r.get(xr))||"";if(i!==""){const o=parseInt(i)||400,l=((s=n==null?void 0:n.headers)==null?void 0:s.get(wr))||"";return new vr(o,l.length?l:i)}return null}}class Ls extends At{constructor(n,i={name:"",version:""}){var r,s,o;super();b(this,"nc");b(this,"_id");b(this,"config");b(this,"handlers");b(this,"internal");b(this,"_stopped");b(this,"_done");b(this,"_schema");b(this,"started");this.nc=n,this.config=i,Li("name",this.config.name),ui(this.config.version),this._id=Wr.next(),this.internal=[],this._done=st(),this._stopped=!1,this.handlers=[],this.noIterator=!0,this.started=new Date().toISOString(),this.reset(),this.config.endpoint&&this._addEndpoint({name:"default",subject:(r=this.config.endpoint)==null?void 0:r.subject,handler:(s=this.config.endpoint)==null?void 0:s.handler,schema:(o=this.config.endpoint)==null?void 0:o.schema},!0),this.nc.closed().then(()=>{this.close().catch()}).catch(l=>{this.close(l).catch()})}static controlSubject(n,i="",r="",s){const o=s??jy;return i===""&&r===""?`${o}.${n}`:(Li("control subject name",i),r!==""?(Li("control subject id",r),`${o}.${n}.${i}.${r}`):`${o}.${n}.${i}`)}get subjects(){return this.handlers.filter(n=>n.internal===!1).map(n=>n.subject)}get id(){return this._id}get name(){return this.config.name}get description(){return this.config.description??""}get version(){return this.config.version}errorToHeader(n){const i=In();if(n instanceof vr){const r=n;i.set(wr,r.message),i.set(xr,`${r.code}`)}else i.set(wr,n.message),i.set(xr,"500");return i}setupHandler(n,i=!1){const r=i?"":"q",{name:s,subject:o,handler:l,schema:c}=n,a=n;a.internal=i,i&&this.internal.push(a),a.stats=new Uy(s,o),a.schema=c;const d=l?(u,h)=>{if(u){this.close(u);return}const f=Date.now();try{l(u,new fc(h))}catch(v){a.stats.countError(v),h==null||h.respond(It,{headers:this.errorToHeader(v)})}finally{a.stats.countLatency(f)}}:void 0;return a.sub=this.nc.subscribe(o,{callback:d,queue:r}),a.sub.closed.then(()=>{this._stopped||this.close(new Error(`required subscription ${n.subject} stopped`)).catch()}).catch(u=>{if(!this._stopped){const h=new Error(`required subscription ${n.subject} errored: ${u.message}`);h.stack=u.stack,this.close(h).catch()}}),a}info(){return{type:Ei.INFO,name:this.name,id:this.id,version:this.version,description:this.description,subjects:this.subjects}}async stats(){const n=[];for(const i of this.handlers){if(typeof this.config.statsHandler=="function")try{i.stats.data=await this.config.statsHandler(i)}catch(r){i.stats.countError(r)}n.push(i.stats.stats(i.qi))}return{type:Ei.STATS,name:this.name,id:this.id,version:this.version,started:this.started,endpoints:n}}addInternalHandler(n,i){const r=`${n}`.toUpperCase();this._doAddInternalHandler(`${r}-all`,n,i),this._doAddInternalHandler(`${r}-kind`,n,i,this.name),this._doAddInternalHandler(`${r}`,n,i,this.name,this.id)}_doAddInternalHandler(n,i,r,s="",o=""){const l={};l.name=n,l.subject=Ls.controlSubject(i,s,o),l.handler=r,this.setupHandler(l,!0)}start(){const n=tn(),i=(c,a)=>c?(this.close(c),Promise.reject(c)):this.stats().then(d=>(a==null||a.respond(n.encode(d)),Promise.resolve())),r=(c,a)=>c?(this.close(c),Promise.reject(c)):(a==null||a.respond(n.encode(this.info())),Promise.resolve()),s=n.encode({type:Ei.PING,name:this.name,id:this.id,version:this.version}),o=(c,a)=>c?(this.close(c).then().catch(),Promise.reject(c)):(a.respond(s),Promise.resolve()),l=(c,a)=>c?(this.close(c),Promise.reject(c)):(a==null||a.respond(tn().encode(this.schema())),Promise.resolve());return this.addInternalHandler(pn.PING,o),this.addInternalHandler(pn.STATS,i),this.addInternalHandler(pn.INFO,r),this.addInternalHandler(pn.SCHEMA,l),this.handlers.forEach(c=>{const{subject:a}=c;typeof a=="string"&&c.handler!==null&&this.setupHandler(c)}),Promise.resolve(this)}close(n){if(this._stopped)return this._done;this._stopped=!0;let i=[];return this.nc.isClosed()||(i=this.handlers.concat(this.internal).map(r=>r.sub.drain())),Promise.allSettled(i).then(()=>{this._done.resolve(n||null)}),this._done}get stopped(){return this._done}get isStopped(){return this._stopped}stop(n){return this.close(n)}schema(){const n={type:Ei.SCHEMA,name:this.name,id:this.id,version:this.version,api_url:this.config.apiURL,endpoints:[]};return n.endpoints=this.handlers.map(i=>{const{schema:r,subject:s,name:o}=i;return{schema:r,subject:s,name:o}}),n}reset(){if(this.started=new Date().toISOString(),this.handlers)for(const n of this.handlers)n.stats.reset(n.qi)}addGroup(n){return new Ps(this,n)}addEndpoint(n,i){return new Ps(this).addEndpoint(n,i)}_addEndpoint(n,i=!1){const r=i?this:new At;r.noIterator=typeof n.handler=="function",r.noIterator||(n.handler=(o,l)=>{o?this.stop(o).catch():r.push(new fc(l))},r.iterClosed.then(()=>{this.close().catch()}));const s=this.setupHandler(n,!1);return s.qi=r,this.handlers.push(s),r}}class Uy{constructor(t,n){b(this,"name");b(this,"subject");b(this,"average_processing_time");b(this,"num_requests");b(this,"processing_time");b(this,"num_errors");b(this,"last_error");b(this,"data");this.name=t,this.subject=n,this.average_processing_time=0,this.num_errors=0,this.num_requests=0,this.processing_time=0}reset(t){this.num_requests=0,this.processing_time=0,this.average_processing_time=0,this.num_errors=0,this.last_error=void 0,this.data=void 0;const n=t;n&&(n.time=0,n.processed=0)}countLatency(t){this.num_requests++,this.processing_time+=ct(Date.now()-t),this.average_processing_time=Math.round(this.processing_time/this.num_requests)}countError(t){this.num_errors++,this.last_error=t.message}_stats(){const{name:t,subject:n,average_processing_time:i,num_errors:r,num_requests:s,processing_time:o,last_error:l,data:c}=this;return{name:t,subject:n,average_processing_time:i,num_errors:r,num_requests:s,processing_time:o,last_error:l,data:c}}stats(t){const n=t;return(n==null?void 0:n.noIterator)===!1&&(this.processing_time=n.time,this.num_requests=n.processed,this.average_processing_time=this.processing_time>0&&this.num_requests>0?this.processing_time/this.num_requests:0),this._stats()}}const Hy="$JS.API";function $y(e){return e=e||{},e.domain&&(e.apiPrefix=`$JS.${e.domain}.API`,delete e.domain),qr({apiPrefix:Hy,timeout:5e3},e)}class Ms{constructor(t,n){b(this,"nc");b(this,"opts");b(this,"prefix");b(this,"timeout");b(this,"jc");this.nc=t,this.opts=$y(n),this._parseOpts(),this.prefix=this.opts.apiPrefix,this.timeout=this.opts.timeout,this.jc=tn()}_parseOpts(){let t=this.opts.apiPrefix;if(!t||t.length===0)throw new Error("invalid empty prefix");t[t.length-1]==="."&&(t=t.substr(0,t.length-1)),this.opts.apiPrefix=t}async _request(t,n=null,i){i=i||{},i.timeout=this.timeout;let r=It;n&&(r=this.jc.encode(n));const s=await this.nc.request(t,r,i);return this.parseJsResponse(s)}async findStream(t){const n={subject:t},r=await this._request(`${this.prefix}.STREAM.NAMES`,n);if(!r.streams||r.streams.length!==1)throw new Error("no stream matches subject");return r.streams[0]}parseJsResponse(t){const n=this.jc.decode(t.data),i=n;if(i.error){const r=Rd(i.error.code,i.error.description);if(r!==null)throw r.api_error=i.error,r}return n}}class is{constructor(t,n,i,r){b(this,"err");b(this,"offset");b(this,"pageInfo");b(this,"subject");b(this,"jsm");b(this,"filter");b(this,"payload");if(!t)throw new Error("subject is required");this.subject=t,this.jsm=i,this.offset=0,this.pageInfo={},this.filter=n,this.payload=r||{}}async next(){if(this.err)return[];if(this.pageInfo&&this.offset>=this.pageInfo.total)return[];const t={offset:this.offset};this.payload&&Object.assign(t,this.payload);try{const n=await this.jsm._request(this.subject,t,{timeout:this.jsm.timeout});this.pageInfo=n;const i=this.filter(n);return this.offset+=i.length,i}catch(n){throw this.err=n,n}}async*[Symbol.asyncIterator](){let t=await this.next();for(;t.length>0;){for(const n of t)yield n;t=await this.next()}}}class Ad extends Ms{constructor(t,n){super(t,n)}async add(t,n){if(Pt(t),n.deliver_group&&n.flow_control)throw new Error("jetstream flow control is not supported with queue groups");if(n.deliver_group&&n.idle_heartbeat)throw new Error("jetstream idle heartbeat is not supported with queue groups");const i={};i.config=n,i.stream_name=t,i.config.durable_name&&Ti(i.config.durable_name);const r=this.nc,{min:s,ok:o}=r.features.get(Nt.JS_NEW_CONSUMER_CREATE_API),l=n.name===""?void 0:n.name;if(l&&!o)throw new Error(`consumer 'name' requires server ${s}`);if(l){const u=Pd(l);if(u.length)throw new Error(`consumer 'name' ${u}`)}let c,a="";if(o&&(a=n.name??n.durable_name??""),a!==""){let u=n.filter_subject??void 0;u===">"&&(u=void 0),c=u!==void 0?`${this.prefix}.CONSUMER.CREATE.${t}.${a}.${u}`:`${this.prefix}.CONSUMER.CREATE.${t}.${a}`}else c=n.durable_name?`${this.prefix}.CONSUMER.DURABLE.CREATE.${t}.${n.durable_name}`:`${this.prefix}.CONSUMER.CREATE.${t}`;return await this._request(c,i)}async update(t,n,i){const r=await this.info(t,n),s=i;return this.add(t,Object.assign(r.config,s))}async info(t,n){return Pt(t),Ti(n),await this._request(`${this.prefix}.CONSUMER.INFO.${t}.${n}`)}async delete(t,n){return Pt(t),Ti(n),(await this._request(`${this.prefix}.CONSUMER.DELETE.${t}.${n}`)).success}list(t){Pt(t);const n=r=>r.consumers,i=`${this.prefix}.CONSUMER.LIST.${t}`;return new is(i,n,this)}}class Od{constructor(t,n){b(this,"token");b(this,"received");b(this,"ctx");b(this,"requestSubject");b(this,"mux");this.mux=t,this.requestSubject=n,this.received=0,this.token=Wr.next(),this.ctx=new Error}}class qy extends Od{constructor(n,i,r={maxWait:1e3}){super(n,i);b(this,"callback");b(this,"done");b(this,"timer");b(this,"max");b(this,"opts");if(this.opts=r,typeof this.opts.callback!="function")throw new Error("callback is required");this.callback=this.opts.callback,this.max=typeof r.maxMessages=="number"&&r.maxMessages>0?r.maxMessages:-1,this.done=st(),this.done.then(()=>{this.callback(null,null)}),this.timer=setTimeout(()=>{this.cancel()},r.maxWait)}cancel(n){n&&this.callback(n,null),clearTimeout(this.timer),this.mux.cancel(this),this.done.resolve()}resolver(n,i){n?(n.stack+=`

${this.ctx.stack}`,this.cancel(n)):(this.callback(null,i),this.opts.strategy===fn.Count&&(this.max--,this.max===0&&this.cancel()),this.opts.strategy===fn.JitterTimer&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.cancel()},this.opts.jitter||300)),this.opts.strategy===fn.SentinelMsg&&i&&i.data.length===0&&this.cancel())}}class Td extends Od{constructor(n,i,r={timeout:1e3}){super(n,i);b(this,"deferred");b(this,"timer");this.deferred=st(),this.timer=Gr(r.timeout)}resolver(n,i){this.timer&&this.timer.cancel(),n?(n.stack+=`

${this.ctx.stack}`,this.deferred.reject(n)):this.deferred.resolve(i),this.cancel()}cancel(n){this.timer&&this.timer.cancel(),this.mux.cancel(this),this.deferred.reject(n||fe.errorForCode(Y.Cancelled))}}const pc=Uint8Array.of(43,65,67,75),Gy=Uint8Array.of(45,78,65,75),Qi=Uint8Array.of(43,87,80,73),Wy=Uint8Array.of(43,78,88,84),Jy=Uint8Array.of(43,84,69,82,77),Yy=Uint8Array.of(32);function _r(e){return new Zy(e)}function Xy(e){const t=e.split(".");if(t.length===9&&t.splice(2,0,"_",""),t.length<11||t[0]!=="$JS"||t[1]!=="ACK")throw new Error("not js message");const n={};return n.domain=t[2]==="_"?"":t[2],n.account_hash=t[3],n.stream=t[4],n.consumer=t[5],n.redeliveryCount=parseInt(t[6],10),n.redelivered=n.redeliveryCount>1,n.streamSequence=parseInt(t[7],10),n.deliverySequence=parseInt(t[8],10),n.timestampNanos=parseInt(t[9],10),n.pending=parseInt(t[10],10),n}class Zy{constructor(t){b(this,"msg");b(this,"di");b(this,"didAck");this.msg=t,this.didAck=!1}get subject(){return this.msg.subject}get sid(){return this.msg.sid}get data(){return this.msg.data}get headers(){return this.msg.headers}get info(){return this.di||(this.di=Xy(this.reply)),this.di}get redelivered(){return this.info.redeliveryCount>1}get reply(){return this.msg.reply||""}get seq(){return this.info.streamSequence}doAck(t){this.didAck||(this.didAck=!this.isWIP(t),this.msg.respond(t))}isWIP(t){return t.length===4&&t[0]===Qi[0]&&t[1]===Qi[1]&&t[2]===Qi[2]&&t[3]===Qi[3]}async ackAck(){if(!this.didAck&&(this.didAck=!0,this.msg.reply)){const n=this.msg.publisher,i=new Td(n.muxSubscriptions,this.msg.reply);n.request(i);try{n.publish(this.msg.reply,pc,{reply:`${n.muxSubscriptions.baseInbox}${i.token}`})}catch(r){i.cancel(r)}try{return await Promise.race([i.timer,i.deferred]),!0}catch(r){i.cancel(r)}}return!1}ack(){this.doAck(pc)}nak(t){let n=Gy;t&&(n=Ay().encode(`-NAK ${JSON.stringify({delay:ct(t)})}`)),this.doAck(n)}working(){this.doAck(Qi)}next(t,n={batch:1}){const i={};i.batch=n.batch||1,i.no_wait=n.no_wait||!1,n.expires&&n.expires>0&&(i.expires=ct(n.expires));const r=tn().encode(i),s=Ts.concat(Wy,Yy,r),o=t?{reply:t}:void 0;this.msg.respond(s,o)}term(){this.doAck(Jy)}}function vi(e,t,n=!1){if(n===!0&&!e)throw fe.errorForCode(Y.ApiError,new Error(`${t} is not a function`));if(e&&typeof e!="function")throw fe.errorForCode(Y.ApiError,new Error(`${t} is not a function`))}class Qy extends At{constructor(n,i,r){super();b(this,"sub");b(this,"adapter");b(this,"subIterDone");vi(r.adapter,"adapter",!0),this.adapter=r.adapter,r.callback&&vi(r.callback,"callback"),this.noIterator=typeof r.callback=="function",r.ingestionFilterFn&&(vi(r.ingestionFilterFn,"ingestionFilterFn"),this.ingestionFilterFn=r.ingestionFilterFn),r.protocolFilterFn&&(vi(r.protocolFilterFn,"protocolFilterFn"),this.protocolFilterFn=r.protocolFilterFn),r.dispatchedFn&&(vi(r.dispatchedFn,"dispatchedFn"),this.dispatchedFn=r.dispatchedFn),r.cleanupFn&&vi(r.cleanupFn,"cleanupFn");let s=(d,u)=>{this.callback(d,u)};if(r.callback){const d=r.callback;s=(u,h)=>{const[f,v]=this.adapter(u,h);if(f){d(f,null);return}const{ingest:k}=this.ingestionFilterFn?this.ingestionFilterFn(v,this):{ingest:!0};k&&(!this.protocolFilterFn||this.protocolFilterFn(v))&&(d(f,v),this.dispatchedFn&&v&&this.dispatchedFn(v))}}const{max:o,queue:l,timeout:c}=r,a={queue:l,timeout:c,callback:s};o&&o>0&&(a.max=o),this.sub=n.subscribe(i,a),r.cleanupFn&&(this.sub.cleanupFn=r.cleanupFn),this.noIterator||this.iterClosed.then(()=>{this.unsubscribe()}),this.subIterDone=st(),Promise.all([this.sub.closed,this.iterClosed]).then(()=>{this.subIterDone.resolve()}).catch(()=>{this.subIterDone.resolve()}),(async d=>{await d.closed,this.stop()})(this.sub).then().catch()}unsubscribe(n){this.sub.unsubscribe(n)}drain(){return this.sub.drain()}isDraining(){return this.sub.isDraining()}isClosed(){return this.sub.isClosed()}callback(n,i){this.sub.cancelTimeout();const[r,s]=this.adapter(n,i);r&&this.stop(r),s&&this.push(s)}getSubject(){return this.sub.getSubject()}getReceived(){return this.sub.getReceived()}getProcessed(){return this.sub.getProcessed()}getPending(){return this.sub.getPending()}getID(){return this.sub.getID()}getMax(){return this.sub.getMax()}get closed(){return this.sub.closed}}let jt;function ew(e){jt=e}function Ld(){return jt!==void 0&&jt.defaultPort!==void 0?jt.defaultPort:4222}function wo(){return jt!==void 0&&jt.urlParseFn?jt.urlParseFn:void 0}function tw(){if(!jt||typeof jt.factory!="function")throw new Error("transport fn is not set");return jt.factory()}function Md(){return jt!==void 0&&jt.dnsResolveFn?jt.dnsResolveFn:void 0}const nw=4,Fd=48,iw=65,sw=97;function rw(e,t,n,i){const r=new Uint8Array(16);return[0,0,0,0,0,0,0,0,0,0,255,255].forEach((o,l)=>{r[l]=o}),r[12]=e,r[13]=t,r[14]=n,r[15]=i,r}function Xo(e){return ow(e)!==void 0}function ow(e){for(let t=0;t<e.length;t++)switch(e[t]){case".":return Dd(e);case":":return lw(e)}}function Dd(e){const t=new Uint8Array(4);for(let n=0;n<4;n++){if(e.length===0)return;if(n>0){if(e[0]!==".")return;e=e.substring(1)}const{n:i,c:r,ok:s}=aw(e);if(!s||i>255)return;e=e.substring(r),t[n]=i}return rw(t[0],t[1],t[2],t[3])}function lw(e){const t=new Uint8Array(16);let n=-1;if(e.length>=2&&e[0]===":"&&e[1]===":"&&(n=0,e=e.substring(2),e.length===0))return t;let i=0;for(;i<16;){const{n:r,c:s,ok:o}=cw(e);if(!o||r>65535)return;if(s<e.length&&e[s]==="."){if(n<0&&i!=16-4||i+4>16)return;const l=Dd(e);if(l===void 0)return;t[i]=l[12],t[i+1]=l[13],t[i+2]=l[14],t[i+3]=l[15],e="",i+=nw;break}if(t[i]=r>>8,t[i+1]=r,i+=2,e=e.substring(s),e.length===0)break;if(e[0]!==":"||e.length==1)return;if(e=e.substring(1),e[0]===":"){if(n>=0)return;if(n=i,e=e.substring(1),e.length===0)break}}if(e.length===0){if(i<16){if(n<0)return;const r=16-i;for(let s=i-1;s>=n;s--)t[s+r]=t[s];for(let s=n+r-1;s>=n;s--)t[s]=0}else if(n>=0)return;return t}}function aw(e){let t=0,n=0;for(t=0;t<e.length&&48<=e.charCodeAt(t)&&e.charCodeAt(t)<=57;t++)if(n=n*10+(e.charCodeAt(t)-Fd),n>=16777215)return{n:16777215,c:t,ok:!1};return t===0?{n:0,c:0,ok:!1}:{n,c:t,ok:!0}}function cw(e){let t=0,n=0;for(n=0;n<e.length;n++){if(48<=e.charCodeAt(n)&&e.charCodeAt(n)<=57)t*=16,t+=e.charCodeAt(n)-Fd;else if(97<=e.charCodeAt(n)&&e.charCodeAt(n)<=102)t*=16,t+=e.charCodeAt(n)-sw+10;else if(65<=e.charCodeAt(n)&&e.charCodeAt(n)<=70)t*=16,t+=e.charCodeAt(n)-iw+10;else break;if(t>=16777215)return{n:0,c:n,ok:!1}}return n===0?{n:0,c:n,ok:!1}:{n:t,c:n,ok:!0}}function uw(e){return e.indexOf(".")!==-1?!0:e.indexOf("[")!==-1||e.indexOf("::")!==-1?!1:e.split(":").length<=2}function Zo(e){return!uw(e)}function dw(e){e=e.trim(),e.match(/^(.*:\/\/)(.*)/m)&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2")),Zo(e)&&e.indexOf("[")===-1&&(e=`[${e}]`);const t=Zo(e)?e.match(/(]:)(\d+)/):e.match(/(:)(\d+)/),n=t&&t.length===3&&t[1]&&t[2]?parseInt(t[2]):4222,i=n===80?"https":"http",r=new URL(`${i}://${e}`);r.port=`${n}`;let s=r.hostname;return s.charAt(0)==="["&&(s=s.substring(1,s.length-1)),{listen:r.host,hostname:s,port:n}}class ps{constructor(t,n=!1){b(this,"src");b(this,"listen");b(this,"hostname");b(this,"port");b(this,"didConnect");b(this,"reconnects");b(this,"lastConnect");b(this,"gossiped");b(this,"tlsName");b(this,"resolves");this.src=t,this.tlsName="";const i=dw(t);this.listen=i.listen,this.hostname=i.hostname,this.port=i.port,this.didConnect=!1,this.reconnects=0,this.lastConnect=0,this.gossiped=n}toString(){return this.listen}async resolve(t){if(!t.fn)return[this];const n=[];if(Xo(this.hostname))return[this];{const i=await t.fn(this.hostname);t.debug&&console.log(`resolve ${this.hostname} = ${i.join(",")}`);for(const r of i){const s=this.port===80?"https":"http",o=new URL(`${s}://${Zo(r)?"["+r+"]":r}`);o.port=`${this.port}`;const l=new ps(o.host,!1);l.tlsName=this.hostname,n.push(l)}}return t.randomize&&Id(n),this.resolves=n,n}}class hw{constructor(t=[],n={}){b(this,"firstSelect");b(this,"servers");b(this,"currentServer");b(this,"tlsName");b(this,"randomize");this.firstSelect=!0,this.servers=[],this.tlsName="",this.randomize=n.randomize||!1;const i=wo();t&&(t.forEach(r=>{r=i?i(r):r,this.servers.push(new ps(r))}),this.randomize&&(this.servers=Id(this.servers))),this.servers.length===0&&this.addServer(`${qo}:${Ld()}`,!1),this.currentServer=this.servers[0]}clear(){this.servers.length=0}updateTLSName(){const t=this.getCurrentServer();Xo(t.hostname)||(this.tlsName=t.hostname,this.servers.forEach(n=>{n.gossiped&&(n.tlsName=this.tlsName)}))}getCurrentServer(){return this.currentServer}addServer(t,n=!1){const i=wo();t=i?i(t):t;const r=new ps(t,n);Xo(r.hostname)&&(r.tlsName=this.tlsName),this.servers.push(r)}selectServer(){if(this.firstSelect)return this.firstSelect=!1,this.currentServer;const t=this.servers.shift();return t&&(this.servers.push(t),this.currentServer=t),t}removeCurrentServer(){this.removeServer(this.currentServer)}removeServer(t){if(t){const n=this.servers.indexOf(t);this.servers.splice(n,1)}}length(){return this.servers.length}next(){return this.servers.length?this.servers[0]:void 0}getServers(){return this.servers}update(t){const n=[];let i=[];const r=wo(),s=new Map;t.connect_urls&&t.connect_urls.length>0&&t.connect_urls.forEach(l=>{l=r?r(l):l;const c=new ps(l,!0);s.set(l,c)});const o=[];return this.servers.forEach((l,c)=>{const a=l.listen;l.gossiped&&this.currentServer.listen!==a&&s.get(a)===void 0&&o.push(c),s.delete(a)}),o.reverse(),o.forEach(l=>{const c=this.servers.splice(l,1);i=i.concat(c[0].listen)}),s.forEach((l,c)=>{this.servers.push(l),n.push(c)}),{added:n,deleted:i}}}class Bd extends At{constructor(n,i,r={}){super();b(this,"sid");b(this,"queue");b(this,"draining");b(this,"max");b(this,"subject");b(this,"drained");b(this,"protocol");b(this,"timer");b(this,"info");b(this,"cleanupFn");b(this,"closed");b(this,"requestSubject");qr(this,r),this.protocol=n,this.subject=i,this.draining=!1,this.noIterator=typeof r.callback=="function",this.closed=st(),r.timeout&&(this.timer=Gr(r.timeout),this.timer.then(()=>{this.timer=void 0}).catch(s=>{this.stop(s),this.noIterator&&this.callback(s,{})})),this.noIterator||this.iterClosed.then(()=>{this.closed.resolve(),this.unsubscribe()})}setPrePostHandlers(n){if(this.noIterator){const i=this.callback,r=n.ingestionFilterFn?n.ingestionFilterFn:()=>({ingest:!0,protocol:!1}),s=n.protocolFilterFn?n.protocolFilterFn:()=>!0,o=n.dispatchedFn?n.dispatchedFn:()=>{};this.callback=(l,c)=>{const{ingest:a}=r(c);a&&s(c)&&(i(l,c),o(c))}}else this.protocolFilterFn=n.protocolFilterFn,this.dispatchedFn=n.dispatchedFn}callback(n,i){this.cancelTimeout(),n?this.stop(n):this.push(i)}close(){if(!this.isClosed()){this.cancelTimeout();const n=()=>{if(this.stop(),this.cleanupFn)try{this.cleanupFn(this,this.info)}catch{}this.closed.resolve()};this.noIterator?n():this.push(n)}}unsubscribe(n){this.protocol.unsubscribe(this,n)}cancelTimeout(){this.timer&&(this.timer.cancel(),this.timer=void 0)}drain(){return this.protocol.isClosed()?Promise.reject(fe.errorForCode(Y.ConnectionClosed)):this.isClosed()?Promise.reject(fe.errorForCode(Y.SubClosed)):(this.drained||(this.protocol.unsub(this),this.drained=this.protocol.flush(st()).then(()=>{this.protocol.subscriptions.cancel(this)}).catch(()=>{this.protocol.subscriptions.cancel(this)})),this.drained)}isDraining(){return this.draining}isClosed(){return this.done}getSubject(){return this.subject}getMax(){return this.max}getID(){return this.sid}}class fw{constructor(){b(this,"mux");b(this,"subs");b(this,"sidCounter");this.sidCounter=0,this.mux=null,this.subs=new Map}size(){return this.subs.size}add(t){return this.sidCounter++,t.sid=this.sidCounter,this.subs.set(t.sid,t),t}setMux(t){return this.mux=t,t}getMux(){return this.mux}get(t){return this.subs.get(t)}resub(t){return this.sidCounter++,this.subs.delete(t.sid),t.sid=this.sidCounter,this.subs.set(t.sid,t),t}all(){return Array.from(this.subs.values())}cancel(t){t&&(t.close(),this.subs.delete(t.sid))}handleError(t){if(t&&t.permissionContext){const n=t.permissionContext,i=this.all();let r;if(n.operation==="subscription"&&(r=i.find(s=>s.subject===n.subject)),n.operation==="publish"&&(r=i.find(s=>s.requestSubject===n.subject)),r)return r.callback(t,{}),r.close(),this.subs.delete(r.sid),r!==this.mux}return!1}close(){this.subs.forEach(t=>{t.close()})}}class pw{constructor(t,n,i){b(this,"ph");b(this,"interval");b(this,"maxOut");b(this,"timer");b(this,"pendings");this.ph=t,this.interval=n,this.maxOut=i,this.pendings=[]}start(){this.cancel(),this._schedule()}cancel(t){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this._reset(),t&&this.ph.disconnect()}_schedule(){this.timer=setTimeout(()=>{if(this.ph.dispatchStatus({type:Es.PingTimer,data:`${this.pendings.length+1}`}),this.pendings.length===this.maxOut){this.cancel(!0);return}const t=st();this.ph.flush(t).then(()=>{this._reset()}).catch(()=>{this.cancel()}),this.pendings.push(t),this._schedule()},this.interval)}_reset(){this.pendings=this.pendings.filter(t=>(t.resolve(),!1))}}class mw extends Error{constructor(t){super(t),this.name="AssertionError"}}function gw(e,t="Assertion failed."){if(!e)throw new mw(t)}const mc=32*1024,xo=2**32-2;function Js(e,t,n=0){const i=t.byteLength-n;return e.byteLength>i&&(e=e.subarray(0,i)),t.set(e,n),e.byteLength}class vo{constructor(t){b(this,"_buf");b(this,"_off");if(this._off=0,t==null){this._buf=new Uint8Array(0);return}this._buf=new Uint8Array(t)}bytes(t={copy:!0}){return t.copy===!1?this._buf.subarray(this._off):this._buf.slice(this._off)}empty(){return this._buf.byteLength<=this._off}get length(){return this._buf.byteLength-this._off}get capacity(){return this._buf.buffer.byteLength}truncate(t){if(t===0){this.reset();return}if(t<0||t>this.length)throw Error("bytes.Buffer: truncation out of range");this._reslice(this._off+t)}reset(){this._reslice(0),this._off=0}_tryGrowByReslice(t){const n=this._buf.byteLength;return t<=this.capacity-n?(this._reslice(n+t),n):-1}_reslice(t){gw(t<=this._buf.buffer.byteLength),this._buf=new Uint8Array(this._buf.buffer,0,t)}readByte(){const t=new Uint8Array(1);return this.read(t)?t[0]:null}read(t){if(this.empty())return this.reset(),t.byteLength===0?0:null;const n=Js(this._buf.subarray(this._off),t);return this._off+=n,n}writeByte(t){return this.write(Uint8Array.of(t))}writeString(t){return this.write($n.encode(t))}write(t){const n=this._grow(t.byteLength);return Js(t,this._buf,n)}_grow(t){const n=this.length;n===0&&this._off!==0&&this.reset();const i=this._tryGrowByReslice(t);if(i>=0)return i;const r=this.capacity;if(t<=Math.floor(r/2)-n)Js(this._buf.subarray(this._off),this._buf);else{if(r+t>xo)throw new Error("The buffer cannot be grown beyond the maximum size.");{const s=new Uint8Array(Math.min(2*r+t,xo));Js(this._buf.subarray(this._off),s),this._buf=s}}return this._off=0,this._reslice(Math.min(n+t,xo)),n}grow(t){if(t<0)throw Error("Buffer._grow: negative count");const n=this._grow(t);this._reslice(n)}readFrom(t){let n=0;const i=new Uint8Array(mc);for(;;){const r=this.capacity-this.length<mc,s=r?i:new Uint8Array(this._buf.buffer,this.length),o=t.read(s);if(o===null)return n;r?this.write(s.subarray(0,o)):this._reslice(this.length+o),n+=o}}}var Ct;(function(e){e[e.OK=0]="OK",e[e.ERR=1]="ERR",e[e.MSG=2]="MSG",e[e.INFO=3]="INFO",e[e.PING=4]="PING",e[e.PONG=5]="PONG"})(Ct||(Ct={}));function gc(){const e={};return e.sid=-1,e.hdr=-1,e.size=-1,e}const bw=48;class bc{constructor(t){b(this,"dispatcher");b(this,"state");b(this,"as");b(this,"drop");b(this,"hdr");b(this,"ma");b(this,"argBuf");b(this,"msgBuf");this.dispatcher=t,this.state=Q.OP_START,this.as=0,this.drop=0,this.hdr=0}parse(t){let n;for(n=0;n<t.length;n++){const i=t[n];switch(this.state){case Q.OP_START:switch(i){case ee.M:case ee.m:this.state=Q.OP_M,this.hdr=-1,this.ma=gc();break;case ee.H:case ee.h:this.state=Q.OP_H,this.hdr=0,this.ma=gc();break;case ee.P:case ee.p:this.state=Q.OP_P;break;case ee.PLUS:this.state=Q.OP_PLUS;break;case ee.MINUS:this.state=Q.OP_MINUS;break;case ee.I:case ee.i:this.state=Q.OP_I;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_H:switch(i){case ee.M:case ee.m:this.state=Q.OP_M;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_M:switch(i){case ee.S:case ee.s:this.state=Q.OP_MS;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_MS:switch(i){case ee.G:case ee.g:this.state=Q.OP_MSG;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_MSG:switch(i){case ee.SPACE:case ee.TAB:this.state=Q.OP_MSG_SPC;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_MSG_SPC:switch(i){case ee.SPACE:case ee.TAB:continue;default:this.state=Q.MSG_ARG,this.as=n}break;case Q.MSG_ARG:switch(i){case ee.CR:this.drop=1;break;case ee.NL:{const r=this.argBuf?this.argBuf.bytes():t.subarray(this.as,n-this.drop);this.processMsgArgs(r),this.drop=0,this.as=n+1,this.state=Q.MSG_PAYLOAD,n=this.as+this.ma.size-1;break}default:this.argBuf&&this.argBuf.writeByte(i)}break;case Q.MSG_PAYLOAD:if(this.msgBuf)if(this.msgBuf.length>=this.ma.size){const r=this.msgBuf.bytes({copy:!1});this.dispatcher.push({kind:Ct.MSG,msg:this.ma,data:r}),this.argBuf=void 0,this.msgBuf=void 0,this.state=Q.MSG_END}else{let r=this.ma.size-this.msgBuf.length;const s=t.length-n;s<r&&(r=s),r>0?(this.msgBuf.write(t.subarray(n,n+r)),n=n+r-1):this.msgBuf.writeByte(i)}else n-this.as>=this.ma.size&&(this.dispatcher.push({kind:Ct.MSG,msg:this.ma,data:t.subarray(this.as,n)}),this.argBuf=void 0,this.msgBuf=void 0,this.state=Q.MSG_END);break;case Q.MSG_END:switch(i){case ee.NL:this.drop=0,this.as=n+1,this.state=Q.OP_START;break;default:continue}break;case Q.OP_PLUS:switch(i){case ee.O:case ee.o:this.state=Q.OP_PLUS_O;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_PLUS_O:switch(i){case ee.K:case ee.k:this.state=Q.OP_PLUS_OK;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_PLUS_OK:switch(i){case ee.NL:this.dispatcher.push({kind:Ct.OK}),this.drop=0,this.state=Q.OP_START;break}break;case Q.OP_MINUS:switch(i){case ee.E:case ee.e:this.state=Q.OP_MINUS_E;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_MINUS_E:switch(i){case ee.R:case ee.r:this.state=Q.OP_MINUS_ER;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_MINUS_ER:switch(i){case ee.R:case ee.r:this.state=Q.OP_MINUS_ERR;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_MINUS_ERR:switch(i){case ee.SPACE:case ee.TAB:this.state=Q.OP_MINUS_ERR_SPC;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_MINUS_ERR_SPC:switch(i){case ee.SPACE:case ee.TAB:continue;default:this.state=Q.MINUS_ERR_ARG,this.as=n}break;case Q.MINUS_ERR_ARG:switch(i){case ee.CR:this.drop=1;break;case ee.NL:{let r;this.argBuf?(r=this.argBuf.bytes(),this.argBuf=void 0):r=t.subarray(this.as,n-this.drop),this.dispatcher.push({kind:Ct.ERR,data:r}),this.drop=0,this.as=n+1,this.state=Q.OP_START;break}default:this.argBuf&&this.argBuf.write(Uint8Array.of(i))}break;case Q.OP_P:switch(i){case ee.I:case ee.i:this.state=Q.OP_PI;break;case ee.O:case ee.o:this.state=Q.OP_PO;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_PO:switch(i){case ee.N:case ee.n:this.state=Q.OP_PON;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_PON:switch(i){case ee.G:case ee.g:this.state=Q.OP_PONG;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_PONG:switch(i){case ee.NL:this.dispatcher.push({kind:Ct.PONG}),this.drop=0,this.state=Q.OP_START;break}break;case Q.OP_PI:switch(i){case ee.N:case ee.n:this.state=Q.OP_PIN;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_PIN:switch(i){case ee.G:case ee.g:this.state=Q.OP_PING;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_PING:switch(i){case ee.NL:this.dispatcher.push({kind:Ct.PING}),this.drop=0,this.state=Q.OP_START;break}break;case Q.OP_I:switch(i){case ee.N:case ee.n:this.state=Q.OP_IN;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_IN:switch(i){case ee.F:case ee.f:this.state=Q.OP_INF;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_INF:switch(i){case ee.O:case ee.o:this.state=Q.OP_INFO;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_INFO:switch(i){case ee.SPACE:case ee.TAB:this.state=Q.OP_INFO_SPC;break;default:throw this.fail(t.subarray(n))}break;case Q.OP_INFO_SPC:switch(i){case ee.SPACE:case ee.TAB:continue;default:this.state=Q.INFO_ARG,this.as=n}break;case Q.INFO_ARG:switch(i){case ee.CR:this.drop=1;break;case ee.NL:{let r;this.argBuf?(r=this.argBuf.bytes(),this.argBuf=void 0):r=t.subarray(this.as,n-this.drop),this.dispatcher.push({kind:Ct.INFO,data:r}),this.drop=0,this.as=n+1,this.state=Q.OP_START;break}default:this.argBuf&&this.argBuf.writeByte(i)}break;default:throw this.fail(t.subarray(n))}}(this.state===Q.MSG_ARG||this.state===Q.MINUS_ERR_ARG||this.state===Q.INFO_ARG)&&!this.argBuf&&(this.argBuf=new vo(t.subarray(this.as,n-this.drop))),this.state===Q.MSG_PAYLOAD&&!this.msgBuf&&(this.argBuf||this.cloneMsgArg(),this.msgBuf=new vo(t.subarray(this.as)))}cloneMsgArg(){const t=this.ma.subject.length,n=this.ma.reply?this.ma.reply.length:0,i=new Uint8Array(t+n);i.set(this.ma.subject),this.ma.reply&&i.set(this.ma.reply,t),this.argBuf=new vo(i),this.ma.subject=i.subarray(0,t),this.ma.reply&&(this.ma.reply=i.subarray(t))}processMsgArgs(t){if(this.hdr>=0)return this.processHeaderMsgArgs(t);const n=[];let i=-1;for(let r=0;r<t.length;r++)switch(t[r]){case ee.SPACE:case ee.TAB:case ee.CR:case ee.NL:i>=0&&(n.push(t.subarray(i,r)),i=-1);break;default:i<0&&(i=r)}switch(i>=0&&n.push(t.subarray(i)),n.length){case 3:this.ma.subject=n[0],this.ma.sid=this.protoParseInt(n[1]),this.ma.reply=void 0,this.ma.size=this.protoParseInt(n[2]);break;case 4:this.ma.subject=n[0],this.ma.sid=this.protoParseInt(n[1]),this.ma.reply=n[2],this.ma.size=this.protoParseInt(n[3]);break;default:throw this.fail(t,"processMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processMsgArgs Bad or Missing Sid Error");if(this.ma.size<0)throw this.fail(t,"processMsgArgs Bad or Missing Size Error")}fail(t,n=""){return n?n=`${n} [${this.state}]`:n=`parse error [${this.state}]`,new Error(`${n}: ${ln.decode(t)}`)}processHeaderMsgArgs(t){const n=[];let i=-1;for(let r=0;r<t.length;r++)switch(t[r]){case ee.SPACE:case ee.TAB:case ee.CR:case ee.NL:i>=0&&(n.push(t.subarray(i,r)),i=-1);break;default:i<0&&(i=r)}switch(i>=0&&n.push(t.subarray(i)),n.length){case 4:this.ma.subject=n[0],this.ma.sid=this.protoParseInt(n[1]),this.ma.reply=void 0,this.ma.hdr=this.protoParseInt(n[2]),this.ma.size=this.protoParseInt(n[3]);break;case 5:this.ma.subject=n[0],this.ma.sid=this.protoParseInt(n[1]),this.ma.reply=n[2],this.ma.hdr=this.protoParseInt(n[3]),this.ma.size=this.protoParseInt(n[4]);break;default:throw this.fail(t,"processHeaderMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Sid Error");if(this.ma.hdr<0||this.ma.hdr>this.ma.size)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Header Size Error");if(this.ma.size<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Size Error")}protoParseInt(t){if(t.length===0)return-1;let n=0;for(let i=0;i<t.length;i++){if(t[i]<48||t[i]>57)return-1;n=n*10+(t[i]-bw)}return n}}var Q;(function(e){e[e.OP_START=0]="OP_START",e[e.OP_PLUS=1]="OP_PLUS",e[e.OP_PLUS_O=2]="OP_PLUS_O",e[e.OP_PLUS_OK=3]="OP_PLUS_OK",e[e.OP_MINUS=4]="OP_MINUS",e[e.OP_MINUS_E=5]="OP_MINUS_E",e[e.OP_MINUS_ER=6]="OP_MINUS_ER",e[e.OP_MINUS_ERR=7]="OP_MINUS_ERR",e[e.OP_MINUS_ERR_SPC=8]="OP_MINUS_ERR_SPC",e[e.MINUS_ERR_ARG=9]="MINUS_ERR_ARG",e[e.OP_M=10]="OP_M",e[e.OP_MS=11]="OP_MS",e[e.OP_MSG=12]="OP_MSG",e[e.OP_MSG_SPC=13]="OP_MSG_SPC",e[e.MSG_ARG=14]="MSG_ARG",e[e.MSG_PAYLOAD=15]="MSG_PAYLOAD",e[e.MSG_END=16]="MSG_END",e[e.OP_H=17]="OP_H",e[e.OP_P=18]="OP_P",e[e.OP_PI=19]="OP_PI",e[e.OP_PIN=20]="OP_PIN",e[e.OP_PING=21]="OP_PING",e[e.OP_PO=22]="OP_PO",e[e.OP_PON=23]="OP_PON",e[e.OP_PONG=24]="OP_PONG",e[e.OP_I=25]="OP_I",e[e.OP_IN=26]="OP_IN",e[e.OP_INF=27]="OP_INF",e[e.OP_INFO=28]="OP_INFO",e[e.OP_INFO_SPC=29]="OP_INFO_SPC",e[e.INFO_ARG=30]="INFO_ARG"})(Q||(Q={}));var ee;(function(e){e[e.CR="\r".charCodeAt(0)]="CR",e[e.E="E".charCodeAt(0)]="E",e[e.e="e".charCodeAt(0)]="e",e[e.F="F".charCodeAt(0)]="F",e[e.f="f".charCodeAt(0)]="f",e[e.G="G".charCodeAt(0)]="G",e[e.g="g".charCodeAt(0)]="g",e[e.H="H".charCodeAt(0)]="H",e[e.h="h".charCodeAt(0)]="h",e[e.I="I".charCodeAt(0)]="I",e[e.i="i".charCodeAt(0)]="i",e[e.K="K".charCodeAt(0)]="K",e[e.k="k".charCodeAt(0)]="k",e[e.M="M".charCodeAt(0)]="M",e[e.m="m".charCodeAt(0)]="m",e[e.MINUS="-".charCodeAt(0)]="MINUS",e[e.N="N".charCodeAt(0)]="N",e[e.n="n".charCodeAt(0)]="n",e[e.NL=`
`.charCodeAt(0)]="NL",e[e.O="O".charCodeAt(0)]="O",e[e.o="o".charCodeAt(0)]="o",e[e.P="P".charCodeAt(0)]="P",e[e.p="p".charCodeAt(0)]="p",e[e.PLUS="+".charCodeAt(0)]="PLUS",e[e.R="R".charCodeAt(0)]="R",e[e.r="r".charCodeAt(0)]="r",e[e.S="S".charCodeAt(0)]="S",e[e.s="s".charCodeAt(0)]="s",e[e.SPACE=" ".charCodeAt(0)]="SPACE",e[e.TAB="	".charCodeAt(0)]="TAB"})(ee||(ee={}));const yw=1024*32,ww=/^INFO\s+([^\r\n]+)\r\n/i;function jn(e=""){if(e=e||"_INBOX",typeof e!="string")throw new Error("prefix must be a string");return`${e}.${Wr.next()}`}class xw{constructor(){b(this,"baseInbox");b(this,"reqs");this.reqs=new Map}size(){return this.reqs.size}init(t){return this.baseInbox=`${jn(t)}.`,this.baseInbox}add(t){isNaN(t.received)||(t.received=0),this.reqs.set(t.token,t)}get(t){return this.reqs.get(t)}cancel(t){this.reqs.delete(t.token)}getToken(t){const n=t.subject||"";return n.indexOf(this.baseInbox)===0?n.substring(this.baseInbox.length):null}all(){return Array.from(this.reqs.values())}handleError(t,n){if(n&&n.permissionContext){if(t)return this.all().forEach(r=>{r.resolver(n,{})}),!0;const i=n.permissionContext;if(i.operation==="publish"){const r=this.all().find(s=>s.requestSubject===i.subject);if(r)return r.resolver(n,{}),!0}}return!1}dispatcher(){return(t,n)=>{const i=this.getToken(n);if(i){const r=this.get(i);r&&(t===null&&n.headers&&(t=Ed(n)),r.resolver(t,n))}}}close(){const t=fe.errorForCode(Y.Timeout);this.reqs.forEach(n=>{n.resolver(t,{})})}}const vw=fs(`PONG\r
`),yc=fs(`PING\r
`);class _w{constructor(t,n,i){b(this,"echo");b(this,"no_responders");b(this,"protocol");b(this,"verbose");b(this,"pedantic");b(this,"jwt");b(this,"nkey");b(this,"sig");b(this,"user");b(this,"pass");b(this,"auth_token");b(this,"tls_required");b(this,"name");b(this,"lang");b(this,"version");b(this,"headers");this.protocol=1,this.version=t.version,this.lang=t.lang,this.echo=n.noEcho?!1:void 0,this.verbose=n.verbose,this.pedantic=n.pedantic,this.tls_required=n.tls?!0:void 0,this.name=n.name;const r=(n&&n.authenticator?n.authenticator(i):{})||{};qr(this,r)}}class Cr{constructor(t,n){b(this,"connected");b(this,"connectedOnce");b(this,"infoReceived");b(this,"info");b(this,"muxSubscriptions");b(this,"options");b(this,"outbound");b(this,"pongs");b(this,"subscriptions");b(this,"transport");b(this,"noMorePublishing");b(this,"connectError");b(this,"publisher");b(this,"_closed");b(this,"closed");b(this,"listeners");b(this,"heartbeats");b(this,"parser");b(this,"outMsgs");b(this,"inMsgs");b(this,"outBytes");b(this,"inBytes");b(this,"pendingLimit");b(this,"lastError");b(this,"abortReconnect");b(this,"servers");b(this,"server");b(this,"features");this._closed=!1,this.connected=!1,this.connectedOnce=!1,this.infoReceived=!1,this.noMorePublishing=!1,this.abortReconnect=!1,this.listeners=[],this.pendingLimit=yw,this.outMsgs=0,this.inMsgs=0,this.outBytes=0,this.inBytes=0,this.options=t,this.publisher=n,this.subscriptions=new fw,this.muxSubscriptions=new xw,this.outbound=new Ts,this.pongs=[],this.pendingLimit=t.pendingLimit||this.pendingLimit,this.features=new zy({major:0,minor:0,micro:0});const i=typeof t.servers=="string"?[t.servers]:t.servers;this.servers=new hw(i,{randomize:!t.noRandomize}),this.closed=st(),this.parser=new bc(this),this.heartbeats=new pw(this,this.options.pingInterval||Sd,this.options.maxPingOut||Cy)}resetOutbound(){this.outbound.reset();const t=this.pongs;this.pongs=[];const n=fe.errorForCode(Y.Disconnect);n.stack="",t.forEach(i=>{i.reject(n)}),this.parser=new bc(this),this.infoReceived=!1}dispatchStatus(t){this.listeners.forEach(n=>{n.push(t)})}status(){const t=new At;return this.listeners.push(t),t}prepare(){this.info=void 0,this.resetOutbound();const t=st();return t.catch(()=>{}),this.pongs.unshift(t),this.connectError=n=>{t.reject(n)},this.transport=tw(),this.transport.closed().then(async n=>{if(this.connected=!1,!this.isClosed()){await this.disconnected(this.transport.closeError||this.lastError);return}}),t}disconnect(){this.dispatchStatus({type:Es.StaleConnection,data:""}),this.transport.disconnect()}async disconnected(t){this.dispatchStatus({type:si.Disconnect,data:this.servers.getCurrentServer().toString()}),this.options.reconnect?await this.dialLoop().then(()=>{var n;this.dispatchStatus({type:si.Reconnect,data:this.servers.getCurrentServer().toString()}),((n=this.lastError)==null?void 0:n.code)===Y.AuthenticationExpired&&(this.lastError=void 0)}).catch(n=>{this._close(n)}):await this._close(t)}async dial(t){const n=this.prepare();let i;try{i=Gr(this.options.timeout||2e4);const r=this.transport.connect(t,this.options);await Promise.race([r,i]),(async()=>{try{for await(const s of this.transport)this.parser.parse(s)}catch(s){console.log("reader closed",s)}})().then()}catch(r){n.reject(r)}try{await Promise.race([i,n]),i&&i.cancel(),this.connected=!0,this.connectError=void 0,this.sendSubscriptions(),this.connectedOnce=!0,this.server.didConnect=!0,this.server.reconnects=0,this.flushPending(),this.heartbeats.start()}catch(r){throw i&&i.cancel(),await this.transport.close(r),r}}async _doDial(t){const n=await t.resolve({fn:Md(),debug:this.options.debug,randomize:!this.options.noRandomize});let i=null;for(const r of n)try{i=null,this.dispatchStatus({type:Es.Reconnecting,data:r.toString()}),await this.dial(r);return}catch(s){i=s}throw i}async dialLoop(){let t;for(;;){this._closed&&this.servers.clear();const n=this.options.reconnectDelayHandler?this.options.reconnectDelayHandler():Cd;let i=n;const r=this.selectServer();if(!r||this.abortReconnect)throw t||(this.lastError?this.lastError:fe.errorForCode(Y.ConnectionRefused));const s=Date.now();if(r.lastConnect===0||r.lastConnect+n<=s){r.lastConnect=Date.now();try{await this._doDial(r);break}catch(o){if(t=o,!this.connectedOnce){if(this.options.waitOnFirstConnect)continue;this.servers.removeCurrentServer()}r.reconnects++;const l=this.options.maxReconnectAttempts||0;l!==-1&&r.reconnects>=l&&this.servers.removeCurrentServer()}}else i=Math.min(i,r.lastConnect+n-s),await jl(i)}}static async connect(t,n){const i=new Cr(t,n);return await i.dialLoop(),i}static toError(t){const n=t?t.toLowerCase():"";if(n.indexOf("permissions violation")!==-1){const i=new fe(t,Y.PermissionsViolation),r=t.match(/(Publish|Subscription) to "(\S+)"/);return r&&(i.permissionContext={operation:r[1].toLowerCase(),subject:r[2]}),i}else return n.indexOf("authorization violation")!==-1?new fe(t,Y.AuthorizationViolation):n.indexOf("user authentication expired")!==-1?new fe(t,Y.AuthenticationExpired):new fe(t,Y.ProtocolError)}processMsg(t,n){if(this.inMsgs++,this.inBytes+=n.length,!this.subscriptions.sidCounter)return;const i=this.subscriptions.get(t.sid);i&&(i.received+=1,i.callback&&i.callback(null,new kd(t,n,this)),i.max!==void 0&&i.received>=i.max&&i.unsubscribe())}processError(t){const n=oc(t),i=Cr.toError(n),r={type:si.Error,data:i.code};if(i.isPermissionError()){let s=!1;if(i.permissionContext){r.permissionContext=i.permissionContext;const o=this.subscriptions.getMux();s=(o==null?void 0:o.subject)===i.permissionContext.subject}this.subscriptions.handleError(i),this.muxSubscriptions.handleError(s,i),s&&this.subscriptions.setMux(null)}this.dispatchStatus(r),this.handleError(i)}handleError(t){t.isAuthError()&&this.handleAuthError(t),t.isProtocolError()&&(this.lastError=t),t.isPermissionError()||(this.lastError=t)}handleAuthError(t){this.lastError&&t.code===this.lastError.code&&this.options.ignoreAuthErrorAbort===!1&&(this.abortReconnect=!0),this.connectError?this.connectError(t):this.disconnect()}processPing(){this.transport.send(vw)}processPong(){const t=this.pongs.shift();t&&t.resolve()}processInfo(t){const n=JSON.parse(oc(t));this.info=n;const i=this.options&&this.options.ignoreClusterUpdates?void 0:this.servers.update(n);if(!this.infoReceived){this.features.update(ui(n.version)),this.infoReceived=!0,this.transport.isEncrypted()&&this.servers.updateTLSName();const{version:s,lang:o}=this.transport;try{const l=new _w({version:s,lang:o},this.options,n.nonce);n.headers&&(l.headers=!0,l.no_responders=!0);const c=JSON.stringify(l);this.transport.send(fs(`CONNECT ${c}${ei}`)),this.transport.send(yc)}catch(l){this._close(l)}}i&&this.dispatchStatus({type:si.Update,data:i}),(n.ldm!==void 0?n.ldm:!1)&&this.dispatchStatus({type:si.LDM,data:this.servers.getCurrentServer().toString()})}push(t){switch(t.kind){case Ct.MSG:{const{msg:n,data:i}=t;this.processMsg(n,i);break}case Ct.OK:break;case Ct.ERR:this.processError(t.data);break;case Ct.PING:this.processPing();break;case Ct.PONG:this.processPong();break;case Ct.INFO:this.processInfo(t.data);break}}sendCommand(t,...n){const i=this.outbound.length();let r;typeof t=="string"?r=fs(t):r=t,this.outbound.fill(r,...n),i===0?setTimeout(()=>{this.flushPending()}):this.outbound.size()>=this.pendingLimit&&this.flushPending()}publish(t,n,i){let r=n.length;i=i||{},i.reply=i.reply||"";let s=It,o=0;if(i.headers){if(this.info&&!this.info.headers)throw new fe("headers",Y.ServerOptionNotAvailable);s=i.headers.encode(),o=s.length,r=n.length+o}if(this.info&&r>this.info.max_payload)throw fe.errorForCode(Y.MaxPayloadExceeded);this.outBytes+=r,this.outMsgs++;let l;i.headers?(i.reply?l=`HPUB ${t} ${i.reply} ${o} ${r}${ei}`:l=`HPUB ${t} ${o} ${r}\r
`,this.sendCommand(l,s,n,yr)):(i.reply?l=`PUB ${t} ${i.reply} ${r}\r
`:l=`PUB ${t} ${r}\r
`,this.sendCommand(l,n,yr))}request(t){return this.initMux(),this.muxSubscriptions.add(t),t}subscribe(t){return this.subscriptions.add(t),this._subunsub(t),t}_sub(t){t.queue?this.sendCommand(`SUB ${t.subject} ${t.queue} ${t.sid}\r
`):this.sendCommand(`SUB ${t.subject} ${t.sid}\r
`)}_subunsub(t){return this._sub(t),t.max&&this.unsubscribe(t,t.max),t}unsubscribe(t,n){this.unsub(t,n),(t.max===void 0||t.received>=t.max)&&this.subscriptions.cancel(t)}unsub(t,n){!t||this.isClosed()||(n?this.sendCommand(`UNSUB ${t.sid} ${n}${ei}`):this.sendCommand(`UNSUB ${t.sid}${ei}`),t.max=n)}resub(t,n){!t||this.isClosed()||(t.subject=n,this.subscriptions.resub(t),this._sub(t))}flush(t){return t||(t=st()),this.pongs.push(t),this.sendCommand(yc),t}sendSubscriptions(){const t=[];this.subscriptions.all().forEach(n=>{const i=n;i.queue?t.push(`SUB ${i.subject} ${i.queue} ${i.sid}${ei}`):t.push(`SUB ${i.subject} ${i.sid}${ei}`)}),t.length&&this.transport.send(fs(t.join("")))}async _close(t){this._closed||(this.heartbeats.cancel(),this.connectError&&(this.connectError(t),this.connectError=void 0),this.muxSubscriptions.close(),this.subscriptions.close(),this.listeners.forEach(n=>{n.stop()}),this._closed=!0,await this.transport.close(t),await this.closed.resolve(t))}close(){return this._close()}isClosed(){return this._closed}drain(){const t=this.subscriptions.all(),n=[];return t.forEach(i=>{n.push(i.drain())}),Promise.all(n).then(async()=>(this.noMorePublishing=!0,await this.flush(),this.close())).catch(()=>{})}flushPending(){if(!(!this.infoReceived||!this.connected)&&this.outbound.size()){const t=this.outbound.drain();this.transport.send(t)}}initMux(){if(!this.subscriptions.getMux()){const n=this.muxSubscriptions.init(this.options.inboxPrefix),i=new Bd(this,`${n}*`);i.callback=this.muxSubscriptions.dispatcher(),this.subscriptions.setMux(i),this.subscribe(i)}}selectServer(){const t=this.servers.selectServer();if(t!==void 0)return this.server=t,this.server}getServer(){return this.server}}function Vn(e){return new Cw(e)}class Cw{constructor(t){b(this,"config");b(this,"ordered");b(this,"mack");b(this,"stream");b(this,"callbackFn");b(this,"max");b(this,"qname");b(this,"isBind");this.stream="",this.mack=!1,this.ordered=!1,this.config=Dy("",t||{})}getOpts(){const t={};return t.config=this.config,t.mack=this.mack,t.stream=this.stream,t.callbackFn=this.callbackFn,t.max=this.max,t.queue=this.qname,t.ordered=this.ordered,t.config.ack_policy=t.ordered?bt.None:t.config.ack_policy,t.isBind=t.isBind||!1,t}description(t){return this.config.description=t,this}deliverTo(t){return this.config.deliver_subject=t,this}durable(t){return Ti(t),this.config.durable_name=t,this}startSequence(t){if(t<=0)throw new Error("sequence must be greater than 0");return this.config.deliver_policy=Bt.StartSequence,this.config.opt_start_seq=t,this}startTime(t){return this.config.deliver_policy=Bt.StartTime,this.config.opt_start_time=t.toISOString(),this}deliverAll(){return this.config.deliver_policy=Bt.All,this}deliverLastPerSubject(){return this.config.deliver_policy=Bt.LastPerSubject,this}deliverLast(){return this.config.deliver_policy=Bt.Last,this}deliverNew(){return this.config.deliver_policy=Bt.New,this}startAtTimeDelta(t){return this.startTime(new Date(Date.now()-t)),this}headersOnly(){return this.config.headers_only=!0,this}ackNone(){return this.config.ack_policy=bt.None,this}ackAll(){return this.config.ack_policy=bt.All,this}ackExplicit(){return this.config.ack_policy=bt.Explicit,this}ackWait(t){return this.config.ack_wait=ct(t),this}maxDeliver(t){return this.config.max_deliver=t,this}filterSubject(t){return this.config.filter_subject=t,this}replayInstantly(){return this.config.replay_policy=ji.Instant,this}replayOriginal(){return this.config.replay_policy=ji.Original,this}sample(t){if(t=Math.trunc(t),t<0||t>100)throw new Error("value must be between 0-100");return this.config.sample_freq=`${t}%`,this}limit(t){return this.config.rate_limit_bps=t,this}maxWaiting(t){return this.config.max_waiting=t,this}maxAckPending(t){return this.config.max_ack_pending=t,this}idleHeartbeat(t){return this.config.idle_heartbeat=ct(t),this}flowControl(){return this.config.flow_control=!0,this}deliverGroup(t){return this.queue(t),this}manualAck(){return this.mack=!0,this}maxMessages(t){return this.max=t,this}callback(t){return this.callbackFn=t,this}queue(t){return this.qname=t,this.config.deliver_group=t,this}orderedConsumer(){return this.ordered=!0,this}bind(t,n){return this.stream=t,this.config.durable_name=n,this.isBind=!0,this}bindStream(t){return this.stream=t,this}inactiveEphemeralThreshold(t){return this.config.inactive_threshold=ct(t),this}maxPullBatch(t){return this.config.max_batch=t,this}maxPullRequestExpires(t){return this.config.max_expires=ct(t),this}memory(){return this.config.mem_storage=!0,this}numReplicas(t){return this.config.num_replicas=t,this}}function wc(e){return typeof e.getOpts=="function"}class Nd{constructor(t,n,i={maxOut:2}){b(this,"interval");b(this,"maxOut");b(this,"cancelAfter");b(this,"timer");b(this,"autoCancelTimer");b(this,"last");b(this,"missed");b(this,"count");b(this,"callback");this.interval=t,this.maxOut=(i==null?void 0:i.maxOut)||2,this.cancelAfter=(i==null?void 0:i.cancelAfter)||0,this.last=Date.now(),this.missed=0,this.count=0,this.callback=n,this._schedule()}cancel(){this.autoCancelTimer&&clearTimeout(this.autoCancelTimer),this.timer&&clearInterval(this.timer),this.timer=0,this.autoCancelTimer=0}work(){this.last=Date.now(),this.missed=0}_change(t,n=0,i=2){this.interval=t,this.maxOut=i,this.cancelAfter=n,this.restart()}restart(){this.cancel(),this._schedule()}_schedule(){this.cancelAfter>0&&(this.autoCancelTimer=setTimeout(()=>{this.cancel()},this.cancelAfter)),this.timer=setInterval(()=>{if(this.count++,Date.now()-this.interval>this.last&&this.missed++,this.missed>=this.maxOut)try{this.callback(this.missed)===!0&&this.cancel()}catch(t){console.log(t)}},this.interval)}}class xc{static encode(t){if(typeof t=="string")return btoa(t);const n=Array.from(t);return btoa(String.fromCharCode(...n))}static decode(t,n=!1){const i=atob(t);return n?Uint8Array.from(i,r=>r.charCodeAt(0)):i}}class Sr{static encode(t){return Sr.toB64URLEncoding(xc.encode(t))}static decode(t,n=!1){return xc.decode(Sr.fromB64URLEncoding(t),n)}static toB64URLEncoding(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}static fromB64URLEncoding(t){return t.replace(/_/g,"/").replace(/-/g,"+")}}function vc(e){const t=e.length;let n=e.indexOf("=");n===-1&&(n=t);const i=n===t?0:4-n%4;return[n,i]}function Sw(e,t,n=!1){function i(o,l){return Math.floor((o+l)*3/4-l)}function r(o){return e[o>>18&63]+e[o>>12&63]+e[o>>6&63]+e[o&63]}function s(o,l,c){const a=new Array((c-l)/3);for(let d=l,u=0;d<c;d+=3)a[u++]=r((o[d]<<16)+(o[d+1]<<8)+o[d+2]);return a.join("")}return{byteLength(o){return i.apply(null,vc(o))},toUint8Array(o){const[l,c]=vc(o),a=new Uint8Array(i(l,c)),d=c?l-4:l;let u,h=0,f;for(f=0;f<d;f+=4)u=t[o.charCodeAt(f)]<<18|t[o.charCodeAt(f+1)]<<12|t[o.charCodeAt(f+2)]<<6|t[o.charCodeAt(f+3)],a[h++]=u>>16&255,a[h++]=u>>8&255,a[h++]=u&255;return c===2?(u=t[o.charCodeAt(f)]<<2|t[o.charCodeAt(f+1)]>>4,a[h++]=u&255):c===1&&(u=t[o.charCodeAt(f)]<<10|t[o.charCodeAt(f+1)]<<4|t[o.charCodeAt(f+2)]>>2,a[h++]=u>>8&255,a[h++]=u&255),a},fromUint8Array(o){const c=o.length,a=c%3,d=c-a,u=new Array(Math.ceil(d/16383)+(a?1:0));let h=0,f;for(let k=0;k<d;k+=16383)f=k+16383,u[h++]=s(o,k,f>d?d:f);let v;return a===1?(v=o[d],u[h]=e[v>>2]+e[v<<4&63],n||(u[h]+="==")):a===2&&(v=o[d]<<8|o[d+1]&255,u[h]=e[v>>10]+e[v>>4&63]+e[v<<2&63],n||(u[h]+="=")),u.join("")}}}const zd=[],jd=[],_o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let e=0,t=_o.length;e<t;++e)zd[e]=_o[e],jd[_o.charCodeAt(e)]=e;const{byteLength:XC,toUint8Array:Iw,fromUint8Array:Ew}=Sw(zd,jd,!0),kw=new TextDecoder,Pw=new TextEncoder;function Rw(e){return e.reduce((t,n)=>`${t}${n<16?"0":""}${n.toString(16)}`,"")}function Aw(e){const t=e.length;if(t%2||!/^[0-9a-fA-F]+$/.test(e))throw new TypeError("Invalid hex string.");e=e.toLowerCase();const n=new Uint8Array(Math.floor(t/2)),i=t/2;for(let r=0;r<i;++r)n[r]=parseInt(e.substr(r*2,2),16);return n}function Ow(e,t="utf8"){if(/^utf-?8$/i.test(t))return kw.decode(e);if(/^base64$/i.test(t))return Ew(e);if(/^hex(?:adecimal)?$/i.test(t))return Rw(e);throw new TypeError("Unsupported string encoding.")}function Tw(e,t="utf8"){if(/^utf-?8$/i.test(t))return Pw.encode(e);if(/^base64$/i.test(t))return Iw(e);if(/^hex(?:adecimal)?$/i.test(t))return Aw(e);throw new TypeError("Unsupported string encoding.")}class _c{constructor(){b(this,"hashSize",32);b(this,"_buf");b(this,"_bufIdx");b(this,"_count");b(this,"_K");b(this,"_H");b(this,"_finalized");this._buf=new Uint8Array(64),this._K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),this.init()}init(){return this._H=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this._bufIdx=0,this._count=new Uint32Array(2),this._buf.fill(0),this._finalized=!1,this}update(t,n){if(t===null)throw new TypeError("msg must be a string or Uint8Array.");typeof t=="string"&&(t=Tw(t,n));for(let r=0,s=t.length;r<s;r++)this._buf[this._bufIdx++]=t[r],this._bufIdx===64&&(this._transform(),this._bufIdx=0);const i=this._count;return(i[0]+=t.length<<3)<t.length<<3&&i[1]++,i[1]+=t.length>>>29,this}digest(t){if(this._finalized)throw new Error("digest has already been called.");this._finalized=!0;const n=this._buf;let i=this._bufIdx;for(n[i++]=128;i!==56;)i===64&&(this._transform(),i=0),n[i++]=0;const r=this._count;n[56]=r[1]>>>24&255,n[57]=r[1]>>>16&255,n[58]=r[1]>>>8&255,n[59]=r[1]>>>0&255,n[60]=r[0]>>>24&255,n[61]=r[0]>>>16&255,n[62]=r[0]>>>8&255,n[63]=r[0]>>>0&255,this._transform();const s=new Uint8Array(32);for(let o=0;o<8;o++)s[(o<<2)+0]=this._H[o]>>>24&255,s[(o<<2)+1]=this._H[o]>>>16&255,s[(o<<2)+2]=this._H[o]>>>8&255,s[(o<<2)+3]=this._H[o]>>>0&255;return this.init(),t?Ow(s,t):s}_transform(){const t=this._H;let n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],l=t[5],c=t[6],a=t[7];const d=new Uint32Array(16);let u;for(u=0;u<16;u++)d[u]=this._buf[(u<<2)+3]|this._buf[(u<<2)+2]<<8|this._buf[(u<<2)+1]<<16|this._buf[u<<2]<<24;for(u=0;u<64;u++){let h;if(u<16)h=d[u];else{let f=d[u+1&15],v=d[u+14&15];h=d[u&15]=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+d[u&15]+d[u+9&15]|0}h=h+a+(o>>>6^o>>>11^o>>>25^o<<26^o<<21^o<<7)+(c^o&(l^c))+this._K[u]|0,a=c,c=l,l=o,o=s+h,s=r,r=i,i=n,n=h+(i&r^s&(i^r))+(i>>>2^i>>>13^i>>>22^i<<30^i<<19^i<<10)|0}t[0]=t[0]+n|0,t[1]=t[1]+i|0,t[2]=t[2]+r|0,t[3]=t[3]+s|0,t[4]=t[4]+o|0,t[5]=t[5]+l|0,t[6]=t[6]+c|0,t[7]=t[7]+a|0}}class Lw extends Ms{constructor(t,n){super(t,n)}async getMessage(t,n){Pt(t);let i=n;const{last_by_subj:r}=i;r&&(i=null);const s=i?this.jc.encode(i):It,o=this.opts.apiPrefix||"$JS.API",l=r?`${o}.DIRECT.GET.${t}.${r}`:`${o}.DIRECT.GET.${t}`,c=await this.nc.request(l,s),a=Mi(c);if(a)return Promise.reject(a);const d=new Mw(c);return Promise.resolve(d)}}class Mw{constructor(t){b(this,"data");b(this,"header");if(!t.headers)throw new Error("headers expected");this.data=t.data,this.header=t.headers}get subject(){return this.header.get(Ii.Subject)}get seq(){const t=this.header.get(Ii.Sequence);return typeof t=="string"?parseInt(t):0}get time(){return new Date(Date.parse(this.header.get(Ii.TimeStamp)))}get stream(){return this.header.get(Ii.Stream)}}(function(e){var t=function(p,g){this.hi=p|0,this.lo=g|0},n=function(p){var g,m=new Float64Array(16);if(p)for(g=0;g<p.length;g++)m[g]=p[g];return m},i=function(){throw new Error("no PRNG")},r=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=n(),l=n([1]),c=n([56129,1]),a=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function v(p,g){return p<<g|p>>>32-g}function k(p,g){var m=p[g+3]&255;return m=m<<8|p[g+2]&255,m=m<<8|p[g+1]&255,m<<8|p[g+0]&255}function O(p,g){var m=p[g]<<24|p[g+1]<<16|p[g+2]<<8|p[g+3],w=p[g+4]<<24|p[g+5]<<16|p[g+6]<<8|p[g+7];return new t(m,w)}function A(p,g,m){var w;for(w=0;w<4;w++)p[g+w]=m&255,m>>>=8}function L(p,g,m){p[g]=m.hi>>24&255,p[g+1]=m.hi>>16&255,p[g+2]=m.hi>>8&255,p[g+3]=m.hi&255,p[g+4]=m.lo>>24&255,p[g+5]=m.lo>>16&255,p[g+6]=m.lo>>8&255,p[g+7]=m.lo&255}function q(p,g,m,w,C){var S,D=0;for(S=0;S<C;S++)D|=p[g+S]^m[w+S];return(1&D-1>>>8)-1}function T(p,g,m,w){return q(p,g,m,w,16)}function B(p,g,m,w){return q(p,g,m,w,32)}function Z(p,g,m,w,C){var S=new Uint32Array(16),D=new Uint32Array(16),U=new Uint32Array(16),P=new Uint32Array(4),F,de,Re;for(F=0;F<4;F++)D[5*F]=k(w,4*F),D[1+F]=k(m,4*F),D[6+F]=k(g,4*F),D[11+F]=k(m,16+4*F);for(F=0;F<16;F++)U[F]=D[F];for(F=0;F<20;F++){for(de=0;de<4;de++){for(Re=0;Re<4;Re++)P[Re]=D[(5*de+4*Re)%16];for(P[1]^=v(P[0]+P[3]|0,7),P[2]^=v(P[1]+P[0]|0,9),P[3]^=v(P[2]+P[1]|0,13),P[0]^=v(P[3]+P[2]|0,18),Re=0;Re<4;Re++)S[4*de+(de+Re)%4]=P[Re]}for(Re=0;Re<16;Re++)D[Re]=S[Re]}if(C){for(F=0;F<16;F++)D[F]=D[F]+U[F]|0;for(F=0;F<4;F++)D[5*F]=D[5*F]-k(w,4*F)|0,D[6+F]=D[6+F]-k(g,4*F)|0;for(F=0;F<4;F++)A(p,4*F,D[5*F]),A(p,16+4*F,D[6+F])}else for(F=0;F<16;F++)A(p,4*F,D[F]+U[F]|0)}function te(p,g,m,w){return Z(p,g,m,w,!1),0}function H(p,g,m,w){return Z(p,g,m,w,!0),0}var be=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function ve(p,g,m,w,C,S,D){var U=new Uint8Array(16),P=new Uint8Array(64),F,de;if(!C)return 0;for(de=0;de<16;de++)U[de]=0;for(de=0;de<8;de++)U[de]=S[de];for(;C>=64;){for(te(P,U,D,be),de=0;de<64;de++)p[g+de]=(m?m[w+de]:0)^P[de];for(F=1,de=8;de<16;de++)F=F+(U[de]&255)|0,U[de]=F&255,F>>>=8;C-=64,g+=64,m&&(w+=64)}if(C>0)for(te(P,U,D,be),de=0;de<C;de++)p[g+de]=(m?m[w+de]:0)^P[de];return 0}function Ee(p,g,m,w,C){return ve(p,g,null,0,m,w,C)}function re(p,g,m,w,C){var S=new Uint8Array(32);return H(S,w,C,be),Ee(p,g,m,w.subarray(16),S)}function Fe(p,g,m,w,C,S,D){var U=new Uint8Array(32);return H(U,S,D,be),ve(p,g,m,w,C,S.subarray(16),U)}function He(p,g){var m,w=0;for(m=0;m<17;m++)w=w+(p[m]+g[m]|0)|0,p[m]=w&255,w>>>=8}var Ye=new Uint32Array([5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252]);function $e(p,g,m,w,C,S){var D,U,P,F,de=new Uint32Array(17),Re=new Uint32Array(17),Xe=new Uint32Array(17),Xt=new Uint32Array(17),yi=new Uint32Array(17);for(P=0;P<17;P++)Re[P]=Xe[P]=0;for(P=0;P<16;P++)Re[P]=S[P];for(Re[3]&=15,Re[4]&=252,Re[7]&=15,Re[8]&=252,Re[11]&=15,Re[12]&=252,Re[15]&=15;C>0;){for(P=0;P<17;P++)Xt[P]=0;for(P=0;P<16&&P<C;++P)Xt[P]=m[w+P];for(Xt[P]=1,w+=P,C-=P,He(Xe,Xt),U=0;U<17;U++)for(de[U]=0,P=0;P<17;P++)de[U]=de[U]+Xe[P]*(P<=U?Re[U-P]:320*Re[U+17-P]|0)|0|0;for(U=0;U<17;U++)Xe[U]=de[U];for(F=0,P=0;P<16;P++)F=F+Xe[P]|0,Xe[P]=F&255,F>>>=8;for(F=F+Xe[16]|0,Xe[16]=F&3,F=5*(F>>>2)|0,P=0;P<16;P++)F=F+Xe[P]|0,Xe[P]=F&255,F>>>=8;F=F+Xe[16]|0,Xe[16]=F}for(P=0;P<17;P++)yi[P]=Xe[P];for(He(Xe,Ye),D=-(Xe[16]>>>7)|0,P=0;P<17;P++)Xe[P]^=D&(yi[P]^Xe[P]);for(P=0;P<16;P++)Xt[P]=S[P+16];for(Xt[16]=0,He(Xe,Xt),P=0;P<16;P++)p[g+P]=Xe[P];return 0}function Ne(p,g,m,w,C,S){var D=new Uint8Array(16);return $e(D,0,m,w,C,S),T(p,g,D,0)}function Le(p,g,m,w,C){var S;if(m<32)return-1;for(Fe(p,0,g,0,m,w,C),$e(p,16,p,32,m-32,p),S=0;S<16;S++)p[S]=0;return 0}function vt(p,g,m,w,C){var S,D=new Uint8Array(32);if(m<32||(re(D,0,32,w,C),Ne(g,16,g,32,m-32,D)!==0))return-1;for(Fe(p,0,g,0,m,w,C),S=0;S<32;S++)p[S]=0;return 0}function pt(p,g){var m;for(m=0;m<16;m++)p[m]=g[m]|0}function mt(p){var g,m;for(m=0;m<16;m++)p[m]+=65536,g=Math.floor(p[m]/65536),p[(m+1)*(m<15?1:0)]+=g-1+37*(g-1)*(m===15?1:0),p[m]-=g*65536}function tt(p,g,m){for(var w,C=~(m-1),S=0;S<16;S++)w=C&(p[S]^g[S]),p[S]^=w,g[S]^=w}function Tt(p,g){var m,w,C,S=n(),D=n();for(m=0;m<16;m++)D[m]=g[m];for(mt(D),mt(D),mt(D),w=0;w<2;w++){for(S[0]=D[0]-65517,m=1;m<15;m++)S[m]=D[m]-65535-(S[m-1]>>16&1),S[m-1]&=65535;S[15]=D[15]-32767-(S[14]>>16&1),C=S[15]>>16&1,S[14]&=65535,tt(D,S,1-C)}for(m=0;m<16;m++)p[2*m]=D[m]&255,p[2*m+1]=D[m]>>8}function qn(p,g){var m=new Uint8Array(32),w=new Uint8Array(32);return Tt(m,p),Tt(w,g),B(m,0,w,0)}function N(p){var g=new Uint8Array(32);return Tt(g,p),g[0]&1}function se(p,g){var m;for(m=0;m<16;m++)p[m]=g[2*m]+(g[2*m+1]<<8);p[15]&=32767}function J(p,g,m){var w;for(w=0;w<16;w++)p[w]=g[w]+m[w]|0}function ae(p,g,m){var w;for(w=0;w<16;w++)p[w]=g[w]-m[w]|0}function oe(p,g,m){var w,C,S=new Float64Array(31);for(w=0;w<31;w++)S[w]=0;for(w=0;w<16;w++)for(C=0;C<16;C++)S[w+C]+=g[w]*m[C];for(w=0;w<15;w++)S[w]+=38*S[w+16];for(w=0;w<16;w++)p[w]=S[w];mt(p),mt(p)}function ke(p,g){oe(p,g,g)}function Ce(p,g){var m=n(),w;for(w=0;w<16;w++)m[w]=g[w];for(w=253;w>=0;w--)ke(m,m),w!==2&&w!==4&&oe(m,m,g);for(w=0;w<16;w++)p[w]=m[w]}function y(p,g){var m=n(),w;for(w=0;w<16;w++)m[w]=g[w];for(w=250;w>=0;w--)ke(m,m),w!==1&&oe(m,m,g);for(w=0;w<16;w++)p[w]=m[w]}function _(p,g,m){var w=new Uint8Array(32),C=new Float64Array(80),S,D,U=n(),P=n(),F=n(),de=n(),Re=n(),Xe=n();for(D=0;D<31;D++)w[D]=g[D];for(w[31]=g[31]&127|64,w[0]&=248,se(C,m),D=0;D<16;D++)P[D]=C[D],de[D]=U[D]=F[D]=0;for(U[0]=de[0]=1,D=254;D>=0;--D)S=w[D>>>3]>>>(D&7)&1,tt(U,P,S),tt(F,de,S),J(Re,U,F),ae(U,U,F),J(F,P,de),ae(P,P,de),ke(de,Re),ke(Xe,U),oe(U,F,U),oe(F,P,Re),J(Re,U,F),ae(U,U,F),ke(P,U),ae(F,de,Xe),oe(U,F,c),J(U,U,de),oe(F,F,U),oe(U,de,Xe),oe(de,P,C),ke(P,Re),tt(U,P,S),tt(F,de,S);for(D=0;D<16;D++)C[D+16]=U[D],C[D+32]=F[D],C[D+48]=P[D],C[D+64]=de[D];var Xt=C.subarray(32),yi=C.subarray(16);return Ce(Xt,Xt),oe(yi,yi,Xt),Tt(p,yi),0}function R(p,g){return _(p,g,s)}function M(p,g){return i(g,32),R(p,g)}function z(p,g,m){var w=new Uint8Array(32);return _(w,m,g),H(p,r,w,be)}var W=Le,ne=vt;function G(p,g,m,w,C,S){var D=new Uint8Array(32);return z(D,C,S),W(p,g,m,w,D)}function X(p,g,m,w,C,S){var D=new Uint8Array(32);return z(D,C,S),ne(p,g,m,w,D)}function K(){var p=0,g=0,m=0,w=0,C=65535,S,D,U;for(U=0;U<arguments.length;U++)S=arguments[U].lo,D=arguments[U].hi,p+=S&C,g+=S>>>16,m+=D&C,w+=D>>>16;return g+=p>>>16,m+=g>>>16,w+=m>>>16,new t(m&C|w<<16,p&C|g<<16)}function pe(p,g){return new t(p.hi>>>g,p.lo>>>g|p.hi<<32-g)}function ce(){var p=0,g=0,m;for(m=0;m<arguments.length;m++)p^=arguments[m].lo,g^=arguments[m].hi;return new t(g,p)}function ue(p,g){var m,w,C=32-g;return g<32?(m=p.hi>>>g|p.lo<<C,w=p.lo>>>g|p.hi<<C):g<64&&(m=p.lo>>>g|p.hi<<C,w=p.hi>>>g|p.lo<<C),new t(m,w)}function xe(p,g,m){var w=p.hi&g.hi^~p.hi&m.hi,C=p.lo&g.lo^~p.lo&m.lo;return new t(w,C)}function Ie(p,g,m){var w=p.hi&g.hi^p.hi&m.hi^g.hi&m.hi,C=p.lo&g.lo^p.lo&m.lo^g.lo&m.lo;return new t(w,C)}function je(p){return ce(ue(p,28),ue(p,34),ue(p,39))}function De(p){return ce(ue(p,14),ue(p,18),ue(p,41))}function Qe(p){return ce(ue(p,1),ue(p,8),pe(p,7))}function Lt(p){return ce(ue(p,19),ue(p,61),pe(p,6))}var kn=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)];function $i(p,g,m){var w=[],C=[],S=[],D=[],U,P,F;for(P=0;P<8;P++)w[P]=S[P]=O(p,8*P);for(var de=0;m>=128;){for(P=0;P<16;P++)D[P]=O(g,8*P+de);for(P=0;P<80;P++){for(F=0;F<8;F++)C[F]=S[F];for(U=K(S[7],De(S[4]),xe(S[4],S[5],S[6]),kn[P],D[P%16]),C[7]=K(U,je(S[0]),Ie(S[0],S[1],S[2])),C[3]=K(C[3],U),F=0;F<8;F++)S[(F+1)%8]=C[F];if(P%16===15)for(F=0;F<16;F++)D[F]=K(D[F],D[(F+9)%16],Qe(D[(F+1)%16]),Lt(D[(F+14)%16]))}for(P=0;P<8;P++)S[P]=K(S[P],w[P]),w[P]=S[P];de+=128,m-=128}for(P=0;P<8;P++)L(p,8*P,w[P]);return m}var Gn=new Uint8Array([106,9,230,103,243,188,201,8,187,103,174,133,132,202,167,59,60,110,243,114,254,148,248,43,165,79,245,58,95,29,54,241,81,14,82,127,173,230,130,209,155,5,104,140,43,62,108,31,31,131,217,171,251,65,189,107,91,224,205,25,19,126,33,121]);function an(p,g,m){var w=new Uint8Array(64),C=new Uint8Array(256),S,D=m;for(S=0;S<64;S++)w[S]=Gn[S];for($i(w,g,m),m%=128,S=0;S<256;S++)C[S]=0;for(S=0;S<m;S++)C[S]=g[D-m+S];for(C[m]=128,m=256-128*(m<112?1:0),C[m-9]=0,L(C,m-8,new t(D/536870912|0,D<<3)),$i(w,C,m),S=0;S<64;S++)p[S]=w[S];return 0}function dt(p,g){var m=n(),w=n(),C=n(),S=n(),D=n(),U=n(),P=n(),F=n(),de=n();ae(m,p[1],p[0]),ae(de,g[1],g[0]),oe(m,m,de),J(w,p[0],p[1]),J(de,g[0],g[1]),oe(w,w,de),oe(C,p[3],g[3]),oe(C,C,d),oe(S,p[2],g[2]),J(S,S,S),ae(D,w,m),ae(U,S,C),J(P,S,C),J(F,w,m),oe(p[0],D,U),oe(p[1],F,P),oe(p[2],P,U),oe(p[3],D,F)}function Mt(p,g,m){var w;for(w=0;w<4;w++)tt(p[w],g[w],m)}function mi(p,g){var m=n(),w=n(),C=n();Ce(C,g[2]),oe(m,g[0],C),oe(w,g[1],C),Tt(p,w),p[31]^=N(m)<<7}function Zr(p,g,m){var w,C;for(pt(p[0],o),pt(p[1],l),pt(p[2],l),pt(p[3],o),C=255;C>=0;--C)w=m[C/8|0]>>(C&7)&1,Mt(p,g,w),dt(g,p),dt(p,p),Mt(p,g,w)}function Fs(p,g){var m=[n(),n(),n(),n()];pt(m[0],u),pt(m[1],h),pt(m[2],l),oe(m[3],u,h),Zr(p,m,g)}function Qr(p,g,m){var w=new Uint8Array(64),C=[n(),n(),n(),n()],S;for(m||i(g,32),an(w,g,32),w[0]&=248,w[31]&=127,w[31]|=64,Fs(C,w),mi(p,C),S=0;S<32;S++)g[S+32]=p[S];return 0}var Ds=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function eo(p,g){var m,w,C,S;for(w=63;w>=32;--w){for(m=0,C=w-32,S=w-12;C<S;++C)g[C]+=m-16*g[w]*Ds[C-(w-32)],m=Math.floor((g[C]+128)/256),g[C]-=m*256;g[C]+=m,g[w]=0}for(m=0,C=0;C<32;C++)g[C]+=m-(g[31]>>4)*Ds[C],m=g[C]>>8,g[C]&=255;for(C=0;C<32;C++)g[C]-=m*Ds[C];for(w=0;w<32;w++)g[w+1]+=g[w]>>8,p[w]=g[w]&255}function to(p){var g=new Float64Array(64),m;for(m=0;m<64;m++)g[m]=p[m];for(m=0;m<64;m++)p[m]=0;eo(p,g)}function Yl(p,g,m,w){var C=new Uint8Array(64),S=new Uint8Array(64),D=new Uint8Array(64),U,P,F=new Float64Array(64),de=[n(),n(),n(),n()];an(C,w,32),C[0]&=248,C[31]&=127,C[31]|=64;var Re=m+64;for(U=0;U<m;U++)p[64+U]=g[U];for(U=0;U<32;U++)p[32+U]=C[32+U];for(an(D,p.subarray(32),m+32),to(D),Fs(de,D),mi(p,de),U=32;U<64;U++)p[U]=w[U];for(an(S,p,m+64),to(S),U=0;U<64;U++)F[U]=0;for(U=0;U<32;U++)F[U]=D[U];for(U=0;U<32;U++)for(P=0;P<32;P++)F[U+P]+=S[U]*C[P];return eo(p.subarray(32),F),Re}function zh(p,g){var m=n(),w=n(),C=n(),S=n(),D=n(),U=n(),P=n();return pt(p[2],l),se(p[1],g),ke(C,p[1]),oe(S,C,a),ae(C,C,p[2]),J(S,p[2],S),ke(D,S),ke(U,D),oe(P,U,D),oe(m,P,C),oe(m,m,S),y(m,m),oe(m,m,C),oe(m,m,S),oe(m,m,S),oe(p[0],m,S),ke(w,p[0]),oe(w,w,S),qn(w,C)&&oe(p[0],p[0],f),ke(w,p[0]),oe(w,w,S),qn(w,C)?-1:(N(p[0])===g[31]>>7&&ae(p[0],o,p[0]),oe(p[3],p[0],p[1]),0)}function no(p,g,m,w){var C,S=new Uint8Array(32),D=new Uint8Array(64),U=[n(),n(),n(),n()],P=[n(),n(),n(),n()];if(m<64||zh(P,w))return-1;for(C=0;C<m;C++)p[C]=g[C];for(C=0;C<32;C++)p[C+32]=w[C];if(an(D,p,m),to(D),Zr(U,P,D),Fs(P,g.subarray(32)),dt(U,P),mi(S,U),m-=64,B(g,0,S,0)){for(C=0;C<m;C++)p[C]=0;return-1}for(C=0;C<m;C++)p[C]=g[C+64];return m}var io=32,Bs=24,qi=32,gi=16,Gi=32,Ns=32,Wi=32,Ji=32,so=32,Xl=Bs,jh=qi,Vh=gi,yn=64,Wn=32,bi=64,ro=32,oo=64;e.lowlevel={crypto_core_hsalsa20:H,crypto_stream_xor:Fe,crypto_stream:re,crypto_stream_salsa20_xor:ve,crypto_stream_salsa20:Ee,crypto_onetimeauth:$e,crypto_onetimeauth_verify:Ne,crypto_verify_16:T,crypto_verify_32:B,crypto_secretbox:Le,crypto_secretbox_open:vt,crypto_scalarmult:_,crypto_scalarmult_base:R,crypto_box_beforenm:z,crypto_box_afternm:W,crypto_box:G,crypto_box_open:X,crypto_box_keypair:M,crypto_hash:an,crypto_sign:Yl,crypto_sign_keypair:Qr,crypto_sign_open:no,crypto_secretbox_KEYBYTES:io,crypto_secretbox_NONCEBYTES:Bs,crypto_secretbox_ZEROBYTES:qi,crypto_secretbox_BOXZEROBYTES:gi,crypto_scalarmult_BYTES:Gi,crypto_scalarmult_SCALARBYTES:Ns,crypto_box_PUBLICKEYBYTES:Wi,crypto_box_SECRETKEYBYTES:Ji,crypto_box_BEFORENMBYTES:so,crypto_box_NONCEBYTES:Xl,crypto_box_ZEROBYTES:jh,crypto_box_BOXZEROBYTES:Vh,crypto_sign_BYTES:yn,crypto_sign_PUBLICKEYBYTES:Wn,crypto_sign_SECRETKEYBYTES:bi,crypto_sign_SEEDBYTES:ro,crypto_hash_BYTES:oo,gf:n,D:a,L:Ds,pack25519:Tt,unpack25519:se,M:oe,A:J,S:ke,Z:ae,pow2523:y,add:dt,set25519:pt,modL:eo,scalarmult:Zr,scalarbase:Fs};function Zl(p,g){if(p.length!==io)throw new Error("bad key size");if(g.length!==Bs)throw new Error("bad nonce size")}function Kh(p,g){if(p.length!==Wi)throw new Error("bad public key size");if(g.length!==Ji)throw new Error("bad secret key size")}function Ft(){for(var p=0;p<arguments.length;p++)if(!(arguments[p]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ql(p){for(var g=0;g<p.length;g++)p[g]=0}e.randomBytes=function(p){var g=new Uint8Array(p);return i(g,p),g},e.secretbox=function(p,g,m){Ft(p,g,m),Zl(m,g);for(var w=new Uint8Array(qi+p.length),C=new Uint8Array(w.length),S=0;S<p.length;S++)w[S+qi]=p[S];return Le(C,w,w.length,g,m),C.subarray(gi)},e.secretbox.open=function(p,g,m){Ft(p,g,m),Zl(m,g);for(var w=new Uint8Array(gi+p.length),C=new Uint8Array(w.length),S=0;S<p.length;S++)w[S+gi]=p[S];return w.length<32||vt(C,w,w.length,g,m)!==0?null:C.subarray(qi)},e.secretbox.keyLength=io,e.secretbox.nonceLength=Bs,e.secretbox.overheadLength=gi,e.scalarMult=function(p,g){if(Ft(p,g),p.length!==Ns)throw new Error("bad n size");if(g.length!==Gi)throw new Error("bad p size");var m=new Uint8Array(Gi);return _(m,p,g),m},e.scalarMult.base=function(p){if(Ft(p),p.length!==Ns)throw new Error("bad n size");var g=new Uint8Array(Gi);return R(g,p),g},e.scalarMult.scalarLength=Ns,e.scalarMult.groupElementLength=Gi,e.box=function(p,g,m,w){var C=e.box.before(m,w);return e.secretbox(p,g,C)},e.box.before=function(p,g){Ft(p,g),Kh(p,g);var m=new Uint8Array(so);return z(m,p,g),m},e.box.after=e.secretbox,e.box.open=function(p,g,m,w){var C=e.box.before(m,w);return e.secretbox.open(p,g,C)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var p=new Uint8Array(Wi),g=new Uint8Array(Ji);return M(p,g),{publicKey:p,secretKey:g}},e.box.keyPair.fromSecretKey=function(p){if(Ft(p),p.length!==Ji)throw new Error("bad secret key size");var g=new Uint8Array(Wi);return R(g,p),{publicKey:g,secretKey:new Uint8Array(p)}},e.box.publicKeyLength=Wi,e.box.secretKeyLength=Ji,e.box.sharedKeyLength=so,e.box.nonceLength=Xl,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(p,g){if(Ft(p,g),g.length!==bi)throw new Error("bad secret key size");var m=new Uint8Array(yn+p.length);return Yl(m,p,p.length,g),m},e.sign.open=function(p,g){if(Ft(p,g),g.length!==Wn)throw new Error("bad public key size");var m=new Uint8Array(p.length),w=no(m,p,p.length,g);if(w<0)return null;for(var C=new Uint8Array(w),S=0;S<C.length;S++)C[S]=m[S];return C},e.sign.detached=function(p,g){for(var m=e.sign(p,g),w=new Uint8Array(yn),C=0;C<w.length;C++)w[C]=m[C];return w},e.sign.detached.verify=function(p,g,m){if(Ft(p,g,m),g.length!==yn)throw new Error("bad signature size");if(m.length!==Wn)throw new Error("bad public key size");var w=new Uint8Array(yn+p.length),C=new Uint8Array(yn+p.length),S;for(S=0;S<yn;S++)w[S]=g[S];for(S=0;S<p.length;S++)w[S+yn]=p[S];return no(C,w,w.length,m)>=0},e.sign.keyPair=function(){var p=new Uint8Array(Wn),g=new Uint8Array(bi);return Qr(p,g),{publicKey:p,secretKey:g}},e.sign.keyPair.fromSecretKey=function(p){if(Ft(p),p.length!==bi)throw new Error("bad secret key size");for(var g=new Uint8Array(Wn),m=0;m<g.length;m++)g[m]=p[32+m];return{publicKey:g,secretKey:new Uint8Array(p)}},e.sign.keyPair.fromSeed=function(p){if(Ft(p),p.length!==ro)throw new Error("bad seed size");for(var g=new Uint8Array(Wn),m=new Uint8Array(bi),w=0;w<32;w++)m[w]=p[w];return Qr(g,m,!0),{publicKey:g,secretKey:m}},e.sign.publicKeyLength=Wn,e.sign.secretKeyLength=bi,e.sign.seedLength=ro,e.sign.signatureLength=yn,e.hash=function(p){Ft(p);var g=new Uint8Array(oo);return an(g,p,p.length),g},e.hash.hashLength=oo,e.verify=function(p,g){return Ft(p,g),p.length===0||g.length===0||p.length!==g.length?!1:q(p,0,g,0,p.length)===0},e.setPRNG=function(p){i=p},function(){var p=typeof globalThis<"u"?globalThis.crypto||globalThis.msCrypto:null;if(p&&p.getRandomValues){var g=65536;e.setPRNG(function(m,w){var C,S=new Uint8Array(w);for(C=0;C<w;C+=g)p.getRandomValues(S.subarray(C,C+Math.min(w-C,g)));for(C=0;C<w;C++)m[C]=S[C];Ql(S)})}else typeof require<"u"&&(p=require("crypto"),p&&p.randomBytes&&e.setPRNG(function(m,w){var C,S=p.randomBytes(w);for(C=0;C<w;C++)m[C]=S[C];Ql(S)}))}()})(typeof module<"u"&&module.exports?module.exports:globalThis.nacl=globalThis.nacl||{});const Ys=typeof module<"u"&&module.exports?module.exports:globalThis.nacl,Fw={fromSeed:Ys.sign.keyPair.fromSeed,sign:Ys.sign.detached,verify:Ys.sign.detached.verify,randomBytes:Ys.randomBytes};let Vd;function Dw(e){Vd=e}function Fn(){return Vd}const Bw=new Uint16Array([0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920]);class Ir{static checksum(t){let n=0;for(let i=0;i<t.byteLength;i++){let r=t[i];n=n<<8&65535^Bw[(n>>8^r)&255]}return n}static validate(t,n){return Ir.checksum(t)==n}}const Co="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";class Cc{static encode(t){let n=0,i=0,r=new Uint8Array(t),s=new Uint8Array(t.byteLength*2),o=0;for(let l=0;l<r.byteLength;l++)for(i=i<<8|r[l],n+=8;n>=5;){let c=i>>>n-5&31;s[o++]=Co.charAt(c).charCodeAt(0),n-=5}if(n>0){let l=i<<5-n&31;s[o++]=Co.charAt(l).charCodeAt(0)}return s.slice(0,o)}static decode(t){let n=0,i=0,r=0,s=new Uint8Array(t),o=new Uint8Array(s.byteLength*5/8|0);for(let l=0;l<s.byteLength;l++){let c=String.fromCharCode(s[l]),a=Co.indexOf(c);if(a===-1)throw new Error("Illegal Base32 character: "+s[l]);i=i<<5|a,n+=5,n>=8&&(o[r++]=i>>>n-8&255,n-=8)}return o.slice(0,r)}}class Ke extends Error{constructor(n,i){super(n);b(this,"name");b(this,"code");b(this,"chainedError");this.name="NKeysError",this.code=n,this.chainedError=i}}function Nw(){return Jr(Ve.Operator)}function zw(){return Jr(Ve.Account)}function jw(){return Jr(Ve.User)}var Be;(function(e){e.InvalidPrefixByte="nkeys: invalid prefix byte",e.InvalidKey="nkeys: invalid key",e.InvalidPublicKey="nkeys: invalid public key",e.InvalidSeedLen="nkeys: invalid seed length",e.InvalidSeed="nkeys: invalid seed",e.InvalidEncoding="nkeys: invalid encoded key",e.InvalidSignature="nkeys: signature verification failed",e.CannotSign="nkeys: cannot sign, no private key available",e.PublicKeyOnly="nkeys: no seed or private key available",e.InvalidChecksum="nkeys: invalid checksum",e.SerializationError="nkeys: serialization error",e.ApiError="nkeys: api error",e.ClearedPair="nkeys: pair is cleared"})(Be||(Be={}));var Ve;(function(e){e[e.Seed=144]="Seed",e[e.Private=120]="Private",e[e.Operator=112]="Operator",e[e.Server=104]="Server",e[e.Cluster=16]="Cluster",e[e.Account=0]="Account",e[e.User=160]="User"})(Ve||(Ve={}));class ki{static isValidPublicPrefix(t){return t==Ve.Server||t==Ve.Operator||t==Ve.Cluster||t==Ve.Account||t==Ve.User}static startsWithValidPrefix(t){let n=t[0];return n=="S"||n=="P"||n=="O"||n=="N"||n=="C"||n=="A"||n=="U"}static isValidPrefix(t){return this.parsePrefix(t)!=-1}static parsePrefix(t){switch(t){case Ve.Seed:return Ve.Seed;case Ve.Private:return Ve.Private;case Ve.Operator:return Ve.Operator;case Ve.Server:return Ve.Server;case Ve.Cluster:return Ve.Cluster;case Ve.Account:return Ve.Account;case Ve.User:return Ve.User;default:return-1}}}class St{static encode(t,n){if(!n||!(n instanceof Uint8Array))throw new Ke(Be.SerializationError);if(!ki.isValidPrefix(t))throw new Ke(Be.InvalidPrefixByte);return St._encode(!1,t,n)}static encodeSeed(t,n){if(!n)throw new Ke(Be.ApiError);if(!ki.isValidPublicPrefix(t))throw new Ke(Be.InvalidPrefixByte);if(n.byteLength!==32)throw new Ke(Be.InvalidSeedLen);return St._encode(!0,t,n)}static decode(t,n){if(!ki.isValidPrefix(t))throw new Ke(Be.InvalidPrefixByte);const i=St._decode(n);if(i[0]!==t)throw new Ke(Be.InvalidPrefixByte);return i.slice(1)}static decodeSeed(t){const n=St._decode(t),i=St._decodePrefix(n);if(i[0]!=Ve.Seed)throw new Ke(Be.InvalidSeed);if(!ki.isValidPublicPrefix(i[1]))throw new Ke(Be.InvalidPrefixByte);return{buf:n.slice(2),prefix:i[1]}}static _encode(t,n,i){const r=t?2:1,s=i.byteLength,o=r+s+2,l=r+s,c=new Uint8Array(o);if(t){const u=St._encodePrefix(Ve.Seed,n);c.set(u)}else c[0]=n;c.set(i,r);const a=Ir.checksum(c.slice(0,l));return new DataView(c.buffer).setUint16(l,a,!0),Cc.encode(c)}static _decode(t){if(t.byteLength<4)throw new Ke(Be.InvalidEncoding);let n;try{n=Cc.decode(t)}catch(l){throw new Ke(Be.InvalidEncoding,l)}const i=n.byteLength-2,s=new DataView(n.buffer).getUint16(i,!0),o=n.slice(0,i);if(!Ir.validate(o,s))throw new Ke(Be.InvalidChecksum);return o}static _encodePrefix(t,n){const i=t|n>>5,r=(n&31)<<3;return new Uint8Array([i,r])}static _decodePrefix(t){const n=t[0]&248,i=(t[0]&7)<<5|(t[1]&248)>>3;return new Uint8Array([n,i])}}class Kd{constructor(t){b(this,"seed");this.seed=t}getRawSeed(){if(!this.seed)throw new Ke(Be.ClearedPair);return St.decodeSeed(this.seed).buf}getSeed(){if(!this.seed)throw new Ke(Be.ClearedPair);return this.seed}getPublicKey(){if(!this.seed)throw new Ke(Be.ClearedPair);const t=St.decodeSeed(this.seed),n=Fn().fromSeed(this.getRawSeed()),i=St.encode(t.prefix,n.publicKey);return new TextDecoder().decode(i)}getPrivateKey(){if(!this.seed)throw new Ke(Be.ClearedPair);const t=Fn().fromSeed(this.getRawSeed());return St.encode(Ve.Private,t.secretKey)}sign(t){if(!this.seed)throw new Ke(Be.ClearedPair);const n=Fn().fromSeed(this.getRawSeed());return Fn().sign(t,n.secretKey)}verify(t,n){if(!this.seed)throw new Ke(Be.ClearedPair);const i=Fn().fromSeed(this.getRawSeed());return Fn().verify(t,n,i.publicKey)}clear(){this.seed&&(this.seed.fill(0),this.seed=void 0)}}function Jr(e){const t=Fn().randomBytes(32);let n=St.encodeSeed(e,new Uint8Array(t));return new Kd(n)}class Vw{constructor(t){b(this,"publicKey");this.publicKey=t}getPublicKey(){if(!this.publicKey)throw new Ke(Be.ClearedPair);return new TextDecoder().decode(this.publicKey)}getPrivateKey(){throw this.publicKey?new Ke(Be.PublicKeyOnly):new Ke(Be.ClearedPair)}getSeed(){throw this.publicKey?new Ke(Be.PublicKeyOnly):new Ke(Be.ClearedPair)}sign(t){throw this.publicKey?new Ke(Be.CannotSign):new Ke(Be.ClearedPair)}verify(t,n){if(!this.publicKey)throw new Ke(Be.ClearedPair);let i=St._decode(this.publicKey);return Fn().verify(t,n,i.slice(1))}clear(){this.publicKey&&(this.publicKey.fill(0),this.publicKey=void 0)}}function Kw(e){const t=new TextEncoder().encode(e),n=St._decode(t),i=ki.parsePrefix(n[0]);if(ki.isValidPublicPrefix(i))return new Vw(t);throw new Ke(Be.InvalidPublicKey)}function Uw(e){return St.decodeSeed(e),new Kd(e)}function Hw(e){return btoa(String.fromCharCode(...e))}function $w(e){const t=atob(e),n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}Dw(Fw);const Sc={createAccount:zw,createOperator:Nw,createPair:Jr,createUser:jw,fromPublic:Kw,fromSeed:Uw,NKeysError:Ke,NKeysErrorCode:Be,Prefix:Ve,decode:$w,encode:Hw};function qw(e){return e.authenticator?e.authenticator:e.token?Jw(e.token):e.user?Ww(e.user,e.pass):Gw()}function Gw(){return()=>{}}function Ww(e,t){return()=>{const n=typeof e=="function"?e():e,i=typeof t=="function"?t():t;return{user:n,pass:i}}}function Jw(e){return()=>({auth_token:typeof e=="function"?e():e})}function Yw(e){return t=>{const n=typeof e=="function"?e():e,i=n?Sc.fromSeed(n):void 0,r=i?i.getPublicKey():"",s=$n.encode(t||""),o=i!==void 0&&t?i.sign(s):void 0,l=o?Sc.encode(o):"";return{nkey:r,sig:l}}}function Xw(e,t){return n=>{const i=typeof e=="function"?e():e,r=Yw(t),{nkey:s,sig:o}=r(n);return{jwt:i,nkey:s,sig:o}}}function Zw(e){const t=typeof e!="function"?()=>e:e,n=()=>{const s=/\s*(?:(?:[-]{3,}[^\n]*[-]{3,}\n)(.+)(?:\n\s*[-]{3,}[^\n]*[-]{3,}\n))/ig,o=ln.decode(t());let l=s.exec(o);if(!l)throw fe.errorForCode(Y.BadCreds);const c=l[1].trim();if(l=s.exec(o),!l||!l)throw fe.errorForCode(Y.BadCreds);const a=$n.encode(l[1].trim());return{jwt:c,seed:a}};return Xw(()=>{const{jwt:s}=n();return s},()=>{const{seed:s}=n();return s})}function Qw(){return{maxPingOut:2,maxReconnectAttempts:10,noRandomize:!1,pedantic:!1,pingInterval:Sd,reconnect:!0,reconnectJitter:100,reconnectJitterTLS:1e3,reconnectTimeWait:Cd,tls:void 0,verbose:!1,waitOnFirstConnect:!1,ignoreAuthErrorAbort:!1}}function e0(e){const t=`${qo}:${Ld()}`;if(e=e||{servers:[t]},e.servers=e.servers||[],typeof e.servers=="string"&&(e.servers=[e.servers]),e.servers.length>0&&e.port)throw new fe("port and servers options are mutually exclusive",Y.InvalidOption);e.servers.length===0&&e.port&&(e.servers=[`${qo}:${e.port}`]),e.servers&&e.servers.length===0&&(e.servers=[t]);const n=qr(Qw(),e);if(e.user&&e.token||e.authenticator&&(e.token||e.user||e.pass))throw fe.errorForCode(Y.BadAuthentication);if(n.authenticator=qw(n),["reconnectDelayHandler","authenticator"].forEach(i=>{if(n[i]&&typeof n[i]!="function")throw new fe(`${i} option should be a function`,Y.NotFunction)}),n.reconnectDelayHandler||(n.reconnectDelayHandler=()=>{let i=n.tls?n.reconnectJitterTLS:n.reconnectJitter;return i&&(i++,i=Math.floor(Math.random()*i)),n.reconnectTimeWait+i}),n.inboxPrefix)try{jn(n.inboxPrefix)}catch(i){throw new fe(i.message,Y.ApiError)}if(n.resolve&&typeof Md()!="function")throw new fe("'resolve' is not supported on this client",Y.InvalidOption);return n}function Ud(){return{key:{encode(e){return e},decode(e){return e}},value:{encode(e){return e},decode(e){return e}}}}function t0(){return{replicas:1,history:1,timeout:2e3,maxBucketSize:-1,maxValueSize:-1,codec:Ud(),storage:Wo.File}}const Xs="KV-Operation",$t="KV_",Ic="$KV",n0=/^[-/=.\w]+$/,i0=/^[-/=.>*\w]+$/,s0=/^[-\w]+$/;function Hd(e){if(e.startsWith(".")||e.endsWith(".")||!n0.test(e))throw new Error(`invalid key: ${e}`)}function r0(e){if(e.startsWith(".")||e.endsWith(".")||!i0.test(e))throw new Error(`invalid key: ${e}`)}function o0(e){if(e.startsWith(".")||e.endsWith("."))throw new Error(`invalid key: ${e}`);const t=e.split(".");let n=!1;for(let i=0;i<t.length;i++)switch(t[i]){case"*":n=!0;break;case">":if(i!==t.length-1)throw new Error(`invalid key: ${e}`);n=!0;break}return n}function ar(e){if(!s0.test(e))throw new Error(`invalid bucket name: ${e}`)}class Rs{constructor(t,n,i){b(this,"jsm");b(this,"js");b(this,"stream");b(this,"bucket");b(this,"direct");b(this,"codec");b(this,"prefix");b(this,"editPrefix");b(this,"useJsPrefix");b(this,"_prefixLen");b(this,"validateKey",Hd);b(this,"validateSearchKey",r0);b(this,"hasWildcards",o0);ar(t),this.jsm=n,this.js=i,this.bucket=t,this.prefix=Ic,this.editPrefix="",this.useJsPrefix=!1,this._prefixLen=0}static async create(t,n,i={}){const r=t,{ok:s,min:o}=r.nc.features.get(Nt.JS_KV);if(!s)return Promise.reject(new Error(`kv is only supported on servers ${o} or better`));ar(n);const l=i.timeout||2e3;let c=r.opts||{};c=Object.assign(c,{timeout:l});const a=await r.nc.jetstreamManager(c),d=new Rs(n,a,t);return await d.init(i),d}static async bind(t,n,i={}){const s=await t.nc.jetstreamManager(),o=await s.streams.info(`${$t}${n}`);ar(o.config.name);const l=new Rs(n,s,t);return Object.assign(l,o),l.codec=i.codec||Ud(),l.direct=o.config.allow_direct??!1,l.initializePrefixes(o),l}async init(t={}){const n=Object.assign(t0(),t);this.codec=n.codec;const i={};this.stream=i.name=t.streamName??this.bucketName(),i.retention=Go.Limits,i.max_msgs_per_subject=n.history,n.maxBucketSize&&(n.max_bytes=n.maxBucketSize),n.max_bytes&&(i.max_bytes=n.max_bytes),i.max_msg_size=n.maxValueSize,i.storage=n.storage;const r=t.placementCluster??"";if(r&&(t.placement={},t.placement.cluster=r,t.placement.tags=[]),t.placement&&(i.placement=t.placement),t.republish&&(i.republish=t.republish),t.description&&(i.description=t.description),t.mirror){const u=Object.assign({},t.mirror);u.name.startsWith($t)||(u.name=`${$t}${u.name}`),i.mirror=u,i.mirror_direct=!0}else if(t.sources){const u=t.sources.map(h=>{const f=Object.assign({},h);f.name.startsWith($t)||(f.name=`${$t}${f.name}`)});i.sources=u}else i.subjects=[this.subjectForBucket()];const s=this.js.nc,o=s.getServerVersion(),l=o?Yo(o,ui("2.7.2"))>=0:!1;i.discard=l?ks.New:ks.Old;const{ok:c,min:a}=s.features.get(Nt.JS_ALLOW_DIRECT);if(!c&&t.allow_direct===!0){const u=o?`${o.major}.${o.minor}.${o.micro}`:"unknown";return Promise.reject(new Error(`allow_direct is not available on server version ${u} - requires ${a}`))}t.allow_direct=typeof t.allow_direct=="boolean"?t.allow_direct:c,i.allow_direct=t.allow_direct,this.direct=i.allow_direct,i.num_replicas=n.replicas,n.ttl&&(i.max_age=ct(n.ttl)),i.allow_rollup_hdrs=!0;let d;try{d=await this.jsm.streams.info(i.name),!d.config.allow_direct&&this.direct===!0&&(this.direct=!1)}catch(u){if(u.message==="stream not found")d=await this.jsm.streams.add(i);else throw u}this.initializePrefixes(d)}initializePrefixes(t){this._prefixLen=0,this.prefix=`$KV.${this.bucket}`,this.useJsPrefix=this.js.opts.apiPrefix!=="$JS.API";const{mirror:n}=t.config;if(n){let i=n.name;if(i.startsWith($t)&&(i=i.substring($t.length)),n.external&&n.external.api!==""){const r=n.name.substring($t.length);this.useJsPrefix=!1,this.prefix=`$KV.${r}`,this.editPrefix=`${n.external.api}.$KV.${i}`}else this.editPrefix=this.prefix}}bucketName(){return this.stream??`${$t}${this.bucket}`}subjectForBucket(){return`${this.prefix}.${this.bucket}.>`}subjectForKey(t,n=!1){const i=[];return n?(this.useJsPrefix&&i.push(this.js.apiPrefix),this.editPrefix!==""?i.push(this.editPrefix):i.push(this.prefix)):this.prefix&&i.push(this.prefix),i.push(t),i.join(".")}fullKeyName(t){return this.prefix!==""?`${this.prefix}.${t}`:`${Ic}.${this.bucket}.${t}`}get prefixLen(){return this._prefixLen===0&&(this._prefixLen=this.prefix.length+1),this._prefixLen}encodeKey(t){const n=[];for(const i of t.split("."))switch(i){case">":case"*":n.push(i);break;default:n.push(this.codec.key.encode(i));break}return n.join(".")}decodeKey(t){const n=[];for(const i of t.split("."))switch(i){case">":case"*":n.push(i);break;default:n.push(this.codec.key.decode(i));break}return n.join(".")}close(){return Promise.resolve()}dataLen(t,n){const i=n&&n.get(sn.MessageSizeHdr)||"";return i!==""?parseInt(i,10):t.length}smToEntry(t){return{bucket:this.bucket,key:t.subject.substring(this.prefixLen),value:t.data,delta:0,created:t.time,revision:t.seq,operation:t.header.get(Xs)||"PUT",length:this.dataLen(t.data,t.header)}}jmToEntry(t){var i;const n=this.decodeKey(t.subject.substring(this.prefixLen));return{bucket:this.bucket,key:n,value:t.data,created:new Date(Vl(t.info.timestampNanos)),revision:t.seq,operation:((i=t.headers)==null?void 0:i.get(Xs))||"PUT",delta:t.info.pending,length:this.dataLen(t.data,t.headers)}}create(t,n){return this.put(t,n,{previousSeq:0})}update(t,n,i){if(i<=0)throw new Error("version must be greater than 0");return this.put(t,n,{previousSeq:i})}async put(t,n,i={}){var o,l;const r=this.encodeKey(t);this.validateKey(r);const s={};if(i.previousSeq!==void 0){const c=In();s.headers=c,c.set("Nats-Expected-Last-Subject-Sequence",`${i.previousSeq}`)}try{return(await this.js.publish(this.subjectForKey(r,!0),n,s)).seq}catch(c){const a=c;return a.isJetStreamError()?(a.message=(o=a.api_error)==null?void 0:o.description,a.code=`${(l=a.api_error)==null?void 0:l.code}`,Promise.reject(a)):Promise.reject(c)}}async get(t,n){const i=this.encodeKey(t);this.validateKey(i);let r={last_by_subj:this.subjectForKey(i)};n&&n.revision>0&&(r={seq:n.revision});let s;try{this.direct?s=await this.jsm.direct.getMessage(this.bucketName(),r):s=await this.jsm.streams.getMessage(this.bucketName(),r);const o=this.smToEntry(s);return o.key!==i?null:o}catch(o){if(o.code===Y.JetStream404NoMessages)return null;throw o}}purge(t){return this._deleteOrPurge(t,"PURGE")}delete(t){return this._deleteOrPurge(t,"DEL")}async purgeDeletes(t=30*60*1e3){const n=st(),i=[],r=await this.watch({key:">",initializedFn:()=>{n.resolve()}});(async()=>{for await(const c of r)(c.operation==="DEL"||c.operation==="PURGE")&&i.push(c)})().then(),await n,r.stop();const s=Date.now()-t,o=i.map(c=>{const a=this.subjectForKey(c.key);return c.created.getTime()>=s?this.jsm.streams.purge(this.stream,{filter:a,keep:1}):this.jsm.streams.purge(this.stream,{filter:a,keep:0})}),l=await Promise.all(o);return l.unshift({success:!0,purged:0}),l.reduce((c,a)=>(c.purged+=a.purged,c))}async _deleteOrPurge(t,n){if(!this.hasWildcards(t))return this._doDeleteOrPurge(t,n);const i=await this.keys(t),r=[];for await(const s of i)r.push(this._doDeleteOrPurge(s,n)),r.length===100&&(await Promise.all(r),r.length=0);r.length>0&&await Promise.all(r)}async _doDeleteOrPurge(t,n){const i=this.encodeKey(t);this.validateKey(i);const r=In();r.set(Xs,n),n==="PURGE"&&r.set(sn.RollupHdr,sn.RollupValueSubject),await this.js.publish(this.subjectForKey(i,!0),It,{headers:r})}_buildCC(t,n=!1,i={}){const r=this.encodeKey(t);return this.validateSearchKey(t),Object.assign({deliver_policy:n?Bt.All:Bt.LastPerSubject,ack_policy:bt.None,filter_subject:this.fullKeyName(r),flow_control:!0,idle_heartbeat:ct(5*1e3)},i)}remove(t){return this.purge(t)}async history(t={}){const n=t.key??">",i=new At,r={};r.headers_only=t.headers_only||!1;let s;s=()=>{i.stop()};let o=0;const l=this._buildCC(n,!0,r),c=l.filter_subject,a=Vn(l);a.bindStream(this.stream),a.orderedConsumer(),a.callback((u,h)=>{if(u){i.stop(u);return}if(h){const f=this.jmToEntry(h);i.push(f),i.received++,(s&&o>0&&i.received>=o||h.info.pending===0)&&(i.push(s),s=void 0)}});const d=await this.js.subscribe(c,a);if(s){const{info:{last:u}}=d,h=u.num_pending+u.delivered.consumer_seq;if(h===0||i.received>=h)try{s()}catch(f){i.stop(f)}finally{s=void 0}else o=h}return i._data=d,i.iterClosed.then(()=>{d.unsubscribe()}),d.closed.then(()=>{i.stop()}).catch(u=>{i.stop(u)}),i}async watch(t={}){const n=t.key??">",i=new At,r={};r.headers_only=t.headers_only||!1;let s=t.initializedFn,o=0;const l=this._buildCC(n,!1,r),c=l.filter_subject,a=Vn(l);a.bindStream(this.stream),a.orderedConsumer(),a.callback((u,h)=>{if(u){i.stop(u);return}if(h){const f=this.jmToEntry(h);i.push(f),i.received++,s&&(o>0&&i.received>=o||h.info.pending===0)&&(i.push(s),s=void 0)}});const d=await this.js.subscribe(c,a);if(s){const{info:{last:u}}=d,h=u.num_pending+u.delivered.consumer_seq;if(h===0||i.received>=h)try{s()}catch(f){i.stop(f)}finally{s=void 0}else o=h}return i._data=d,i.iterClosed.then(()=>{d.unsubscribe()}),d.closed.then(()=>{i.stop()}).catch(u=>{i.stop(u)}),i}async keys(t=">"){const n=new At,i=this._buildCC(t,!1,{headers_only:!0}),r=i.filter_subject,s=Vn(i);s.bindStream(this.stream),s.orderedConsumer();const o=await this.js.subscribe(r,s);return(async()=>{var c;for await(const a of o){const d=(c=a.headers)==null?void 0:c.get(Xs);if(d!=="DEL"&&d!=="PURGE"){const u=this.decodeKey(a.subject.substring(this.prefixLen));n.push(u)}a.info.pending===0&&o.unsubscribe()}})().then(()=>{n.stop()}).catch(c=>{n.stop(c)}),o.info.last.num_pending===0&&o.unsubscribe(),n}purgeBucket(t){return this.jsm.streams.purge(this.bucketName(),t)}destroy(){return this.jsm.streams.delete(this.bucketName())}async status(){var s;const n=((s=this.js.nc.info)==null?void 0:s.cluster)??"",i=this.bucketName(),r=await this.jsm.streams.info(i);return new $d(r,n)}}class $d{constructor(t,n=""){b(this,"si");b(this,"cluster");this.si=t,this.cluster=n}get bucket(){return this.si.config.name.startsWith($t)?this.si.config.name.substring($t.length):this.si.config.name}get values(){return this.si.state.messages}get history(){return this.si.config.max_msgs_per_subject}get ttl(){return Vl(this.si.config.max_age)}get bucket_location(){return this.cluster}get backingStore(){return this.si.config.storage}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get description(){return this.si.config.description??""}get maxBucketSize(){return this.si.config.max_bytes}get maxValueSize(){return this.si.config.max_msg_size}get max_bytes(){return this.si.config.max_bytes}get placement(){return this.si.config.placement||{cluster:"",tags:[]}}get placementCluster(){var t;return((t=this.si.config.placement)==null?void 0:t.cluster)??""}get republish(){return this.si.config.republish??{src:"",dest:""}}get streamInfo(){return this.si}get size(){return this.si.state.bytes}}const Kl="OBJ_",Ec="SHA-256=";function l0(e){return ar(e),`${Kl}${e}`}function a0(e){return e.startsWith(Kl)?e.substring(4):e}class Qo{constructor(t){b(this,"si");b(this,"backingStore");this.si=t,this.backingStore="JetStream"}get bucket(){return a0(this.si.config.name)}get description(){return this.si.config.description??""}get ttl(){return this.si.config.max_age}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get sealed(){return this.si.config.sealed}get size(){return this.si.state.bytes}get streamInfo(){return this.si}}function Zs(e){if(e===void 0)return;const{domain:t}=e;if(t===void 0)return e;const n=Object.assign({},e);if(delete n.domain,t==="")return n;if(n.external)throw new Error("domain and external are both set");return n.external={api:`$JS.${t}.API`},n}class c0 extends Ms{constructor(t,n){super(t,n)}async add(t={}){var r;Pt(t.name),t.mirror=Zs(t.mirror),t.sources=(r=t.sources)==null?void 0:r.map(Zs);const i=await this._request(`${this.prefix}.STREAM.CREATE.${t.name}`,t);return this._fixInfo(i),i}async delete(t){return Pt(t),(await this._request(`${this.prefix}.STREAM.DELETE.${t}`)).success}async update(t,n={}){var l;if(typeof t=="object"){const c=t;t=c.name,n=c,console.trace("\x1B[33m >> streams.update(config: StreamConfig) api changed to streams.update(name: string, config: StreamUpdateConfig) - this shim will be removed - update your code.  \x1B[0m")}Pt(t);const i=await this.info(t),r=Object.assign(i.config,n);r.mirror=Zs(r.mirror),r.sources=(l=r.sources)==null?void 0:l.map(Zs);const o=await this._request(`${this.prefix}.STREAM.UPDATE.${t}`,r);return this._fixInfo(o),o}async info(t,n){Pt(t);const i=`${this.prefix}.STREAM.INFO.${t}`;let s=await this._request(i,n),{total:o,limit:l}=s,c=s.state.subjects?Object.getOwnPropertyNames(s.state.subjects).length:1;if(o&&o>c){const a=[s],d=n||{};let u=0;for(;o>c;){u++,d.offset=l*u;const f=await this._request(i,d);o=f.total,a.push(f);const v=Object.getOwnPropertyNames(f.state.subjects).length;if(c+=v,v<l)break}let h={};for(let f=0;f<a.length;f++)s=a[f],s.state.subjects&&(h=Object.assign(h,s.state.subjects));s.offset=0,s.total=0,s.limit=0,s.state.subjects=h}return this._fixInfo(s),s}list(t=""){const n=t!=null&&t.length?{subject:t}:{},i=s=>{const o=s;return o.streams.forEach(l=>{this._fixInfo(l)}),o.streams},r=`${this.prefix}.STREAM.LIST`;return new is(r,i,this,n)}_fixInfo(t){t.config.sealed=t.config.sealed||!1,t.config.deny_delete=t.config.deny_delete||!1,t.config.deny_purge=t.config.deny_purge||!1,t.config.allow_rollup_hdrs=t.config.allow_rollup_hdrs||!1}async purge(t,n){if(n){const{keep:r,seq:s}=n;if(typeof r=="number"&&typeof s=="number")throw new Error("can specify one of keep or seq")}return Pt(t),await this._request(`${this.prefix}.STREAM.PURGE.${t}`,n)}async deleteMessage(t,n,i=!0){Pt(t);const r={seq:n};return i||(r.no_erase=!0),(await this._request(`${this.prefix}.STREAM.MSG.DELETE.${t}`,r)).success}async getMessage(t,n){Pt(t);const r=await this._request(`${this.prefix}.STREAM.MSG.GET.${t}`,n);return new b0(r)}find(t){return this.findStream(t)}listKvs(){const t=i=>{var c;const s=i.streams.filter(a=>a.config.name.startsWith($t));s.forEach(a=>{this._fixInfo(a)});let o="";return s.length&&(o=((c=this.nc.info)==null?void 0:c.cluster)??""),s.map(a=>new $d(a,o))},n=`${this.prefix}.STREAM.LIST`;return new is(n,t,this)}listObjectStores(){const t=i=>{const s=i.streams.filter(l=>l.config.name.startsWith(Kl));return s.forEach(l=>{this._fixInfo(l)}),s.map(l=>new Qo(l))},n=`${this.prefix}.STREAM.LIST`;return new is(n,t,this)}names(t=""){const n=t!=null&&t.length?{subject:t}:{},i=s=>s.streams,r=`${this.prefix}.STREAM.NAMES`;return new is(r,i,this,n)}}class u0 extends Ms{constructor(n,i){super(n,i);b(this,"streams");b(this,"consumers");b(this,"direct");this.streams=new c0(n,i),this.consumers=new Ad(n,i),this.direct=new Lw(n,i)}async getAccountInfo(){return await this._request(`${this.prefix}.INFO`)}advisories(){const n=new At;return this.nc.subscribe("$JS.EVENT.ADVISORY.>",{callback:(i,r)=>{if(i)throw i;try{const s=this.parseJsResponse(r),o=s.type.split("."),l=o[o.length-1];n.push({kind:l,data:s})}catch(s){n.stop(s)}}}),n}}var ri;(function(e){e.MsgIdHdr="Nats-Msg-Id",e.ExpectedStreamHdr="Nats-Expected-Stream",e.ExpectedLastSeqHdr="Nats-Expected-Last-Sequence",e.ExpectedLastMsgIdHdr="Nats-Expected-Last-Msg-Id",e.ExpectedLastSubjectSequenceHdr="Nats-Expected-Last-Subject-Sequence"})(ri||(ri={}));class So{constructor(t){b(this,"info");b(this,"hdrs");this.info=t}get name(){return this.info.name}get description(){return this.info.description??""}get headers(){return this.hdrs||(this.hdrs=zn.fromRecord(this.info.headers||{})),this.hdrs}get options(){return this.info.options}get bucket(){return this.info.bucket}get chunks(){return this.info.chunks}get deleted(){return this.info.deleted??!1}get digest(){return this.info.digest}get mtime(){return this.info.mtime}get nuid(){return this.info.nuid}get size(){return this.info.size}}function kc(e){const t={name:e.name,description:e.description??"",options:e.options};if(e.headers){const n=e.headers;t.headers=n.toRecord()}return t}function d0(e){return{name:e.name,description:e.description,headers:e.headers,options:e.options}}function h0(){return new ReadableStream({pull(e){e.enqueue(new Uint8Array(0)),e.close()}})}class ms{constructor(t,n,i){b(this,"jsm");b(this,"js");b(this,"stream");b(this,"name");this.name=t,this.jsm=n,this.js=i}_sanitizeName(t){if(!t||t.length===0)return{name:t,error:new Error("name cannot be empty")};t=t.replace(/[. ]/g,"_");let n;try{Hd(t)}catch(i){n=i}return{name:t,error:n}}async info(t){const n=await this.rawInfo(t);return n?new So(n):null}async list(){const t=[],n=await this.watch({ignoreDeletes:!0,includeHistory:!0});for await(const i of n){if(i===null)break;t.push(i)}return Promise.resolve(t)}async rawInfo(t){const{name:n,error:i}=this._sanitizeName(t);if(i)return Promise.reject(i);const r=this._metaSubject(n);try{const s=await this.jsm.streams.getMessage(this.stream,{last_by_subj:r});return tn().decode(s.data)}catch(s){return s.code==="404"?null:Promise.reject(s)}}async _si(t){try{return await this.jsm.streams.info(this.stream,t)}catch(n){return n.code==="404"?null:Promise.reject(n)}}async seal(){let t=await this._si();return t===null?Promise.reject(new Error("object store not found")):(t.config.sealed=!0,t=await this.jsm.streams.update(this.stream,t.config),Promise.resolve(new Qo(t)))}async status(t){const n=await this._si(t);return n===null?Promise.reject(new Error("object store not found")):Promise.resolve(new Qo(n))}destroy(){return this.jsm.streams.delete(this.stream)}async _put(t,n,i){var L,q;const r=this.js;i=i||{timeout:r.timeout},i.timeout=i.timeout||1e3;const{timeout:s}=i,o=((L=r.nc.info)==null?void 0:L.max_payload)||1024;t=t||{},t.options=t.options||{};let l=((q=t.options)==null?void 0:q.max_chunk_size)||128*1024;l=l>o?o:l,t.options.max_chunk_size=l;const c=await this.info(t.name),{name:a,error:d}=this._sanitizeName(t.name);if(d)return Promise.reject(d);const u=Wr.next(),h=this._chunkSubject(u),f=this._metaSubject(a),v=Object.assign({bucket:this.name,nuid:u,size:0,chunks:0},kc(t)),k=st(),O=[],A=new Ts;try{const T=n?n.getReader():null,B=new _c;for(;;){const{done:Z,value:te}=T?await T.read():{done:!0,value:void 0};if(Z){if(A.size()>0){const re=A.drain();B.update(re),v.chunks++,v.size+=re.length,O.push(this.js.publish(h,re,{timeout:s}))}v.mtime=new Date().toISOString();const H=B.digest("base64"),be=H.length%3,ve=be>0?"=".repeat(be):"";v.digest=`${Ec}${H}${ve}`,v.deleted=!1;const Ee=In();Ee.set(sn.RollupHdr,sn.RollupValueSubject),O.push(this.js.publish(f,tn().encode(v),{headers:Ee,timeout:s})),c&&O.push(this.jsm.streams.purge(this.stream,{filter:`$O.${this.name}.C.${c.nuid}`})),await Promise.all(O),k.resolve(new So(v));break}if(te)for(A.fill(te);A.size()>l;){v.chunks++,v.size+=l;const H=A.drain(t.options.max_chunk_size);B.update(H),O.push(this.js.publish(h,H,{timeout:s}))}}}catch(T){await this.jsm.streams.purge(this.stream,{filter:h}),k.reject(T)}return k}put(t,n,i){var r;return(r=t==null?void 0:t.options)!=null&&r.link?Promise.reject(new Error("link cannot be set when putting the object in bucket")):this._put(t,n,i)}async get(t){const n=await this.rawInfo(t);if(n===null||n.deleted)return Promise.resolve(null);if(n.options&&n.options.link){const d=n.options.link.name||"";if(d==="")throw new Error("link is a bucket");return(await ms.create(this.js,n.options.link.bucket)).get(d)}const i=st(),r={info:new So(n),error:i};if(n.size===0)return r.data=h0(),i.resolve(null),Promise.resolve(r);let s;const o=Vn();o.orderedConsumer();const l=new _c,c=`$O.${this.name}.C.${n.nuid}`,a=await this.js.subscribe(c,o);return(async()=>{for await(const d of a)if(d.data.length>0&&(l.update(d.data),s.enqueue(d.data)),d.info.pending===0){const u=l.digest("base64"),h=u.length%3,f=h>0?"=".repeat(h):"",v=`${Ec}${u}${f}`;v!==n.digest?s.error(new Error(`received a corrupt object, digests do not match received: ${n.digest} calculated ${v}`)):s.close(),a.unsubscribe()}})().then(()=>{i.resolve()}).catch(d=>{s.error(d),i.reject(d)}),r.data=new ReadableStream({start(d){s=d},cancel(){a.unsubscribe()}}),r}linkStore(t,n){if(!(n instanceof ms))return Promise.reject("bucket required");const i=n,{name:r,error:s}=this._sanitizeName(t);if(s)return Promise.reject(s);const o={name:r,options:{link:{bucket:i.name}}};return this._put(o,null)}async link(t,n){if(n.deleted)return Promise.reject(new Error("object is deleted"));const{name:i,error:r}=this._sanitizeName(t);if(r)return Promise.reject(r);if(this.name===n.bucket){const l=Object.assign({},d0(n));l.name=i;try{return await this.update(n.name,l),await this.info(i)}catch(c){return Promise.reject(c)}}const s={bucket:n.bucket,name:n.name},o={name:i,options:{link:s}};return this._put(o,null)}async delete(t){const n=await this.rawInfo(t);if(n===null)return Promise.resolve({purged:0,success:!1});n.deleted=!0,n.size=0,n.chunks=0,n.digest="";const i=tn(),r=In();return r.set(sn.RollupHdr,sn.RollupValueSubject),await this.js.publish(this._metaSubject(n.name),i.encode(n),{headers:r}),this.jsm.streams.purge(this.stream,{filter:this._chunkSubject(n.nuid)})}async update(t,n={}){const i=await this.rawInfo(t);if(i===null)return Promise.reject(new Error("object not found"));if(i.deleted)return Promise.reject(new Error("cannot update meta for a deleted object"));n.name=n.name??i.name;const{name:r,error:s}=this._sanitizeName(n.name);if(s)return Promise.reject(s);if(t!==n.name){const c=await this.info(n.name);if(c&&!c.deleted)return Promise.reject(new Error("an object already exists with that name"))}n.name=r;const o=Object.assign({},i,kc(n)),l=tn();return this.js.publish(this._metaSubject(o.name),l.encode(o))}async watch(t={}){t.includeHistory=t.includeHistory??!1,t.ignoreDeletes=t.ignoreDeletes??!1;let n=!1;const i=new At,r=this._metaSubjectAll();try{await this.jsm.streams.getMessage(this.stream,{last_by_subj:r})}catch(c){c.code==="404"?(i.push(null),n=!0):i.stop(c)}const s=tn(),o=Vn();o.orderedConsumer(),t.includeHistory?o.deliverLastPerSubject():(n=!0,o.deliverNew()),o.callback((c,a)=>{var d;if(c){i.stop(c);return}if(a!==null){const u=s.decode(a.data);u.deleted&&t.ignoreDeletes===!0||i.push(u),((d=a.info)==null?void 0:d.pending)===0&&!n&&(n=!0,i.push(null))}});const l=await this.js.subscribe(r,o);return i._data=l,i.iterClosed.then(()=>{l.unsubscribe()}),l.closed.then(()=>{i.stop()}).catch(c=>{i.stop(c)}),i}_chunkSubject(t){return`$O.${this.name}.C.${t}`}_metaSubject(t){return`$O.${this.name}.M.${Sr.encode(t)}`}_metaSubjectAll(){return`$O.${this.name}.M.>`}async init(t={}){try{this.stream=l0(this.name)}catch(i){return Promise.reject(i)}const n=Object.assign({},t);n.name=this.stream,n.allow_rollup_hdrs=!0,n.discard=ks.New,n.subjects=[`$O.${this.name}.C.>`,`$O.${this.name}.M.>`],t.placement&&(n.placement=t.placement);try{await this.jsm.streams.info(n.name)}catch(i){i.message==="stream not found"&&await this.jsm.streams.add(n)}}static async create(t,n,i={}){var u;if(typeof((u=crypto==null?void 0:crypto.subtle)==null?void 0:u.digest)!="function")return Promise.reject(new Error("objectstore: unable to calculate hashes - crypto.subtle.digest with sha256 support is required"));const r=t,{ok:s,min:o}=r.nc.features.get(Nt.JS_OBJECTSTORE);if(!s)return Promise.reject(new Error(`objectstore is only supported on servers ${o} or better`));let l=r.opts||{};const c=l.timeout||2e3;l=Object.assign(l,{timeout:c});const a=await r.nc.jetstreamManager(l),d=new ms(n,a,t);return await d.init(i),Promise.resolve(d)}}class f0{constructor(t){b(this,"js");this.js=t}kv(t,n={}){return n.bindOnly?Rs.bind(this.js,t):Rs.create(this.js,t,n)}os(t,n={}){return C0(this.js.nc),ms.create(this.js,t,n)}}class Ul extends Ms{constructor(n,i){super(n,i);b(this,"api");this.api=new Ad(n,i)}get apiPrefix(){return this.prefix}get views(){return new f0(this)}async publish(n,i=It,r){r=r||{},r.expect=r.expect||{};const s=(r==null?void 0:r.headers)||In();r&&(r.msgID&&s.set(ri.MsgIdHdr,r.msgID),r.expect.lastMsgID&&s.set(ri.ExpectedLastMsgIdHdr,r.expect.lastMsgID),r.expect.streamName&&s.set(ri.ExpectedStreamHdr,r.expect.streamName),typeof r.expect.lastSequence=="number"&&s.set(ri.ExpectedLastSeqHdr,`${r.expect.lastSequence}`),typeof r.expect.lastSubjectSequence=="number"&&s.set(ri.ExpectedLastSubjectSequenceHdr,`${r.expect.lastSubjectSequence}`));const o=r.timeout||this.timeout,l={};o&&(l.timeout=o),r&&(l.headers=s);let{retries:c,retry_delay:a}=r;c=c||1,a=a||250;let d;for(let h=0;h<c;h++)try{d=await this.nc.request(n,i,l);break}catch(f){if(f.code==="503"&&h+1<c)await jl(a);else throw f}const u=this.parseJsResponse(d);if(u.stream==="")throw fe.errorForCode(Y.JetStreamInvalidAck);return u.duplicate=u.duplicate?u.duplicate:!1,u}async pull(n,i,r=0){Pt(n),Ti(i);let s=this.timeout;r>s&&(s=r),r=r<0?0:ct(r);const o={batch:1,no_wait:r===0,expires:r},l=await this.nc.request(`${this.prefix}.CONSUMER.MSG.NEXT.${n}.${i}`,this.jc.encode(o),{noMux:!0,timeout:s}),c=Mi(l);if(c)throw c;return _r(l)}fetch(n,i,r={}){Pt(n),Ti(i);let s=null;const o=(r.max_bytes??0)>0;let l=0;const c=o?r.max_bytes:0;let a=null;const d={};if(d.batch=r.batch||1,c){const L=this.nc.features.get(Nt.JS_PULL_MAX_BYTES);if(!L.ok)throw new Error(`max_bytes is only supported on servers ${L.min} or better`);d.max_bytes=c}d.no_wait=r.no_wait||!1,d.no_wait&&d.expires&&(d.expires=0);const u=r.expires||0;if(u&&(d.expires=ct(u)),u===0&&d.no_wait===!1)throw new Error("expires or no_wait is required");const h=r.idle_heartbeat||0;h&&(d.idle_heartbeat=ct(h),r.delay_heartbeat===!0&&(d.idle_heartbeat=ct(h*4)));const f=new At,v=d.batch;let k=0;f.protocolFilterFn=(L,q=!1)=>hc(L.msg)?(a==null||a.work(),!1):!0,f.dispatchedFn=L=>{if(L){if(o&&(l+=L.data.length),k++,s&&L.info.pending===0)return;(f.getPending()===1&&L.info.pending===0||v===k||c>0&&l>=c)&&f.stop()}};const O=jn(this.nc.options.inboxPrefix),A=this.nc.subscribe(O,{max:r.batch,callback:(L,q)=>{L===null&&(L=Mi(q)),L!==null?(s&&(s.cancel(),s=null),_y(L)?f.stop(Gd(L)===null?void 0:L):f.stop(L)):(a==null||a.work(),f.received++,f.push(_r(q)))}});return u&&(s=Gr(u),s.catch(()=>{A.isClosed()||(A.drain().catch(()=>{}),s=null),a&&a.cancel()})),(async()=>{try{h&&(a=new Nd(h,L=>(f.push(()=>{f.err=new fe(`${Qt.IdleHeartbeatMissed}: ${L}`,Y.JetStreamIdleHeartBeat)}),!0)))}catch{}await A.closed,s!==null&&(s.cancel(),s=null),a&&a.cancel(),f.stop()})().catch(),this.nc.publish(`${this.prefix}.CONSUMER.MSG.NEXT.${n}.${i}`,this.jc.encode(d),{reply:O}),f}async pullSubscribe(n,i=Vn()){const r=await this._processOptions(n,i);if(r.ordered)throw new Error("pull subscribers cannot be be ordered");if(r.attached||(r.config.filter_subject=n),r.config.deliver_subject)throw new Error("consumer info specifies deliver_subject - pull consumers cannot have deliver_subject set");const s=r.config.ack_policy;if(s===bt.None||s===bt.All)throw new Error("ack policy for pull consumers must be explicit");const o=this._buildTypedSubscriptionOpts(r),l=new y0(this,r.deliver,o);l.info=r;try{await this._maybeCreateConsumer(r)}catch(c){throw l.unsubscribe(),c}return l}async subscribe(n,i=Vn()){const r=await this._processOptions(n,i);if(!r.isBind&&!r.config.deliver_subject)throw new Error("push consumer requires deliver_subject");const s=this._buildTypedSubscriptionOpts(r),o=new qd(this,r.deliver,s);o.info=r;try{await this._maybeCreateConsumer(r)}catch(l){throw o.unsubscribe(),l}return o._maybeSetupHbMonitoring(),o}async _processOptions(n,i=Vn()){const r=wc(i)?i.getOpts():i;if(r.isBind=wc(i)?i.isBind:!1,r.flow_control={heartbeat_count:0,fc_count:0,consumer_restarts:0},r.ordered){if(r.ordered_consumer_sequence={stream_seq:0,delivery_seq:0},r.config.ack_policy!==bt.NotSet&&r.config.ack_policy!==bt.None)throw new fe("ordered consumer: ack_policy can only be set to 'none'",Y.ApiError);if(r.config.durable_name&&r.config.durable_name.length>0)throw new fe("ordered consumer: durable_name cannot be set",Y.ApiError);if(r.config.deliver_subject&&r.config.deliver_subject.length>0)throw new fe("ordered consumer: deliver_subject cannot be set",Y.ApiError);if(r.config.max_deliver!==void 0&&r.config.max_deliver>1)throw new fe("ordered consumer: max_deliver cannot be set",Y.ApiError);if(r.config.deliver_group&&r.config.deliver_group.length>0)throw new fe("ordered consumer: deliver_group cannot be set",Y.ApiError);r.config.deliver_subject=jn(this.nc.options.inboxPrefix),r.config.ack_policy=bt.None,r.config.max_deliver=1,r.config.flow_control=!0,r.config.idle_heartbeat=r.config.idle_heartbeat||ct(5e3),r.config.ack_wait=ct(22*60*60*1e3),r.config.mem_storage=!0,r.config.num_replicas=1}if(r.config.ack_policy===bt.NotSet&&(r.config.ack_policy=bt.All),r.api=this,r.config=r.config||{},r.stream=r.stream?r.stream:await this.findStream(n),r.attached=!1,r.config.durable_name)try{const s=await this.api.info(r.stream,r.config.durable_name);if(s){if(s.config.filter_subject&&s.config.filter_subject!==n)throw new Error("subject does not match consumer");const o=r.config.deliver_group??"";if(o===""&&s.push_bound===!0)throw new Error("duplicate subscription");const l=s.config.deliver_group??"";if(o!==l)throw l===""?new Error("durable requires no queue group"):new Error(`durable requires queue group '${l}'`);r.last=s,r.config=s.config,r.attached=!0,r.config.durable_name||(r.name=s.name)}}catch(s){if(s.code!=="404")throw s}return r.attached||(r.config.filter_subject=n),r.deliver=r.config.deliver_subject||jn(this.nc.options.inboxPrefix),r}_buildTypedSubscriptionOpts(n){const i={};return i.adapter=w0(n.callbackFn===void 0),i.ingestionFilterFn=Ul.ingestionFn(n.ordered),i.protocolFilterFn=(r,s=!1)=>{const o=r;return Jo(o.msg)?(s||o.msg.respond(),!1):!0},!n.mack&&n.config.ack_policy!==bt.None&&(i.dispatchedFn=_0),n.callbackFn&&(i.callback=n.callbackFn),i.max=n.max||0,i.queue=n.queue,i}async _maybeCreateConsumer(n){if(n.attached)return;if(n.isBind)throw new Error(`unable to bind - durable consumer ${n.config.durable_name} doesn't exist in ${n.stream}`);n.config=Object.assign({deliver_policy:Bt.All,ack_policy:bt.Explicit,ack_wait:ct(30*1e3),replay_policy:ji.Instant},n.config);const i=await this.api.add(n.stream,n.config);n.name=i.name,n.config=i.config,n.last=i}static ingestionFn(n){return(i,r)=>{var c;const s=r;if(!i)return{ingest:!1,protocol:!1};const o=i;if(Mi(o.msg)||(c=s.monitor)==null||c.work(),hc(o.msg)){const a=n?s._checkHbOrderConsumer(o.msg):!0;return n||s.info.flow_control.heartbeat_count++,{ingest:a,protocol:!0}}else if(Jo(o.msg))return s.info.flow_control.fc_count++,{ingest:!0,protocol:!0};return{ingest:n?s._checkOrderedConsumer(i):!0,protocol:!1}}}}class Hl{constructor(t){b(this,"options");b(this,"protocol");b(this,"draining");b(this,"listeners");b(this,"_services");this.draining=!1,this.options=e0(t),this.listeners=[]}static connect(t={}){return new Promise((n,i)=>{const r=new Hl(t);Cr.connect(r.options,r).then(s=>{r.protocol=s,async function(){for await(const o of s.status())r.listeners.forEach(l=>{l.push(o)})}(),n(r)}).catch(s=>{i(s)})})}closed(){return this.protocol.closed}async close(){await this.protocol.close()}_check(t,n,i){if(this.isClosed())throw fe.errorForCode(Y.ConnectionClosed);if(n&&this.isDraining()||i&&this.protocol.noMorePublishing)throw fe.errorForCode(Y.ConnectionDraining);if(t=t||"",t.length===0)throw fe.errorForCode(Y.BadSubject)}publish(t,n=It,i){if(this._check(t,!1,!0),n&&!ky(n))throw fe.errorForCode(Y.BadPayload);this.protocol.publish(t,n,i)}subscribe(t,n={}){this._check(t,!0,!1);const i=new Bd(this.protocol,t,n);return this.protocol.subscribe(i),i}_resub(t,n,i){this._check(n,!0,!1);const r=t;r.max=i,i&&(r.max=i+r.received),this.protocol.resub(r,n)}requestMany(t,n=It,i={maxWait:1e3,maxMessages:-1}){try{this._check(t,!0,!0)}catch(l){return Promise.reject(l)}if(i.strategy=i.strategy||fn.Timer,i.maxWait=i.maxWait||1e3,i.maxWait<1)return Promise.reject(new fe("timeout",Y.InvalidOption));const r=new At;function s(l){r.push(()=>{r.stop(l)})}function o(l,c){l||c===null?s(l===null?void 0:l):r.push(c)}if(i.noMux){const l=new Error().stack;let c=typeof i.maxMessages=="number"&&i.maxMessages>0?i.maxMessages:-1;const a=this.subscribe(jn(this.options.inboxPrefix),{callback:(f,v)=>{var k,O;if(((k=v==null?void 0:v.data)==null?void 0:k.length)===0&&((O=v==null?void 0:v.headers)==null?void 0:O.status)===Y.NoResponders&&(f=fe.errorForCode(Y.NoResponders)),f){f.stack+=`

${l}`,d(f);return}o(null,v),i.strategy===fn.Count&&(c--,c===0&&d()),i.strategy===fn.JitterTimer&&(h(),u=setTimeout(()=>{d()},300)),i.strategy===fn.SentinelMsg&&v&&v.data.length===0&&d()}});a.closed.then(()=>{s()}).catch(f=>{r.stop(f)});const d=f=>{f&&r.push(()=>{throw f}),h(),a.drain().then(()=>{s()}).catch(v=>{s()})};r.iterClosed.then(()=>{h(),a==null||a.unsubscribe()}).catch(f=>{h(),a==null||a.unsubscribe()});try{this.publish(t,It,{reply:a.getSubject()})}catch(f){d(f)}let u=setTimeout(()=>{d()},i.maxWait);const h=()=>{u&&clearTimeout(u)}}else{const l=i;l.callback=o,r.iterClosed.then(()=>{c.cancel()}).catch(a=>{c.cancel(a)});const c=new qy(this.protocol.muxSubscriptions,t,l);this.protocol.request(c);try{this.publish(t,n,{reply:`${this.protocol.muxSubscriptions.baseInbox}${c.token}`,headers:i.headers})}catch(a){c.cancel(a)}}return Promise.resolve(r)}request(t,n=It,i={timeout:1e3,noMux:!1}){try{this._check(t,!0,!0)}catch(r){return Promise.reject(r)}if(i.timeout=i.timeout||1e3,i.timeout<1)return Promise.reject(new fe("timeout",Y.InvalidOption));if(!i.noMux&&i.reply)return Promise.reject(new fe("reply can only be used with noMux",Y.InvalidOption));if(i.noMux){const r=i.reply?i.reply:jn(this.options.inboxPrefix),s=st(),o=new Error,l=this.subscribe(r,{max:1,timeout:i.timeout,callback:(c,a)=>{c?(c.code!==Y.Timeout&&(c.stack+=`

${o.stack}`),s.reject(c)):(c=Ed(a),c?(c.stack+=`

${o.stack}`,s.reject(c)):s.resolve(a))}});return l.requestSubject=t,this.protocol.publish(t,n,{reply:r,headers:i.headers}),s}else{const r=new Td(this.protocol.muxSubscriptions,t,i);this.protocol.request(r);try{this.publish(t,n,{reply:`${this.protocol.muxSubscriptions.baseInbox}${r.token}`,headers:i.headers})}catch(o){r.cancel(o)}const s=Promise.race([r.timer,r.deferred]);return s.catch(()=>{r.cancel()}),s}}flush(){return this.isClosed()?Promise.reject(fe.errorForCode(Y.ConnectionClosed)):this.protocol.flush()}drain(){return this.isClosed()?Promise.reject(fe.errorForCode(Y.ConnectionClosed)):this.isDraining()?Promise.reject(fe.errorForCode(Y.ConnectionDraining)):(this.draining=!0,this.protocol.drain())}isClosed(){return this.protocol.isClosed()}isDraining(){return this.draining}getServer(){const t=this.protocol.getServer();return t?t.listen:""}status(){const t=new At;return this.listeners.push(t),t}get info(){return this.protocol.isClosed()?void 0:this.protocol.info}stats(){return{inBytes:this.protocol.inBytes,outBytes:this.protocol.outBytes,inMsgs:this.protocol.inMsgs,outMsgs:this.protocol.outMsgs}}async jetstreamManager(t={}){const n=new u0(this,t);try{await n.getAccountInfo()}catch(i){const r=i;throw r.code===Y.NoResponders&&(r.code=Y.JetStreamNotEnabled),r}return n}jetstream(t={}){return new Ul(this,t)}getServerVersion(){const t=this.info;return t?ui(t.version):void 0}async rtt(){if(!this.protocol._closed&&!this.protocol.connected)throw fe.errorForCode(Y.Disconnect);const t=Date.now();return await this.flush(),Date.now()-t}get features(){return this.protocol.features}get services(){return this._services||(this._services=new g0(this)),this._services}}class p0{constructor(t,n={strategy:fn.JitterTimer,maxWait:2e3},i){b(this,"nc");b(this,"prefix");b(this,"opts");this.nc=t,this.prefix=i,this.opts=n}ping(t="",n=""){return this.q(pn.PING,t,n)}stats(t="",n=""){return this.q(pn.STATS,t,n)}schema(t="",n=""){return this.q(pn.SCHEMA,t,n)}info(t="",n=""){return this.q(pn.INFO,t,n)}async q(t,n="",i=""){const r=new At,s=tn(),o=Ls.controlSubject(t,n,i,this.prefix),l=await this.nc.requestMany(o,It,this.opts);return(async()=>{for await(const c of l)try{const a=s.decode(c.data);r.push(a)}catch(a){r.push(()=>{r.stop(a)})}r.push(()=>{r.stop()})})().catch(c=>{r.stop(c)}),r}}function m0(e,t){const{proto:n,tls_required:i,tls_available:r}=e;if((n===void 0||n<1)&&t.noEcho)throw new fe("noEcho",Y.ServerOptionNotAvailable);const s=i||r||!1;if(t.tls&&!s)throw new fe("tls",Y.ServerOptionNotAvailable)}class g0{constructor(t){b(this,"nc");this.nc=t,console.log("\x1B[33m >> service framework is beta functionality \x1B[0m")}add(t){try{return new Ls(this.nc,t).start()}catch(n){return Promise.reject(n)}}client(t,n){return new p0(this.nc,t,n)}}class b0{constructor(t){b(this,"subject");b(this,"seq");b(this,"data");b(this,"time");b(this,"header");if(this.subject=t.message.subject,this.seq=t.message.seq,this.time=new Date(Date.parse(t.message.time)),this.data=t.message.data?this._parse(t.message.data):It,t.message.hdrs){const n=this._parse(t.message.hdrs);this.header=zn.decode(n)}else this.header=In()}_parse(t){const n=atob(t),i=n.length,r=new Uint8Array(i);for(let s=0;s<i;s++)r[s]=n.charCodeAt(s);return r}}class qd extends Qy{constructor(n,i,r){super(n.nc,i,r);b(this,"js");b(this,"monitor");this.js=n,this.monitor=null,this.sub.closed.then(()=>{this.monitor&&this.monitor.cancel()})}set info(n){this.sub.info=n}get info(){return this.sub.info}_resetOrderedConsumer(n){if(this.info===null||this.sub.isClosed())return;const i=jn(this.js.nc.options.inboxPrefix);this.js.nc._resub(this.sub,i);const s=this.info;s.ordered_consumer_sequence.delivery_seq=0,s.flow_control.heartbeat_count=0,s.flow_control.fc_count=0,s.flow_control.consumer_restarts++,s.deliver=i,s.config.deliver_subject=i,s.config.deliver_policy=Bt.StartSequence,s.config.opt_start_seq=n;const o={};o.stream_name=this.info.stream,o.config=s.config;const l=`${s.api.prefix}.CONSUMER.CREATE.${s.stream}`;this.js._request(l,o).then(c=>{const a=c;this.info.config=a.config,this.info.name=a.name}).catch(c=>{const a=new fe(`unable to recreate ordered consumer ${s.stream} at seq ${n}`,Y.RequestError,c);this.sub.callback(a,{})})}_maybeSetupHbMonitoring(){var i,r;const n=((r=(i=this.info)==null?void 0:i.config)==null?void 0:r.idle_heartbeat)||0;n&&this._setupHbMonitoring(Vl(n))}_setupHbMonitoring(n,i=0){const r={cancelAfter:0,maxOut:2};i&&(r.cancelAfter=i);const s=this.sub,o=l=>{var d,u,h;const c=By(409,`${Qt.IdleHeartbeatMissed}: ${l}`,this.sub.subject);if(!((d=this.info)==null?void 0:d.ordered))this.sub.callback(null,c);else{if(!this.js.nc.protocol.connected)return!1;const f=((h=(u=this.info)==null?void 0:u.ordered_consumer_sequence)==null?void 0:h.stream_seq)||0;return this._resetOrderedConsumer(f+1),!1}return!s.noIterator};this.monitor=new Nd(n,o,r)}_checkHbOrderConsumer(n){const i=n.headers.get(sn.ConsumerStalledHdr);i!==""&&this.js.nc.publish(i);const r=parseInt(n.headers.get(sn.LastConsumerSeqHdr),10),s=this.info.ordered_consumer_sequence;return this.info.flow_control.heartbeat_count++,r!==s.delivery_seq&&this._resetOrderedConsumer(s.stream_seq+1),!1}_checkOrderedConsumer(n){const i=this.info.ordered_consumer_sequence,r=n.info.streamSequence,s=n.info.deliverySequence;return s!=i.delivery_seq+1?(this._resetOrderedConsumer(i.stream_seq+1),!1):(i.delivery_seq=s,i.stream_seq=r,!0)}async destroy(){this.isClosed()||await this.drain();const n=this.sub.info,i=n.config.durable_name||n.name,r=`${n.api.prefix}.CONSUMER.DELETE.${n.stream}.${i}`;await n.api._request(r)}async consumerInfo(){const n=this.sub.info,i=n.config.durable_name||n.name,r=`${n.api.prefix}.CONSUMER.INFO.${n.stream}.${i}`,s=await n.api._request(r);return n.last=s,s}}class y0 extends qd{constructor(t,n,i){super(t,n,i)}pull(t={batch:1}){const{stream:n,config:i,name:r}=this.sub.info,s=i.durable_name??r,o={};if(o.batch=t.batch||1,o.no_wait=t.no_wait||!1,(t.max_bytes??0)>0){const a=this.js.nc.features.get(Nt.JS_PULL_MAX_BYTES);if(!a.ok)throw new Error(`max_bytes is only supported on servers ${a.min} or better`);o.max_bytes=t.max_bytes}let l=0;t.expires&&t.expires>0&&(l=t.expires,o.expires=ct(l));let c=0;if(t.idle_heartbeat&&t.idle_heartbeat>0&&(c=t.idle_heartbeat,o.idle_heartbeat=ct(c)),c&&l===0)throw new Error("idle_heartbeat requires expires");if(c>l)throw new Error("expires must be greater than idle_heartbeat");if(this.info){this.monitor&&this.monitor.cancel(),l&&c&&(this.monitor?this.monitor._change(c,l):this._setupHbMonitoring(c,l));const a=this.info.api,d=`${a.prefix}.CONSUMER.MSG.NEXT.${n}.${s}`,u=this.sub.subject;a.nc.publish(d,a.jc.encode(o),{reply:u})}}}function w0(e){return e?v0:x0}function x0(e,t){return e?[e,null]:(e=Mi(t),e?[e,null]:[null,_r(t)])}function v0(e,t){if(e)return[e,null];const n=Mi(t);return n!==null?[Gd(n),null]:[null,_r(t)]}function Gd(e){if(e!==null)switch(e.code){case Y.JetStream404NoMessages:case Y.JetStream408RequestTimeout:return null;case Y.JetStream409:return Ny(e)?e:null;default:return e}return null}function _0(e){e&&e.ack()}const C0=(()=>{let e=!1;return t=>{var n;if(!e){e=!0;const{lang:i}=(n=t==null?void 0:t.protocol)==null?void 0:n.transport;console.log(i?`\x1B[33m >> jetstream's materialized views object store functionality in ${i} is beta functionality \x1B[0m`:"\x1B[33m >> jetstream's materialized views object store functionality is beta functionality \x1B[0m")}}})(),S0="1.12.0",I0="nats.ws";class E0{constructor(){b(this,"version");b(this,"lang");b(this,"closeError");b(this,"connected");b(this,"done");b(this,"socket");b(this,"options");b(this,"socketClosed");b(this,"encrypted");b(this,"peeked");b(this,"yields");b(this,"signal");b(this,"closedNotification");this.version=S0,this.lang=I0,this.connected=!1,this.done=!1,this.socketClosed=!1,this.encrypted=!1,this.peeked=!1,this.yields=[],this.signal=st(),this.closedNotification=st()}async connect(t,n){const i=st();if(n.tls)return i.reject(new fe("tls",Y.InvalidOption)),i;this.options=n;const r=t.src;if(n.wsFactory){const{socket:s,encrypted:o}=await n.wsFactory(t.src,n);this.socket=s,this.encrypted=o}else this.encrypted=r.indexOf("wss://")===0,this.socket=new WebSocket(r);return this.socket.binaryType="arraybuffer",this.socket.onopen=()=>{},this.socket.onmessage=s=>{if(this.yields.push(new Uint8Array(s.data)),this.peeked){this.signal.resolve();return}const o=Ts.concat(...this.yields),l=Ry(o);if(l!==""){const c=ww.exec(l);if(!c){n.debug&&console.error("!!!",Ws(o)),i.reject(new Error("unexpected response from server"));return}try{const a=JSON.parse(c[1]);m0(a,this.options),this.peeked=!0,this.connected=!0,this.signal.resolve(),i.resolve()}catch(a){i.reject(a);return}}},this.socket.onclose=s=>{this.socketClosed=!0;let o;this.done||(s.wasClean||(o=new Error(s.reason)),this._closed(o))},this.socket.onerror=s=>{const o=s,l=new fe(o.message,Y.Unknown,new Error(o.error));i.reject(l)},i}disconnect(){this._closed(void 0,!0)}async _closed(t,n=!0){if(this.connected&&!this.done){if(this.closeError=t,!t)for(;!this.socketClosed&&this.socket.bufferedAmount>0;)console.log(this.socket.bufferedAmount),await jl(100);this.done=!0;try{this.socket.close(t?1002:1e3,t?t.message:void 0)}catch{}n&&this.closedNotification.resolve(t)}}get isClosed(){return this.done}[Symbol.asyncIterator](){return this.iterate()}async*iterate(){for(;;){this.yields.length===0&&await this.signal;const t=this.yields;this.yields=[];for(let n=0;n<t.length;n++)this.options.debug&&console.info(`> ${Ws(t[n])}`),yield t[n];if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=st())}}isEncrypted(){return this.connected&&this.encrypted}send(t){if(!this.done)try{this.socket.send(t.buffer),this.options.debug&&console.info(`< ${Ws(t)}`);return}catch(n){this.options.debug&&console.error(`!!! ${Ws(t)}: ${n}`)}}close(t){return this._closed(t,!1)}closed(){return this.closedNotification}}function k0(e){/^(.*:\/\/)(.*)/.test(e)||(e=`https://${e}`);let n=new URL(e);const i=n.protocol.toLowerCase();i!=="https:"&&i!=="http"&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2"),n=new URL(`http://${e}`));let r,s;const o=n.hostname,l=n.pathname,c=n.search||"";switch(i){case"http:":case"ws:":case"nats:":s=n.port||"80",r="ws:";break;default:s=n.port||"443",r="wss:";break}return`${r}//${o}:${s}${l}${c}`}function P0(e={}){return ew({defaultPort:443,urlParseFn:k0,factory:()=>new E0}),Hl.connect(e)}let Zn;const Io=it(!1);function R0(){const e=it(!1),t=it("");Rt(e,(c,a)=>{console.log(`nats user connection state ${a} -> ${c} `)}),console.log("nats...."),Rt(t,async c=>{console.log("credentials have changed"),e.value=!1,Zn!==void 0&&(await Zn.close(),Zn=void 0),await i()});const n=new TextEncoder,i=async()=>(console.log("making connection..."),Io.value=!0,Zn==null?(console.log("making new connection..."),Zn=await P0({servers:"ws://localhost:4888",authenticator:Zw(n.encode(t.value)),debug:!0}),e.value=!0,Io.value=!1,Zn):(console.log("making existing connection..."),e.value=!0,Zn)),r=tn();return{publish:async(c,a)=>{(await i()).publish(c,r.encode(a))},subscribe:async c=>(await i()).subscribe(c),request:async(c,a)=>{try{const u=await(await i()).request(c,r.encode(a),{timeout:12e3}).then(h=>r.decode(h.data)).catch(h=>(console.error("failed making request",h),{}));return console.log("response.data ",u),u}catch(d){console.log("Caught some error",d)}},connected:e,connecting:Io,credentials:t}}const Wd=vd(R0),bn=Object.create(null);bn.open="0";bn.close="1";bn.ping="2";bn.pong="3";bn.message="4";bn.upgrade="5";bn.noop="6";const cr=Object.create(null);Object.keys(bn).forEach(e=>{cr[bn[e]]=e});const A0={type:"error",data:"parser error"},O0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",T0=typeof ArrayBuffer=="function",L0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Jd=({type:e,data:t},n,i)=>O0&&t instanceof Blob?n?i(t):Pc(t,i):T0&&(t instanceof ArrayBuffer||L0(t))?n?i(t):Pc(new Blob([t]),i):i(bn[e]+(t||"")),Pc=(e,t)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];t("b"+(i||""))},n.readAsDataURL(e)},Rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ss=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Rc.length;e++)ss[Rc.charCodeAt(e)]=e;const M0=e=>{let t=e.length*.75,n=e.length,i,r=0,s,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const a=new ArrayBuffer(t),d=new Uint8Array(a);for(i=0;i<n;i+=4)s=ss[e.charCodeAt(i)],o=ss[e.charCodeAt(i+1)],l=ss[e.charCodeAt(i+2)],c=ss[e.charCodeAt(i+3)],d[r++]=s<<2|o>>4,d[r++]=(o&15)<<4|l>>2,d[r++]=(l&3)<<6|c&63;return a},F0=typeof ArrayBuffer=="function",Yd=(e,t)=>{if(typeof e!="string")return{type:"message",data:Xd(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:D0(e.substring(1),t)}:cr[n]?e.length>1?{type:cr[n],data:e.substring(1)}:{type:cr[n]}:A0},D0=(e,t)=>{if(F0){const n=M0(e);return Xd(n,t)}else return{base64:!0,data:e}},Xd=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},Zd=String.fromCharCode(30),B0=(e,t)=>{const n=e.length,i=new Array(n);let r=0;e.forEach((s,o)=>{Jd(s,!1,l=>{i[o]=l,++r===n&&t(i.join(Zd))})})},N0=(e,t)=>{const n=e.split(Zd),i=[];for(let r=0;r<n.length;r++){const s=Yd(n[r],t);if(i.push(s),s.type==="error")break}return i},Qd=4;function at(e){if(e)return z0(e)}function z0(e){for(var t in at.prototype)e[t]=at.prototype[t];return e}at.prototype.on=at.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};at.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};at.prototype.off=at.prototype.removeListener=at.prototype.removeAllListeners=at.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,r=0;r<n.length;r++)if(i=n[r],i===t||i.fn===t){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+e],this};at.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,t)}return this};at.prototype.emitReserved=at.prototype.emit;at.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};at.prototype.hasListeners=function(e){return!!this.listeners(e).length};const qt=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function eh(e,...t){return t.reduce((n,i)=>(e.hasOwnProperty(i)&&(n[i]=e[i]),n),{})}const j0=qt.setTimeout,V0=qt.clearTimeout;function Yr(e,t){t.useNativeTimers?(e.setTimeoutFn=j0.bind(qt),e.clearTimeoutFn=V0.bind(qt)):(e.setTimeoutFn=qt.setTimeout.bind(qt),e.clearTimeoutFn=qt.clearTimeout.bind(qt))}const K0=1.33;function U0(e){return typeof e=="string"?H0(e):Math.ceil((e.byteLength||e.size)*K0)}function H0(e){let t=0,n=0;for(let i=0,r=e.length;i<r;i++)t=e.charCodeAt(i),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n}class $0 extends Error{constructor(t,n,i){super(t),this.description=n,this.context=i,this.type="TransportError"}}class th extends at{constructor(t){super(),this.writable=!1,Yr(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,i){return super.emitReserved("error",new $0(t,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Yd(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}}const nh="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),el=64,q0={};let Ac=0,Qs=0,Oc;function Tc(e){let t="";do t=nh[e%el]+t,e=Math.floor(e/el);while(e>0);return t}function ih(){const e=Tc(+new Date);return e!==Oc?(Ac=0,Oc=e):e+"."+Tc(Ac++)}for(;Qs<el;Qs++)q0[nh[Qs]]=Qs;function sh(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function G0(e){let t={},n=e.split("&");for(let i=0,r=n.length;i<r;i++){let s=n[i].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}let rh=!1;try{rh=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const W0=rh;function oh(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||W0))return new XMLHttpRequest}catch{}if(!t)try{return new qt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function J0(){}const Y0=function(){return new oh({xdomain:!1}).responseType!=null}();class X0 extends th{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let r=location.port;r||(r=i?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port,this.xs=t.secure!==i}const n=t&&t.forceBase64;this.supportsBinary=Y0&&!n}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};N0(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,B0(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const n=this.opts.secure?"https":"http";let i="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=ih()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port);const r=sh(t),s=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(r.length?"?"+r:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new mn(this.uri(),t)}doWrite(t,n){const i=this.request({method:"POST",data:t});i.on("success",n),i.on("error",(r,s)=>{this.onError("xhr post error",r,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=t}}class mn extends at{constructor(t,n){super(),Yr(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){const t=eh(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const n=this.xhr=new oh(t);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=mn.requestsCount++,mn.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=J0,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete mn.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}mn.requestsCount=0;mn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Lc);else if(typeof addEventListener=="function"){const e="onpagehide"in qt?"pagehide":"unload";addEventListener(e,Lc,!1)}}function Lc(){for(let e in mn.requests)mn.requests.hasOwnProperty(e)&&mn.requests[e].abort()}const lh=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),er=qt.WebSocket||qt.MozWebSocket,Mc=!0,Z0="arraybuffer",Fc=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Q0 extends th{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,i=Fc?{}:eh(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=Mc&&!Fc?n?new er(t,n):new er(t):new er(t,n,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType||Z0,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const i=t[n],r=n===t.length-1;Jd(i,this.supportsBinary,s=>{const o={};try{Mc&&this.ws.send(s)}catch{}r&&lh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const n=this.opts.secure?"wss":"ws";let i="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=ih()),this.supportsBinary||(t.b64=1);const r=sh(t),s=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(r.length?"?"+r:"")}check(){return!!er}}const ex={websocket:Q0,polling:X0},tx=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nx=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function tl(e){const t=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));let r=tx.exec(e||""),s={},o=14;for(;o--;)s[nx[o]]=r[o]||"";return n!=-1&&i!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=ix(s,s.path),s.queryKey=sx(s,s.query),s}function ix(e,t){const n=/\/{2,9}/g,i=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function sx(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,s){r&&(n[r]=s)}),n}let oi=class extends at{constructor(t,n={}){super(),this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=tl(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=tl(n.host).host),Yr(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=G0(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Qd,n.transport=t,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts.transportOptions[t],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new ex[t](i)}open(){let t;if(this.opts.rememberUpgrade&&oi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),i=!1;oi.priorWebsocketSuccess=!1;const r=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",u=>{if(!i)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;oi.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function s(){i||(i=!0,d(),n.close(),n=null)}const o=u=>{const h=new Error("probe error: "+u);h.transport=n.name,s(),this.emitReserved("upgradeError",h)};function l(){o("transport closed")}function c(){o("socket closed")}function a(u){n&&u.name!==n.name&&s()}const d=()=>{n.removeListener("open",r),n.removeListener("error",o),n.removeListener("close",l),this.off("close",c),this.off("upgrading",a)};n.once("open",r),n.once("error",o),n.once("close",l),this.once("close",c),this.once("upgrading",a),n.open()}onOpen(){if(this.readyState="open",oi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const r=this.writeBuffer[i].data;if(r&&(n+=U0(r)),i>0&&n>this.maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}write(t,n,i){return this.sendPacket("message",t,n,i),this}send(t,n,i){return this.sendPacket("message",t,n,i),this}sendPacket(t,n,i,r){if(typeof n=="function"&&(r=n,n=void 0),typeof i=="function"&&(r=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const s={type:t,data:n,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){oi.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let i=0;const r=t.length;for(;i<r;i++)~this.transports.indexOf(t[i])&&n.push(t[i]);return n}};oi.protocol=Qd;function rx(e,t="",n){let i=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),i=tl(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+t,i.href=i.protocol+"://"+s+(n&&n.port===i.port?"":":"+i.port),i}const ox=typeof ArrayBuffer=="function",lx=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,ah=Object.prototype.toString,ax=typeof Blob=="function"||typeof Blob<"u"&&ah.call(Blob)==="[object BlobConstructor]",cx=typeof File=="function"||typeof File<"u"&&ah.call(File)==="[object FileConstructor]";function $l(e){return ox&&(e instanceof ArrayBuffer||lx(e))||ax&&e instanceof Blob||cx&&e instanceof File}function ur(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,i=e.length;n<i;n++)if(ur(e[n]))return!0;return!1}if($l(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ur(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ur(e[n]))return!0;return!1}function ux(e){const t=[],n=e.data,i=e;return i.data=nl(n,t),i.attachments=t.length,{packet:i,buffers:t}}function nl(e,t){if(!e)return e;if($l(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=nl(e[i],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=nl(e[i],t));return n}return e}function dx(e,t){return e.data=il(e.data,t),delete e.attachments,e}function il(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=il(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=il(e[n],t));return e}const hx=5;var Ae;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ae||(Ae={}));class fx{constructor(t){this.replacer=t}encode(t){return(t.type===Ae.EVENT||t.type===Ae.ACK)&&ur(t)?this.encodeAsBinary({type:t.type===Ae.EVENT?Ae.BINARY_EVENT:Ae.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ae.BINARY_EVENT||t.type===Ae.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=ux(t),i=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(i),r}}class ql extends at{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const i=n.type===Ae.BINARY_EVENT;i||n.type===Ae.BINARY_ACK?(n.type=i?Ae.EVENT:Ae.ACK,this.reconstructor=new px(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if($l(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const i={type:Number(t.charAt(0))};if(Ae[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Ae.BINARY_EVENT||i.type===Ae.BINARY_ACK){const s=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(s,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(o)}if(t.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););i.nsp=t.substring(s,n)}else i.nsp="/";const r=t.charAt(n+1);if(r!==""&&Number(r)==r){const s=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}i.id=Number(t.substring(s,n+1))}if(t.charAt(++n)){const s=this.tryParse(t.substr(n));if(ql.isPayloadValid(i.type,s))i.data=s;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Ae.CONNECT:return typeof n=="object";case Ae.DISCONNECT:return n===void 0;case Ae.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case Ae.EVENT:case Ae.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case Ae.ACK:case Ae.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class px{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=dx(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const mx=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ql,Encoder:fx,get PacketType(){return Ae},protocol:hx},Symbol.toStringTag,{value:"Module"}));function Zt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const gx=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ch extends at{constructor(t,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Zt(t,"open",this.onopen.bind(this)),Zt(t,"packet",this.onpacket.bind(this)),Zt(t,"error",this.onerror.bind(this)),Zt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(gx.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:Ae.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,l=n.pop();this._registerAckCallback(o,l),i.id=o}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,n){var i;const r=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(r===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},r);this.acks[t]=(...o)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...o])}}emitWithAck(t,...n){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((r,s)=>{n.push((o,l)=>i?o?s(o):r(l):r(o)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const i={id:this.ids++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((r,...s)=>i!==this._queue[0]?void 0:(r!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...s)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(){if(this._queue.length===0)return;const t=this._queue[0];if(t.pending)return;t.pending=!0,t.tryCount++;const n=this.ids;this.ids=t.id,this.flags=t.flags,this.emit.apply(this,t.args),this.ids=n}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ae.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ae.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ae.EVENT:case Ae.BINARY_EVENT:this.onevent(t);break;case Ae.ACK:case Ae.BINARY_ACK:this.onack(t);break;case Ae.DISCONNECT:this.ondisconnect();break;case Ae.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let i=!1;return function(...r){i||(i=!0,n.packet({type:Ae.ACK,id:t,data:r}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ae.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(t===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(t===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,t.data)}}}function Ui(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ui.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Ui.prototype.reset=function(){this.attempts=0};Ui.prototype.setMin=function(e){this.ms=e};Ui.prototype.setMax=function(e){this.max=e};Ui.prototype.setJitter=function(e){this.jitter=e};class sl extends at{constructor(t,n){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Yr(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Ui({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const r=n.parser||mx;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new oi(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const r=Zt(n,"open",function(){i.onopen(),t&&t()}),s=Zt(n,"error",o=>{i.cleanup(),i._readyState="closed",this.emitReserved("error",o),t?t(o):i.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&r();const l=this.setTimeoutFn(()=>{r(),n.close(),n.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&l.unref(),this.subs.push(function(){clearTimeout(l)})}return this.subs.push(r),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Zt(t,"ping",this.onping.bind(this)),Zt(t,"data",this.ondata.bind(this)),Zt(t,"error",this.onerror.bind(this)),Zt(t,"close",this.onclose.bind(this)),Zt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){lh(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let i=this.nsps[t];return i||(i=new ch(this,t,n),this.nsps[t]=i),this._autoConnect&&i.connect(),i}_destroy(t){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let i=0;i<n.length;i++)this.engine.write(n[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(function(){clearTimeout(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const es={};function gs(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=rx(e,t.path||"/socket.io"),i=n.source,r=n.id,s=n.path,o=es[r]&&s in es[r].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new sl(i,t):(es[r]||(es[r]=new sl(i,t)),c=es[r]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(gs,{Manager:sl,Socket:ch,io:gs,connect:gs});function bx(){let e=it("http://localhost"),t=new Map,n=gs({reconnection:!0,autoConnect:!1}),i=it(!1);const r=a=>{a.on("connect",()=>{console.log("socket connected"),i.value=!0}),a.on("disconnect",d=>{console.log("socket disconnected"),i.value=!1});for(const d of t)console.log(`reattaching handler for topic ${d[0]}`),a.on(d[0],d[1])},s=(a,d)=>{console.log(`emitting to ${a}`),n.emit(a,d)},o=(a="http://localhost:4001")=>{console.log("trying to connect socket"),n.connected?console.log("attempting to connect socket - already connected"):(n=gs(a,{reconnection:!0}),r(n))},l=(a=!1)=>{n.connected&&n.disconnect(),a&&t.clear()},c=(a,d)=>{console.log(`socket on ${a}`),t.set(a,d),n.on(a,d)};return Rt(e,(a,d)=>{console.log(`socket address changed ${d} -> ${a}`),n.connected&&n.close(),o(a)}),{connected:i,emit:s,on:c,connect:o,disconnect:l,socket_address:e}}const uh=vd(bx),{connected:yx,publish:wx,request:xx}=Wd(),dh=Ur("event",()=>{Rt(yx,(T,B)=>{console.log(`NATS connection state ${B} -> ${T}`)});let{connected:e,emit:t,on:n,socket_address:i}=uh();Rt(e,(T,B)=>{console.log(`events SIOC ${B} -> ${T}`),T===!0&&(t("hello","world"),n("ev",Z=>{console.log("new event arrived",Z),Array.isArray(Z)&&Z.filter(te=>tr).forEach(te=>{r.set(te.uuid,te)}),t("ev-received",[])}))});const r=Vt(new Map),s=Ue(()=>Array.from(r.values())),o=Ue(()=>r.size);function l(T){t("hello","loading events"),r.clear(),T.forEach(B=>{r.set(B.uuid,B)})}const c=(T=200)=>{t("hello","generating random events"),r.clear();for(let B=0;B<T;B++){const Z=zi();r.set(Z,{severity:Math.floor(Math.random()*6),group:`group ${Math.floor(Math.random()*30)}`,uuid:Z,summary:`hello ${B}`,acknowledged:!1,tally:Math.floor(Math.random()*3e4),agent:`agent-${Math.floor(Math.random()*20)}`,node:`localhost-${Math.floor(Math.random()*8)}`,created_at:Date.now()+B,owner_uuid:""})}},a=(T,B)=>{console.log("setting severity",T,B);const Z=Array.isArray(T)?T:[T];xx("event.severity",{uuids:Z}).then(te=>{console.log("set severoities",te)}).catch(te=>{console.error("eeee",te)}),Z.forEach(te=>{const H=r.get(te);tr(H)&&(H.severity=B,r.set(H.uuid,H))})},d=(T,B)=>{const Z=Array.isArray(T)?T:[T];wx("event.ack",444).catch(te=>{console.log("Failed to set ack",te)}),Z.forEach(te=>{const H=r.get(te);tr(H)&&(H.acknowledged=B,r.set(H.uuid,H))})},u=(T,B)=>{(Array.isArray(T)?T:[T]).forEach(te=>{const H=r.get(te);tr(H)&&(H.owner_uuid=B,r.set(H.uuid,H))})},h=T=>{(Array.isArray(T)?T:[T]).forEach(Z=>{r.delete(Z)})},f=Ue(()=>{const T=[0,0,0,0,0];for(const B of r.values())T[B.severity]++;return{sev1:T[0],sev2:T[1],sev3:T[2],sev4:T[3],sev5:T[4]}}),v=Ue(()=>{const T=new Map;for(const B of r.values()){const Z=T.get(B.group)||0;T.set(B.group,Z+1)}return Array.from(T,B=>({group:B[0],count:B[1]}))}),k=Ue(()=>{const T=new Map;for(const B of r.values()){const Z=T.get(B.group)||[0,0,0,0,0,0];Z[B.severity]+=1,T.set(B.group,Z)}return Array.from(T,B=>({group:B[0],severities:B[1]}))}),O=Ue(()=>{const T=new Map;for(const B of r.values()){const Z=T.get(B.agent)||0;T.set(B.agent,Z+1)}return T}),A=Ue(()=>{const T=new Map;for(const B of r.values()){const Z=T.get(B.node)||{count:0,last_seen:0,sum_tally:0};let te=Z.last_seen;B.created_at>te&&(te=B.created_at),T.set(B.node,{count:Z.count+1,last_seen:te,sum_tally:B.tally+Z.sum_tally})}return T}),L=Ue(()=>{const T=new Map;for(const Z of r.values()){const te=T.get(Z.node)||0;Z.created_at>te&&T.set(Z.node,Z.created_at)}return Array.from(T,Z=>({node:Z[0],last_seen:Z[1]}))}),q=Ue(()=>{const T=new Set;for(const B of r.values())T.add(B.node);return Array.from(T)});return{event_store:r,eventCount:o,loadEvents:l,generateRandomEvents:c,events:s,setSeverity:a,setAcknowledement:d,setUser:u,deleteBy:h,lastSeenByNode:L,summaryByGroup:v,summaryBarByGroup:k,summaryByAgent:O,summaryByNode:A,summaryOfNodes:q,summaryBySeverity:f}}),tr=e=>!!e,nr=e=>({uuid:zi(),name:e}),QC=Ur("group",()=>{const e=Vt(new Map),t=Vt([]);let n=it(e.get(t[0])),i=it();function r(f){const v=e.get(f);u(v)&&(n.value=v)}function s(f,v){if(i.value=void 0,n.value=void 0,v===void 0)console.log("find needle"),e.forEach(k=>{const O=k.rules.find(A=>A.uuid===f);Pi(O)&&(i.value=O)}),Pi(i.value)||(n.value=e.get(f));else{const k=e.get(v);u(k)&&(n.value=k,i.value=k.rules.find(O=>O.uuid===f))}}function o(f,v){const k=t.splice(f,1)[0];t.splice(v,0,k)}function l(f,v,k){const O=e.get(f);if(u(O)){const A=O.rules.splice(v,1)[0];O.rules.splice(k,0,A)}}function c(f="new"){const v={uuid:zi(),name:f,rules:[]};e.set(v.uuid,v),t.push(v.uuid)}function a(f,v="new rule"){const k={uuid:zi(),name:v},O=e.get(f);u(O)&&O.rules.push(k)}function d(f){e.clear(),t.splice(0);for(const v of f)e.set(v.uuid,v),t.push(v.uuid)}const u=f=>!!f,h=Ue(()=>t.map(f=>e.get(f)).filter(u).map(f=>({key:f.uuid,label:f.name,children:f.rules.map(v=>({key:v.uuid,label:v.name}))})));return{moveRule:o,moveRuleInGroup:l,addGroup:c,addRuleToGroup:a,load:d,rules:h,group_store:e,setGroupSelected:r,selectedGroupRule:n,setRuleSelected:s,selectedRule:i}}),hh=Ur("rule",()=>{const e=Vt(new Map),t=Vt([]);let n=it(e.get(t[0]));function i(f="new"){const v={uuid:zi(),name:f};e.set(v.uuid,v),t.push(v.uuid)}function r(f,v){const k=t.splice(f,1)[0];t.splice(v,0,k)}function s(f){e.delete(f)}function o(f){console.log("RRR1",f);let v=e.get(f.uuid);Pi(v)&&(f.discard===void 0&&delete f.discard,f.all===void 0&&delete f.all,f.equals===void 0&&delete f.equals,Dc(f.exists)||delete f.exists,(f.match===void 0||Object.length===0)&&delete f.match,f.ends_with===void 0&&delete f.ends_with,Dc(f.missing)||delete f.missing,f.none===void 0&&delete f.none,(f.replace===void 0||f.replace.length===0)&&delete f.replace,f.set===void 0&&delete f.set,f.stop===void 0&&delete f.stop,f.stop_rule===void 0&&delete f.stop_rule,console.log("stashing ",f),e.delete(v.uuid),e.set(v.uuid,f))}const l=Ue(()=>t.flatMap((v,k)=>e.get(v)).filter(Pi).map(v=>({key:v.uuid,label:v.name}))),c=Ue(()=>t.flatMap(f=>e.get(f)).filter(Pi));function a(f){t.splice(0),e.clear(),f.forEach(v=>{e.set(v.uuid,v),t.push(v.uuid)})}const d=f=>e.get(f);return{rule_order:t,rule_store:e,addRule:i,moveRule:r,deleteRule:s,getUuid:d,globalRules:l,globalOrderedRules:c,loadGlobalRules:a,save:o,selectedRule:n,setSelected:f=>{let v=d(f);v!==void 0&&(n.value=v)},isArray:ph,isString:fh,toFile:()=>{let f={globals:{rules:[]}};return console.log("rule order: ",t),t.forEach((v,k)=>{console.log("Getting ",v,k);const O=e.get(v);Pi(O)&&f.globals.rules.push(O)}),f}}}),Dc=e=>fh(e)?Boolean(e):ph(e)?Boolean(e.length):!1,fh=e=>typeof e=="string",ph=e=>Array.isArray(e),Pi=e=>!!e,vx=Ur("users",()=>{const e=Vt(new Map),t=s=>e.get(s),n=Ue(()=>Array.from(e,s=>s[1])),i=Ue(()=>Array.from(e,s=>({uuid:s[0],username:s[1].username})).sort((s,o)=>s.username>o.username?1:-1));return{all:n,simpleUsers:e,usernames:i,getUserByUUID:t,generateRandomUsers:()=>{e.clear(),["alice","bob","claire","dafydd"].forEach(o=>{console.debug("adding user",o);const l=zi();e.set(l,{uuid:l,username:o,email:`${o}@example.com`,group:"user",created:Date.now()+o.length})})}}}),_x={class:"mt-8"},Cx=As({__name:"App",setup(e){const{loadGlobalRules:t}=hh(),{generateRandomUsers:n}=vx(),i=it(!1);Il(()=>{t([nr("global 1"),nr("global 2"),nr("global 3"),nr("global 4")]),n()});const{credentials:r}=Wd(),s=it(),{connect:o,disconnect:l}=uh();Rt(i,(u,h)=>{u?o():l(!0)});const c=dh(),a=it(200),d=it([{label:"Dashboard",to:"/",class:"text-cyan-300"},{separator:!0},{label:"Console",to:"/console",items:[]},{label:"Rules",items:[{label:"Global",to:"/rules/global"},{label:"Groups",to:"/rules/group"},{label:"Agent",to:"/rules/agent"},{separator:!0},{label:"Import",to:"/rules/import"},{label:"Export",to:"/rules/export"}]},{label:"API",to:"/api"},{label:"Admin",to:"/admin"}]);return(u,h)=>(x(),I(me,null,[he(ge(wd),{position:"top-right",group:"tr"}),he(ge(hd),{id:"main-menubar",class:"fixed z-5 w-screen top-0 left-0 px-4 surface-100 text-cyan-300",model:d.value},{start:ye(()=>[he(ge(bd),{src:ge(gy),height:"45"},null,8,["src"])]),end:ye(()=>[he(ge(Bl),{class:"p-inputtext-sm",modelValue:a.value,"onUpdate:modelValue":h[0]||(h[0]=f=>a.value=f)},null,8,["modelValue"]),he(ge(Os),{class:"p-button-sm",onClick:h[1]||(h[1]=f=>ge(c).generateRandomEvents(a.value)),label:"generate events"}),xt(" Documentation "),he(ge(gd),{ref_key:"op",ref:s,"append-to":"body",id:"overlay_panel","show-close-icon":!0},{default:ye(()=>[he(ge(fd),{modelValue:ge(r),"onUpdate:modelValue":h[2]||(h[2]=f=>Ze(r)?r.value=f:null),cols:30,rows:10,"auto-resize":!0,style:{"font-family":"monospace"}},null,8,["modelValue"])]),_:1},512),xt(" SocketIO: "),he(ge(md),{modelValue:i.value,"onUpdate:modelValue":h[3]||(h[3]=f=>i.value=f)},null,8,["modelValue"])]),_:1},8,["model"]),j("div",_x,[he(ge(ld))])],64))}});const Sx="modulepreload",Ix=function(e){return"/panther-demo/"+e},Bc={},vn=function(t,n,i){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Ix(s),s in Bc)return;Bc[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!i)for(let d=r.length-1;d>=0;d--){const u=r[d];if(u.href===s&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":Sx,o||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),o)return new Promise((d,u)=>{a.addEventListener("load",d),a.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};var un={name:"Card"};const Ex={class:"p-card p-component"},kx={key:0,class:"p-card-header"},Px={class:"p-card-body"},Rx={key:0,class:"p-card-title"},Ax={key:1,class:"p-card-subtitle"},Ox={class:"p-card-content"},Tx={key:2,class:"p-card-footer"};function Lx(e,t,n,i,r,s){return x(),I("div",Ex,[e.$slots.header?(x(),I("div",kx,[Pe(e.$slots,"header")])):$("",!0),j("div",Px,[e.$slots.title?(x(),I("div",Rx,[Pe(e.$slots,"title")])):$("",!0),e.$slots.subtitle?(x(),I("div",Ax,[Pe(e.$slots,"subtitle")])):$("",!0),j("div",Ox,[Pe(e.$slots,"content")]),e.$slots.footer?(x(),I("div",Tx,[Pe(e.$slots,"footer")])):$("",!0)])])}function Mx(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var Fx=`
.p-card-header img {
    width: 100%;
}
`;Mx(Fx);un.render=Lx;var mh={name:"Chart",emits:["select","loaded"],props:{type:String,data:null,options:null,plugins:null,width:{type:Number,default:300},height:{type:Number,default:150},canvasProps:{type:null,default:null}},chart:null,watch:{data:{handler(){this.reinit()},deep:!0},type(){this.reinit()},options(){this.reinit()}},mounted(){this.initChart()},beforeUnmount(){this.chart&&(this.chart.destroy(),this.chart=null)},methods:{initChart(){vn(()=>import("./auto-5a6868c8.js"),[]).then(e=>{this.chart&&(this.chart.destroy(),this.chart=null),e&&e.default&&(this.chart=new e.default(this.$refs.canvas,{type:this.type,data:this.data,options:this.options,plugins:this.plugins})),this.$emit("loaded",this.chart)})},getCanvas(){return this.$canvas},getChart(){return this.chart},getBase64Image(){return this.chart.toBase64Image()},refresh(){this.chart&&this.chart.update()},reinit(){this.initChart()},onCanvasClick(e){if(this.chart){const t=this.chart.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1),n=this.chart.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1);t&&t[0]&&n&&this.$emit("select",{originalEvent:e,element:t[0],dataset:n})}},generateLegend(){if(this.chart)return this.chart.generateLegend()}}};const Dx={class:"p-chart"},Bx=["width","height"];function Nx(e,t,n,i,r,s){return x(),I("div",Dx,[j("canvas",Je({ref:"canvas",width:n.width,height:n.height,onClick:t[0]||(t[0]=o=>s.onCanvasClick(o))},n.canvasProps),null,16,Bx)])}function zx(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var jx=`
.p-chart {
    position: relative;
}
`;zx(jx);mh.render=Nx;const ht={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},Er={AND:"and",OR:"or"},rl={filter(e,t,n,i,r){let s=[];if(e)for(let o of e)for(let l of t){let c=V.resolveFieldData(o,l);if(this.filters[i](c,n,r)){s.push(o);break}}return s},filters:{startsWith(e,t,n){if(t==null||t.trim()==="")return!0;if(e==null)return!1;let i=V.removeAccents(t.toString()).toLocaleLowerCase(n);return V.removeAccents(e.toString()).toLocaleLowerCase(n).slice(0,i.length)===i},contains(e,t,n){if(t==null||typeof t=="string"&&t.trim()==="")return!0;if(e==null)return!1;let i=V.removeAccents(t.toString()).toLocaleLowerCase(n);return V.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(i)!==-1},notContains(e,t,n){if(t==null||typeof t=="string"&&t.trim()==="")return!0;if(e==null)return!1;let i=V.removeAccents(t.toString()).toLocaleLowerCase(n);return V.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(i)===-1},endsWith(e,t,n){if(t==null||t.trim()==="")return!0;if(e==null)return!1;let i=V.removeAccents(t.toString()).toLocaleLowerCase(n),r=V.removeAccents(e.toString()).toLocaleLowerCase(n);return r.indexOf(i,r.length-i.length)!==-1},equals(e,t,n){return t==null||typeof t=="string"&&t.trim()===""?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()===t.getTime():V.removeAccents(e.toString()).toLocaleLowerCase(n)==V.removeAccents(t.toString()).toLocaleLowerCase(n)},notEquals(e,t,n){return t==null||typeof t=="string"&&t.trim()===""?!1:e==null?!0:e.getTime&&t.getTime?e.getTime()!==t.getTime():V.removeAccents(e.toString()).toLocaleLowerCase(n)!=V.removeAccents(t.toString()).toLocaleLowerCase(n)},in(e,t){if(t==null||t.length===0)return!0;for(let n=0;n<t.length;n++)if(V.equals(e,t[n]))return!0;return!1},between(e,t){return t==null||t[0]==null||t[1]==null?!0:e==null?!1:e.getTime?t[0].getTime()<=e.getTime()&&e.getTime()<=t[1].getTime():t[0]<=e&&e<=t[1]},lt(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<t.getTime():e<t},lte(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<=t.getTime():e<=t},gt(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>t.getTime():e>t},gte(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>=t.getTime():e>=t},dateIs(e,t){return t==null?!0:e==null?!1:e.toDateString()===t.toDateString()},dateIsNot(e,t){return t==null?!0:e==null?!1:e.toDateString()!==t.toDateString()},dateBefore(e,t){return t==null?!0:e==null?!1:e.getTime()<t.getTime()},dateAfter(e,t){return t==null?!0:e==null?!1:e.getTime()>t.getTime()}},register(e,t){this.filters[e]=t}};var Gl={name:"VirtualScroller",emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0}},data(){return{first:this.isBoth()?{rows:0,cols:0}:0,last:this.isBoth()?{rows:0,cols:0}:0,numItemsInViewport:this.isBoth()?{rows:0,cols:0}:0,lastScrollPos:this.isBoth()?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,watch:{numToleratedItems(e){this.d_numToleratedItems=e},loading(e){this.d_loading=e},items(e,t){(!t||t.length!==(e||[]).length)&&this.init()},orientation(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0}},mounted(){this.init(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},methods:{init(){this.setSize(),this.calculateOptions(),this.setSpacerSize()},isVertical(){return this.orientation==="vertical"},isHorizontal(){return this.orientation==="horizontal"},isBoth(){return this.orientation==="both"},scrollTo(e){this.element&&this.element.scrollTo(e)},scrollToIndex(e,t="auto"){const n=this.isBoth(),i=this.isHorizontal(),r=this.first,{numToleratedItems:s}=this.calculateNumItems(),o=this.itemSize,l=(d=0,u)=>d<=u?0:d,c=(d,u)=>d*u,a=(d=0,u=0)=>this.scrollTo({left:d,top:u,behavior:t});if(n){const d={rows:l(e[0],s[0]),cols:l(e[1],s[1])};(d.rows!==r.rows||d.cols!==r.cols)&&a(c(d.cols,o[1]),c(d.rows,o[0]))}else{const d=l(e,s);d!==r&&(i?a(c(d,o),0):a(0,c(d,o)))}},scrollInView(e,t,n="auto"){if(t){const i=this.isBoth(),r=this.isHorizontal(),{first:s,viewport:o}=this.getRenderedRange(),l=(d=0,u=0)=>this.scrollTo({left:d,top:u,behavior:n}),c=t==="to-start",a=t==="to-end";if(c){if(i)o.first.rows-s.rows>e[0]?l(o.first.cols*this.itemSize[1],(o.first.rows-1)*this.itemSize[0]):o.first.cols-s.cols>e[1]&&l((o.first.cols-1)*this.itemSize[1],o.first.rows*this.itemSize[0]);else if(o.first-s>e){const d=(o.first-1)*this.itemSize;r?l(d,0):l(0,d)}}else if(a){if(i)o.last.rows-s.rows<=e[0]+1?l(o.first.cols*this.itemSize[1],(o.first.rows+1)*this.itemSize[0]):o.last.cols-s.cols<=e[1]+1&&l((o.first.cols+1)*this.itemSize[1],o.first.rows*this.itemSize[0]);else if(o.last-s<=e+1){const d=(o.first+1)*this.itemSize;r?l(d,0):l(0,d)}}}else this.scrollToIndex(e,n)},getRenderedRange(){const e=(i,r)=>Math.floor(i/(r||i));let t=this.first,n=0;if(this.element){const i=this.isBoth(),r=this.isHorizontal(),s=this.element.scrollTop,o=this.element.scrollLeft;i?(t={rows:e(s,this.itemSize[0]),cols:e(o,this.itemSize[1])},n={rows:t.rows+this.numItemsInViewport.rows,cols:t.cols+this.numItemsInViewport.cols}):(t=e(r?o:s,this.itemSize),n=t+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:t,last:n}}},calculateNumItems(){const e=this.isBoth(),t=this.isHorizontal(),n=this.itemSize,i=this.getContentPosition(),r=this.element?this.element.offsetWidth-i.left:0,s=this.element?this.element.offsetHeight-i.top:0,o=(d,u)=>Math.ceil(d/(u||d)),l=d=>Math.ceil(d/2),c=e?{rows:o(s,n[0]),cols:o(r,n[1])}:o(t?r:s,n),a=this.d_numToleratedItems||(e?[l(c.rows),l(c.cols)]:l(c));return{numItemsInViewport:c,numToleratedItems:a}},calculateOptions(){const e=this.isBoth(),t=this.first,{numItemsInViewport:n,numToleratedItems:i}=this.calculateNumItems(),r=(o,l,c,a)=>this.getLast(o+l+(o<c?2:3)*c,a),s=e?{rows:r(t.rows,n.rows,i[0]),cols:r(t.cols,n.cols,i[1],!0)}:r(t,n,i);this.last=s,this.numItemsInViewport=n,this.d_numToleratedItems=i,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=e?Array.from({length:n.rows}).map(()=>Array.from({length:n.cols})):Array.from({length:n})),this.lazy&&this.$emit("lazy-load",{first:t,last:s})},getLast(e=0,t){return this.items?Math.min(t?(this.columns||this.items[0]).length:this.items.length,e):0},getContentPosition(){if(this.content){const e=getComputedStyle(this.content),t=parseInt(e.paddingLeft,10)+Math.max(parseInt(e.left,10),0),n=parseInt(e.paddingRight,10)+Math.max(parseInt(e.right,10),0),i=parseInt(e.paddingTop,10)+Math.max(parseInt(e.top,10),0),r=parseInt(e.paddingBottom,10)+Math.max(parseInt(e.bottom,10),0);return{left:t,right:n,top:i,bottom:r,x:t+n,y:i+r}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize(){if(this.element){const e=this.isBoth(),t=this.isHorizontal(),n=this.element.parentElement,i=this.scrollWidth||`${this.element.offsetWidth||n.offsetWidth}px`,r=this.scrollHeight||`${this.element.offsetHeight||n.offsetHeight}px`,s=(o,l)=>this.element.style[o]=l;e||t?(s("height",r),s("width",i)):s("height",r)}},setSpacerSize(){const e=this.items;if(e){const t=this.isBoth(),n=this.isHorizontal(),i=this.getContentPosition(),r=(s,o,l,c=0)=>this.spacerStyle={...this.spacerStyle,[`${s}`]:(o||[]).length*l+c+"px"};t?(r("height",e,this.itemSize[0],i.y),r("width",this.columns||e[1],this.itemSize[1],i.x)):n?r("width",this.columns||e,this.itemSize,i.x):r("height",e,this.itemSize,i.y)}},setContentPosition(e){if(this.content){const t=this.isBoth(),n=this.isHorizontal(),i=e?e.first:this.first,r=(o,l)=>o*l,s=(o=0,l=0)=>{this.contentStyle={...this.contentStyle,transform:`translate3d(${o}px, ${l}px, 0)`}};if(t)s(r(i.cols,this.itemSize[1]),r(i.rows,this.itemSize[0]));else{const o=r(i,this.itemSize);n?s(o,0):s(0,o)}}},onScrollPositionChange(e){const t=e.target,n=this.isBoth(),i=this.isHorizontal(),r=this.getContentPosition(),s=(O,A)=>O?O>A?O-A:O:0,o=(O,A)=>Math.floor(O/(A||O)),l=(O,A,L,q,T,B)=>O<=T?T:B?L-q-T:A+T-1,c=(O,A,L,q,T,B,Z)=>O<=B?0:Math.max(0,Z?O<A?L:O-B:O>A?L:O-2*B),a=(O,A,L,q,T,B)=>{let Z=A+q+2*T;return O>=T&&(Z+=T+1),this.getLast(Z,B)},d=s(t.scrollTop,r.top),u=s(t.scrollLeft,r.left);let h=n?{rows:0,cols:0}:0,f=this.last,v=!1,k=this.lastScrollPos;if(n){const O=this.lastScrollPos.top<=d,A=this.lastScrollPos.left<=u,L={rows:o(d,this.itemSize[0]),cols:o(u,this.itemSize[1])},q={rows:l(L.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],O),cols:l(L.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],A)};h={rows:c(L.rows,q.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],O),cols:c(L.cols,q.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],A)},f={rows:a(L.rows,h.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:a(L.cols,h.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},v=h.rows!==this.first.rows||f.rows!==this.last.rows||h.cols!==this.first.cols||f.cols!==this.last.cols,k={top:d,left:u}}else{const O=i?u:d,A=this.lastScrollPos<=O,L=o(O,this.itemSize),q=l(L,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,A);h=c(L,q,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,A),f=a(L,h,this.last,this.numItemsInViewport,this.d_numToleratedItems),v=h!==this.first||f!==this.last,k=O}return{first:h,last:f,isRangeChanged:v,scrollPos:k}},onScrollChange(e){const{first:t,last:n,isRangeChanged:i,scrollPos:r}=this.onScrollPositionChange(e);if(i){const s={first:t,last:n};this.setContentPosition(s),this.first=t,this.last=n,this.lastScrollPos=r,this.$emit("scroll-index-change",s),this.lazy&&this.$emit("lazy-load",s)}},onScroll(e){if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:t}=this.onScrollPositionChange(e);t&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&!this.lazy&&(this.d_loading=!1)},this.delay)}else this.onScrollChange(e)},getOptions(e){const t=(this.items||[]).length,n=this.isBoth()?this.first.rows+e:this.first+e;return{index:n,count:t,first:n===0,last:n===t-1,even:n%2===0,odd:n%2!==0}},getLoaderOptions(e,t){let n=this.loaderArr.length;return{index:e,count:n,first:e===0,last:e===n-1,even:e%2===0,odd:e%2!==0,...t}},elementRef(e){this.element=e},contentRef(e){this.content=e}},computed:{containerClass(){return["p-virtualscroller",{"p-both-scroll":this.isBoth(),"p-horizontal-scroll":this.isHorizontal()},this.class]},contentClass(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems(){const e=this.items;return e&&!this.d_loading?this.isBoth()?e.slice(this.first.rows,this.last.rows).map(t=>this.columns?t:t.slice(this.first.cols,this.last.cols)):this.isHorizontal()&&this.columns?e:e.slice(this.first,this.last):[]},loadedRows(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns(){if(this.columns){const e=this.isBoth(),t=this.isHorizontal();if(e||t)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}}};const Vx=["tabindex"],Kx={key:1,class:"p-virtualscroller-loading-icon pi pi-spinner pi-spin"};function Ux(e,t,n,i,r,s){return n.disabled?(x(),I(me,{key:1},[Pe(e.$slots,"default"),Pe(e.$slots,"content",{items:n.items,rows:n.items,columns:s.loadedColumns})],64)):(x(),I("div",{key:0,ref:s.elementRef,class:ie(s.containerClass),tabindex:n.tabindex,style:qe(n.style),onScroll:t[0]||(t[0]=(...o)=>s.onScroll&&s.onScroll(...o))},[Pe(e.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:r.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:n.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:r.spacerStyle,contentStyle:r.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},()=>[j("div",{ref:s.contentRef,class:ie(s.contentClass),style:qe(r.contentStyle)},[(x(!0),I(me,null,lt(s.loadedItems,(o,l)=>Pe(e.$slots,"item",{key:l,item:o,options:s.getOptions(l)})),128))],6)]),n.showSpacer?(x(),I("div",{key:0,class:"p-virtualscroller-spacer",style:qe(r.spacerStyle)},null,4)):$("",!0),!n.loaderDisabled&&n.showLoader&&r.d_loading?(x(),I("div",{key:1,class:ie(s.loaderClass)},[e.$slots&&e.$slots.loader?(x(!0),I(me,{key:0},lt(r.loaderArr,(o,l)=>Pe(e.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:e.d_numItemsInViewport.cols})})),128)):(x(),I("i",Kx))],2)):$("",!0)],46,Vx))}function Hx(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var $x=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}
.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    contain: content;
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}
.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}
.p-virtualscroller .p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}
.p-virtualscroller-loader.p-component-overlay {
    display: flex;
    align-items: center;
    justify-content: center;
}
`;Hx($x);Gl.render=Ux;var Xr={name:"Dropdown",emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:String,default:null},inputStyle:{type:null,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:String,default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:"pi pi-times"},dropdownIcon:{type:String,default:"pi pi-chevron-down"},filterIcon:{type:String,default:"pi pi-search"},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!0},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},"aria-label":{type:String,default:null},"aria-labelledby":{type:String,default:null}},outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,focusOnHover:!1,data(){return{id:this.$attrs.id,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||Kt()},modelValue(){this.isModelValueChanged=!0},options(){this.autoUpdateModel()}},mounted(){this.id=this.id||Kt(),this.autoUpdateModel()},updated(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(rt.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t(e).index},getOptionLabel(e){return this.optionLabel?V.resolveFieldData(e,this.optionLabel):e},getOptionValue(e){return this.optionValue?V.resolveFieldData(e,this.optionValue):e},getOptionRenderKey(e,t){return(this.dataKey?V.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+t},isOptionDisabled(e){return this.optionDisabled?V.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel(e){return V.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren(e){return V.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1},show(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,e&&E.focus(this.$refs.focusInput)},hide(e){const t=()=>{this.$emit("before-hide"),this.overlayVisible=!1,this.focusedOptionIndex=-1,this.searchValue="",this.resetFilterOnHide&&(this.filterValue=null),e&&E.focus(this.$refs.focusInput)};setTimeout(()=>{t()},0)},onFocus(e){this.disabled||(this.focused=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,this.overlayVisible&&this.scrollInView(this.focusedOptionIndex),this.$emit("focus",e))},onBlur(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown(e){if(this.disabled){e.preventDefault();return}const t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!t&&V.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}},onEditableInput(e){const t=e.target.value;this.searchValue="",!this.searchOptions(e,t)&&(this.focusedOptionIndex=-1),this.$emit("update:modelValue",t)},onContainerClick(e){this.disabled||this.loading||E.hasClass(e.target,"p-dropdown-clear-icon")||e.target.tagName==="INPUT"||(!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0))},onClearClick(e){this.updateModel(e,null)},onFirstHiddenFocus(e){const t=e.relatedTarget===this.$refs.focusInput?E.getFirstFocusableElement(this.overlay,":not(.p-hidden-focusable)"):this.$refs.focusInput;E.focus(t)},onLastHiddenFocus(e){const t=e.relatedTarget===this.$refs.focusInput?E.getLastFocusableElement(this.overlay,":not(.p-hidden-focusable)"):this.$refs.focusInput;E.focus(t)},onOptionSelect(e,t,n=!0){const i=this.getOptionValue(t);this.updateModel(e,i),n&&this.hide(!0)},onOptionMouseMove(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)},onFilterChange(e){const t=e.target.value;this.filterValue=t,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:t}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur(){this.focusedOptionIndex=-1},onFilterUpdated(){this.overlayVisible&&this.alignOverlay()},onOverlayClick(e){Gt.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey(e){const t=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,t),!this.overlayVisible&&this.show(),e.preventDefault()},onArrowUpKey(e,t=!1){if(e.altKey&&!t)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{const n=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,n),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey(e,t=!1){t&&(this.focusedOptionIndex=-1)},onHomeKey(e,t=!1){t?(e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex=-1):(this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show()),e.preventDefault()},onEndKey(e,t=!1){if(t){const n=e.currentTarget,i=n.value.length;n.setSelectionRange(i,i),this.focusedOptionIndex=-1}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey(e){this.scrollInView(0),e.preventDefault()},onPageDownKey(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):this.onArrowDownKey(e),e.preventDefault()},onSpaceKey(e,t=!1){!t&&this.onEnterKey(e)},onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey(e,t=!1){t||(this.overlayVisible&&this.hasFocusableElements()?(E.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey(e,t=!1){t&&!this.overlayVisible&&this.show()},onOverlayEnter(e){rt.set("overlay",e,this.$primevue.config.zIndex.overlay),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&E.focus(this.$refs.filterInput)},onOverlayAfterEnter(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave(e){rt.clear(e)},alignOverlay(){this.appendTo==="self"?E.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=E.getOuterWidth(this.$el)+"px",E.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.overlayVisible&&this.overlay&&!this.$el.contains(e.target)&&!this.overlay.contains(e.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Fl(this.$refs.container,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!E.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},hasFocusableElements(){return E.getFocusableElements(this.overlay,":not(.p-hidden-focusable)").length>0},isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))},isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected(e){return V.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex(){return this.visibleOptions.findIndex(e=>this.isValidOption(e))},findLastOptionIndex(){return V.findLastIndex(this.visibleOptions,e=>this.isValidOption(e))},findNextOptionIndex(e){const t=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return t>-1?t+e+1:e},findPrevOptionIndex(e){const t=e>0?V.findLastIndex(this.visibleOptions.slice(0,e),n=>this.isValidOption(n)):-1;return t>-1?t:e},findSelectedOptionIndex(){return this.hasSelectedOption?this.visibleOptions.findIndex(e=>this.isValidSelectedOption(e)):-1},findFirstFocusedOptionIndex(){const e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex(){const e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions(e,t){this.searchValue=(this.searchValue||"")+t;let n=-1,i=!1;return this.focusedOptionIndex!==-1?(n=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(r=>this.isOptionMatched(r)),n=n===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(r=>this.isOptionMatched(r)):n+this.focusedOptionIndex):n=this.visibleOptions.findIndex(r=>this.isOptionMatched(r)),n!==-1&&(i=!0),n===-1&&this.focusedOptionIndex===-1&&(n=this.findFirstFocusedOptionIndex()),n!==-1&&this.changeFocusedOptionIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),i},changeFocusedOptionIndex(e,t){this.focusedOptionIndex!==t&&(this.focusedOptionIndex=t,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[t],!1))},scrollInView(e=-1){const t=e!==-1?`${this.id}_${e}`:this.focusedOptionId,n=E.findSingle(this.list,`li[id="${t}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"start"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroller&&this.virtualScroller.scrollToIndex(e!==-1?e:this.focusedOptionIndex)},0)},autoUpdateModel(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel(e,t){this.$emit("update:modelValue",t),this.$emit("change",{originalEvent:e,value:t})},flatOptions(e){return(e||[]).reduce((t,n,i)=>{t.push({optionGroup:n,group:!0,index:i});const r=this.getOptionGroupChildren(n);return r&&r.forEach(s=>t.push(s)),t},[])},overlayRef(e){this.overlay=e},listRef(e,t){this.list=e,t&&t(e)},virtualScrollerRef(e){this.virtualScroller=e}},computed:{containerClass(){return["p-dropdown p-component p-inputwrapper",{"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-overlay-open":this.overlayVisible}]},inputStyleClass(){return["p-dropdown-label p-inputtext",this.inputClass,{"p-placeholder":!this.editable&&this.label===this.placeholder,"p-dropdown-label-empty":!this.editable&&!this.$slots.value&&(this.label==="p-emptylabel"||this.label.length===0)}]},panelStyleClass(){return["p-dropdown-panel p-component",this.panelClass,{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},dropdownIconClass(){return["p-dropdown-trigger-icon",this.loading?this.loadingIcon:this.dropdownIcon]},visibleOptions(){const e=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){const t=rl.filter(e,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){const n=this.options||[],i=[];return n.forEach(r=>{const s=r.items.filter(o=>t.includes(o));s.length>0&&i.push({...r,items:[...s]})}),this.flatOptions(i)}return t}return e},hasSelectedOption(){return V.isNotEmpty(this.modelValue)},label(){const e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue(){const e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey(){return this.optionValue?null:this.dataKey},searchFields(){return this.filterFields||[this.optionLabel]},filterResultMessageText(){return V.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},focusedOptionId(){return this.focusedOptionIndex!==-1?`${this.id}_${this.focusedOptionIndex}`:null},ariaSetSize(){return this.visibleOptions.filter(e=>!this.isOptionGroup(e)).length},virtualScrollerDisabled(){return!this.virtualScrollerOptions}},directives:{ripple:Yt},components:{VirtualScroller:Gl,Portal:fi}};const qx=["id"],Gx=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant"],Wx=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],Jx={class:"p-dropdown-trigger"},Yx={key:0,class:"p-dropdown-header"},Xx={class:"p-dropdown-filter-container"},Zx=["value","placeholder","aria-owns","aria-activedescendant"],Qx={role:"status","aria-live":"polite",class:"p-hidden-accessible"},ev=["id"],tv=["id"],nv=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove"],iv={key:0,class:"p-dropdown-empty-message",role:"option"},sv={key:1,class:"p-dropdown-empty-message",role:"option"},rv={key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},ov={role:"status","aria-live":"polite",class:"p-hidden-accessible"};function lv(e,t,n,i,r,s){const o=_e("VirtualScroller"),l=_e("Portal"),c=Et("ripple");return x(),I("div",{ref:"container",id:r.id,class:ie(s.containerClass),onClick:t[16]||(t[16]=(...a)=>s.onContainerClick&&s.onContainerClick(...a))},[n.editable?(x(),I("input",Je({key:0,ref:"focusInput",id:n.inputId,type:"text",style:n.inputStyle,class:s.inputStyleClass,value:s.editableInputValue,placeholder:n.placeholder,tabindex:n.disabled?-1:n.tabindex,disabled:n.disabled,autocomplete:"off",role:"combobox","aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":r.overlayVisible,"aria-controls":r.id+"_list","aria-activedescendant":r.focused?s.focusedOptionId:void 0,onFocus:t[0]||(t[0]=(...a)=>s.onFocus&&s.onFocus(...a)),onBlur:t[1]||(t[1]=(...a)=>s.onBlur&&s.onBlur(...a)),onKeydown:t[2]||(t[2]=(...a)=>s.onKeyDown&&s.onKeyDown(...a)),onInput:t[3]||(t[3]=(...a)=>s.onEditableInput&&s.onEditableInput(...a))},n.inputProps),null,16,Gx)):(x(),I("span",Je({key:1,ref:"focusInput",id:n.inputId,style:n.inputStyle,class:s.inputStyleClass,tabindex:n.disabled?-1:n.tabindex,role:"combobox","aria-label":e.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":e.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":r.overlayVisible,"aria-controls":r.id+"_list","aria-activedescendant":r.focused?s.focusedOptionId:void 0,"aria-disabled":n.disabled,onFocus:t[4]||(t[4]=(...a)=>s.onFocus&&s.onFocus(...a)),onBlur:t[5]||(t[5]=(...a)=>s.onBlur&&s.onBlur(...a)),onKeydown:t[6]||(t[6]=(...a)=>s.onKeyDown&&s.onKeyDown(...a))},n.inputProps),[Pe(e.$slots,"value",{value:n.modelValue,placeholder:n.placeholder},()=>[xt(Me(s.label==="p-emptylabel"?" ":s.label||"empty"),1)])],16,Wx)),n.showClear&&n.modelValue!=null?(x(),I("i",Je({key:2,class:["p-dropdown-clear-icon",n.clearIcon],onClick:t[7]||(t[7]=(...a)=>s.onClearClick&&s.onClearClick(...a))},n.clearIconProps),null,16)):$("",!0),j("div",Jx,[Pe(e.$slots,"indicator",{},()=>[j("span",{class:ie(s.dropdownIconClass),"aria-hidden":"true"},null,2)])]),he(l,{appendTo:n.appendTo},{default:ye(()=>[he(Hn,{name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},{default:ye(()=>[r.overlayVisible?(x(),I("div",Je({key:0,ref:s.overlayRef,style:n.panelStyle,class:s.panelStyleClass,onClick:t[14]||(t[14]=(...a)=>s.onOverlayClick&&s.onOverlayClick(...a)),onKeydown:t[15]||(t[15]=(...a)=>s.onOverlayKeyDown&&s.onOverlayKeyDown(...a))},n.panelProps),[j("span",{ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:t[8]||(t[8]=(...a)=>s.onFirstHiddenFocus&&s.onFirstHiddenFocus(...a))},null,544),Pe(e.$slots,"header",{value:n.modelValue,options:s.visibleOptions}),n.filter?(x(),I("div",Yx,[j("div",Xx,[j("input",Je({ref:"filterInput",type:"text",value:r.filterValue,onVnodeUpdated:t[9]||(t[9]=(...a)=>s.onFilterUpdated&&s.onFilterUpdated(...a)),class:"p-dropdown-filter p-inputtext p-component",placeholder:n.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":r.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:t[10]||(t[10]=(...a)=>s.onFilterKeyDown&&s.onFilterKeyDown(...a)),onBlur:t[11]||(t[11]=(...a)=>s.onFilterBlur&&s.onFilterBlur(...a)),onInput:t[12]||(t[12]=(...a)=>s.onFilterChange&&s.onFilterChange(...a))},n.filterInputProps),null,16,Zx),j("span",{class:ie(["p-dropdown-filter-icon",n.filterIcon])},null,2)]),j("span",Qx,Me(s.filterResultMessageText),1)])):$("",!0),j("div",{class:"p-dropdown-items-wrapper",style:qe({"max-height":s.virtualScrollerDisabled?n.scrollHeight:""})},[he(o,Je({ref:s.virtualScrollerRef},n.virtualScrollerOptions,{items:s.visibleOptions,style:{height:n.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled}),Oo({content:ye(({styleClass:a,contentRef:d,items:u,getItemOptions:h,contentStyle:f,itemSize:v})=>[j("ul",{ref:k=>s.listRef(k,d),id:r.id+"_list",class:ie(["p-dropdown-items",a]),style:qe(f),role:"listbox"},[(x(!0),I(me,null,lt(u,(k,O)=>(x(),I(me,{key:s.getOptionRenderKey(k,s.getOptionIndex(O,h))},[s.isOptionGroup(k)?(x(),I("li",{key:0,id:r.id+"_"+s.getOptionIndex(O,h),style:qe({height:v?v+"px":void 0}),class:"p-dropdown-item-group",role:"option"},[Pe(e.$slots,"optiongroup",{option:k.optionGroup,index:s.getOptionIndex(O,h)},()=>[xt(Me(s.getOptionGroupLabel(k.optionGroup)),1)])],12,tv)):ot((x(),I("li",{key:1,id:r.id+"_"+s.getOptionIndex(O,h),style:qe({height:v?v+"px":void 0}),class:ie(["p-dropdown-item",{"p-highlight":s.isSelected(k),"p-focus":r.focusedOptionIndex===s.getOptionIndex(O,h),"p-disabled":s.isOptionDisabled(k)}]),role:"option","aria-label":s.getOptionLabel(k),"aria-selected":s.isSelected(k),"aria-disabled":s.isOptionDisabled(k),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(O,h)),onClick:A=>s.onOptionSelect(A,k),onMousemove:A=>s.onOptionMouseMove(A,s.getOptionIndex(O,h))},[Pe(e.$slots,"option",{option:k,index:s.getOptionIndex(O,h)},()=>[xt(Me(s.getOptionLabel(k)),1)])],46,nv)),[[c]])],64))),128)),r.filterValue&&(!u||u&&u.length===0)?(x(),I("li",iv,[Pe(e.$slots,"emptyfilter",{},()=>[xt(Me(s.emptyFilterMessageText),1)])])):!n.options||n.options&&n.options.length===0?(x(),I("li",sv,[Pe(e.$slots,"empty",{},()=>[xt(Me(s.emptyMessageText),1)])])):$("",!0)],14,ev)]),_:2},[e.$slots.loader?{name:"loader",fn:ye(({options:a})=>[Pe(e.$slots,"loader",{options:a})]),key:"0"}:void 0]),1040,["items","style","disabled"])],4),Pe(e.$slots,"footer",{value:n.modelValue,options:s.visibleOptions}),!n.options||n.options&&n.options.length===0?(x(),I("span",rv,Me(s.emptyMessageText),1)):$("",!0),j("span",ov,Me(s.selectedMessageText),1),j("span",{ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:t[13]||(t[13]=(...a)=>s.onLastHiddenFocus&&s.onLastHiddenFocus(...a))},null,544)],16)):$("",!0)]),_:3},8,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo"])],10,qx)}function av(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var cv=`
.p-dropdown {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
}
.p-dropdown-clear-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}
.p-dropdown-trigger {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}
.p-dropdown-label {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    flex: 1 1 auto;
    width: 1%;
    text-overflow: ellipsis;
    cursor: pointer;
}
.p-dropdown-label-empty {
    overflow: hidden;
    opacity: 0;
}
input.p-dropdown-label {
    cursor: default;
}
.p-dropdown .p-dropdown-panel {
    min-width: 100%;
}
.p-dropdown-panel {
    position: absolute;
    top: 0;
    left: 0;
}
.p-dropdown-items-wrapper {
    overflow: auto;
}
.p-dropdown-item {
    cursor: pointer;
    font-weight: normal;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
}
.p-dropdown-item-group {
    cursor: auto;
}
.p-dropdown-items {
    margin: 0;
    padding: 0;
    list-style-type: none;
}
.p-dropdown-filter {
    width: 100%;
}
.p-dropdown-filter-container {
    position: relative;
}
.p-dropdown-filter-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}
.p-fluid .p-dropdown {
    display: flex;
}
.p-fluid .p-dropdown .p-dropdown-label {
    width: 1%;
}
`;av(cv);Xr.render=lv;var gh={name:"CurrentPageReport",props:{pageCount:{type:Number,default:0},currentPage:{type:Number,default:0},page:{type:Number,default:0},first:{type:Number,default:0},rows:{type:Number,default:0},totalRecords:{type:Number,default:0},template:{type:String,default:"({currentPage} of {totalPages})"}},computed:{text(){return this.template.replace("{currentPage}",this.currentPage).replace("{totalPages}",this.pageCount).replace("{first}",this.pageCount>0?this.first+1:0).replace("{last}",Math.min(this.first+this.rows,this.totalRecords)).replace("{rows}",this.rows).replace("{totalRecords}",this.totalRecords)}}};const uv={class:"p-paginator-current"};function dv(e,t,n,i,r,s){return x(),I("span",uv,Me(s.text),1)}gh.render=dv;var bh={name:"FirstPageLink",computed:{containerClass(){return["p-paginator-first p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:Yt}};const hv=j("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1),fv=[hv];function pv(e,t,n,i,r,s){const o=Et("ripple");return ot((x(),I("button",{class:ie(s.containerClass),type:"button"},fv,2)),[[o]])}bh.render=pv;var yh={name:"JumpToPageDropdown",emits:["page-change"],props:{page:Number,pageCount:Number,disabled:Boolean},methods:{onChange(e){this.$emit("page-change",e)}},computed:{pageOptions(){let e=[];for(let t=0;t<this.pageCount;t++)e.push({label:String(t+1),value:t});return e}},components:{JTPDropdown:Xr}};function mv(e,t,n,i,r,s){const o=_e("JTPDropdown");return x(),le(o,{modelValue:n.page,options:s.pageOptions,optionLabel:"label",optionValue:"value","onUpdate:modelValue":t[0]||(t[0]=l=>s.onChange(l)),class:"p-paginator-page-options",disabled:n.disabled},null,8,["modelValue","options","disabled"])}yh.render=mv;var wh={name:"JumpToPageInput",inheritAttrs:!1,emits:["page-change"],props:{page:Number,pageCount:Number,disabled:Boolean},data(){return{d_page:this.page}},watch:{page(e){this.d_page=e}},methods:{onChange(e){e!==this.page&&(this.d_page=e,this.$emit("page-change",e-1))}},computed:{inputArialabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.jumpToPageInputLabel:void 0}},components:{JTPInput:Bl}};function gv(e,t,n,i,r,s){const o=_e("JTPInput");return x(),le(o,{ref:"jtpInput",modelValue:r.d_page,class:"p-paginator-page-input","aria-label":s.inputArialabel,disabled:n.disabled,"onUpdate:modelValue":s.onChange},null,8,["modelValue","aria-label","disabled","onUpdate:modelValue"])}wh.render=gv;var xh={name:"LastPageLink",computed:{containerClass(){return["p-paginator-last p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:Yt}};const bv=j("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1),yv=[bv];function wv(e,t,n,i,r,s){const o=Et("ripple");return ot((x(),I("button",{class:ie(s.containerClass),type:"button"},yv,2)),[[o]])}xh.render=wv;var vh={name:"NextPageLink",computed:{containerClass(){return["p-paginator-next p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:Yt}};const xv=j("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1),vv=[xv];function _v(e,t,n,i,r,s){const o=Et("ripple");return ot((x(),I("button",{class:ie(s.containerClass),type:"button"},vv,2)),[[o]])}vh.render=_v;var _h={name:"PageLinks",inheritAttrs:!1,emits:["click"],props:{value:Array,page:Number},methods:{onPageLinkClick(e,t){this.$emit("click",{originalEvent:e,value:t})},ariaPageLabel(e){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.pageLabel.replace(/{page}/g,e):void 0}},computed:{},directives:{ripple:Yt}};const Cv={class:"p-paginator-pages"},Sv=["aria-label","aria-current","onClick"];function Iv(e,t,n,i,r,s){const o=Et("ripple");return x(),I("span",Cv,[(x(!0),I(me,null,lt(n.value,l=>ot((x(),I("button",{key:l,class:ie(["p-paginator-page p-paginator-element p-link",{"p-highlight":l-1===n.page}]),type:"button","aria-label":s.ariaPageLabel(l),"aria-current":l-1===n.page?"page":void 0,onClick:c=>s.onPageLinkClick(c,l)},[xt(Me(l),1)],10,Sv)),[[o]])),128))])}_h.render=Iv;var Ch={name:"PrevPageLink",computed:{containerClass(){return["p-paginator-prev p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:Yt}};const Ev=j("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1),kv=[Ev];function Pv(e,t,n,i,r,s){const o=Et("ripple");return ot((x(),I("button",{class:ie(s.containerClass),type:"button"},kv,2)),[[o]])}Ch.render=Pv;var Sh={name:"RowsPerPageDropdown",emits:["rows-change"],props:{options:Array,rows:Number,disabled:Boolean},methods:{onChange(e){this.$emit("rows-change",e)}},computed:{rowsOptions(){let e=[];if(this.options)for(let t=0;t<this.options.length;t++)e.push({label:String(this.options[t]),value:this.options[t]});return e}},components:{RPPDropdown:Xr}};function Rv(e,t,n,i,r,s){const o=_e("RPPDropdown");return x(),le(o,{modelValue:n.rows,options:s.rowsOptions,optionLabel:"label",optionValue:"value","onUpdate:modelValue":t[0]||(t[0]=l=>s.onChange(l)),class:"p-paginator-rpp-options",disabled:n.disabled},null,8,["modelValue","options","disabled"])}Sh.render=Rv;var Ih={name:"Paginator",emits:["update:first","update:rows","page"],props:{totalRecords:{type:Number,default:0},rows:{type:Number,default:0},first:{type:Number,default:0},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},template:{type:[Object,String],default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},currentPageReportTemplate:{type:null,default:"({currentPage} of {totalPages})"},alwaysShow:{type:Boolean,default:!0}},data(){return{d_first:this.first,d_rows:this.rows}},watch:{first(e){this.d_first=e},rows(e){this.d_rows=e},totalRecords(e){this.page>0&&e&&this.d_first>=e&&this.changePage(this.pageCount-1)}},mounted(){this.setPaginatorAttribute(),this.createStyle()},methods:{changePage(e){const t=this.pageCount;if(e>=0&&e<t){this.d_first=this.d_rows*e;const n={page:e,first:this.d_first,rows:this.d_rows,pageCount:t};this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",n)}},changePageToFirst(e){this.isFirstPage||this.changePage(0),e.preventDefault()},changePageToPrev(e){this.changePage(this.page-1),e.preventDefault()},changePageLink(e){this.changePage(e.value-1),e.originalEvent.preventDefault()},changePageToNext(e){this.changePage(this.page+1),e.preventDefault()},changePageToLast(e){this.isLastPage||this.changePage(this.pageCount-1),e.preventDefault()},onRowChange(e){this.d_rows=e,this.changePage(this.page)},createStyle(){if(this.hasBreakpoints()){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";const t=Object.keys(this.template),n={};t.sort((i,r)=>parseInt(i)-parseInt(r)).forEach(i=>{n[i]=this.template[i]});for(const[i,[r]]of Object.entries(Object.entries(n))){const s=Object.entries(n)[i-1]?`and (min-width:${Object.keys(n)[i-1]})`:"";r==="default"?e+=`
                            @media screen ${s} {
                                .paginator[${this.attributeSelector}],
                                .p-paginator-default{
                                    display: flex !important;
                                }
                            }
                        `:e+=`
                        .paginator[${this.attributeSelector}], .p-paginator-${r} {
                                display: none !important;
                            }
                        @media screen ${s} and (max-width: ${r}) {
                            .paginator[${this.attributeSelector}], .p-paginator-${r} {
                                display: flex !important;
                            }
                            .paginator[${this.attributeSelector}],
                            .p-paginator-default{
                                display: none !important;
                            }
                        }
                    `}this.styleElement.innerHTML=e}},hasBreakpoints(){return typeof this.template=="object"},getPaginatorClasses(e){return[{"p-paginator-default":!this.hasBreakpoints(),[`p-paginator-${e}`]:this.hasBreakpoints()}]},setPaginatorAttribute(){this.$refs.paginator&&this.$refs.paginator.length>=0&&[...this.$refs.paginator].forEach(e=>{e.setAttribute(this.attributeSelector,"")})},getAriaLabel(e){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[e]:void 0}},computed:{templateItems(){let e={};if(this.hasBreakpoints()){e=this.template,e.default||(e.default="FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown");for(const t in e)e[t]=this.template[t].split(" ").map(n=>n.trim());return e}return e.default=this.template.split(" ").map(t=>t.trim()),e},page(){return Math.floor(this.d_first/this.d_rows)},pageCount(){return Math.ceil(this.totalRecords/this.d_rows)},isFirstPage(){return this.page===0},isLastPage(){return this.page===this.pageCount-1},calculatePageLinkBoundaries(){const e=this.pageCount,t=Math.min(this.pageLinkSize,e);let n=Math.max(0,Math.ceil(this.page-t/2)),i=Math.min(e-1,n+t-1);const r=this.pageLinkSize-(i-n+1);return n=Math.max(0,n-r),[n,i]},pageLinks(){let e=[],t=this.calculatePageLinkBoundaries,n=t[0],i=t[1];for(var r=n;r<=i;r++)e.push(r+1);return e},currentState(){return{page:this.page,first:this.d_first,rows:this.d_rows}},empty(){return this.pageCount===0},currentPage(){return this.pageCount>0?this.page+1:0},attributeSelector(){return Kt()}},components:{CurrentPageReport:gh,FirstPageLink:bh,LastPageLink:xh,NextPageLink:vh,PageLinks:_h,PrevPageLink:Ch,RowsPerPageDropdown:Sh,JumpToPageDropdown:yh,JumpToPageInput:wh}};const Av={key:0},Ov={key:0,class:"p-paginator-left-content"},Tv={key:1,class:"p-paginator-right-content"};function Lv(e,t,n,i,r,s){const o=_e("FirstPageLink"),l=_e("PrevPageLink"),c=_e("NextPageLink"),a=_e("LastPageLink"),d=_e("PageLinks"),u=_e("CurrentPageReport"),h=_e("RowsPerPageDropdown"),f=_e("JumpToPageDropdown"),v=_e("JumpToPageInput");return n.alwaysShow||s.pageLinks&&s.pageLinks.length>1?(x(),I("nav",Av,[(x(!0),I(me,null,lt(s.templateItems,(k,O)=>(x(),I("div",{key:O,ref_for:!0,ref:"paginator",class:ie(["p-paginator p-component",s.getPaginatorClasses(O)])},[e.$slots.start?(x(),I("div",Ov,[Pe(e.$slots,"start",{state:s.currentState})])):$("",!0),(x(!0),I(me,null,lt(k,A=>(x(),I(me,{key:A},[A==="FirstPageLink"?(x(),le(o,{key:0,"aria-label":s.getAriaLabel("firstPageLabel"),onClick:t[0]||(t[0]=L=>s.changePageToFirst(L)),disabled:s.isFirstPage||s.empty},null,8,["aria-label","disabled"])):A==="PrevPageLink"?(x(),le(l,{key:1,"aria-label":s.getAriaLabel("prevPageLabel"),onClick:t[1]||(t[1]=L=>s.changePageToPrev(L)),disabled:s.isFirstPage||s.empty},null,8,["aria-label","disabled"])):A==="NextPageLink"?(x(),le(c,{key:2,"aria-label":s.getAriaLabel("nextPageLabel"),onClick:t[2]||(t[2]=L=>s.changePageToNext(L)),disabled:s.isLastPage||s.empty},null,8,["aria-label","disabled"])):A==="LastPageLink"?(x(),le(a,{key:3,"aria-label":s.getAriaLabel("lastPageLabel"),onClick:t[3]||(t[3]=L=>s.changePageToLast(L)),disabled:s.isLastPage||s.empty},null,8,["aria-label","disabled"])):A==="PageLinks"?(x(),le(d,{key:4,"aria-label":s.getAriaLabel("pageLabel"),value:s.pageLinks,page:s.page,onClick:t[4]||(t[4]=L=>s.changePageLink(L))},null,8,["aria-label","value","page"])):A==="CurrentPageReport"?(x(),le(u,{key:5,"aria-live":"polite",template:n.currentPageReportTemplate,currentPage:s.currentPage,page:s.page,pageCount:s.pageCount,first:r.d_first,rows:r.d_rows,totalRecords:n.totalRecords},null,8,["template","currentPage","page","pageCount","first","rows","totalRecords"])):A==="RowsPerPageDropdown"&&n.rowsPerPageOptions?(x(),le(h,{key:6,"aria-label":s.getAriaLabel("rowsPerPageLabel"),rows:r.d_rows,options:n.rowsPerPageOptions,onRowsChange:t[5]||(t[5]=L=>s.onRowChange(L)),disabled:s.empty},null,8,["aria-label","rows","options","disabled"])):A==="JumpToPageDropdown"?(x(),le(f,{key:7,"aria-label":s.getAriaLabel("jumpToPageDropdownLabel"),page:s.page,pageCount:s.pageCount,onPageChange:t[6]||(t[6]=L=>s.changePage(L)),disabled:s.empty},null,8,["aria-label","page","pageCount","disabled"])):A==="JumpToPageInput"?(x(),le(v,{key:8,page:s.currentPage,onPageChange:t[7]||(t[7]=L=>s.changePage(L)),disabled:s.empty},null,8,["page","disabled"])):$("",!0)],64))),128)),e.$slots.end?(x(),I("div",Tv,[Pe(e.$slots,"end",{state:s.currentState})])):$("",!0)],2))),128))])):$("",!0)}function Mv(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var Fv=`
.p-paginator-default {
    display: flex;
}
.p-paginator {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
}
.p-paginator-left-content {
    margin-right: auto;
}
.p-paginator-right-content {
    margin-left: auto;
}
.p-paginator-page,
.p-paginator-next,
.p-paginator-last,
.p-paginator-first,
.p-paginator-prev,
.p-paginator-current {
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    user-select: none;
    overflow: hidden;
    position: relative;
}
.p-paginator-element:focus {
    z-index: 1;
    position: relative;
}
`;Mv(Fv);Ih.render=Lv;var Eh={name:"RowCheckbox",emits:["change"],props:{value:null,checked:null},data(){return{focused:!1}},methods:{onClick(e){this.$attrs.disabled||(this.$emit("change",{originalEvent:e,data:this.value}),E.focus(this.$refs.input)),e.preventDefault()},onFocus(){this.focused=!0},onBlur(){this.focused=!1},onKeydown(e){switch(e.code){case"Space":{this.onClick(e);break}}}},computed:{checkboxAriaLabel(){return this.$primevue.config.locale.aria?this.checked?this.$primevue.config.locale.aria.selectRow:this.$primevue.config.locale.aria.unselectRow:void 0}}};const Dv={class:"p-hidden-accessible"},Bv=["checked","disabled","tabindex","aria-label"];function Nv(e,t,n,i,r,s){return x(),I("div",{class:ie(["p-checkbox p-component",{"p-checkbox-focused":r.focused}]),onClick:t[3]||(t[3]=(...o)=>s.onClick&&s.onClick(...o))},[j("div",Dv,[j("input",{ref:"input",type:"checkbox",checked:n.checked,disabled:e.$attrs.disabled,tabindex:e.$attrs.disabled?null:"0","aria-label":s.checkboxAriaLabel,onFocus:t[0]||(t[0]=o=>s.onFocus(o)),onBlur:t[1]||(t[1]=o=>s.onBlur(o)),onKeydown:t[2]||(t[2]=(...o)=>s.onKeydown&&s.onKeydown(...o))},null,40,Bv)]),j("div",{ref:"box",class:ie(["p-checkbox-box p-component",{"p-highlight":n.checked,"p-disabled":e.$attrs.disabled,"p-focus":r.focused}])},[j("span",{class:ie(["p-checkbox-icon",{"pi pi-check":n.checked}])},null,2)],2)],2)}Eh.render=Nv;var kh={name:"RowRadioButton",inheritAttrs:!1,emits:["change"],props:{value:null,checked:null,name:null},data(){return{focused:!1}},methods:{onClick(e){this.disabled||this.checked||(this.$emit("change",{originalEvent:e,data:this.value}),E.focus(this.$refs.input))},onFocus(){this.focused=!0},onBlur(){this.focused=!1}}};const zv={class:"p-hidden-accessible"},jv=["checked","disabled","name"],Vv=j("div",{class:"p-radiobutton-icon"},null,-1),Kv=[Vv];function Uv(e,t,n,i,r,s){return x(),I("div",{class:ie(["p-radiobutton p-component",{"p-radiobutton-focused":r.focused}]),onClick:t[3]||(t[3]=(...o)=>s.onClick&&s.onClick(...o))},[j("div",zv,[j("input",{ref:"input",type:"radio",checked:n.checked,disabled:e.$attrs.disabled,name:n.name,tabindex:"0",onFocus:t[0]||(t[0]=o=>s.onFocus(o)),onBlur:t[1]||(t[1]=o=>s.onBlur(o)),onKeydown:t[2]||(t[2]=cs(Ll((...o)=>s.onClick&&s.onClick(...o),["prevent"]),["space"]))},null,40,jv)]),j("div",{ref:"box",class:ie(["p-radiobutton-box p-component",{"p-highlight":n.checked,"p-disabled":e.$attrs.disabled,"p-focus":r.focused}])},Kv,2)],2)}kh.render=Uv;var Ph={name:"BodyCell",emits:["cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","row-toggle","radio-change","checkbox-change","editing-meta-change"],props:{rowData:{type:Object,default:null},column:{type:Object,default:null},frozenRow:{type:Boolean,default:!1},rowIndex:{type:Number,default:null},index:{type:Number,default:null},rowTogglerIcon:{type:Array,default:null},selected:{type:Boolean,default:!1},editing:{type:Boolean,default:!1},editingMeta:{type:Object,default:null},editMode:{type:String,default:null},responsiveLayout:{type:String,default:"stack"},virtualScrollerContentProps:{type:Object,default:null},ariaControls:{type:String,default:null},name:{type:String,default:null}},documentEditListener:null,selfClick:!1,overlayEventListener:null,data(){return{d_editing:this.editing,styleObject:{},isRowExpanded:!1}},watch:{editing(e){this.d_editing=e},"$data.d_editing":function(e){this.$emit("editing-meta-change",{data:this.rowData,field:this.field||`field_${this.index}`,index:this.rowIndex,editing:e})}},mounted(){this.columnProp("frozen")&&this.updateStickyPosition()},updated(){this.columnProp("frozen")&&this.updateStickyPosition(),this.d_editing&&(this.editMode==="cell"||this.editMode==="row"&&this.columnProp("rowEditor"))&&setTimeout(()=>{const e=E.getFirstFocusableElement(this.$el);e&&e.focus()},1)},beforeUnmount(){this.overlayEventListener&&(Gt.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null)},methods:{columnProp(e){return V.getVNodeProp(this.column,e)},resolveFieldData(){return V.resolveFieldData(this.rowData,this.field)},toggleRow(e){this.isRowExpanded=!this.isRowExpanded,this.$emit("row-toggle",{originalEvent:e,data:this.rowData})},toggleRowWithRadio(e,t){this.$emit("radio-change",{originalEvent:e.originalEvent,index:t,data:e.data})},toggleRowWithCheckbox(e,t){this.$emit("checkbox-change",{originalEvent:e.originalEvent,index:t,data:e.data})},isEditable(){return this.column.children&&this.column.children.editor!=null},bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.selfClick||this.completeEdit(e,"outside"),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))},unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null,this.selfClick=!1)},switchCellToViewMode(){this.d_editing=!1,this.unbindDocumentEditListener(),Gt.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null},onClick(e){this.editMode==="cell"&&this.isEditable()&&(this.selfClick=!0,this.d_editing||(this.d_editing=!0,this.bindDocumentEditListener(),this.$emit("cell-edit-init",{originalEvent:e,data:this.rowData,field:this.field,index:this.rowIndex}),this.overlayEventListener=t=>{this.$el&&this.$el.contains(t.target)&&(this.selfClick=!0)},Gt.on("overlay-click",this.overlayEventListener)))},completeEdit(e,t){const n={originalEvent:e,data:this.rowData,newData:this.editingRowData,value:this.rowData[this.field],newValue:this.editingRowData[this.field],field:this.field,index:this.rowIndex,type:t,defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0}};this.$emit("cell-edit-complete",n),n.defaultPrevented||this.switchCellToViewMode()},onKeyDown(e){if(this.editMode==="cell")switch(e.code){case"Enter":this.completeEdit(e,"enter");break;case"Escape":this.switchCellToViewMode(),this.$emit("cell-edit-cancel",{originalEvent:e,data:this.rowData,field:this.field,index:this.rowIndex});break;case"Tab":this.completeEdit(e,"tab"),e.shiftKey?this.moveToPreviousCell(e):this.moveToNextCell(e);break}},moveToPreviousCell(e){let t=this.findCell(e.target),n=this.findPreviousEditableColumn(t);n&&(E.invokeElementMethod(n,"click"),e.preventDefault())},moveToNextCell(e){let t=this.findCell(e.target),n=this.findNextEditableColumn(t);n&&(E.invokeElementMethod(n,"click"),e.preventDefault())},findCell(e){if(e){let t=e;for(;t&&!E.hasClass(t,"p-cell-editing");)t=t.parentElement;return t}else return null},findPreviousEditableColumn(e){let t=e.previousElementSibling;if(!t){let n=e.parentElement.previousElementSibling;n&&(t=n.lastElementChild)}return t?E.hasClass(t,"p-editable-column")?t:this.findPreviousEditableColumn(t):null},findNextEditableColumn(e){let t=e.nextElementSibling;if(!t){let n=e.parentElement.nextElementSibling;n&&(t=n.firstElementChild)}return t?E.hasClass(t,"p-editable-column")?t:this.findNextEditableColumn(t):null},isEditingCellValid(){return E.find(this.$el,".p-invalid").length===0},onRowEditInit(e){this.$emit("row-edit-init",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},onRowEditSave(e){this.$emit("row-edit-save",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},onRowEditCancel(e){this.$emit("row-edit-cancel",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},editorInitCallback(e){this.$emit("row-edit-init",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},editorSaveCallback(e){this.editMode==="row"?this.$emit("row-edit-save",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex}):this.completeEdit(e,"enter")},editorCancelCallback(e){this.editMode==="row"?this.$emit("row-edit-cancel",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex}):(this.switchCellToViewMode(),this.$emit("cell-edit-cancel",{originalEvent:e,data:this.rowData,field:this.field,index:this.rowIndex}))},updateStickyPosition(){if(this.columnProp("frozen"))if(this.columnProp("alignFrozen")==="right"){let t=0,n=this.$el.nextElementSibling;n&&(t=E.getOuterWidth(n)+parseFloat(n.style.right||0)),this.styleObject.right=t+"px"}else{let t=0,n=this.$el.previousElementSibling;n&&(t=E.getOuterWidth(n)+parseFloat(n.style.left||0)),this.styleObject.left=t+"px"}},getVirtualScrollerProp(e){return this.virtualScrollerContentProps?this.virtualScrollerContentProps[e]:null}},computed:{editingRowData(){return this.editingMeta[this.rowIndex]?this.editingMeta[this.rowIndex].data:this.rowData},field(){return this.columnProp("field")},containerClass(){return[this.columnProp("bodyClass"),this.columnProp("class"),{"p-selection-column":this.columnProp("selectionMode")!=null,"p-editable-column":this.isEditable(),"p-cell-editing":this.d_editing,"p-frozen-column":this.columnProp("frozen")}]},containerStyle(){let e=this.columnProp("bodyStyle"),t=this.columnProp("style");return this.columnProp("frozen")?[t,e,this.styleObject]:[t,e]},loading(){return this.getVirtualScrollerProp("loading")},loadingOptions(){const e=this.getVirtualScrollerProp("getLoaderOptions");return e&&e(this.rowIndex,{cellIndex:this.index,cellFirst:this.index===0,cellLast:this.index===this.getVirtualScrollerProp("columns").length-1,cellEven:this.index%2===0,cellOdd:this.index%2!==0,column:this.column,field:this.field})},expandButtonAriaLabel(){return this.$primevue.config.locale.aria?this.isRowExpanded?this.$primevue.config.locale.aria.expandRow:this.$primevue.config.locale.aria.collapseRow:void 0},initButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.editRow:void 0},saveButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.saveEdit:void 0},cancelButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.cancelEdit:void 0}},components:{DTRadioButton:kh,DTCheckbox:Eh},directives:{ripple:Yt}};const Hv={key:0,class:"p-column-title"},$v=["aria-expanded","aria-controls","aria-label"],qv=["aria-label"],Gv=j("span",{class:"p-row-editor-init-icon pi pi-fw pi-pencil"},null,-1),Wv=[Gv],Jv=["aria-label"],Yv=j("span",{class:"p-row-editor-save-icon pi pi-fw pi-check"},null,-1),Xv=[Yv],Zv=["aria-label"],Qv=j("span",{class:"p-row-editor-cancel-icon pi pi-fw pi-times"},null,-1),e_=[Qv];function t_(e,t,n,i,r,s){const o=_e("DTRadioButton"),l=_e("DTCheckbox"),c=Et("ripple");return s.loading?(x(),I("td",{key:0,style:qe(s.containerStyle),class:ie(s.containerClass)},[(x(),le(ut(n.column.children.loading),{data:n.rowData,column:n.column,field:s.field,index:n.rowIndex,frozenRow:n.frozenRow,loadingOptions:s.loadingOptions},null,8,["data","column","field","index","frozenRow","loadingOptions"]))],6)):(x(),I("td",{key:1,style:qe(s.containerStyle),class:ie(s.containerClass),onClick:t[6]||(t[6]=(...a)=>s.onClick&&s.onClick(...a)),onKeydown:t[7]||(t[7]=(...a)=>s.onKeyDown&&s.onKeyDown(...a)),role:"cell"},[n.responsiveLayout==="stack"?(x(),I("span",Hv,Me(s.columnProp("header")),1)):$("",!0),n.column.children&&n.column.children.body&&!r.d_editing?(x(),le(ut(n.column.children.body),{key:1,data:n.rowData,column:n.column,field:s.field,index:n.rowIndex,frozenRow:n.frozenRow,editorInitCallback:s.editorInitCallback},null,8,["data","column","field","index","frozenRow","editorInitCallback"])):n.column.children&&n.column.children.editor&&r.d_editing?(x(),le(ut(n.column.children.editor),{key:2,data:s.editingRowData,column:n.column,field:s.field,index:n.rowIndex,frozenRow:n.frozenRow,editorSaveCallback:s.editorSaveCallback,editorCancelCallback:s.editorCancelCallback},null,8,["data","column","field","index","frozenRow","editorSaveCallback","editorCancelCallback"])):n.column.children&&n.column.children.body&&!n.column.children.editor&&r.d_editing?(x(),le(ut(n.column.children.body),{key:3,data:s.editingRowData,column:n.column,field:s.field,index:n.rowIndex,frozenRow:n.frozenRow},null,8,["data","column","field","index","frozenRow"])):s.columnProp("selectionMode")?(x(),I(me,{key:4},[s.columnProp("selectionMode")==="single"?(x(),le(o,{key:0,value:n.rowData,name:n.name,checked:n.selected,onChange:t[0]||(t[0]=a=>s.toggleRowWithRadio(a,n.rowIndex))},null,8,["value","name","checked"])):s.columnProp("selectionMode")==="multiple"?(x(),le(l,{key:1,value:n.rowData,checked:n.selected,"aria-selected":n.selected?!0:void 0,onChange:t[1]||(t[1]=a=>s.toggleRowWithCheckbox(a,n.rowIndex))},null,8,["value","checked","aria-selected"])):$("",!0)],64)):s.columnProp("rowReorder")?(x(),I("i",{key:5,class:ie(["p-datatable-reorderablerow-handle",s.columnProp("rowReorderIcon")||"pi pi-bars"])},null,2)):s.columnProp("expander")?ot((x(),I("button",{key:6,class:"p-row-toggler p-link",type:"button","aria-expanded":r.isRowExpanded,"aria-controls":n.ariaControls,"aria-label":s.expandButtonAriaLabel,onClick:t[2]||(t[2]=(...a)=>s.toggleRow&&s.toggleRow(...a))},[j("span",{class:ie(n.rowTogglerIcon)},null,2)],8,$v)),[[c]]):n.editMode==="row"&&s.columnProp("rowEditor")?(x(),I(me,{key:7},[r.d_editing?$("",!0):ot((x(),I("button",{key:0,class:"p-row-editor-init p-link",type:"button","aria-label":s.initButtonAriaLabel,onClick:t[3]||(t[3]=(...a)=>s.onRowEditInit&&s.onRowEditInit(...a))},Wv,8,qv)),[[c]]),r.d_editing?ot((x(),I("button",{key:1,class:"p-row-editor-save p-link",type:"button","aria-label":s.saveButtonAriaLabel,onClick:t[4]||(t[4]=(...a)=>s.onRowEditSave&&s.onRowEditSave(...a))},Xv,8,Jv)),[[c]]):$("",!0),r.d_editing?ot((x(),I("button",{key:2,class:"p-row-editor-cancel p-link",type:"button","aria-label":s.cancelButtonAriaLabel,onClick:t[5]||(t[5]=(...a)=>s.onRowEditCancel&&s.onRowEditCancel(...a))},e_,8,Zv)),[[c]]):$("",!0)],64)):(x(),I(me,{key:8},[xt(Me(s.resolveFieldData()),1)],64))],38))}Ph.render=t_;var Rh={name:"TableBody",emits:["rowgroup-toggle","row-click","row-dblclick","row-rightclick","row-touchend","row-keydown","row-mousedown","row-dragstart","row-dragover","row-dragleave","row-dragend","row-drop","row-toggle","radio-change","checkbox-change","cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","editing-meta-change"],props:{value:{type:Array,default:null},columns:{type:null,default:null},frozenRow:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},dataKey:{type:String,default:null},expandedRowIcon:{type:String,default:null},collapsedRowIcon:{type:String,default:null},expandedRows:{type:Array,default:null},expandedRowKeys:{type:null,default:null},selection:{type:[Array,Object],default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},rowClass:{type:null,default:null},rowStyle:{type:null,default:null},editMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},editingRows:{type:Array,default:null},editingRowKeys:{type:null,default:null},editingMeta:{type:Object,default:null},templates:{type:null,default:null},scrollable:{type:Boolean,default:!1},responsiveLayout:{type:String,default:"stack"},virtualScrollerContentProps:{type:Object,default:null},isVirtualScrollerDisabled:{type:Boolean,default:!1}},data(){return{rowGroupHeaderStyleObject:{},tabindexArray:[],isARowSelected:!1}},watch:{virtualScrollerContentProps(e,t){!this.isVirtualScrollerDisabled&&this.getVirtualScrollerProp("vertical")&&this.getVirtualScrollerProp("itemSize",t)!==this.getVirtualScrollerProp("itemSize",e)&&this.updateVirtualScrollerPosition()}},mounted(){this.frozenRow&&this.updateFrozenRowStickyPosition(),this.scrollable&&this.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition(),!this.isVirtualScrollerDisabled&&this.getVirtualScrollerProp("vertical")&&this.updateVirtualScrollerPosition()},updated(){this.frozenRow&&this.updateFrozenRowStickyPosition(),this.scrollable&&this.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()},methods:{columnProp(e,t){return V.getVNodeProp(e,t)},shouldRenderRowGroupHeader(e,t,n){let i=V.resolveFieldData(t,this.groupRowsBy),r=e[n-1];if(r){let s=V.resolveFieldData(r,this.groupRowsBy);return i!==s}else return!0},getRowKey(e,t){return this.dataKey?V.resolveFieldData(e,this.dataKey):t},getRowIndex(e){const t=this.getVirtualScrollerProp("getItemOptions");return t?t(e).index:e},getRowClass(e){let t=[];if(this.selectionMode&&t.push("p-selectable-row"),this.selection&&t.push({"p-highlight":this.isSelected(e)}),this.contextMenuSelection&&t.push({"p-highlight-contextmenu":this.isSelectedWithContextMenu(e)}),this.rowClass){let n=this.rowClass(e);n&&t.push(n)}return t},shouldRenderRowGroupFooter(e,t,n){if(this.expandableRowGroups&&!this.isRowGroupExpanded(t))return!1;{let i=V.resolveFieldData(t,this.groupRowsBy),r=e[n+1];if(r){let s=V.resolveFieldData(r,this.groupRowsBy);return i!==s}else return!0}},shouldRenderBodyCell(e,t,n){if(this.rowGroupMode){if(this.rowGroupMode==="subheader")return this.groupRowsBy!==this.columnProp(t,"field");if(this.rowGroupMode==="rowspan")if(this.isGrouped(t)){let i=e[n-1];if(i){let r=V.resolveFieldData(e[n],this.columnProp(t,"field")),s=V.resolveFieldData(i,this.columnProp(t,"field"));return r!==s}else return!0}else return!0}else return!this.columnProp(t,"hidden")},calculateRowGroupSize(e,t,n){if(this.isGrouped(t)){let i=V.resolveFieldData(e[n],this.columnProp(t,"field")),r=i,s=0;for(;i===r;){s++;let o=e[++n];if(o)r=V.resolveFieldData(o,this.columnProp(t,"field"));else break}return s===1?null:s}else return null},rowTogglerIcon(e){return["p-row-toggler-icon pi",this.isRowExpanded(e)?this.expandedRowIcon:this.collapsedRowIcon]},rowGroupTogglerIcon(e){return["p-row-toggler-icon pi",this.isRowGroupExpanded(e)?this.expandedRowIcon:this.collapsedRowIcon]},isGrouped(e){return this.groupRowsBy&&this.columnProp(e,"field")?Array.isArray(this.groupRowsBy)?this.groupRowsBy.indexOf(e.props.field)>-1:this.groupRowsBy===e.props.field:!1},isRowEditing(e){return e&&this.editingRows?this.dataKey?this.editingRowKeys?this.editingRowKeys[V.resolveFieldData(e,this.dataKey)]!==void 0:!1:this.findIndex(e,this.editingRows)>-1:!1},isRowExpanded(e){return e&&this.expandedRows?this.dataKey?this.expandedRowKeys?this.expandedRowKeys[V.resolveFieldData(e,this.dataKey)]!==void 0:!1:this.findIndex(e,this.expandedRows)>-1:!1},isRowGroupExpanded(e){if(this.expandableRowGroups&&this.expandedRowGroups){let t=V.resolveFieldData(e,this.groupRowsBy);return this.expandedRowGroups.indexOf(t)>-1}return!1},isSelected(e){return e&&this.selection?this.dataKey?this.selectionKeys?this.selectionKeys[V.resolveFieldData(e,this.dataKey)]!==void 0:!1:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1},isSelectedWithContextMenu(e){return e&&this.contextMenuSelection?this.equals(e,this.contextMenuSelection,this.dataKey):!1},findIndexInSelection(e){return this.findIndex(e,this.selection)},findIndex(e,t){let n=-1;if(t&&t.length){for(let i=0;i<t.length;i++)if(this.equals(e,t[i])){n=i;break}}return n},equals(e,t){return this.compareSelectionBy==="equals"?e===t:V.equals(e,t,this.dataKey)},onRowGroupToggle(e,t){this.$emit("rowgroup-toggle",{originalEvent:e,data:t})},onRowClick(e,t,n){this.$emit("row-click",{originalEvent:e,data:t,index:n})},onRowDblClick(e,t,n){this.$emit("row-dblclick",{originalEvent:e,data:t,index:n})},onRowRightClick(e,t,n){this.$emit("row-rightclick",{originalEvent:e,data:t,index:n})},onRowTouchEnd(e){this.$emit("row-touchend",e)},onRowKeyDown(e,t,n){this.$emit("row-keydown",{originalEvent:e,data:t,index:n})},onRowMouseDown(e){this.$emit("row-mousedown",e)},onRowDragStart(e,t){this.$emit("row-dragstart",{originalEvent:e,index:t})},onRowDragOver(e,t){this.$emit("row-dragover",{originalEvent:e,index:t})},onRowDragLeave(e){this.$emit("row-dragleave",e)},onRowDragEnd(e){this.$emit("row-dragend",e)},onRowDrop(e){this.$emit("row-drop",e)},onRowToggle(e){this.$emit("row-toggle",e)},onRadioChange(e){this.$emit("radio-change",e)},onCheckboxChange(e){this.$emit("checkbox-change",e)},onCellEditInit(e){this.$emit("cell-edit-init",e)},onCellEditComplete(e){this.$emit("cell-edit-complete",e)},onCellEditCancel(e){this.$emit("cell-edit-cancel",e)},onRowEditInit(e){this.$emit("row-edit-init",e)},onRowEditSave(e){this.$emit("row-edit-save",e)},onRowEditCancel(e){this.$emit("row-edit-cancel",e)},onEditingMetaChange(e){this.$emit("editing-meta-change",e)},updateFrozenRowStickyPosition(){this.$el.style.top=E.getOuterHeight(this.$el.previousElementSibling)+"px"},updateFrozenRowGroupHeaderStickyPosition(){let e=E.getOuterHeight(this.$el.previousElementSibling);this.rowGroupHeaderStyleObject.top=e+"px"},updateVirtualScrollerPosition(){const e=E.getOuterHeight(this.$el.previousElementSibling);this.$el.style.top=(this.$el.style.top||0)+e+"px"},getVirtualScrollerProp(e,t){return t=t||this.virtualScrollerContentProps,t?t[e]:null},bodyRef(e){const t=this.getVirtualScrollerProp("contentRef");t&&t(e)},setRowTabindex(e){return this.selection===null&&(this.selectionMode==="single"||this.selectionMode==="multiple")&&e===0?0:-1}},computed:{columnsLength(){let e=0;return this.columns.forEach(t=>{this.columnProp(t,"hidden")&&e++}),this.columns?this.columns.length-e:0},rowGroupHeaderStyle(){return this.scrollable?{top:this.rowGroupHeaderStyleObject.top}:null},bodyStyle(){return this.getVirtualScrollerProp("contentStyle")},expandedRowId(){return Kt()},nameAttributeSelector(){return Kt()}},components:{DTBodyCell:Ph}};const n_=["colspan"],i_=["onClick"],s_=["tabindex","aria-selected","onClick","onDblclick","onContextmenu","onKeydown","onDragstart","onDragover"],r_=["id"],o_=["colspan"],l_={key:1,class:"p-datatable-emptymessage",role:"row"},a_=["colspan"];function c_(e,t,n,i,r,s){const o=_e("DTBodyCell");return x(),I("tbody",{ref:s.bodyRef,class:"p-datatable-tbody",role:"rowgroup",style:qe(s.bodyStyle)},[n.empty?(x(),I("tr",l_,[j("td",{colspan:s.columnsLength},[n.templates.empty?(x(),le(ut(n.templates.empty),{key:0})):$("",!0)],8,a_)])):(x(!0),I(me,{key:0},lt(n.value,(l,c)=>(x(),I(me,{key:s.getRowKey(l,s.getRowIndex(c))+"_subheader"},[n.templates.groupheader&&n.rowGroupMode==="subheader"&&s.shouldRenderRowGroupHeader(n.value,l,s.getRowIndex(c))?(x(),I("tr",{key:0,class:"p-rowgroup-header",style:qe(s.rowGroupHeaderStyle),role:"row"},[j("td",{colspan:s.columnsLength-1},[n.expandableRowGroups?(x(),I("button",{key:0,class:"p-row-toggler p-link",onClick:a=>s.onRowGroupToggle(a,l),type:"button"},[j("span",{class:ie(s.rowGroupTogglerIcon(l))},null,2)],8,i_)):$("",!0),(x(),le(ut(n.templates.groupheader),{data:l,index:s.getRowIndex(c)},null,8,["data","index"]))],8,n_)],4)):$("",!0),!n.expandableRowGroups||s.isRowGroupExpanded(l)?(x(),I("tr",{key:s.getRowKey(l,s.getRowIndex(c)),class:ie(s.getRowClass(l)),style:qe(n.rowStyle),tabindex:s.setRowTabindex(c),role:"row","aria-selected":n.selectionMode?s.isSelected(l):null,onClick:a=>s.onRowClick(a,l,s.getRowIndex(c)),onDblclick:a=>s.onRowDblClick(a,l,s.getRowIndex(c)),onContextmenu:a=>s.onRowRightClick(a,l,s.getRowIndex(c)),onTouchend:t[9]||(t[9]=a=>s.onRowTouchEnd(a)),onKeydown:a=>s.onRowKeyDown(a,l,s.getRowIndex(c)),onMousedown:t[10]||(t[10]=a=>s.onRowMouseDown(a)),onDragstart:a=>s.onRowDragStart(a,s.getRowIndex(c)),onDragover:a=>s.onRowDragOver(a,s.getRowIndex(c)),onDragleave:t[11]||(t[11]=a=>s.onRowDragLeave(a)),onDragend:t[12]||(t[12]=a=>s.onRowDragEnd(a)),onDrop:t[13]||(t[13]=a=>s.onRowDrop(a))},[(x(!0),I(me,null,lt(n.columns,(a,d)=>(x(),I(me,{key:s.columnProp(a,"columnKey")||s.columnProp(a,"field")||d},[s.shouldRenderBodyCell(n.value,a,s.getRowIndex(c))?(x(),le(o,{key:0,rowData:l,column:a,rowIndex:s.getRowIndex(c),index:d,selected:s.isSelected(l),rowTogglerIcon:s.columnProp(a,"expander")?s.rowTogglerIcon(l):null,frozenRow:n.frozenRow,rowspan:n.rowGroupMode==="rowspan"?s.calculateRowGroupSize(n.value,a,s.getRowIndex(c)):null,editMode:n.editMode,editing:n.editMode==="row"&&s.isRowEditing(l),editingMeta:n.editingMeta,responsiveLayout:n.responsiveLayout,virtualScrollerContentProps:n.virtualScrollerContentProps,ariaControls:s.expandedRowId+"_"+c+"_expansion",name:s.nameAttributeSelector,onRadioChange:t[0]||(t[0]=u=>s.onRadioChange(u)),onCheckboxChange:t[1]||(t[1]=u=>s.onCheckboxChange(u)),onRowToggle:t[2]||(t[2]=u=>s.onRowToggle(u)),onCellEditInit:t[3]||(t[3]=u=>s.onCellEditInit(u)),onCellEditComplete:t[4]||(t[4]=u=>s.onCellEditComplete(u)),onCellEditCancel:t[5]||(t[5]=u=>s.onCellEditCancel(u)),onRowEditInit:t[6]||(t[6]=u=>s.onRowEditInit(u)),onRowEditSave:t[7]||(t[7]=u=>s.onRowEditSave(u)),onRowEditCancel:t[8]||(t[8]=u=>s.onRowEditCancel(u)),onEditingMetaChange:s.onEditingMetaChange},null,8,["rowData","column","rowIndex","index","selected","rowTogglerIcon","frozenRow","rowspan","editMode","editing","editingMeta","responsiveLayout","virtualScrollerContentProps","ariaControls","name","onEditingMetaChange"])):$("",!0)],64))),128))],46,s_)):$("",!0),n.templates.expansion&&n.expandedRows&&s.isRowExpanded(l)?(x(),I("tr",{key:s.getRowKey(l,s.getRowIndex(c))+"_expansion",id:s.expandedRowId+"_"+c+"_expansion",class:"p-datatable-row-expansion",role:"row"},[j("td",{colspan:s.columnsLength},[(x(),le(ut(n.templates.expansion),{data:l,index:s.getRowIndex(c)},null,8,["data","index"]))],8,o_)],8,r_)):$("",!0),n.templates.groupfooter&&n.rowGroupMode==="subheader"&&s.shouldRenderRowGroupFooter(n.value,l,s.getRowIndex(c))?(x(),I("tr",{key:s.getRowKey(l,s.getRowIndex(c))+"_subfooter",class:"p-rowgroup-footer",role:"row"},[(x(),le(ut(n.templates.groupfooter),{data:l,index:s.getRowIndex(c)},null,8,["data","index"]))])):$("",!0)],64))),128))],4)}Rh.render=c_;var Ah={name:"FooterCell",props:{column:{type:null,default:null}},data(){return{styleObject:{}}},mounted(){this.columnProp("frozen")&&this.updateStickyPosition()},updated(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp(e){return V.getVNodeProp(this.column,e)},updateStickyPosition(){if(this.columnProp("frozen"))if(this.columnProp("alignFrozen")==="right"){let t=0,n=this.$el.nextElementSibling;n&&(t=E.getOuterWidth(n)+parseFloat(n.style.left)),this.styleObject.right=t+"px"}else{let t=0,n=this.$el.previousElementSibling;n&&(t=E.getOuterWidth(n)+parseFloat(n.style.left)),this.styleObject.left=t+"px"}}},computed:{containerClass(){return[this.columnProp("footerClass"),this.columnProp("class"),{"p-frozen-column":this.columnProp("frozen")}]},containerStyle(){let e=this.columnProp("footerStyle"),t=this.columnProp("style");return this.columnProp("frozen")?[t,e,this.styleObject]:[t,e]}}};const u_=["colspan","rowspan"];function d_(e,t,n,i,r,s){return x(),I("td",{style:qe(s.containerStyle),class:ie(s.containerClass),role:"cell",colspan:s.columnProp("colspan"),rowspan:s.columnProp("rowspan")},[n.column.children&&n.column.children.footer?(x(),le(ut(n.column.children.footer),{key:0,column:n.column},null,8,["column"])):$("",!0),xt(" "+Me(s.columnProp("footer")),1)],14,u_)}Ah.render=d_;var Oh={name:"TableFooter",props:{columnGroup:{type:null,default:null},columns:{type:null,default:null}},methods:{columnProp(e,t){return V.getVNodeProp(e,t)},getFooterRows(){let e=[],t=this.columnGroup;if(t.children&&t.children.default){for(let n of t.children.default())n.type.name==="Row"?e.push(n):n.children&&n.children instanceof Array&&(e=n.children);return e}},getFooterColumns(e){let t=[];if(e.children&&e.children.default)return e.children.default().forEach(n=>{n.children&&n.children instanceof Array?t=[...t,...n.children]:n.type.name==="Column"&&t.push(n)}),t}},computed:{hasFooter(){let e=!1;if(this.columnGroup)e=!0;else if(this.columns){for(let t of this.columns)if(this.columnProp(t,"footer")||t.children&&t.children.footer){e=!0;break}}return e}},components:{DTFooterCell:Ah}};const h_={key:0,class:"p-datatable-tfoot",role:"rowgroup"},f_={key:0,role:"row"};function p_(e,t,n,i,r,s){const o=_e("DTFooterCell");return s.hasFooter?(x(),I("tfoot",h_,[n.columnGroup?(x(!0),I(me,{key:1},lt(s.getFooterRows(),(l,c)=>(x(),I("tr",{key:c,role:"row"},[(x(!0),I(me,null,lt(s.getFooterColumns(l),(a,d)=>(x(),I(me,{key:s.columnProp(a,"columnKey")||s.columnProp(a,"field")||d},[s.columnProp(a,"hidden")?$("",!0):(x(),le(o,{key:0,column:a},null,8,["column"]))],64))),128))]))),128)):(x(),I("tr",f_,[(x(!0),I(me,null,lt(n.columns,(l,c)=>(x(),I(me,{key:s.columnProp(l,"columnKey")||s.columnProp(l,"field")||c},[s.columnProp(l,"hidden")?$("",!0):(x(),le(o,{key:0,column:l},null,8,["column"]))],64))),128))]))])):$("",!0)}Oh.render=p_;var Wl={name:"ColumnFilter",emits:["filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{field:{type:String,default:null},type:{type:String,default:"text"},display:{type:String,default:null},showMenu:{type:Boolean,default:!0},matchMode:{type:String,default:null},showOperator:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},showApplyButton:{type:Boolean,default:!0},showMatchModes:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},matchModeOptions:{type:Array,default:null},maxConstraints:{type:Number,default:2},filterElement:null,filterHeaderTemplate:null,filterFooterTemplate:null,filterClearTemplate:null,filterApplyTemplate:null,filters:{type:Object,default:null},filtersStore:{type:Object,default:null},filterMenuClass:{type:String,default:null},filterMenuStyle:{type:null,default:null},filterInputProps:{type:null,default:null}},data(){return{overlayVisible:!1,defaultMatchMode:null,defaultOperator:null}},overlay:null,selfClick:!1,overlayEventListener:null,beforeUnmount(){this.overlayEventListener&&(Gt.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.overlay&&(rt.clear(this.overlay),this.onOverlayHide())},mounted(){if(this.filters&&this.filters[this.field]){let e=this.filters[this.field];e.operator?(this.defaultMatchMode=e.constraints[0].matchMode,this.defaultOperator=e.operator):this.defaultMatchMode=this.filters[this.field].matchMode}},methods:{clearFilter(){let e={...this.filters};e[this.field].operator?(e[this.field].constraints.splice(1),e[this.field].operator=this.defaultOperator,e[this.field].constraints[0]={value:null,matchMode:this.defaultMatchMode}):(e[this.field].value=null,e[this.field].matchMode=this.defaultMatchMode),this.$emit("filter-clear"),this.$emit("filter-change",e),this.$emit("filter-apply"),this.hide()},applyFilter(){this.$emit("apply-click",{field:this.field,constraints:this.filters[this.field]}),this.$emit("filter-apply"),this.hide()},hasFilter(){if(this.filtersStore){let e=this.filtersStore[this.field];if(e)return e.operator?!this.isFilterBlank(e.constraints[0].value):!this.isFilterBlank(e.value)}return!1},hasRowFilter(){return this.filters[this.field]&&!this.isFilterBlank(this.filters[this.field].value)},isFilterBlank(e){return e!=null?typeof e=="string"&&e.trim().length==0||e instanceof Array&&e.length==0:!0},toggleMenu(){this.overlayVisible=!this.overlayVisible},onToggleButtonKeyDown(e){switch(e.code){case"Enter":case"Space":this.toggleMenu(),e.preventDefault();break;case"Escape":this.overlayVisible=!1;break}},onRowMatchModeChange(e){let t={...this.filters};t[this.field].matchMode=e,this.$emit("matchmode-change",{field:this.field,matchMode:e}),this.$emit("filter-change",t),this.$emit("filter-apply"),this.hide()},onRowMatchModeKeyDown(e){let t=e.target;switch(e.code){case"ArrowDown":var n=this.findNextItem(t);n&&(t.removeAttribute("tabindex"),n.tabIndex="0",n.focus()),e.preventDefault();break;case"ArrowUp":var i=this.findPrevItem(t);i&&(t.removeAttribute("tabindex"),i.tabIndex="0",i.focus()),e.preventDefault();break}},isRowMatchModeSelected(e){return this.filters[this.field].matchMode===e},onOperatorChange(e){let t={...this.filters};t[this.field].operator=e,this.$emit("filter-change",t),this.$emit("operator-change",{field:this.field,operator:e}),this.showApplyButton||this.$emit("filter-apply")},onMenuMatchModeChange(e,t){let n={...this.filters};n[this.field].constraints[t].matchMode=e,this.$emit("matchmode-change",{field:this.field,matchMode:e,index:t}),this.showApplyButton||this.$emit("filter-apply")},addConstraint(){let e={...this.filters},t={value:null,matchMode:this.defaultMatchMode};e[this.field].constraints.push(t),this.$emit("constraint-add",{field:this.field,constraing:t}),this.$emit("filter-change",e),this.showApplyButton||this.$emit("filter-apply")},removeConstraint(e){let t={...this.filters},n=t[this.field].constraints.splice(e,1);this.$emit("constraint-remove",{field:this.field,constraing:n}),this.$emit("filter-change",t),this.showApplyButton||this.$emit("filter-apply")},filterCallback(){this.$emit("filter-apply")},findNextItem(e){let t=e.nextElementSibling;return t?E.hasClass(t,"p-column-filter-separator")?this.findNextItem(t):t:e.parentElement.firstElementChild},findPrevItem(e){let t=e.previousElementSibling;return t?E.hasClass(t,"p-column-filter-separator")?this.findPrevItem(t):t:e.parentElement.lastElementChild},hide(){this.overlayVisible=!1,E.focus(this.$refs.icon)},onContentClick(e){this.selfClick=!0,Gt.emit("overlay-click",{originalEvent:e,target:this.overlay})},onContentMouseDown(){this.selfClick=!0},onOverlayEnter(e){this.filterMenuStyle&&E.applyStyle(this.overlay,this.filterMenuStyle),rt.set("overlay",e,this.$primevue.config.zIndex.overlay),E.absolutePosition(this.overlay,this.$refs.icon),this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.overlayEventListener=t=>{this.isOutsideClicked(t.target)||(this.selfClick=!0)},Gt.on("overlay-click",this.overlayEventListener)},onOverlayLeave(){this.onOverlayHide()},onOverlayAfterLeave(e){rt.clear(e)},onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.overlay=null,Gt.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null},overlayRef(e){this.overlay=e},isOutsideClicked(e){return!this.isTargetClicked(e)&&this.overlay&&!(this.overlay.isSameNode(e)||this.overlay.contains(e))},isTargetClicked(e){return this.$refs.icon&&(this.$refs.icon.isSameNode(e)||this.$refs.icon.contains(e))},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.overlayVisible&&!this.selfClick&&this.isOutsideClicked(e.target)&&(this.overlayVisible=!1),this.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Fl(this.$refs.icon,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!E.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}},computed:{containerClass(){return["p-column-filter p-fluid",{"p-column-filter-row":this.display==="row","p-column-filter-menu":this.display==="menu"}]},overlayClass(){return[this.filterMenuClass,{"p-column-filter-overlay p-component p-fluid":!0,"p-column-filter-overlay-menu":this.display==="menu","p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},showMenuButton(){return this.showMenu&&(this.display==="row"?this.type!=="boolean":!0)},overlayId(){return Kt()},matchModes(){return this.matchModeOptions||this.$primevue.config.filterMatchModeOptions[this.type].map(e=>({label:this.$primevue.config.locale[e],value:e}))},isShowMatchModes(){return this.type!=="boolean"&&this.showMatchModes&&this.matchModes},operatorOptions(){return[{label:this.$primevue.config.locale.matchAll,value:Er.AND},{label:this.$primevue.config.locale.matchAny,value:Er.OR}]},noFilterLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.noFilter:void 0},isShowOperator(){return this.showOperator&&this.filters[this.field].operator},operator(){return this.filters[this.field].operator},fieldConstraints(){return this.filters[this.field].constraints||[this.filters[this.field]]},showRemoveIcon(){return this.fieldConstraints.length>1},removeRuleButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.removeRule:void 0},addRuleButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.addRule:void 0},isShowAddConstraint(){return this.showAddButton&&this.filters[this.field].operator&&this.fieldConstraints&&this.fieldConstraints.length<this.maxConstraints},clearButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.clear:void 0},applyButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.apply:void 0},filterMenuButtonAriaLabel(){return this.$primevue.config.locale?this.overlayVisible?this.$primevue.config.locale.showFilterMenu:this.$primevue.config.locale.hideFilterMenu:void 0},filterOperatorAriaLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.filterOperator:void 0},filterConstraintAriaLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.filterConstraint:void 0}},components:{CFDropdown:Xr,CFButton:Os,Portal:fi},directives:{focustrap:Nl}};const m_=["aria-label","aria-expanded","aria-controls"],g_=j("span",{class:"pi pi-filter-icon pi-filter"},null,-1),b_=[g_],y_=j("span",{class:"pi pi-filter-slash"},null,-1),w_=[y_],x_=["id","aria-modal"],v_={key:0,class:"p-column-filter-row-items"},__=["onClick","onKeydown","tabindex"],C_=j("li",{class:"p-column-filter-separator"},null,-1),S_={key:0,class:"p-column-filter-operator"},I_={class:"p-column-filter-constraints"},E_={key:1,class:"p-column-filter-add-rule"},k_={class:"p-column-filter-buttonbar"};function P_(e,t,n,i,r,s){const o=_e("CFDropdown"),l=_e("CFButton"),c=_e("Portal"),a=Et("focustrap");return x(),I("div",{class:ie(s.containerClass)},[n.display==="row"?(x(),I("div",Je({key:0,class:"p-fluid p-column-filter-element"},n.filterInputProps),[(x(),le(ut(n.filterElement),{field:n.field,filterModel:n.filters[n.field],filterCallback:s.filterCallback},null,8,["field","filterModel","filterCallback"]))],16)):$("",!0),s.showMenuButton?(x(),I("button",{key:1,ref:"icon",type:"button",class:ie(["p-column-filter-menu-button p-link",{"p-column-filter-menu-button-open":r.overlayVisible,"p-column-filter-menu-button-active":s.hasFilter()}]),"aria-label":s.filterMenuButtonAriaLabel,"aria-haspopup":"true","aria-expanded":r.overlayVisible,"aria-controls":s.overlayId,onClick:t[0]||(t[0]=d=>s.toggleMenu()),onKeydown:t[1]||(t[1]=d=>s.onToggleButtonKeyDown(d))},b_,42,m_)):$("",!0),n.showClearButton&&n.display==="row"?(x(),I("button",{key:2,class:ie([{"p-hidden-space":!s.hasRowFilter()},"p-column-filter-clear-button p-link"]),type:"button",onClick:t[2]||(t[2]=d=>s.clearFilter())},w_,2)):$("",!0),he(c,null,{default:ye(()=>[he(Hn,{name:"p-connected-overlay",onEnter:s.onOverlayEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},{default:ye(()=>[r.overlayVisible?ot((x(),I("div",{key:0,ref:s.overlayRef,id:s.overlayId,"aria-modal":r.overlayVisible,role:"dialog",class:ie(s.overlayClass),onKeydown:t[10]||(t[10]=cs((...d)=>s.hide&&s.hide(...d),["escape"])),onClick:t[11]||(t[11]=(...d)=>s.onContentClick&&s.onContentClick(...d)),onMousedown:t[12]||(t[12]=(...d)=>s.onContentMouseDown&&s.onContentMouseDown(...d))},[(x(),le(ut(n.filterHeaderTemplate),{field:n.field,filterModel:n.filters[n.field],filterCallback:s.filterCallback},null,8,["field","filterModel","filterCallback"])),n.display==="row"?(x(),I("ul",v_,[(x(!0),I(me,null,lt(s.matchModes,(d,u)=>(x(),I("li",{key:d.label,class:ie(["p-column-filter-row-item",{"p-highlight":s.isRowMatchModeSelected(d.value)}]),onClick:h=>s.onRowMatchModeChange(d.value),onKeydown:[t[3]||(t[3]=h=>s.onRowMatchModeKeyDown(h)),cs(Ll(h=>s.onRowMatchModeChange(d.value),["prevent"]),["enter"])],tabindex:u===0?"0":null},Me(d.label),43,__))),128)),C_,j("li",{class:"p-column-filter-row-item",onClick:t[4]||(t[4]=d=>s.clearFilter()),onKeydown:[t[5]||(t[5]=d=>s.onRowMatchModeKeyDown(d)),t[6]||(t[6]=cs(d=>e.onRowClearItemClick(),["enter"]))]},Me(s.noFilterLabel),33)])):(x(),I(me,{key:1},[s.isShowOperator?(x(),I("div",S_,[he(o,{options:s.operatorOptions,modelValue:s.operator,"aria-label":s.filterOperatorAriaLabel,class:"p-column-filter-operator-dropdown",optionLabel:"label",optionValue:"value","onUpdate:modelValue":t[7]||(t[7]=d=>s.onOperatorChange(d))},null,8,["options","modelValue","aria-label"])])):$("",!0),j("div",I_,[(x(!0),I(me,null,lt(s.fieldConstraints,(d,u)=>(x(),I("div",{key:u,class:"p-column-filter-constraint"},[s.isShowMatchModes?(x(),le(o,{key:0,options:s.matchModes,modelValue:d.matchMode,class:"p-column-filter-matchmode-dropdown",optionLabel:"label",optionValue:"value","aria-label":s.filterConstraintAriaLabel,"onUpdate:modelValue":h=>s.onMenuMatchModeChange(h,u)},null,8,["options","modelValue","aria-label","onUpdate:modelValue"])):$("",!0),n.display==="menu"?(x(),le(ut(n.filterElement),{key:1,field:n.field,filterModel:d,filterCallback:s.filterCallback},null,8,["field","filterModel","filterCallback"])):$("",!0),j("div",null,[s.showRemoveIcon?(x(),le(l,{key:0,type:"button",icon:"pi pi-trash",class:"p-column-filter-remove-button p-button-text p-button-danger p-button-sm",onClick:h=>s.removeConstraint(u),label:s.removeRuleButtonLabel},null,8,["onClick","label"])):$("",!0)])]))),128))]),s.isShowAddConstraint?(x(),I("div",E_,[he(l,{type:"button",label:s.addRuleButtonLabel,icon:"pi pi-plus",class:"p-column-filter-add-button p-button-text p-button-sm",onClick:t[8]||(t[8]=d=>s.addConstraint())},null,8,["label"])])):$("",!0),j("div",k_,[!n.filterClearTemplate&&n.showClearButton?(x(),le(l,{key:0,type:"button",class:"p-button-outlined p-button-sm",label:s.clearButtonLabel,onClick:s.clearFilter},null,8,["label","onClick"])):(x(),le(ut(n.filterClearTemplate),{key:1,field:n.field,filterModel:n.filters[n.field],filterCallback:s.clearFilter},null,8,["field","filterModel","filterCallback"])),n.showApplyButton?(x(),I(me,{key:2},[n.filterApplyTemplate?(x(),le(ut(n.filterApplyTemplate),{key:1,field:n.field,filterModel:n.filters[n.field],filterCallback:s.applyFilter},null,8,["field","filterModel","filterCallback"])):(x(),le(l,{key:0,type:"button",class:"p-button-sm",label:s.applyButtonLabel,onClick:t[9]||(t[9]=d=>s.applyFilter())},null,8,["label"]))],64)):$("",!0)])],64)),(x(),le(ut(n.filterFooterTemplate),{field:n.field,filterModel:n.filters[n.field],filterCallback:s.filterCallback},null,8,["field","filterModel","filterCallback"]))],42,x_)),[[a,{autoFocus:!0}]]):$("",!0)]),_:1},8,["onEnter","onLeave","onAfterLeave"])]),_:1})],2)}Wl.render=P_;var Jl={name:"HeaderCheckbox",emits:["change"],props:{checked:null,disabled:null},data(){return{focused:!1}},methods:{onClick(e){this.disabled||(this.$emit("change",{originalEvent:e,checked:!this.checked}),E.focus(this.$refs.input))},onFocus(){this.focused=!0},onBlur(){this.focused=!1}},computed:{headerCheckboxAriaLabel(){return this.$primevue.config.locale.aria?this.checked?this.$primevue.config.locale.aria.selectAll:this.$primevue.config.locale.aria.unselectAll:void 0}}};const R_={class:"p-hidden-accessible"},A_=["checked","disabled","tabindex","aria-label"];function O_(e,t,n,i,r,s){return x(),I("div",{class:ie(["p-checkbox p-component",{"p-checkbox-focused":r.focused,"p-disabled":n.disabled}]),onClick:t[2]||(t[2]=(...o)=>s.onClick&&s.onClick(...o)),onKeydown:t[3]||(t[3]=cs(Ll((...o)=>s.onClick&&s.onClick(...o),["prevent"]),["space"]))},[j("div",R_,[j("input",{ref:"input",type:"checkbox",checked:n.checked,disabled:n.disabled,tabindex:n.disabled?null:"0","aria-label":s.headerCheckboxAriaLabel,onFocus:t[0]||(t[0]=o=>s.onFocus(o)),onBlur:t[1]||(t[1]=o=>s.onBlur(o))},null,40,A_)]),j("div",{ref:"box",class:ie(["p-checkbox-box p-component",{"p-highlight":n.checked,"p-disabled":n.disabled,"p-focus":r.focused}])},[j("span",{class:ie(["p-checkbox-icon",{"pi pi-check":n.checked}])},null,2)],2)],34)}Jl.render=O_;var Th={name:"HeaderCell",emits:["column-click","column-mousedown","column-dragstart","column-dragover","column-dragleave","column-drop","column-resizestart","checkbox-change","filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{column:{type:Object,default:null},resizableColumns:{type:Boolean,default:!1},groupRowsBy:{type:[Array,String,Function],default:null},sortMode:{type:String,default:"single"},groupRowSortField:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},allRowsSelected:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},filterDisplay:{type:String,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},filterColumn:{type:Boolean,default:!1},reorderableColumns:{type:Boolean,default:!1},filterInputProps:{type:null,default:null}},data(){return{styleObject:{}}},mounted(){this.columnProp("frozen")&&this.updateStickyPosition()},updated(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp(e){return V.getVNodeProp(this.column,e)},onClick(e){this.$emit("column-click",{originalEvent:e,column:this.column})},onKeyDown(e){(e.code==="Enter"||e.code==="Space")&&e.currentTarget.nodeName==="TH"&&E.hasClass(e.currentTarget,"p-sortable-column")&&(this.$emit("column-click",{originalEvent:e,column:this.column}),e.preventDefault())},onMouseDown(e){this.$emit("column-mousedown",{originalEvent:e,column:this.column})},onDragStart(e){this.$emit("column-dragstart",e)},onDragOver(e){this.$emit("column-dragover",e)},onDragLeave(e){this.$emit("column-dragleave",e)},onDrop(e){this.$emit("column-drop",e)},onResizeStart(e){this.$emit("column-resizestart",e)},getMultiSortMetaIndex(){return this.multiSortMeta.findIndex(e=>e.field===this.columnProp("field")||e.field===this.columnProp("sortField"))},getBadgeValue(){let e=this.getMultiSortMetaIndex();return this.groupRowsBy&&this.groupRowsBy===this.groupRowSortField&&e>-1?e:e+1},isMultiSorted(){return this.sortMode==="multiple"&&this.columnProp("sortable")&&this.getMultiSortMetaIndex()>-1},isColumnSorted(){return this.sortMode==="single"?this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")):this.isMultiSorted()},updateStickyPosition(){if(this.columnProp("frozen")){if(this.columnProp("alignFrozen")==="right"){let n=0,i=this.$el.nextElementSibling;i&&(n=E.getOuterWidth(i)+parseFloat(i.style.right||0)),this.styleObject.right=n+"px"}else{let n=0,i=this.$el.previousElementSibling;i&&(n=E.getOuterWidth(i)+parseFloat(i.style.left||0)),this.styleObject.left=n+"px"}let t=this.$el.parentElement.nextElementSibling;if(t){let n=E.index(this.$el);t.children[n].style.left=this.styleObject.left,t.children[n].style.right=this.styleObject.right}}},onHeaderCheckboxChange(e){this.$emit("checkbox-change",e)}},computed:{containerClass(){return[this.filterColumn?this.columnProp("filterHeaderClass"):this.columnProp("headerClass"),this.columnProp("class"),{"p-sortable-column":this.columnProp("sortable"),"p-resizable-column":this.resizableColumns,"p-highlight":this.isColumnSorted(),"p-filter-column":this.filterColumn,"p-frozen-column":this.columnProp("frozen"),"p-reorderable-column":this.reorderableColumns}]},containerStyle(){let e=this.filterColumn?this.columnProp("filterHeaderStyle"):this.columnProp("headerStyle"),t=this.columnProp("style");return this.columnProp("frozen")?[t,e,this.styleObject]:[t,e]},sortableColumnIcon(){let e=!1,t=null;if(this.sortMode==="single")e=this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")),t=e?this.sortOrder:0;else if(this.sortMode==="multiple"){let n=this.getMultiSortMetaIndex();n>-1&&(e=!0,t=this.multiSortMeta[n].order)}return["p-sortable-column-icon pi pi-fw",{"pi-sort-alt":!e,"pi-sort-amount-up-alt":e&&t>0,"pi-sort-amount-down":e&&t<0}]},ariaSort(){if(this.columnProp("sortable")){const e=this.sortableColumnIcon;return e[1]["pi-sort-amount-down"]?"descending":e[1]["pi-sort-amount-up-alt"]?"ascending":"none"}else return null}},components:{DTHeaderCheckbox:Jl,DTColumnFilter:Wl}};const T_=["tabindex","colspan","rowspan","aria-sort"],L_={class:"p-column-header-content"},M_={key:1,class:"p-column-title"},F_={key:3,class:"p-sortable-column-badge"};function D_(e,t,n,i,r,s){const o=_e("DTHeaderCheckbox"),l=_e("DTColumnFilter");return x(),I("th",{style:qe(s.containerStyle),class:ie(s.containerClass),tabindex:s.columnProp("sortable")?"0":null,role:"columnheader",colspan:s.columnProp("colspan"),rowspan:s.columnProp("rowspan"),"aria-sort":s.ariaSort,onClick:t[8]||(t[8]=(...c)=>s.onClick&&s.onClick(...c)),onKeydown:t[9]||(t[9]=(...c)=>s.onKeyDown&&s.onKeyDown(...c)),onMousedown:t[10]||(t[10]=(...c)=>s.onMouseDown&&s.onMouseDown(...c)),onDragstart:t[11]||(t[11]=(...c)=>s.onDragStart&&s.onDragStart(...c)),onDragover:t[12]||(t[12]=(...c)=>s.onDragOver&&s.onDragOver(...c)),onDragleave:t[13]||(t[13]=(...c)=>s.onDragLeave&&s.onDragLeave(...c)),onDrop:t[14]||(t[14]=(...c)=>s.onDrop&&s.onDrop(...c))},[n.resizableColumns&&!s.columnProp("frozen")?(x(),I("span",{key:0,class:"p-column-resizer",onMousedown:t[0]||(t[0]=(...c)=>s.onResizeStart&&s.onResizeStart(...c))},null,32)):$("",!0),j("div",L_,[n.column.children&&n.column.children.header?(x(),le(ut(n.column.children.header),{key:0,column:n.column},null,8,["column"])):$("",!0),s.columnProp("header")?(x(),I("span",M_,Me(s.columnProp("header")),1)):$("",!0),s.columnProp("sortable")?(x(),I("span",{key:2,class:ie(s.sortableColumnIcon)},null,2)):$("",!0),s.isMultiSorted()?(x(),I("span",F_,Me(s.getBadgeValue()),1)):$("",!0),s.columnProp("selectionMode")==="multiple"&&n.filterDisplay!=="row"?(x(),le(o,{key:4,checked:n.allRowsSelected,onChange:s.onHeaderCheckboxChange,disabled:n.empty},null,8,["checked","onChange","disabled"])):$("",!0),n.filterDisplay==="menu"&&n.column.children&&n.column.children.filter?(x(),le(l,{key:5,field:s.columnProp("filterField")||s.columnProp("field"),type:s.columnProp("dataType"),display:"menu",showMenu:s.columnProp("showFilterMenu"),filterElement:n.column.children&&n.column.children.filter,filterHeaderTemplate:n.column.children&&n.column.children.filterheader,filterFooterTemplate:n.column.children&&n.column.children.filterfooter,filterClearTemplate:n.column.children&&n.column.children.filterclear,filterApplyTemplate:n.column.children&&n.column.children.filterapply,filters:n.filters,filtersStore:n.filtersStore,filterInputProps:n.filterInputProps,onFilterChange:t[1]||(t[1]=c=>e.$emit("filter-change",c)),onFilterApply:t[2]||(t[2]=c=>e.$emit("filter-apply")),filterMenuStyle:s.columnProp("filterMenuStyle"),filterMenuClass:s.columnProp("filterMenuClass"),showOperator:s.columnProp("showFilterOperator"),showClearButton:s.columnProp("showClearButton"),showApplyButton:s.columnProp("showApplyButton"),showMatchModes:s.columnProp("showFilterMatchModes"),showAddButton:s.columnProp("showAddButton"),matchModeOptions:s.columnProp("filterMatchModeOptions"),maxConstraints:s.columnProp("maxConstraints"),onOperatorChange:t[3]||(t[3]=c=>e.$emit("operator-change",c)),onMatchmodeChange:t[4]||(t[4]=c=>e.$emit("matchmode-change",c)),onConstraintAdd:t[5]||(t[5]=c=>e.$emit("constraint-add",c)),onConstraintRemove:t[6]||(t[6]=c=>e.$emit("constraint-remove",c)),onApplyClick:t[7]||(t[7]=c=>e.$emit("apply-click",c))},null,8,["field","type","showMenu","filterElement","filterHeaderTemplate","filterFooterTemplate","filterClearTemplate","filterApplyTemplate","filters","filtersStore","filterInputProps","filterMenuStyle","filterMenuClass","showOperator","showClearButton","showApplyButton","showMatchModes","showAddButton","matchModeOptions","maxConstraints"])):$("",!0)])],46,T_)}Th.render=D_;var Lh={name:"TableHeader",emits:["column-click","column-mousedown","column-dragstart","column-dragover","column-dragleave","column-drop","column-resizestart","checkbox-change","filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{columnGroup:{type:null,default:null},columns:{type:null,default:null},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},resizableColumns:{type:Boolean,default:!1},allRowsSelected:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},sortMode:{type:String,default:"single"},groupRowSortField:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},filterDisplay:{type:String,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},reorderableColumns:{type:Boolean,default:!1},filterInputProps:{type:null,default:null}},methods:{columnProp(e,t){return V.getVNodeProp(e,t)},getFilterColumnHeaderClass(e){return["p-filter-column",this.columnProp(e,"filterHeaderClass"),this.columnProp(e,"class"),{"p-frozen-column":this.columnProp(e,"frozen")}]},getFilterColumnHeaderStyle(e){return[this.columnProp(e,"filterHeaderStyle"),this.columnProp(e,"style")]},getHeaderRows(){let e=[],t=this.columnGroup;if(t.children&&t.children.default){for(let n of t.children.default())n.type.name==="Row"?e.push(n):n.children&&n.children instanceof Array&&(e=n.children);return e}},getHeaderColumns(e){let t=[];if(e.children&&e.children.default)return e.children.default().forEach(n=>{n.children&&n.children instanceof Array?t=[...t,...n.children]:n.type.name==="Column"&&t.push(n)}),t}},components:{DTHeaderCell:Th,DTHeaderCheckbox:Jl,DTColumnFilter:Wl}};const B_={class:"p-datatable-thead",role:"rowgroup"},N_={role:"row"},z_={key:0,role:"row"};function j_(e,t,n,i,r,s){const o=_e("DTHeaderCell"),l=_e("DTHeaderCheckbox"),c=_e("DTColumnFilter");return x(),I("thead",B_,[n.columnGroup?(x(!0),I(me,{key:1},lt(s.getHeaderRows(),(a,d)=>(x(),I("tr",{key:d,role:"row"},[(x(!0),I(me,null,lt(s.getHeaderColumns(a),(u,h)=>(x(),I(me,{key:s.columnProp(u,"columnKey")||s.columnProp(u,"field")||h},[!s.columnProp(u,"hidden")&&(n.rowGroupMode!=="subheader"||n.groupRowsBy!==s.columnProp(u,"field"))&&typeof u.children!="string"?(x(),le(o,{key:0,column:u,onColumnClick:t[23]||(t[23]=f=>e.$emit("column-click",f)),onColumnMousedown:t[24]||(t[24]=f=>e.$emit("column-mousedown",f)),groupRowsBy:n.groupRowsBy,groupRowSortField:n.groupRowSortField,sortMode:n.sortMode,sortField:n.sortField,sortOrder:n.sortOrder,multiSortMeta:n.multiSortMeta,allRowsSelected:n.allRowsSelected,empty:n.empty,onCheckboxChange:t[25]||(t[25]=f=>e.$emit("checkbox-change",f)),filters:n.filters,filterDisplay:n.filterDisplay,filtersStore:n.filtersStore,onFilterChange:t[26]||(t[26]=f=>e.$emit("filter-change",f)),onFilterApply:t[27]||(t[27]=f=>e.$emit("filter-apply")),onOperatorChange:t[28]||(t[28]=f=>e.$emit("operator-change",f)),onMatchmodeChange:t[29]||(t[29]=f=>e.$emit("matchmode-change",f)),onConstraintAdd:t[30]||(t[30]=f=>e.$emit("constraint-add",f)),onConstraintRemove:t[31]||(t[31]=f=>e.$emit("constraint-remove",f)),onApplyClick:t[32]||(t[32]=f=>e.$emit("apply-click",f))},null,8,["column","groupRowsBy","groupRowSortField","sortMode","sortField","sortOrder","multiSortMeta","allRowsSelected","empty","filters","filterDisplay","filtersStore"])):$("",!0)],64))),128))]))),128)):(x(),I(me,{key:0},[j("tr",N_,[(x(!0),I(me,null,lt(n.columns,(a,d)=>(x(),I(me,{key:s.columnProp(a,"columnKey")||s.columnProp(a,"field")||d},[!s.columnProp(a,"hidden")&&(n.rowGroupMode!=="subheader"||n.groupRowsBy!==s.columnProp(a,"field"))?(x(),le(o,{key:0,column:a,onColumnClick:t[0]||(t[0]=u=>e.$emit("column-click",u)),onColumnMousedown:t[1]||(t[1]=u=>e.$emit("column-mousedown",u)),onColumnDragstart:t[2]||(t[2]=u=>e.$emit("column-dragstart",u)),onColumnDragover:t[3]||(t[3]=u=>e.$emit("column-dragover",u)),onColumnDragleave:t[4]||(t[4]=u=>e.$emit("column-dragleave",u)),onColumnDrop:t[5]||(t[5]=u=>e.$emit("column-drop",u)),groupRowsBy:n.groupRowsBy,groupRowSortField:n.groupRowSortField,reorderableColumns:n.reorderableColumns,resizableColumns:n.resizableColumns,onColumnResizestart:t[6]||(t[6]=u=>e.$emit("column-resizestart",u)),sortMode:n.sortMode,sortField:n.sortField,sortOrder:n.sortOrder,multiSortMeta:n.multiSortMeta,allRowsSelected:n.allRowsSelected,empty:n.empty,onCheckboxChange:t[7]||(t[7]=u=>e.$emit("checkbox-change",u)),filters:n.filters,filterDisplay:n.filterDisplay,filtersStore:n.filtersStore,filterInputProps:n.filterInputProps,onFilterChange:t[8]||(t[8]=u=>e.$emit("filter-change",u)),onFilterApply:t[9]||(t[9]=u=>e.$emit("filter-apply")),onOperatorChange:t[10]||(t[10]=u=>e.$emit("operator-change",u)),onMatchmodeChange:t[11]||(t[11]=u=>e.$emit("matchmode-change",u)),onConstraintAdd:t[12]||(t[12]=u=>e.$emit("constraint-add",u)),onConstraintRemove:t[13]||(t[13]=u=>e.$emit("constraint-remove",u)),onApplyClick:t[14]||(t[14]=u=>e.$emit("apply-click",u))},null,8,["column","groupRowsBy","groupRowSortField","reorderableColumns","resizableColumns","sortMode","sortField","sortOrder","multiSortMeta","allRowsSelected","empty","filters","filterDisplay","filtersStore","filterInputProps"])):$("",!0)],64))),128))]),n.filterDisplay==="row"?(x(),I("tr",z_,[(x(!0),I(me,null,lt(n.columns,(a,d)=>(x(),I(me,{key:s.columnProp(a,"columnKey")||s.columnProp(a,"field")||d},[!s.columnProp(a,"hidden")&&(n.rowGroupMode!=="subheader"||n.groupRowsBy!==s.columnProp(a,"field"))?(x(),I("th",{key:0,style:qe(s.getFilterColumnHeaderStyle(a)),class:ie(s.getFilterColumnHeaderClass(a))},[s.columnProp(a,"selectionMode")==="multiple"?(x(),le(l,{key:0,checked:n.allRowsSelected,disabled:n.empty,onChange:t[15]||(t[15]=u=>e.$emit("checkbox-change",u))},null,8,["checked","disabled"])):$("",!0),a.children&&a.children.filter?(x(),le(c,{key:1,field:s.columnProp(a,"filterField")||s.columnProp(a,"field"),type:s.columnProp(a,"dataType"),display:"row",showMenu:s.columnProp(a,"showFilterMenu"),filterElement:a.children&&a.children.filter,filterHeaderTemplate:a.children&&a.children.filterheader,filterFooterTemplate:a.children&&a.children.filterfooter,filterClearTemplate:a.children&&a.children.filterclear,filterApplyTemplate:a.children&&a.children.filterapply,filters:n.filters,filtersStore:n.filtersStore,filterInputProps:n.filterInputProps,onFilterChange:t[16]||(t[16]=u=>e.$emit("filter-change",u)),onFilterApply:t[17]||(t[17]=u=>e.$emit("filter-apply")),filterMenuStyle:s.columnProp(a,"filterMenuStyle"),filterMenuClass:s.columnProp(a,"filterMenuClass"),showOperator:s.columnProp(a,"showFilterOperator"),showClearButton:s.columnProp(a,"showClearButton"),showApplyButton:s.columnProp(a,"showApplyButton"),showMatchModes:s.columnProp(a,"showFilterMatchModes"),showAddButton:s.columnProp(a,"showAddButton"),matchModeOptions:s.columnProp(a,"filterMatchModeOptions"),maxConstraints:s.columnProp(a,"maxConstraints"),onOperatorChange:t[18]||(t[18]=u=>e.$emit("operator-change",u)),onMatchmodeChange:t[19]||(t[19]=u=>e.$emit("matchmode-change",u)),onConstraintAdd:t[20]||(t[20]=u=>e.$emit("constraint-add",u)),onConstraintRemove:t[21]||(t[21]=u=>e.$emit("constraint-remove",u)),onApplyClick:t[22]||(t[22]=u=>e.$emit("apply-click",u))},null,8,["field","type","showMenu","filterElement","filterHeaderTemplate","filterFooterTemplate","filterClearTemplate","filterApplyTemplate","filters","filtersStore","filterInputProps","filterMenuStyle","filterMenuClass","showOperator","showClearButton","showApplyButton","showMatchModes","showAddButton","matchModeOptions","maxConstraints"])):$("",!0)],6)):$("",!0)],64))),128))])):$("",!0)],64))])}Lh.render=j_;var ol={name:"DataTable",emits:["value-change","update:first","update:rows","page","update:sortField","update:sortOrder","update:multiSortMeta","sort","filter","row-click","row-dblclick","update:selection","row-select","row-unselect","update:contextMenuSelection","row-contextmenu","row-unselect-all","row-select-all","select-all-change","column-resize-end","column-reorder","row-reorder","update:expandedRows","row-collapse","row-expand","update:expandedRowGroups","rowgroup-collapse","rowgroup-expand","update:filters","state-restore","state-save","cell-edit-init","cell-edit-complete","cell-edit-cancel","update:editingRows","row-edit-init","row-edit-save","row-edit-cancel"],props:{value:{type:Array,default:null},dataKey:{type:[String,Function],default:null},rows:{type:Number,default:0},first:{type:Number,default:0},totalRecords:{type:Number,default:0},paginator:{type:Boolean,default:!1},paginatorPosition:{type:String,default:"bottom"},alwaysShowPaginator:{type:Boolean,default:!0},paginatorTemplate:{type:[Object,String],default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},currentPageReportTemplate:{type:String,default:"({currentPage} of {totalPages})"},lazy:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner"},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},defaultSortOrder:{type:Number,default:1},multiSortMeta:{type:Array,default:null},sortMode:{type:String,default:"single"},removableSort:{type:Boolean,default:!1},filters:{type:Object,default:null},filterDisplay:{type:String,default:null},globalFilterFields:{type:Array,default:null},filterLocale:{type:String,default:void 0},selection:{type:[Array,Object],default:null},selectionMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},metaKeySelection:{type:Boolean,default:!0},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},selectAll:{type:Boolean,default:null},rowHover:{type:Boolean,default:!1},csvSeparator:{type:String,default:","},exportFilename:{type:String,default:"download"},exportFunction:{type:Function,default:null},autoLayout:{type:Boolean,default:!1},resizableColumns:{type:Boolean,default:!1},columnResizeMode:{type:String,default:"fit"},reorderableColumns:{type:Boolean,default:!1},expandedRows:{type:Array,default:null},expandedRowIcon:{type:String,default:"pi-chevron-down"},collapsedRowIcon:{type:String,default:"pi-chevron-right"},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},stateStorage:{type:String,default:"session"},stateKey:{type:String,default:null},editMode:{type:String,default:null},editingRows:{type:Array,default:null},rowClass:{type:null,default:null},rowStyle:{type:null,default:null},scrollable:{type:Boolean,default:!1},scrollDirection:{type:String,default:"vertical"},virtualScrollerOptions:{type:Object,default:null},scrollHeight:{type:String,default:null},frozenValue:{type:Array,default:null},responsiveLayout:{type:String,default:"stack"},breakpoint:{type:String,default:"960px"},showGridlines:{type:Boolean,default:!1},stripedRows:{type:Boolean,default:!1},tableStyle:{type:null,default:null},tableClass:{type:String,default:null},tableProps:{type:null,default:null},filterInputProps:{type:null,default:null}},data(){return{d_first:this.first,d_rows:this.rows,d_sortField:this.sortField,d_sortOrder:this.sortOrder,d_multiSortMeta:this.multiSortMeta?[...this.multiSortMeta]:[],d_groupRowsSortMeta:null,d_selectionKeys:null,d_expandedRowKeys:null,d_columnOrder:null,d_editingRowKeys:null,d_editingMeta:{},d_filters:this.cloneFilters(this.filters)}},rowTouched:!1,anchorRowIndex:null,rangeRowIndex:null,documentColumnResizeListener:null,documentColumnResizeEndListener:null,lastResizeHelperX:null,resizeColumnElement:null,columnResizing:!1,colReorderIconWidth:null,colReorderIconHeight:null,draggedColumn:null,draggedRowIndex:null,droppedRowIndex:null,rowDragging:null,columnWidthsState:null,tableWidthState:null,columnWidthsRestored:!1,watch:{first(e){this.d_first=e},rows(e){this.d_rows=e},sortField(e){this.d_sortField=e},sortOrder(e){this.d_sortOrder=e},multiSortMeta(e){this.d_multiSortMeta=e},selection:{immediate:!0,handler(e){this.dataKey&&this.updateSelectionKeys(e)}},expandedRows(e){this.dataKey&&this.updateExpandedRowKeys(e)},editingRows(e){this.dataKey&&this.updateEditingRowKeys(e)},filters:{deep:!0,handler:function(e){this.d_filters=this.cloneFilters(e)}}},beforeMount(){this.isStateful()&&this.restoreState()},mounted(){this.$el.setAttribute(this.attributeSelector,""),this.responsiveLayout==="stack"&&!this.scrollable&&this.createResponsiveStyle(),this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.editMode==="row"&&this.dataKey&&!this.d_editingRowKeys&&this.updateEditingRowKeys(this.editingRows)},beforeUnmount(){this.unbindColumnResizeEvents(),this.destroyStyleElement(),this.destroyResponsiveStyle()},updated(){this.isStateful()&&this.saveState(),this.editMode==="row"&&this.dataKey&&!this.d_editingRowKeys&&this.updateEditingRowKeys(this.editingRows)},methods:{columnProp(e,t){return V.getVNodeProp(e,t)},onPage(e){this.clearEditingMetaData(),this.d_first=e.first,this.d_rows=e.rows;let t=this.createLazyLoadEvent(e);t.pageCount=e.pageCount,t.page=e.page,this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",t),this.$emit("value-change",this.processedData)},onColumnHeaderClick(e){const t=e.originalEvent,n=e.column;if(this.columnProp(n,"sortable")){const i=t.target,r=this.columnProp(n,"sortField")||this.columnProp(n,"field");(E.hasClass(i,"p-sortable-column")||E.hasClass(i,"p-column-title")||E.hasClass(i,"p-column-header-content")||E.hasClass(i,"p-sortable-column-icon")||E.hasClass(i.parentElement,"p-sortable-column-icon"))&&(E.clearSelection(),this.sortMode==="single"?(this.d_sortField===r?this.removableSort&&this.d_sortOrder*-1===this.defaultSortOrder?(this.d_sortOrder=null,this.d_sortField=null):this.d_sortOrder=this.d_sortOrder*-1:(this.d_sortOrder=this.defaultSortOrder,this.d_sortField=r),this.$emit("update:sortField",this.d_sortField),this.$emit("update:sortOrder",this.d_sortOrder),this.resetPage()):this.sortMode==="multiple"&&(t.metaKey||t.ctrlKey||(this.d_multiSortMeta=this.d_multiSortMeta.filter(o=>o.field===r)),this.addMultiSortField(r),this.$emit("update:multiSortMeta",this.d_multiSortMeta)),this.$emit("sort",this.createLazyLoadEvent(t)),this.$emit("value-change",this.processedData))}},sortSingle(e){if(this.clearEditingMetaData(),this.groupRowsBy&&this.groupRowsBy===this.sortField)return this.d_multiSortMeta=[{field:this.sortField,order:this.sortOrder||this.defaultSortOrder},{field:this.d_sortField,order:this.d_sortOrder}],this.sortMultiple(e);let t=[...e];return t.sort((n,i)=>{let r=V.resolveFieldData(n,this.d_sortField),s=V.resolveFieldData(i,this.d_sortField),o=null;return r==null&&s!=null?o=-1:r!=null&&s==null?o=1:r==null&&s==null?o=0:typeof r=="string"&&typeof s=="string"?o=r.localeCompare(s,void 0,{numeric:!0}):o=r<s?-1:r>s?1:0,this.d_sortOrder*o}),t},sortMultiple(e){if(this.clearEditingMetaData(),this.groupRowsBy&&(this.d_groupRowsSortMeta||this.d_multiSortMeta.length&&this.groupRowsBy===this.d_multiSortMeta[0].field)){const n=this.d_multiSortMeta[0];!this.d_groupRowsSortMeta&&(this.d_groupRowsSortMeta=n),n.field!==this.d_groupRowsSortMeta.field&&(this.d_multiSortMeta=[this.d_groupRowsSortMeta,...this.d_multiSortMeta])}let t=[...e];return t.sort((n,i)=>this.multisortField(n,i,0)),t},multisortField(e,t,n){const i=V.resolveFieldData(e,this.d_multiSortMeta[n].field),r=V.resolveFieldData(t,this.d_multiSortMeta[n].field);let s=null;if(typeof i=="string"||i instanceof String){if(i.localeCompare&&i!==r)return this.d_multiSortMeta[n].order*i.localeCompare(r,void 0,{numeric:!0})}else s=i<r?-1:1;return i===r?this.d_multiSortMeta.length-1>n?this.multisortField(e,t,n+1):0:this.d_multiSortMeta[n].order*s},addMultiSortField(e){let t=this.d_multiSortMeta.findIndex(n=>n.field===e);t>=0?this.removableSort&&this.d_multiSortMeta[t].order*-1===this.defaultSortOrder?this.d_multiSortMeta.splice(t,1):this.d_multiSortMeta[t]={field:e,order:this.d_multiSortMeta[t].order*-1}:this.d_multiSortMeta.push({field:e,order:this.defaultSortOrder}),this.d_multiSortMeta=[...this.d_multiSortMeta]},filter(e){if(!e)return;this.clearEditingMetaData();let t;this.filters.global&&(t=this.globalFilterFields||this.columns.map(r=>this.columnProp(r,"filterField")||this.columnProp(r,"field")));let n=[];for(let r=0;r<e.length;r++){let s=!0,o=!1,l=!1;for(let a in this.filters)if(Object.prototype.hasOwnProperty.call(this.filters,a)&&a!=="global"){l=!0;let d=a,u=this.filters[d];if(u.operator){for(let h of u.constraints)if(s=this.executeLocalFilter(d,e[r],h),u.operator===Er.OR&&s||u.operator===Er.AND&&!s)break}else s=this.executeLocalFilter(d,e[r],u);if(!s)break}if(this.filters.global&&!o&&t)for(let a=0;a<t.length;a++){let d=t[a];if(o=rl.filters[this.filters.global.matchMode||ht.CONTAINS](V.resolveFieldData(e[r],d),this.filters.global.value,this.filterLocale),o)break}let c;this.filters.global?c=l?l&&s&&o:o:c=l&&s,c&&n.push(e[r])}n.length===this.value.length&&(n=e);let i=this.createLazyLoadEvent();return i.filteredValue=n,this.$emit("filter",i),this.$emit("value-change",n),n},executeLocalFilter(e,t,n){let i=n.value,r=n.matchMode||ht.STARTS_WITH,s=V.resolveFieldData(t,e),o=rl.filters[r];return o(s,i,this.filterLocale)},onRowClick(e){const t=e.originalEvent,n=e.index,i=this.$refs.bodyRef&&this.$refs.bodyRef.$el,r=E.findSingle(i,'tr.p-selectable-row[tabindex="0"]');if(!E.isClickable(t.target)){if(this.$emit("row-click",e),this.selectionMode){const s=e.data,o=this.d_first+e.index;if(this.isMultipleSelectionMode()&&t.shiftKey&&this.anchorRowIndex!=null)E.clearSelection(),this.rangeRowIndex=o,this.selectRange(t);else{const l=this.isSelected(s),c=this.rowTouched?!1:this.metaKeySelection;if(this.anchorRowIndex=o,this.rangeRowIndex=o,c){let a=t.metaKey||t.ctrlKey;if(l&&a){if(this.isSingleSelectionMode())this.$emit("update:selection",null);else{const d=this.findIndexInSelection(s),u=this.selection.filter((h,f)=>f!=d);this.$emit("update:selection",u)}this.$emit("row-unselect",{originalEvent:t,data:s,index:o,type:"row"})}else{if(this.isSingleSelectionMode())this.$emit("update:selection",s);else if(this.isMultipleSelectionMode()){let d=a?this.selection||[]:[];d=[...d,s],this.$emit("update:selection",d)}this.$emit("row-select",{originalEvent:t,data:s,index:o,type:"row"})}}else if(this.selectionMode==="single")l?(this.$emit("update:selection",null),this.$emit("row-unselect",{originalEvent:t,data:s,index:o,type:"row"})):(this.$emit("update:selection",s),this.$emit("row-select",{originalEvent:t,data:s,index:o,type:"row"}));else if(this.selectionMode==="multiple")if(l){const a=this.findIndexInSelection(s),d=this.selection.filter((u,h)=>h!=a);this.$emit("update:selection",d),this.$emit("row-unselect",{originalEvent:t,data:s,index:o,type:"row"})}else{const a=this.selection?[...this.selection,s]:[s];this.$emit("update:selection",a),this.$emit("row-select",{originalEvent:t,data:s,index:o,type:"row"})}}}this.rowTouched=!1,r&&(r.tabIndex="-1",E.find(i,"tr.p-selectable-row")[n].tabIndex="0")}},onRowDblClick(e){const t=e.originalEvent;E.isClickable(t.target)||this.$emit("row-dblclick",e)},onRowRightClick(e){E.clearSelection(),e.originalEvent.target.focus(),this.$emit("update:contextMenuSelection",e.data),this.$emit("row-contextmenu",e)},onRowTouchEnd(){this.rowTouched=!0},onRowKeyDown(e,t){const n=e.originalEvent,i=e.data,r=e.index,s=n.metaKey||n.ctrlKey;if(this.selectionMode){const o=n.target;switch(n.code){case"ArrowDown":this.onArrowDownKey(n,o,r,t);break;case"ArrowUp":this.onArrowUpKey(n,o,r,t);break;case"Home":this.onHomeKey(n,o,r,t);break;case"End":this.onEndKey(n,o,r,t);break;case"Enter":this.onEnterKey(n,i,r);break;case"Space":this.onSpaceKey(n,i,r,t);break;case"Tab":this.onTabKey(n,r);break;default:if(n.code==="KeyA"&&s){const l=this.dataToRender(t.rows);this.$emit("update:selection",l)}break}}},onArrowDownKey(e,t,n,i){const r=this.findNextSelectableRow(t);if(r&&this.focusRowChange(t,r),e.shiftKey){const s=this.dataToRender(i.rows),o=n+1>=s.length?s.length-1:n+1;this.onRowClick({originalEvent:e,data:s[o],index:o})}e.preventDefault()},onArrowUpKey(e,t,n,i){const r=this.findPrevSelectableRow(t);if(r&&this.focusRowChange(t,r),e.shiftKey){const s=this.dataToRender(i.rows),o=n-1<=0?0:n-1;this.onRowClick({originalEvent:e,data:s[o],index:o})}e.preventDefault()},onHomeKey(e,t,n,i){const r=this.findFirstSelectableRow();if(r&&this.focusRowChange(t,r),e.ctrlKey&&e.shiftKey){const s=this.dataToRender(i.rows);this.$emit("update:selection",s.slice(0,n+1))}e.preventDefault()},onEndKey(e,t,n,i){const r=this.findLastSelectableRow();if(r&&this.focusRowChange(t,r),e.ctrlKey&&e.shiftKey){const s=this.dataToRender(i.rows);this.$emit("update:selection",s.slice(n,s.length))}e.preventDefault()},onEnterKey(e,t,n){this.onRowClick({originalEvent:e,data:t,index:n}),e.preventDefault()},onSpaceKey(e,t,n,i){if(this.onEnterKey(e,t,n),e.shiftKey&&this.selection!==null){const r=this.dataToRender(i.rows);let s;if(this.selection.length>0){let l,c;l=V.findIndexInList(this.selection[0],r),c=V.findIndexInList(this.selection[this.selection.length-1],r),s=n<=l?c:l}else s=V.findIndexInList(this.selection,r);const o=s!==n?r.slice(Math.min(s,n),Math.max(s,n)+1):t;this.$emit("update:selection",o)}},onTabKey(e,t){const n=this.$refs.bodyRef&&this.$refs.bodyRef.$el,i=E.find(n,"tr.p-selectable-row");if(e.code==="Tab"&&i&&i.length>0){const r=E.findSingle(n,"tr.p-highlight"),s=E.findSingle(n,'tr.p-selectable-row[tabindex="0"]');r?(r.tabIndex="0",s&&s!==r&&(s.tabIndex="-1")):(i[0].tabIndex="0",s!==i[0]&&(i[t].tabIndex="-1"))}},findNextSelectableRow(e){let t=e.nextElementSibling;return t?E.hasClass(t,"p-selectable-row")?t:this.findNextSelectableRow(t):null},findPrevSelectableRow(e){let t=e.previousElementSibling;return t?E.hasClass(t,"p-selectable-row")?t:this.findPrevSelectableRow(t):null},findFirstSelectableRow(){return E.findSingle(this.$refs.table,".p-selectable-row")},findLastSelectableRow(){const e=E.find(this.$refs.table,".p-selectable-row");return e?e[e.length-1]:null},focusRowChange(e,t){e.tabIndex="-1",t.tabIndex="0",E.focus(t)},toggleRowWithRadio(e){const t=e.data;this.isSelected(t)?(this.$emit("update:selection",null),this.$emit("row-unselect",{originalEvent:e.originalEvent,data:t,index:e.index,type:"radiobutton"})):(this.$emit("update:selection",t),this.$emit("row-select",{originalEvent:e.originalEvent,data:t,index:e.index,type:"radiobutton"}))},toggleRowWithCheckbox(e){const t=e.data;if(this.isSelected(t)){const n=this.findIndexInSelection(t),i=this.selection.filter((r,s)=>s!=n);this.$emit("update:selection",i),this.$emit("row-unselect",{originalEvent:e.originalEvent,data:t,index:e.index,type:"checkbox"})}else{let n=this.selection?[...this.selection]:[];n=[...n,t],this.$emit("update:selection",n),this.$emit("row-select",{originalEvent:e.originalEvent,data:t,index:e.index,type:"checkbox"})}},toggleRowsWithCheckbox(e){if(this.selectAll!==null)this.$emit("select-all-change",e);else{const{originalEvent:t,checked:n}=e;let i=[];n?(i=this.frozenValue?[...this.frozenValue,...this.processedData]:this.processedData,this.$emit("row-select-all",{originalEvent:t,data:i})):this.$emit("row-unselect-all",{originalEvent:t}),this.$emit("update:selection",i)}},isSingleSelectionMode(){return this.selectionMode==="single"},isMultipleSelectionMode(){return this.selectionMode==="multiple"},isSelected(e){return e&&this.selection?this.dataKey?this.d_selectionKeys?this.d_selectionKeys[V.resolveFieldData(e,this.dataKey)]!==void 0:!1:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1},findIndexInSelection(e){return this.findIndex(e,this.selection)},findIndex(e,t){let n=-1;if(t&&t.length){for(let i=0;i<t.length;i++)if(this.equals(e,t[i])){n=i;break}}return n},updateSelectionKeys(e){if(this.d_selectionKeys={},Array.isArray(e))for(let t of e)this.d_selectionKeys[String(V.resolveFieldData(t,this.dataKey))]=1;else this.d_selectionKeys[String(V.resolveFieldData(e,this.dataKey))]=1},updateExpandedRowKeys(e){if(e&&e.length){this.d_expandedRowKeys={};for(let t of e)this.d_expandedRowKeys[String(V.resolveFieldData(t,this.dataKey))]=1}else this.d_expandedRowKeys=null},updateEditingRowKeys(e){if(e&&e.length){this.d_editingRowKeys={};for(let t of e)this.d_editingRowKeys[String(V.resolveFieldData(t,this.dataKey))]=1}else this.d_editingRowKeys=null},equals(e,t){return this.compareSelectionBy==="equals"?e===t:V.equals(e,t,this.dataKey)},selectRange(e){let t,n;this.rangeRowIndex>this.anchorRowIndex?(t=this.anchorRowIndex,n=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(t=this.rangeRowIndex,n=this.anchorRowIndex):(t=this.rangeRowIndex,n=this.rangeRowIndex),this.lazy&&this.paginator&&(t-=this.first,n-=this.first);const i=this.processedData;let r=[];for(let s=t;s<=n;s++){let o=i[s];r.push(o),this.$emit("row-select",{originalEvent:e,data:o,type:"row"})}this.$emit("update:selection",r)},exportCSV(e,t){let n="\uFEFF";t||(t=this.processedData,e&&e.selectionOnly?t=this.selection||[]:this.frozenValue&&(t=t?[...this.frozenValue,...t]:this.frozenValue));let i=!1;for(let s=0;s<this.columns.length;s++){let o=this.columns[s];this.columnProp(o,"exportable")!==!1&&this.columnProp(o,"field")&&(i?n+=this.csvSeparator:i=!0,n+='"'+(this.columnProp(o,"exportHeader")||this.columnProp(o,"header")||this.columnProp(o,"field"))+'"')}t&&t.forEach(s=>{n+=`
`;let o=!1;for(let l=0;l<this.columns.length;l++){let c=this.columns[l];if(this.columnProp(c,"exportable")!==!1&&this.columnProp(c,"field")){o?n+=this.csvSeparator:o=!0;let a=V.resolveFieldData(s,this.columnProp(c,"field"));a!=null?this.exportFunction?a=this.exportFunction({data:a,field:this.columnProp(c,"field")}):a=String(a).replace(/"/g,'""'):a="",n+='"'+a+'"'}}});let r=!1;for(let s=0;s<this.columns.length;s++){let o=this.columns[s];s===0&&(n+=`
`),this.columnProp(o,"exportable")!==!1&&this.columnProp(o,"exportFooter")&&(r?n+=this.csvSeparator:r=!0,n+='"'+(this.columnProp(o,"exportFooter")||this.columnProp(o,"footer")||this.columnProp(o,"field"))+'"')}E.exportCSV(n,this.exportFilename)},resetPage(){this.d_first=0,this.$emit("update:first",this.d_first)},onColumnResizeStart(e){let t=E.getOffset(this.$el).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizeHelperX=e.pageX-t+this.$el.scrollLeft,this.bindColumnResizeEvents()},onColumnResize(e){let t=E.getOffset(this.$el).left;E.addClass(this.$el,"p-unselectable-text"),this.$refs.resizeHelper.style.height=this.$el.offsetHeight+"px",this.$refs.resizeHelper.style.top=0+"px",this.$refs.resizeHelper.style.left=e.pageX-t+this.$el.scrollLeft+"px",this.$refs.resizeHelper.style.display="block"},onColumnResizeEnd(){let e=this.$refs.resizeHelper.offsetLeft-this.lastResizeHelperX,t=this.resizeColumnElement.offsetWidth,n=t+e,i=this.resizeColumnElement.style.minWidth||15;if(t+e>parseInt(i,10)){if(this.columnResizeMode==="fit"){let s=this.resizeColumnElement.nextElementSibling.offsetWidth-e;n>15&&s>15&&this.resizeTableCells(n,s)}else if(this.columnResizeMode==="expand"){const r=this.$refs.table.offsetWidth+e+"px",s=o=>{o&&(o.style.width=o.style.minWidth=r)};if(s(this.$refs.table),!this.virtualScrollerDisabled){const o=this.$refs.bodyRef&&this.$refs.bodyRef.$el,l=this.$refs.frozenBodyRef&&this.$refs.frozenBodyRef.$el;s(o),s(l)}this.resizeTableCells(n)}this.$emit("column-resize-end",{element:this.resizeColumnElement,delta:e})}this.$refs.resizeHelper.style.display="none",this.resizeColumn=null,E.removeClass(this.$el,"p-unselectable-text"),this.unbindColumnResizeEvents(),this.isStateful()&&this.saveState()},resizeTableCells(e,t){let n=E.index(this.resizeColumnElement),i=[];E.find(this.$refs.table,".p-datatable-thead > tr > th").forEach(o=>i.push(E.getOuterWidth(o))),this.destroyStyleElement(),this.createStyleElement();let s="";i.forEach((o,l)=>{let c=l===n?e:t&&l===n+1?t:o,a=this.scrollable?`flex: 1 1 ${c}px !important`:`width: ${c}px !important`;s+=`
                    .p-datatable[${this.attributeSelector}] .p-datatable-thead > tr > th:nth-child(${l+1}),
                    .p-datatable[${this.attributeSelector}] .p-datatable-tbody > tr > td:nth-child(${l+1}),
                    .p-datatable[${this.attributeSelector}] .p-datatable-tfoot > tr > td:nth-child(${l+1}) {
                        ${a}
                    }
                `}),this.styleElement.innerHTML=s},bindColumnResizeEvents(){this.documentColumnResizeListener||(this.documentColumnResizeListener=document.addEventListener("mousemove",()=>{this.columnResizing&&this.onColumnResize(event)})),this.documentColumnResizeEndListener||(this.documentColumnResizeEndListener=document.addEventListener("mouseup",()=>{this.columnResizing&&(this.columnResizing=!1,this.onColumnResizeEnd())}))},unbindColumnResizeEvents(){this.documentColumnResizeListener&&(document.removeEventListener("document",this.documentColumnResizeListener),this.documentColumnResizeListener=null),this.documentColumnResizeEndListener&&(document.removeEventListener("document",this.documentColumnResizeEndListener),this.documentColumnResizeEndListener=null)},onColumnHeaderMouseDown(e){const t=e.originalEvent,n=e.column;this.reorderableColumns&&this.columnProp(n,"reorderableColumn")!==!1&&(t.target.nodeName==="INPUT"||t.target.nodeName==="TEXTAREA"||E.hasClass(t.target,"p-column-resizer")?t.currentTarget.draggable=!1:t.currentTarget.draggable=!0)},onColumnHeaderDragStart(e){if(this.columnResizing){e.preventDefault();return}this.colReorderIconWidth=E.getHiddenElementOuterWidth(this.$refs.reorderIndicatorUp),this.colReorderIconHeight=E.getHiddenElementOuterHeight(this.$refs.reorderIndicatorUp),this.draggedColumn=this.findParentHeader(e.target),e.dataTransfer.setData("text","b")},onColumnHeaderDragOver(e){let t=this.findParentHeader(e.target);if(this.reorderableColumns&&this.draggedColumn&&t){e.preventDefault();let n=E.getOffset(this.$el),i=E.getOffset(t);if(this.draggedColumn!==t){let r=i.left-n.left,s=i.left+t.offsetWidth/2;this.$refs.reorderIndicatorUp.style.top=i.top-n.top-(this.colReorderIconHeight-1)+"px",this.$refs.reorderIndicatorDown.style.top=i.top-n.top+t.offsetHeight+"px",e.pageX>s?(this.$refs.reorderIndicatorUp.style.left=r+t.offsetWidth-Math.ceil(this.colReorderIconWidth/2)+"px",this.$refs.reorderIndicatorDown.style.left=r+t.offsetWidth-Math.ceil(this.colReorderIconWidth/2)+"px",this.dropPosition=1):(this.$refs.reorderIndicatorUp.style.left=r-Math.ceil(this.colReorderIconWidth/2)+"px",this.$refs.reorderIndicatorDown.style.left=r-Math.ceil(this.colReorderIconWidth/2)+"px",this.dropPosition=-1),this.$refs.reorderIndicatorUp.style.display="block",this.$refs.reorderIndicatorDown.style.display="block"}}},onColumnHeaderDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.$refs.reorderIndicatorUp.style.display="none",this.$refs.reorderIndicatorDown.style.display="none")},onColumnHeaderDrop(e){if(e.preventDefault(),this.draggedColumn){let t=E.index(this.draggedColumn),n=E.index(this.findParentHeader(e.target)),i=t!==n;i&&(n-t===1&&this.dropPosition===-1||n-t===-1&&this.dropPosition===1)&&(i=!1),i&&(V.reorderArray(this.columns,t,n),this.updateReorderableColumns(),this.$emit("column-reorder",{originalEvent:e,dragIndex:t,dropIndex:n})),this.$refs.reorderIndicatorUp.style.display="none",this.$refs.reorderIndicatorDown.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}},findParentHeader(e){if(e.nodeName==="TH")return e;{let t=e.parentElement;for(;t.nodeName!=="TH"&&(t=t.parentElement,!!t););return t}},findColumnByKey(e,t){if(e&&e.length)for(let n=0;n<e.length;n++){let i=e[n];if(this.columnProp(i,"columnKey")===t||this.columnProp(i,"field")===t)return i}return null},onRowMouseDown(e){E.hasClass(e.target,"p-datatable-reorderablerow-handle")?e.currentTarget.draggable=!0:e.currentTarget.draggable=!1},onRowDragStart(e){const t=e.originalEvent,n=e.index;this.rowDragging=!0,this.draggedRowIndex=n,t.dataTransfer.setData("text","b")},onRowDragOver(e){const t=e.originalEvent,n=e.index;if(this.rowDragging&&this.draggedRowIndex!==n){let i=t.currentTarget,r=E.getOffset(i).top+E.getWindowScrollTop(),s=t.pageY,o=r+E.getOuterHeight(i)/2,l=i.previousElementSibling;s<o?(E.removeClass(i,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=n,l?E.addClass(l,"p-datatable-dragpoint-bottom"):E.addClass(i,"p-datatable-dragpoint-top")):(l?E.removeClass(l,"p-datatable-dragpoint-bottom"):E.addClass(i,"p-datatable-dragpoint-top"),this.droppedRowIndex=n+1,E.addClass(i,"p-datatable-dragpoint-bottom")),t.preventDefault()}},onRowDragLeave(e){let t=e.currentTarget,n=t.previousElementSibling;n&&E.removeClass(n,"p-datatable-dragpoint-bottom"),E.removeClass(t,"p-datatable-dragpoint-bottom"),E.removeClass(t,"p-datatable-dragpoint-top")},onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null,e.currentTarget.draggable=!1},onRowDrop(e){if(this.droppedRowIndex!=null){let t=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:this.droppedRowIndex===0?0:this.droppedRowIndex-1,n=[...this.processedData];V.reorderArray(n,this.draggedRowIndex+this.d_first,t+this.d_first),this.$emit("row-reorder",{originalEvent:e,dragIndex:this.draggedRowIndex,dropIndex:t,value:n})}this.onRowDragLeave(e),this.onRowDragEnd(e),e.preventDefault()},toggleRow(e){let t=e.data,n,i,r=this.expandedRows?[...this.expandedRows]:[];this.dataKey?n=this.d_expandedRowKeys?this.d_expandedRowKeys[V.resolveFieldData(t,this.dataKey)]!==void 0:!1:(i=this.findIndex(t,this.expandedRows),n=i>-1),n?(i==null&&(i=this.findIndex(t,this.expandedRows)),r.splice(i,1),this.$emit("update:expandedRows",r),this.$emit("row-collapse",e)):(r.push(t),this.$emit("update:expandedRows",r),this.$emit("row-expand",e))},toggleRowGroup(e){const t=e.originalEvent,n=e.data,i=V.resolveFieldData(n,this.groupRowsBy);let r=this.expandedRowGroups?[...this.expandedRowGroups]:[];this.isRowGroupExpanded(n)?(r=r.filter(s=>s!==i),this.$emit("update:expandedRowGroups",r),this.$emit("rowgroup-collapse",{originalEvent:t,data:i})):(r.push(i),this.$emit("update:expandedRowGroups",r),this.$emit("rowgroup-expand",{originalEvent:t,data:i}))},isRowGroupExpanded(e){if(this.expandableRowGroups&&this.expandedRowGroups){let t=V.resolveFieldData(e,this.groupRowsBy);return this.expandedRowGroups.indexOf(t)>-1}return!1},isStateful(){return this.stateKey!=null},getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}},saveState(){const e=this.getStorage();let t={};this.paginator&&(t.first=this.d_first,t.rows=this.d_rows),this.d_sortField&&(t.sortField=this.d_sortField,t.sortOrder=this.d_sortOrder),this.d_multiSortMeta&&(t.multiSortMeta=this.d_multiSortMeta),this.hasFilters&&(t.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(t),this.reorderableColumns&&(t.columnOrder=this.d_columnOrder),this.expandedRows&&(t.expandedRows=this.expandedRows,t.expandedRowKeys=this.d_expandedRowKeys),this.expandedRowGroups&&(t.expandedRowGroups=this.expandedRowGroups),this.selection&&(t.selection=this.selection,t.selectionKeys=this.d_selectionKeys),Object.keys(t).length&&e.setItem(this.stateKey,JSON.stringify(t)),this.$emit("state-save",t)},restoreState(){const t=this.getStorage().getItem(this.stateKey),n=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,i=function(r,s){return typeof s=="string"&&n.test(s)?new Date(s):s};if(t){let r=JSON.parse(t,i);this.paginator&&(this.d_first=r.first,this.d_rows=r.rows),r.sortField&&(this.d_sortField=r.sortField,this.d_sortOrder=r.sortOrder),r.multiSortMeta&&(this.d_multiSortMeta=r.multiSortMeta),r.filters&&this.$emit("update:filters",r.filters),this.resizableColumns&&(this.columnWidthsState=r.columnWidths,this.tableWidthState=r.tableWidth),this.reorderableColumns&&(this.d_columnOrder=r.columnOrder),r.expandedRows&&(this.d_expandedRowKeys=r.expandedRowKeys,this.$emit("update:expandedRows",r.expandedRows)),r.expandedRowGroups&&this.$emit("update:expandedRowGroups",r.expandedRowGroups),r.selection&&(this.d_selectionKeys=r.d_selectionKeys,this.$emit("update:selection",r.selection)),this.$emit("state-restore",r)}},saveColumnWidths(e){let t=[];E.find(this.$el,".p-datatable-thead > tr > th").forEach(i=>t.push(E.getOuterWidth(i))),e.columnWidths=t.join(","),this.columnResizeMode==="expand"&&(e.tableWidth=E.getOuterWidth(this.$refs.table)+"px")},restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if(this.columnResizeMode==="expand"&&this.tableWidthState&&(this.$refs.table.style.width=this.tableWidthState,this.$refs.table.style.minWidth=this.tableWidthState,this.$el.style.width=this.tableWidthState),V.isNotEmpty(e)){this.createStyleElement();let t="";e.forEach((n,i)=>{let r=this.scrollable?`flex: 1 1 ${n}px !important`:`width: ${n}px !important`;t+=`
                            .p-datatable[${this.attributeSelector}] .p-datatable-thead > tr > th:nth-child(${i+1}),
                            .p-datatable[${this.attributeSelector}] .p-datatable-tbody > tr > td:nth-child(${i+1}),
                            .p-datatable[${this.attributeSelector}] .p-datatable-tfoot > tr > td:nth-child(${i+1}) {
                                ${r}
                            }
                        `}),this.styleElement.innerHTML=t}}},onCellEditInit(e){this.$emit("cell-edit-init",e)},onCellEditComplete(e){this.$emit("cell-edit-complete",e)},onCellEditCancel(e){this.$emit("cell-edit-cancel",e)},onRowEditInit(e){let t=this.editingRows?[...this.editingRows]:[];t.push(e.data),this.$emit("update:editingRows",t),this.$emit("row-edit-init",e)},onRowEditSave(e){let t=[...this.editingRows];t.splice(this.findIndex(e.data,t),1),this.$emit("update:editingRows",t),this.$emit("row-edit-save",e)},onRowEditCancel(e){let t=[...this.editingRows];t.splice(this.findIndex(e.data,t),1),this.$emit("update:editingRows",t),this.$emit("row-edit-cancel",e)},onEditingMetaChange(e){let{data:t,field:n,index:i,editing:r}=e,s={...this.d_editingMeta},o=s[i];if(r)!o&&(o=s[i]={data:{...t},fields:[]}),o.fields.push(n);else if(o){const l=o.fields.filter(c=>c!==n);l.length?o.fields=l:delete s[i]}this.d_editingMeta=s},clearEditingMetaData(){this.editMode&&(this.d_editingMeta={})},createLazyLoadEvent(e){return{originalEvent:e,first:this.d_first,rows:this.d_rows,sortField:this.d_sortField,sortOrder:this.d_sortOrder,multiSortMeta:this.d_multiSortMeta,filters:this.d_filters}},hasGlobalFilter(){return this.filters&&Object.prototype.hasOwnProperty.call(this.filters,"global")},getChildren(){return this.$slots.default?this.$slots.default():null},onFilterChange(e){this.d_filters=e},onFilterApply(){this.d_first=0,this.$emit("update:first",this.d_first),this.$emit("update:filters",this.d_filters),this.lazy&&this.$emit("filter",this.createLazyLoadEvent())},cloneFilters(){let e={};return this.filters&&Object.entries(this.filters).forEach(([t,n])=>{e[t]=n.operator?{operator:n.operator,constraints:n.constraints.map(i=>({...i}))}:{...n}}),e},updateReorderableColumns(){let e=[];this.columns.forEach(t=>e.push(this.columnProp(t,"columnKey")||this.columnProp(t,"field"))),this.d_columnOrder=e},createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)},createResponsiveStyle(){if(!this.responsiveStyleElement){this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement);let e=`
@media screen and (max-width: ${this.breakpoint}) {
    .p-datatable[${this.attributeSelector}] .p-datatable-thead > tr > th,
    .p-datatable[${this.attributeSelector}] .p-datatable-tfoot > tr > td {
        display: none !important;
    }

    .p-datatable[${this.attributeSelector}] .p-datatable-tbody > tr > td {
        display: flex;
        width: 100% !important;
        align-items: center;
        justify-content: space-between;
    }

    .p-datatable[${this.attributeSelector}] .p-datatable-tbody > tr > td:not(:last-child) {
        border: 0 none;
    }

    .p-datatable[${this.attributeSelector}].p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {
        border-top: 0;
        border-right: 0;
        border-left: 0;
    }

    .p-datatable[${this.attributeSelector}] .p-datatable-tbody > tr > td > .p-column-title {
        display: block;
    }
}
`;this.responsiveStyleElement.innerHTML=e}},destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)},destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},recursiveGetChildren(e,t){return t||(t=[]),e&&e.length&&e.forEach(n=>{n.children instanceof Array?t.concat(this.recursiveGetChildren(n.children,t)):n.type.name=="Column"&&t.push(n)}),t},dataToRender(e){const t=e||this.processedData;if(t&&this.paginator){const n=this.lazy?0:this.d_first;return t.slice(n,n+this.d_rows)}return t},getVirtualScrollerRef(){return this.$refs.virtualScroller}},computed:{containerClass(){return["p-datatable p-component",{"p-datatable-hoverable-rows":this.rowHover||this.selectionMode,"p-datatable-auto-layout":this.autoLayout,"p-datatable-resizable":this.resizableColumns,"p-datatable-resizable-fit":this.resizableColumns&&this.columnResizeMode==="fit","p-datatable-scrollable":this.scrollable,"p-datatable-scrollable-vertical":this.scrollable&&this.scrollDirection==="vertical","p-datatable-scrollable-horizontal":this.scrollable&&this.scrollDirection==="horizontal","p-datatable-scrollable-both":this.scrollable&&this.scrollDirection==="both","p-datatable-flex-scrollable":this.scrollable&&this.scrollHeight==="flex","p-datatable-responsive-stack":this.responsiveLayout==="stack","p-datatable-responsive-scroll":this.responsiveLayout==="scroll","p-datatable-striped":this.stripedRows,"p-datatable-gridlines":this.showGridlines,"p-datatable-grouped-header":this.headerColumnGroup!=null,"p-datatable-grouped-footer":this.footerColumnGroup!=null}]},columns(){let e=this.getChildren();if(!e)return;const t=this.recursiveGetChildren(e,[]);if(this.reorderableColumns&&this.d_columnOrder){let n=[];for(let i of this.d_columnOrder){let r=this.findColumnByKey(t,i);r&&!this.columnProp(r,"hidden")&&n.push(r)}return[...n,...t.filter(i=>n.indexOf(i)<0)]}return t},headerColumnGroup(){const e=this.getChildren();if(e){for(let t of e)if(t.type.name==="ColumnGroup"&&this.columnProp(t,"type")==="header")return t}return null},footerColumnGroup(){const e=this.getChildren();if(e){for(let t of e)if(t.type.name==="ColumnGroup"&&this.columnProp(t,"type")==="footer")return t}return null},hasFilters(){return this.filters&&Object.keys(this.filters).length>0&&this.filters.constructor===Object},processedData(){let e=this.value||[];return this.lazy||e&&e.length&&(this.hasFilters&&(e=this.filter(e)),this.sorted&&(this.sortMode==="single"?e=this.sortSingle(e):this.sortMode==="multiple"&&(e=this.sortMultiple(e)))),e},totalRecordsLength(){if(this.lazy)return this.totalRecords;{const e=this.processedData;return e?e.length:0}},empty(){const e=this.processedData;return!e||e.length===0},paginatorTop(){return this.paginator&&(this.paginatorPosition!=="bottom"||this.paginatorPosition==="both")},paginatorBottom(){return this.paginator&&(this.paginatorPosition!=="top"||this.paginatorPosition==="both")},sorted(){return this.d_sortField||this.d_multiSortMeta&&this.d_multiSortMeta.length>0},loadingIconClass(){return["p-datatable-loading-icon pi-spin",this.loadingIcon]},allRowsSelected(){if(this.selectAll!==null)return this.selectAll;{const e=this.frozenValue?[...this.frozenValue,...this.processedData]:this.processedData;return V.isNotEmpty(e)&&this.selection&&Array.isArray(this.selection)&&e.every(t=>this.selection.some(n=>this.equals(n,t)))}},attributeSelector(){return Kt()},groupRowSortField(){return this.sortMode==="single"?this.sortField:this.d_groupRowsSortMeta?this.d_groupRowsSortMeta.field:null},virtualScrollerDisabled(){return V.isEmpty(this.virtualScrollerOptions)||!this.scrollable}},components:{DTPaginator:Ih,DTTableHeader:Lh,DTTableBody:Rh,DTTableFooter:Oh,DTVirtualScroller:Gl}};const V_={key:0,class:"p-datatable-loading-overlay p-component-overlay"},K_={key:1,class:"p-datatable-header"},U_={key:3,class:"p-datatable-footer"},H_={ref:"resizeHelper",class:"p-column-resizer-helper",style:{display:"none"}},$_={key:5,ref:"reorderIndicatorUp",class:"pi pi-arrow-down p-datatable-reorder-indicator-up",style:{position:"absolute",display:"none"}},q_={key:6,ref:"reorderIndicatorDown",class:"pi pi-arrow-up p-datatable-reorder-indicator-down",style:{position:"absolute",display:"none"}};function G_(e,t,n,i,r,s){const o=_e("DTPaginator"),l=_e("DTTableHeader"),c=_e("DTTableBody"),a=_e("DTTableFooter"),d=_e("DTVirtualScroller");return x(),I("div",{class:ie(s.containerClass),"data-scrollselectors":".p-datatable-wrapper"},[Pe(e.$slots,"default"),n.loading?(x(),I("div",V_,[e.$slots.loading?Pe(e.$slots,"loading",{key:0}):(x(),I("i",{key:1,class:ie(s.loadingIconClass)},null,2))])):$("",!0),e.$slots.header?(x(),I("div",K_,[Pe(e.$slots,"header")])):$("",!0),s.paginatorTop?(x(),le(o,{key:2,rows:r.d_rows,first:r.d_first,totalRecords:s.totalRecordsLength,pageLinkSize:n.pageLinkSize,template:n.paginatorTemplate,rowsPerPageOptions:n.rowsPerPageOptions,currentPageReportTemplate:n.currentPageReportTemplate,class:"p-paginator-top",onPage:t[0]||(t[0]=u=>s.onPage(u)),alwaysShow:n.alwaysShowPaginator},Oo({_:2},[e.$slots.paginatorstart?{name:"start",fn:ye(()=>[Pe(e.$slots,"paginatorstart")]),key:"0"}:void 0,e.$slots.paginatorend?{name:"end",fn:ye(()=>[Pe(e.$slots,"paginatorend")]),key:"1"}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","alwaysShow"])):$("",!0),j("div",{class:"p-datatable-wrapper",style:qe({maxHeight:s.virtualScrollerDisabled?n.scrollHeight:""})},[he(d,Je({ref:"virtualScroller"},n.virtualScrollerOptions,{items:s.processedData,columns:s.columns,style:{height:n.scrollHeight},disabled:s.virtualScrollerDisabled,loaderDisabled:"",showSpacer:!1}),{content:ye(u=>[j("table",Je({ref:"table",role:"table",class:[n.tableClass,"p-datatable-table"],style:[n.tableStyle,u.spacerStyle]},n.tableProps),[he(l,{columnGroup:s.headerColumnGroup,columns:u.columns,rowGroupMode:n.rowGroupMode,groupRowsBy:n.groupRowsBy,groupRowSortField:s.groupRowSortField,reorderableColumns:n.reorderableColumns,resizableColumns:n.resizableColumns,allRowsSelected:s.allRowsSelected,empty:s.empty,sortMode:n.sortMode,sortField:r.d_sortField,sortOrder:r.d_sortOrder,multiSortMeta:r.d_multiSortMeta,filters:r.d_filters,filtersStore:n.filters,filterDisplay:n.filterDisplay,filterInputProps:n.filterInputProps,onColumnClick:t[1]||(t[1]=h=>s.onColumnHeaderClick(h)),onColumnMousedown:t[2]||(t[2]=h=>s.onColumnHeaderMouseDown(h)),onFilterChange:s.onFilterChange,onFilterApply:s.onFilterApply,onColumnDragstart:t[3]||(t[3]=h=>s.onColumnHeaderDragStart(h)),onColumnDragover:t[4]||(t[4]=h=>s.onColumnHeaderDragOver(h)),onColumnDragleave:t[5]||(t[5]=h=>s.onColumnHeaderDragLeave(h)),onColumnDrop:t[6]||(t[6]=h=>s.onColumnHeaderDrop(h)),onColumnResizestart:t[7]||(t[7]=h=>s.onColumnResizeStart(h)),onCheckboxChange:t[8]||(t[8]=h=>s.toggleRowsWithCheckbox(h))},null,8,["columnGroup","columns","rowGroupMode","groupRowsBy","groupRowSortField","reorderableColumns","resizableColumns","allRowsSelected","empty","sortMode","sortField","sortOrder","multiSortMeta","filters","filtersStore","filterDisplay","filterInputProps","onFilterChange","onFilterApply"]),n.frozenValue?(x(),le(c,{key:0,ref:"frozenBodyRef",value:n.frozenValue,frozenRow:!0,class:"p-datatable-frozen-tbody",columns:u.columns,dataKey:n.dataKey,selection:n.selection,selectionKeys:r.d_selectionKeys,selectionMode:n.selectionMode,contextMenu:n.contextMenu,contextMenuSelection:n.contextMenuSelection,rowGroupMode:n.rowGroupMode,groupRowsBy:n.groupRowsBy,expandableRowGroups:n.expandableRowGroups,rowClass:n.rowClass,rowStyle:n.rowStyle,editMode:n.editMode,compareSelectionBy:n.compareSelectionBy,scrollable:n.scrollable,expandedRowIcon:n.expandedRowIcon,collapsedRowIcon:n.collapsedRowIcon,expandedRows:n.expandedRows,expandedRowKeys:r.d_expandedRowKeys,expandedRowGroups:n.expandedRowGroups,editingRows:n.editingRows,editingRowKeys:r.d_editingRowKeys,templates:e.$slots,responsiveLayout:n.responsiveLayout,isVirtualScrollerDisabled:!0,onRowgroupToggle:s.toggleRowGroup,onRowClick:t[9]||(t[9]=h=>s.onRowClick(h)),onRowDblclick:t[10]||(t[10]=h=>s.onRowDblClick(h)),onRowRightclick:t[11]||(t[11]=h=>s.onRowRightClick(h)),onRowTouchend:s.onRowTouchEnd,onRowKeydown:s.onRowKeyDown,onRowMousedown:s.onRowMouseDown,onRowDragstart:t[12]||(t[12]=h=>s.onRowDragStart(h)),onRowDragover:t[13]||(t[13]=h=>s.onRowDragOver(h)),onRowDragleave:t[14]||(t[14]=h=>s.onRowDragLeave(h)),onRowDragend:t[15]||(t[15]=h=>s.onRowDragEnd(h)),onRowDrop:t[16]||(t[16]=h=>s.onRowDrop(h)),onRowToggle:t[17]||(t[17]=h=>s.toggleRow(h)),onRadioChange:t[18]||(t[18]=h=>s.toggleRowWithRadio(h)),onCheckboxChange:t[19]||(t[19]=h=>s.toggleRowWithCheckbox(h)),onCellEditInit:t[20]||(t[20]=h=>s.onCellEditInit(h)),onCellEditComplete:t[21]||(t[21]=h=>s.onCellEditComplete(h)),onCellEditCancel:t[22]||(t[22]=h=>s.onCellEditCancel(h)),onRowEditInit:t[23]||(t[23]=h=>s.onRowEditInit(h)),onRowEditSave:t[24]||(t[24]=h=>s.onRowEditSave(h)),onRowEditCancel:t[25]||(t[25]=h=>s.onRowEditCancel(h)),editingMeta:r.d_editingMeta,onEditingMetaChange:s.onEditingMetaChange},null,8,["value","columns","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowKeys","expandedRowGroups","editingRows","editingRowKeys","templates","responsiveLayout","onRowgroupToggle","onRowTouchend","onRowKeydown","onRowMousedown","editingMeta","onEditingMetaChange"])):$("",!0),he(c,{ref:"bodyRef",value:s.dataToRender(u.rows),class:ie(u.styleClass),columns:u.columns,empty:s.empty,dataKey:n.dataKey,selection:n.selection,selectionKeys:r.d_selectionKeys,selectionMode:n.selectionMode,contextMenu:n.contextMenu,contextMenuSelection:n.contextMenuSelection,rowGroupMode:n.rowGroupMode,groupRowsBy:n.groupRowsBy,expandableRowGroups:n.expandableRowGroups,rowClass:n.rowClass,rowStyle:n.rowStyle,editMode:n.editMode,compareSelectionBy:n.compareSelectionBy,scrollable:n.scrollable,expandedRowIcon:n.expandedRowIcon,collapsedRowIcon:n.collapsedRowIcon,expandedRows:n.expandedRows,expandedRowKeys:r.d_expandedRowKeys,expandedRowGroups:n.expandedRowGroups,editingRows:n.editingRows,editingRowKeys:r.d_editingRowKeys,templates:e.$slots,responsiveLayout:n.responsiveLayout,virtualScrollerContentProps:u,isVirtualScrollerDisabled:s.virtualScrollerDisabled,onRowgroupToggle:s.toggleRowGroup,onRowClick:t[26]||(t[26]=h=>s.onRowClick(h)),onRowDblclick:t[27]||(t[27]=h=>s.onRowDblClick(h)),onRowRightclick:t[28]||(t[28]=h=>s.onRowRightClick(h)),onRowTouchend:s.onRowTouchEnd,onRowKeydown:h=>s.onRowKeyDown(h,u),onRowMousedown:s.onRowMouseDown,onRowDragstart:t[29]||(t[29]=h=>s.onRowDragStart(h)),onRowDragover:t[30]||(t[30]=h=>s.onRowDragOver(h)),onRowDragleave:t[31]||(t[31]=h=>s.onRowDragLeave(h)),onRowDragend:t[32]||(t[32]=h=>s.onRowDragEnd(h)),onRowDrop:t[33]||(t[33]=h=>s.onRowDrop(h)),onRowToggle:t[34]||(t[34]=h=>s.toggleRow(h)),onRadioChange:t[35]||(t[35]=h=>s.toggleRowWithRadio(h)),onCheckboxChange:t[36]||(t[36]=h=>s.toggleRowWithCheckbox(h)),onCellEditInit:t[37]||(t[37]=h=>s.onCellEditInit(h)),onCellEditComplete:t[38]||(t[38]=h=>s.onCellEditComplete(h)),onCellEditCancel:t[39]||(t[39]=h=>s.onCellEditCancel(h)),onRowEditInit:t[40]||(t[40]=h=>s.onRowEditInit(h)),onRowEditSave:t[41]||(t[41]=h=>s.onRowEditSave(h)),onRowEditCancel:t[42]||(t[42]=h=>s.onRowEditCancel(h)),editingMeta:r.d_editingMeta,onEditingMetaChange:s.onEditingMetaChange},null,8,["value","class","columns","empty","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowKeys","expandedRowGroups","editingRows","editingRowKeys","templates","responsiveLayout","virtualScrollerContentProps","isVirtualScrollerDisabled","onRowgroupToggle","onRowTouchend","onRowKeydown","onRowMousedown","editingMeta","onEditingMetaChange"]),he(a,{columnGroup:s.footerColumnGroup,columns:u.columns},null,8,["columnGroup","columns"])],16)]),_:1},16,["items","columns","style","disabled"])],4),e.$slots.footer?(x(),I("div",U_,[Pe(e.$slots,"footer")])):$("",!0),s.paginatorBottom?(x(),le(o,{key:4,rows:r.d_rows,first:r.d_first,totalRecords:s.totalRecordsLength,pageLinkSize:n.pageLinkSize,template:n.paginatorTemplate,rowsPerPageOptions:n.rowsPerPageOptions,currentPageReportTemplate:n.currentPageReportTemplate,class:"p-paginator-bottom",onPage:t[43]||(t[43]=u=>s.onPage(u)),alwaysShow:n.alwaysShowPaginator},Oo({_:2},[e.$slots.paginatorstart?{name:"start",fn:ye(()=>[Pe(e.$slots,"paginatorstart")]),key:"0"}:void 0,e.$slots.paginatorend?{name:"end",fn:ye(()=>[Pe(e.$slots,"paginatorend")]),key:"1"}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","alwaysShow"])):$("",!0),j("div",H_,null,512),n.reorderableColumns?(x(),I("span",$_,null,512)):$("",!0),n.reorderableColumns?(x(),I("span",q_,null,512)):$("",!0)],2)}function W_(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var J_=`
.p-datatable {
    position: relative;
}
.p-datatable table {
    border-collapse: collapse;
    min-width: 100%;
    table-layout: fixed;
}
.p-datatable .p-sortable-column {
    cursor: pointer;
    user-select: none;
}
.p-datatable .p-sortable-column .p-column-title,
.p-datatable .p-sortable-column .p-sortable-column-icon,
.p-datatable .p-sortable-column .p-sortable-column-badge {
    vertical-align: middle;
}
.p-datatable .p-sortable-column .p-sortable-column-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}
.p-datatable-responsive-scroll > .p-datatable-wrapper {
    overflow-x: auto;
}
.p-datatable-responsive-scroll > .p-datatable-wrapper > table,
.p-datatable-auto-layout > .p-datatable-wrapper > table {
    table-layout: auto;
}
.p-datatable-hoverable-rows .p-selectable-row {
    cursor: pointer;
}

/* Scrollable */
.p-datatable-scrollable .p-datatable-wrapper {
    position: relative;
    overflow: auto;
}
.p-datatable-scrollable .p-datatable-thead,
.p-datatable-scrollable .p-datatable-tbody,
.p-datatable-scrollable .p-datatable-tfoot {
    display: block;
}
.p-datatable-scrollable .p-datatable-thead > tr,
.p-datatable-scrollable .p-datatable-tbody > tr,
.p-datatable-scrollable .p-datatable-tfoot > tr {
    display: flex;
    flex-wrap: nowrap;
    width: 100%;
}
.p-datatable-scrollable .p-datatable-thead > tr > th,
.p-datatable-scrollable .p-datatable-tbody > tr > td,
.p-datatable-scrollable .p-datatable-tfoot > tr > td {
    display: flex;
    flex: 1 1 0;
    align-items: center;
}
.p-datatable-scrollable .p-datatable-thead {
    position: sticky;
    top: 0;
    z-index: 1;
}
.p-datatable-scrollable .p-datatable-frozen-tbody {
    position: sticky;
    z-index: 1;
}
.p-datatable-scrollable .p-datatable-tfoot {
    position: sticky;
    bottom: 0;
    z-index: 1;
}
.p-datatable-scrollable .p-frozen-column {
    position: sticky;
    background: inherit;
}
.p-datatable-scrollable th.p-frozen-column {
    z-index: 1;
}
.p-datatable-scrollable-both .p-datatable-thead > tr > th,
.p-datatable-scrollable-both .p-datatable-tbody > tr > td,
.p-datatable-scrollable-both .p-datatable-tfoot > tr > td,
.p-datatable-scrollable-horizontal .p-datatable-thead > tr > th .p-datatable-scrollable-horizontal .p-datatable-tbody > tr > td,
.p-datatable-scrollable-horizontal .p-datatable-tfoot > tr > td {
    flex: 1 0 auto;
}
.p-datatable-flex-scrollable {
    display: flex;
    flex-direction: column;
    height: 100%;
}
.p-datatable-flex-scrollable .p-datatable-wrapper {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}
.p-datatable-scrollable .p-rowgroup-header {
    position: sticky;
    z-index: 1;
}
.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead,
.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot {
    display: table;
    border-collapse: collapse;
    width: 100%;
    table-layout: fixed;
}
.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead > tr,
.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot > tr {
    display: table-row;
}
.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead > tr > th,
.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot > tr > td {
    display: table-cell;
}
.p-datatable-scrollable .p-virtualscroller > .p-datatable-table {
    display: inline-block; /* For Safari */
}

/* Resizable */
.p-datatable-resizable > .p-datatable-wrapper {
    overflow-x: auto;
}
.p-datatable-resizable .p-datatable-thead > tr > th,
.p-datatable-resizable .p-datatable-tfoot > tr > td,
.p-datatable-resizable .p-datatable-tbody > tr > td {
    overflow: hidden;
    white-space: nowrap;
}
.p-datatable-resizable .p-resizable-column:not(.p-frozen-column) {
    background-clip: padding-box;
    position: relative;
}
.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer {
    display: none;
}
.p-datatable .p-column-resizer {
    display: block;
    position: absolute !important;
    top: 0;
    right: 0;
    margin: 0;
    width: 0.5rem;
    height: 100%;
    padding: 0px;
    cursor: col-resize;
    border: 1px solid transparent;
}
.p-datatable .p-column-header-content {
    display: flex;
    align-items: center;
}
.p-datatable .p-column-resizer-helper {
    width: 1px;
    position: absolute;
    z-index: 10;
    display: none;
}
.p-datatable .p-row-editor-init,
.p-datatable .p-row-editor-save,
.p-datatable .p-row-editor-cancel {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

/* Expand */
.p-datatable .p-row-toggler {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

/* Reorder */
.p-datatable-reorder-indicator-up,
.p-datatable-reorder-indicator-down {
    position: absolute;
    display: none;
}
.p-reorderable-column,
.p-datatable-reorderablerow-handle {
    cursor: move;
}

/* Loader */
.p-datatable .p-datatable-loading-overlay {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

/* Filter */
.p-column-filter-row {
    display: flex;
    align-items: center;
    width: 100%;
}
.p-column-filter-menu {
    display: inline-flex;
    margin-left: auto;
}
.p-column-filter-row .p-column-filter-element {
    flex: 1 1 auto;
    width: 1%;
}
.p-column-filter-menu-button,
.p-column-filter-clear-button {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
.p-column-filter-overlay {
    position: absolute;
    top: 0;
    left: 0;
}
.p-column-filter-row-items {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-column-filter-row-item {
    cursor: pointer;
}
.p-column-filter-add-button,
.p-column-filter-remove-button {
    justify-content: center;
}
.p-column-filter-add-button .p-button-label,
.p-column-filter-remove-button .p-button-label {
    flex-grow: 0;
}
.p-column-filter-buttonbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.p-column-filter-buttonbar .p-button:not(.p-button-icon-only) {
    width: auto;
}

/* Responsive */
.p-datatable .p-datatable-tbody > tr > td > .p-column-title {
    display: none;
}

/* VirtualScroller */
.p-datatable .p-virtualscroller-loading {
    transform: none !important;
    min-height: 0;
    position: sticky;
    top: 0;
    left: 0;
}
`;W_(J_);ol.render=G_;var Mh={name:"ContextMenuSub",emits:["item-click","item-mouseenter"],props:{items:{type:Array,default:null},menuId:{type:String,default:null},focusedItemId:{type:String,default:null},root:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},level:{type:Number,default:0},template:{type:Function,default:null},exact:{type:Boolean,default:!0},activeItemPath:{type:Object,default:null}},methods:{getItemId(e){return`${this.menuId}_${e.key}`},getItemKey(e){return this.getItemId(e)},getItemProp(e,t,n){return e&&e.item?V.getItemValue(e.item[t],n):void 0},getItemLabel(e){return this.getItemProp(e,"label")},isItemActive(e){return this.activeItemPath.some(t=>t.key===e.key)},isItemVisible(e){return this.getItemProp(e,"visible")!==!1},isItemDisabled(e){return this.getItemProp(e,"disabled")},isItemFocused(e){return this.focusedItemId===this.getItemId(e)},isItemGroup(e){return V.isNotEmpty(e.items)},onItemClick(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.$emit("item-click",{originalEvent:e,processedItem:t,isFocus:!0})},onItemMouseEnter(e,t){this.$emit("item-mouseenter",{originalEvent:e,processedItem:t})},onItemActionClick(e,t){t&&t(e)},getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length},getAriaPosInset(e){return e-this.items.slice(0,e).filter(t=>this.isItemVisible(t)&&this.getItemProp(t,"separator")).length+1},onEnter(){this.position()},position(){const e=this.$refs.container.parentElement,t=E.getOffset(this.$refs.container.parentElement),n=E.getViewport(),i=this.$refs.container.offsetParent?this.$refs.container.offsetWidth:E.getHiddenElementOuterWidth(this.$refs.container),r=E.getOuterWidth(e.children[0]);this.$refs.container.style.top="0px",parseInt(t.left,10)+r+i>n.width-E.calculateScrollbarWidth()?this.$refs.container.style.left=-1*i+"px":this.$refs.container.style.left=r+"px"},getItemClass(e){return["p-menuitem",this.getItemProp(e,"class"),{"p-menuitem-active p-highlight":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)}]},getItemActionClass(e,t){return["p-menuitem-link",{"router-link-active":t&&t.isActive,"router-link-active-exact":this.exact&&t&&t.isExactActive}]},getItemIconClass(e){return["p-menuitem-icon",this.getItemProp(e,"icon")]},getSeparatorItemClass(e){return["p-menuitem-separator",this.getItemProp(e,"class")]}},directives:{ripple:Yt}};const Y_={key:0,ref:"container"},X_=["id","aria-label","aria-disabled","aria-expanded","aria-haspopup","aria-level","aria-setsize","aria-posinset"],Z_=["onClick","onMouseenter"],Q_=["href","onClick"],eC={class:"p-menuitem-text"},tC=["href","target"],nC={class:"p-menuitem-text"},iC={key:1,class:"p-submenu-icon pi pi-angle-right"},sC=["id"];function rC(e,t,n,i,r,s){const o=_e("router-link"),l=_e("ContextMenuSub",!0),c=Et("ripple");return x(),le(Hn,{name:"p-contextmenusub",onEnter:s.onEnter},{default:ye(()=>[n.root||n.visible?(x(),I("ul",Y_,[(x(!0),I(me,null,lt(n.items,(a,d)=>(x(),I(me,{key:s.getItemKey(a)},[s.isItemVisible(a)&&!s.getItemProp(a,"separator")?(x(),I("li",{key:0,id:s.getItemId(a),style:qe(s.getItemProp(a,"style")),class:ie(s.getItemClass(a)),role:"menuitem","aria-label":s.getItemLabel(a),"aria-disabled":s.isItemDisabled(a)||void 0,"aria-expanded":s.isItemGroup(a)?s.isItemActive(a):void 0,"aria-haspopup":s.isItemGroup(a)&&!s.getItemProp(a,"to")?"menu":void 0,"aria-level":n.level+1,"aria-setsize":s.getAriaSetSize(),"aria-posinset":s.getAriaPosInset(d)},[j("div",{class:"p-menuitem-content",onClick:u=>s.onItemClick(u,a),onMouseenter:u=>s.onItemMouseEnter(u,a)},[n.template?(x(),le(ut(n.template),{key:1,item:a.item},null,8,["item"])):(x(),I(me,{key:0},[s.getItemProp(a,"to")&&!s.isItemDisabled(a)?(x(),le(o,{key:0,to:s.getItemProp(a,"to"),custom:""},{default:ye(({navigate:u,href:h,isActive:f,isExactActive:v})=>[ot((x(),I("a",{href:h,class:ie(s.getItemActionClass(a,{isActive:f,isExactActive:v})),tabindex:"-1","aria-hidden":"true",onClick:k=>s.onItemActionClick(k,u)},[s.getItemProp(a,"icon")?(x(),I("span",{key:0,class:ie(s.getItemIconClass(a))},null,2)):$("",!0),j("span",eC,Me(s.getItemLabel(a)),1)],10,Q_)),[[c]])]),_:2},1032,["to"])):ot((x(),I("a",{key:1,href:s.getItemProp(a,"url"),class:ie(s.getItemActionClass(a)),target:s.getItemProp(a,"target"),tabindex:"-1","aria-hidden":"true"},[s.getItemProp(a,"icon")?(x(),I("span",{key:0,class:ie(s.getItemIconClass(a))},null,2)):$("",!0),j("span",nC,Me(s.getItemLabel(a)),1),s.getItemProp(a,"items")?(x(),I("span",iC)):$("",!0)],10,tC)),[[c]])],64))],40,Z_),s.isItemVisible(a)&&s.isItemGroup(a)?(x(),le(l,{key:0,id:s.getItemId(a)+"_list",role:"menu",class:"p-submenu-list",menuId:n.menuId,focusedItemId:n.focusedItemId,items:a.items,template:n.template,activeItemPath:n.activeItemPath,exact:n.exact,level:n.level+1,visible:s.isItemActive(a)&&s.isItemGroup(a),onItemClick:t[0]||(t[0]=u=>e.$emit("item-click",u)),onItemMouseenter:t[1]||(t[1]=u=>e.$emit("item-mouseenter",u))},null,8,["id","menuId","focusedItemId","items","template","activeItemPath","exact","level","visible"])):$("",!0)],14,X_)):$("",!0),s.isItemVisible(a)&&s.getItemProp(a,"separator")?(x(),I("li",{key:1,id:s.getItemId(a),style:qe(s.getItemProp(a,"style")),class:ie(s.getSeparatorItemClass(a)),role:"separator"},null,14,sC)):$("",!0)],64))),128))],512)):$("",!0)]),_:1},8,["onEnter"])}Mh.render=rC;var Fh={name:"ContextMenu",inheritAttrs:!1,emits:["focus","blur","show","hide"],props:{model:{type:Array,default:null},appendTo:{type:String,default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},global:{type:Boolean,default:!1},exact:{type:Boolean,default:!0},tabindex:{type:Number,default:0},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},target:null,outsideClickListener:null,resizeListener:null,documentContextMenuListener:null,pageX:null,pageY:null,container:null,list:null,data(){return{id:this.$attrs.id,focused:!1,focusedItemInfo:{index:-1,level:0,parentKey:""},activeItemPath:[],visible:!1,submenuVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||Kt()},activeItemPath(e){V.isNotEmpty(e)?(this.bindOutsideClickListener(),this.bindResizeListener(),this.bindDocumentContextMenuListener()):this.visible||(this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindDocumentContextMenuListener())}},beforeUnmount(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.unbindDocumentContextMenuListener(),this.container&&this.autoZIndex&&rt.clear(this.container),this.target=null,this.container=null},mounted(){this.id=this.id||Kt(),this.global&&this.bindDocumentContextMenuListener()},methods:{getItemProp(e,t){return e?V.getItemValue(e[t]):void 0},getItemLabel(e){return this.getItemProp(e,"label")},isItemDisabled(e){return this.getItemProp(e,"disabled")},isItemGroup(e){return V.isNotEmpty(this.getItemProp(e,"items"))},isItemSeparator(e){return this.getItemProp(e,"separator")},getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0},isProccessedItemGroup(e){return e&&V.isNotEmpty(e.items)},toggle(e){this.visible?this.hide():this.show(e)},show(e){this.activeItemPath=[],this.focusedItemInfo={index:-1,level:0,parentKey:""},E.focus(this.list),this.pageX=e.pageX,this.pageY=e.pageY,this.visible?this.position():this.visible=!0,e.stopPropagation(),e.preventDefault()},hide(){this.visible=!1,this.activeItemPath=[],this.focusedItemInfo={index:-1,level:0,parentKey:""}},onFocus(e){this.focused=!0,this.focusedItemInfo=this.focusedItemInfo.index!==-1?this.focusedItemInfo:{index:-1,level:0,parentKey:""},this.$emit("focus",e)},onBlur(e){this.focused=!1,this.focusedItemInfo={index:-1,level:0,parentKey:""},this.searchValue="",this.$emit("blur",e)},onKeyDown(e){const t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&V.isPrintableCharacter(e.key)&&this.searchItems(e,e.key);break}},onItemChange(e){const{processedItem:t,isFocus:n}=e;if(V.isEmpty(t))return;const{index:i,key:r,level:s,parentKey:o,items:l}=t,c=V.isNotEmpty(l),a=this.activeItemPath.filter(d=>d.parentKey!==o&&d.parentKey!==r);c&&(a.push(t),this.submenuVisible=!0),this.focusedItemInfo={index:i,level:s,parentKey:o},this.activeItemPath=a,n&&E.focus(this.list)},onItemClick(e){const{processedItem:t}=e,n=this.isProccessedItemGroup(t);if(this.isSelected(t)){const{index:r,key:s,level:o,parentKey:l}=t;this.activeItemPath=this.activeItemPath.filter(c=>s!==c.key&&s.startsWith(c.key)),this.focusedItemInfo={index:r,level:o,parentKey:l},E.focus(this.list)}else n?this.onItemChange(e):this.hide()},onItemMouseEnter(e){this.onItemChange(e)},onArrowDownKey(e){const t=this.focusedItemInfo.index!==-1?this.findNextItemIndex(this.focusedItemInfo.index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()},onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo.index!==-1){const t=this.visibleItems[this.focusedItemInfo.index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.popup&&this.hide(),e.preventDefault()}else{const t=this.focusedItemInfo.index!==-1?this.findPrevItemIndex(this.focusedItemInfo.index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}},onArrowLeftKey(e){const t=this.visibleItems[this.focusedItemInfo.index],n=this.activeItemPath.find(r=>r.key===t.parentKey);V.isEmpty(t.parent)||(this.focusedItemInfo={index:-1,parentKey:n?n.parentKey:""},this.searchValue="",this.onArrowDownKey(e)),this.activeItemPath=this.activeItemPath.filter(r=>r.parentKey!==this.focusedItemInfo.parentKey),e.preventDefault()},onArrowRightKey(e){const t=this.visibleItems[this.focusedItemInfo.index];this.isProccessedItemGroup(t)&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo={index:-1,parentKey:t.key},this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()},onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()},onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()},onEnterKey(e){if(this.focusedItemInfo.index!==-1){const t=E.findSingle(this.list,`li[id="${`${this.focusedItemId}`}"]`),n=t&&E.findSingle(t,".p-menuitem-link");n?n.click():t&&t.click();const i=this.visibleItems[this.focusedItemInfo.index];!this.isProccessedItemGroup(i)&&(this.focusedItemInfo.index=this.findFirstFocusedItemIndex())}e.preventDefault()},onSpaceKey(e){this.onEnterKey(e)},onEscapeKey(e){this.hide(),!this.popup&&(this.focusedItemInfo.index=this.findFirstFocusedItemIndex()),e.preventDefault()},onTabKey(e){if(this.focusedItemInfo.index!==-1){const t=this.visibleItems[this.focusedItemInfo.index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()},onEnter(e){this.position(),this.autoZIndex&&rt.set("menu",e,this.baseZIndex+this.$primevue.config.zIndex.menu)},onAfterEnter(){this.bindOutsideClickListener(),this.bindResizeListener(),this.bindDocumentContextMenuListener(),this.$emit("show"),E.focus(this.list)},onLeave(){this.$emit("hide"),this.container=null},onAfterLeave(e){this.autoZIndex&&rt.clear(e),this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindDocumentContextMenuListener()},position(){let e=this.pageX+1,t=this.pageY+1,n=this.container.offsetParent?this.container.offsetWidth:E.getHiddenElementOuterWidth(this.container),i=this.container.offsetParent?this.container.offsetHeight:E.getHiddenElementOuterHeight(this.container),r=E.getViewport();e+n-document.body.scrollLeft>r.width&&(e-=n),t+i-document.body.scrollTop>r.height&&(t-=i),e<document.body.scrollLeft&&(e=document.body.scrollLeft),t<document.body.scrollTop&&(t=document.body.scrollTop),this.container.style.left=e+"px",this.container.style.top=t+"px"},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{const t=this.container&&!this.container.contains(e.target),n=this.visible?!(this.target&&(this.target===e.target||this.target.contains(e.target))):!0;t&&n&&this.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.visible&&!E.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindDocumentContextMenuListener(){this.documentContextMenuListener||(this.documentContextMenuListener=e=>{e.button!==2?this.show(e):this.hide()},document.addEventListener("contextmenu",this.documentContextMenuListener))},unbindDocumentContextMenuListener(){this.documentContextMenuListener&&(document.removeEventListener("contextmenu",this.documentContextMenuListener),this.documentContextMenuListener=null)},isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())},isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)},isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)},isSelected(e){return this.activeItemPath.some(t=>t.key===e.key)},findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))},findLastItemIndex(){return V.findLastIndex(this.visibleItems,e=>this.isValidItem(e))},findNextItemIndex(e){const t=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(n=>this.isValidItem(n)):-1;return t>-1?t+e+1:e},findPrevItemIndex(e){const t=e>0?V.findLastIndex(this.visibleItems.slice(0,e),n=>this.isValidItem(n)):-1;return t>-1?t:e},findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))},findFirstFocusedItemIndex(){const e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e},findLastFocusedItemIndex(){const e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e},searchItems(e,t){this.searchValue=(this.searchValue||"")+t;let n=-1,i=!1;return this.focusedItemInfo.index!==-1?(n=this.visibleItems.slice(this.focusedItemInfo.index).findIndex(r=>this.isItemMatched(r)),n=n===-1?this.visibleItems.slice(0,this.focusedItemInfo.index).findIndex(r=>this.isItemMatched(r)):n+this.focusedItemInfo.index):n=this.visibleItems.findIndex(r=>this.isItemMatched(r)),n!==-1&&(i=!0),n===-1&&this.focusedItemInfo.index===-1&&(n=this.findFirstFocusedItemIndex()),n!==-1&&this.changeFocusedItemIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),i},changeFocusedItemIndex(e,t){this.focusedItemInfo.index!==t&&(this.focusedItemInfo.index=t,this.scrollInView())},scrollInView(e=-1){const t=e!==-1?`${this.id}_${e}`:this.focusedItemId,n=E.findSingle(this.list,`li[id="${t}"]`);n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"start"})},createProcessedItems(e,t=0,n={},i=""){const r=[];return e&&e.forEach((s,o)=>{const l=(i!==""?i+"_":"")+o,c={item:s,index:o,level:t,key:l,parent:n,parentKey:i};c.items=this.createProcessedItems(s.items,t+1,c,l),r.push(c)}),r},containerRef(e){this.container=e},listRef(e){this.list=e?e.$el:void 0}},computed:{containerClass(){return["p-contextmenu p-component",{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},processedItems(){return this.createProcessedItems(this.model||[])},visibleItems(){const e=this.activeItemPath.find(t=>t.key===this.focusedItemInfo.parentKey);return e?e.items:this.processedItems},focusedItemId(){return this.focusedItemInfo.index!==-1?`${this.id}${V.isNotEmpty(this.focusedItemInfo.parentKey)?"_"+this.focusedItemInfo.parentKey:""}_${this.focusedItemInfo.index}`:null}},components:{ContextMenuSub:Mh,Portal:fi}};function oC(e,t,n,i,r,s){const o=_e("ContextMenuSub"),l=_e("Portal");return x(),le(l,{appendTo:n.appendTo},{default:ye(()=>[he(Hn,{name:"p-contextmenu",onEnter:s.onEnter,onAfterEnter:s.onAfterEnter,onLeave:s.onLeave,onAfterLeave:s.onAfterLeave},{default:ye(()=>[r.visible?(x(),I("div",Je({key:0,ref:s.containerRef,class:s.containerClass},e.$attrs),[he(o,{ref:s.listRef,id:r.id+"_list",class:"p-contextmenu-root-list",role:"menubar",root:!0,tabindex:n.tabindex,"aria-orientation":"vertical","aria-activedescendant":r.focused?s.focusedItemId:void 0,menuId:r.id,focusedItemId:r.focused?s.focusedItemId:void 0,items:s.processedItems,template:e.$slots.item,activeItemPath:r.activeItemPath,exact:n.exact,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,level:0,visible:r.submenuVisible,onFocus:s.onFocus,onBlur:s.onBlur,onKeydown:s.onKeyDown,onItemClick:s.onItemClick,onItemMouseenter:s.onItemMouseEnter},null,8,["id","tabindex","aria-activedescendant","menuId","focusedItemId","items","template","activeItemPath","exact","aria-labelledby","aria-label","visible","onFocus","onBlur","onKeydown","onItemClick","onItemMouseenter"])],16)):$("",!0)]),_:1},8,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]),_:1},8,["appendTo"])}function lC(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var aC=`
.p-contextmenu {
    position: absolute;
}
.p-contextmenu ul {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-contextmenu .p-submenu-list {
    position: absolute;
    min-width: 100%;
    z-index: 1;
}
.p-contextmenu .p-menuitem-link {
    cursor: pointer;
    display: flex;
    align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
.p-contextmenu .p-menuitem-text {
    line-height: 1;
}
.p-contextmenu .p-menuitem {
    position: relative;
}
.p-contextmenu .p-menuitem-link .p-submenu-icon {
    margin-left: auto;
}
.p-contextmenu-enter-from {
    opacity: 0;
}
.p-contextmenu-enter-active {
    transition: opacity 250ms;
}
`;lC(aC);Fh.render=oC;var ts={name:"Column",props:{columnKey:{type:null,default:null},field:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},filterField:{type:[String,Function],default:null},dataType:{type:String,default:"text"},sortable:{type:Boolean,default:!1},header:{type:null,default:null},footer:{type:null,default:null},style:{type:null,default:null},class:{type:String,default:null},headerStyle:{type:null,default:null},headerClass:{type:String,default:null},bodyStyle:{type:null,default:null},bodyClass:{type:String,default:null},footerStyle:{type:null,default:null},footerClass:{type:String,default:null},showFilterMenu:{type:Boolean,default:!0},showFilterOperator:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},showApplyButton:{type:Boolean,default:!0},showFilterMatchModes:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},filterMatchModeOptions:{type:Array,default:null},maxConstraints:{type:Number,default:2},excludeGlobalFilter:{type:Boolean,default:!1},filterHeaderClass:{type:String,default:null},filterHeaderStyle:{type:null,default:null},filterMenuClass:{type:String,default:null},filterMenuStyle:{type:null,default:null},selectionMode:{type:String,default:null},expander:{type:Boolean,default:!1},colspan:{type:Number,default:null},rowspan:{type:Number,default:null},rowReorder:{type:Boolean,default:!1},rowReorderIcon:{type:String,default:"pi pi-bars"},reorderableColumn:{type:Boolean,default:!0},rowEditor:{type:Boolean,default:!1},frozen:{type:Boolean,default:!1},alignFrozen:{type:String,default:"left"},exportable:{type:Boolean,default:!0},exportHeader:{type:String,default:null},exportFooter:{type:String,default:null},filterMatchMode:{type:String,default:null},hidden:{type:Boolean,default:!1}},render(){return null}},Dh={name:"Skeleton",props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},computed:{containerClass(){return["p-skeleton p-component",{"p-skeleton-circle":this.shape==="circle","p-skeleton-none":this.animation==="none"}]},containerStyle(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function cC(e,t,n,i,r,s){return x(),I("div",{style:qe(s.containerStyle),class:ie(s.containerClass),"aria-hidden":"true"},null,6)}function uC(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var dC=`
.p-skeleton {
    position: relative;
    overflow: hidden;
}
.p-skeleton::after {
    content: '';
    animation: p-skeleton-animation 1.2s infinite;
    height: 100%;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    transform: translateX(-100%);
    z-index: 1;
}
.p-skeleton.p-skeleton-circle {
    border-radius: 50%;
}
.p-skeleton-none::after {
    animation: none;
}
@keyframes p-skeleton-animation {
from {
        transform: translateX(-100%);
}
to {
        transform: translateX(100%);
}
}
`;uC(dC);Dh.render=cC;const pi=e=>(Jf("data-v-7e6ee1b2"),e=e(),Yf(),e),hC={class:"grid p-fluid"},fC={class:"col-12 md:col-4 justify-items-start"},pC=pi(()=>j("div",{id:"console-name"},"Default",-1)),mC=pi(()=>j("div",{id:"welcome"},"welcome back",-1)),gC={class:"col-12 md:col-8"},bC={class:"grid"},yC={class:"text-center text-7xl"},wC=pi(()=>j("div",{class:"text-center ev-card-1"},"Intermediate",-1)),xC={class:"text-center text-7xl"},vC=pi(()=>j("div",{class:"text-center ev-card-2"},"Warning",-1)),_C={class:"text-center text-7xl"},CC=pi(()=>j("div",{class:"text-center ev-card-3"},"Major",-1)),SC={class:"text-center text-7xl"},IC=pi(()=>j("div",{class:"text-center ev-card-4"},"Minor",-1)),EC={class:"text-center text-7xl"},kC=pi(()=>j("div",{class:"text-center ev-card-5"},"Critical",-1)),PC={class:"col-12 md:col-6"},RC={class:"col-12 md:col-6"},AC=As({__name:"Dashboard",setup(e){const t=Bg(),n=dh();hh();const i=it(),r=it([{label:"Delete",command:()=>{}}]),s=it(),o=a=>{s.value.show(a.originalEvent)},l=a=>{let d=a.map(u=>({type:"bar",data:[u],backgroundColor:""}));return d[0].backgroundColor="green",d[1].backgroundColor="#2196f3",d[2].backgroundColor="#af50bf",d[3].backgroundColor="#fccc55",d[4].backgroundColor="#f79530",d[5].backgroundColor="#ff6459",console.debug("sevs",a),{labels:[""],datasets:d}},c=it({indexAxis:"y",layout:{padding:0},plugins:{tooltip:{enabled:!0,mode:"nearest",intersect:!0,bodyFont:{size:28},bodySpacing:8},legend:{display:!1}},scales:{x:{stacked:!0,display:!1},y:{stacked:!0}}});return(a,d)=>(x(),le(ge(un),null,{content:ye(()=>[j("div",hC,[j("div",fC,[pC,mC,he(ge(Os),{label:"Open Console",onClick:d[0]||(d[0]=u=>ge(t).push("/console"))})]),j("div",gC,[j("div",bC,[he(ge(un),{class:"col-2"},{content:ye(()=>[j("div",yC,Me(ge(n).summaryBySeverity.sev1),1)]),footer:ye(()=>[wC]),_:1}),he(ge(un),{class:"col-2"},{content:ye(()=>[j("div",xC,Me(ge(n).summaryBySeverity.sev2),1)]),footer:ye(()=>[vC]),_:1}),he(ge(un),{class:"col-2"},{content:ye(()=>[j("div",_C,Me(ge(n).summaryBySeverity.sev3),1)]),footer:ye(()=>[CC]),_:1}),he(ge(un),{class:"col-2"},{content:ye(()=>[j("div",SC,Me(ge(n).summaryBySeverity.sev4),1)]),footer:ye(()=>[IC]),_:1}),he(ge(un),{class:"col-2"},{content:ye(()=>[j("div",EC,Me(ge(n).summaryBySeverity.sev5),1)]),footer:ye(()=>[kC]),_:1})])]),j("div",PC,[ge(n).eventCount>0?(x(),le(ge(un),{key:0},{title:ye(()=>[xt("Event Groups")]),content:ye(()=>[he(ge(ol),{value:ge(n).summaryBarByGroup,scrollable:!0,"scroll-height":"400px"},{default:ye(()=>[he(ge(ts),{field:"group",header:"Group",sortable:!0}),he(ge(ts),{field:"severities",header:"Count",sortable:!0},{body:ye(u=>[he(ge(mh),{type:"bar",height:40,data:l(u.data.severities),options:c.value},null,8,["data","options"])]),_:1}),he(ge(ts),{header:"Total"},{body:ye(u=>[xt(Me(u.data.severities.reduce((h,f)=>h+f,0)),1)]),_:1})]),_:1},8,["value"])]),_:1})):$("",!0)]),j("div",RC,[ge(n).eventCount>0?(x(),le(ge(un),{key:0},{title:ye(()=>[xt("Activity Streams")]),content:ye(()=>[he(ge(Dh),{height:"5rem"})]),_:1})):$("",!0),ge(n).eventCount>0?(x(),le(ge(un),{key:1},{title:ye(()=>[xt("Inventory")]),content:ye(()=>[he(ge(ol),{value:ge(n).lastSeenByNode,scrollable:!0,"scroll-height":"400px","context-menu":"","context-menu-selection":i.value,"onUpdate:contextMenuSelection":d[1]||(d[1]=u=>i.value=u),onRowContextmenu:o},{default:ye(()=>[he(ge(ts),{field:"node",header:"hostname",sortable:!0}),he(ge(ts),{field:"last_seen",header:"Last seen",sortable:!0},{body:ye(u=>[xt(Me(new Date(u.data.last_seen).toISOString()),1)]),_:1})]),_:1},8,["value","context-menu-selection"]),he(ge(Fh),{model:r.value,ref_key:"imm",ref:s},null,8,["model"])]),_:1})):$("",!0)])])]),_:1}))}});const OC=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},TC=OC(AC,[["__scopeId","data-v-7e6ee1b2"]]),LC={class:"mx-8"},MC=As({__name:"DashboardView",setup(e){return(t,n)=>(x(),I("div",LC,[he(TC)]))}}),FC=Fg({history:Zm("/panther-demo"),routes:[{path:"/",name:"Dashboard",component:MC},{path:"/console",name:"Console",component:()=>vn(()=>import("./ConsoleView-0cf653d3.js"),["assets/ConsoleView-0cf653d3.js","assets/splitbutton.esm-a87bc406.js","assets/toolbar.esm-4d0b98ec.js","assets/divider.esm-0572037e.js","assets/ConsoleView-1a592c85.css"])},{path:"/login",name:"login",component:()=>vn(()=>import("./LoginView-21a34542.js"),["assets/LoginView-21a34542.js","assets/LoginView-7e0d4663.css"])},{path:"/rules/global",name:"global",component:()=>vn(()=>import("./GlobalRulesView-cf237770.js"),["assets/GlobalRulesView-cf237770.js","assets/panel.esm-83e15c3a.js","assets/divider.esm-0572037e.js","assets/splitbutton.esm-a87bc406.js","assets/GlobalRulesView-038fa79b.css"])},{path:"/rules/group",name:"group",component:()=>vn(()=>import("./GroupRulesView-df0c500a.js"),["assets/GroupRulesView-df0c500a.js","assets/panel.esm-83e15c3a.js","assets/splitbutton.esm-a87bc406.js","assets/toolbar.esm-4d0b98ec.js","assets/divider.esm-0572037e.js"])},{path:"/rules/import",name:"import",component:()=>vn(()=>import("./ImportRulesView-f970e3a4.js"),[])},{path:"/rules/export",name:"export",component:()=>vn(()=>import("./ExportRulesView-b5c89394.js"),[])},{path:"/api",name:"api",component:()=>vn(()=>import("./ApiView-7175b60d.js"),["assets/ApiView-7175b60d.js","assets/divider.esm-0572037e.js","assets/apikey-3da39bb1.js"])},{path:"/admin",name:"admin",component:()=>vn(()=>import("./AdminView-bdc1e208.js"),["assets/AdminView-bdc1e208.js","assets/apikey-3da39bb1.js"])}]}),Nc={ripple:!1,inputStyle:"outlined",locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}},filterMatchModeOptions:{text:[ht.STARTS_WITH,ht.CONTAINS,ht.NOT_CONTAINS,ht.ENDS_WITH,ht.EQUALS,ht.NOT_EQUALS],numeric:[ht.EQUALS,ht.NOT_EQUALS,ht.LESS_THAN,ht.LESS_THAN_OR_EQUAL_TO,ht.GREATER_THAN,ht.GREATER_THAN_OR_EQUAL_TO],date:[ht.DATE_IS,ht.DATE_IS_NOT,ht.DATE_BEFORE,ht.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}},DC=Symbol();var BC={install:(e,t)=>{let n=t?{...Nc,...t}:{...Nc};const i={config:Vt(n)};e.config.globalProperties.$primevue=i,e.provide(DC,i)}};const Bh=Symbol();function eS(){const e=zt(Bh);if(!e)throw new Error("No PrimeVue Toast provided!");return e}var NC={install:e=>{const t={add:n=>{Cn.emit("add",n)},removeGroup:n=>{Cn.emit("remove-group",n)},removeAllGroups:()=>{Cn.emit("remove-all-groups")}};e.config.globalProperties.$toast=t,e.provide(Bh,t)}};const Nh=Symbol();function tS(){const e=zt(Nh);if(!e)throw new Error("No PrimeVue Dialog provided!");return e}var zc=Dl(),zC={install:e=>{const t={open:(n,i)=>{const r={content:n&&di(n),options:i||{},data:i&&i.data,close:s=>{zc.emit("close",{instance:r,params:s})}};return zc.emit("open",{instance:r}),r}};e.config.unwrapInjectedRef=!0,e.config.globalProperties.$dialog=t,e.provide(Nh,t)}};const Hi=km(Cx);Hi.use(Am());Hi.use(FC);Hi.use(BC,{inputStyle:"outlined"});Hi.use(NC);Hi.use(zC);Hi.mount("#app");export{OC as $,zt as A,tS as B,it as C,E as D,tr as E,Nl as F,Il as G,ge as H,un as I,Os as J,Wd as K,uh as L,YC as M,ht as N,Er as O,Xr as P,pd as Q,Yt as R,mh as S,Hn as T,Kt as U,ts as V,ol as W,Fh as X,Jf as Y,rt as Z,Yf as _,Et as a,Rt as a0,V as a1,qe as a2,Gt as a3,Fl as a4,rn as a5,Xh as a6,et as a7,ft as a8,we as a9,Ur as aa,Dh as ab,ph as ac,fh as ad,eS as ae,hh as af,cs as ag,VC as ah,Cu as ai,Vt as aj,KC as ak,QC as al,zi as am,fd as an,Ff as ao,JC as ap,GC as aq,xd as ar,$C as as,Si as at,HC as au,qC as av,Ze as aw,WC as ax,Bl as ay,I as b,le as c,he as d,ot as e,j as f,Pe as g,$ as h,Ue as i,xt as j,zc as k,lt as l,Je as m,ie as n,x as o,Oo as p,me as q,_e as r,fi as s,Me as t,ut as u,UC as v,ye as w,As as x,vx as y,dh as z};
