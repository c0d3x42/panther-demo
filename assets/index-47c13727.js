var Wd=Object.defineProperty;var Jd=(e,t,n)=>t in e?Wd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var b=(e,t,n)=>(Jd(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function jo(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function $e(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=Qe(i)?Qd(i):$e(i);if(r)for(const s in r)t[s]=r[s]}return t}else{if(Qe(e))return e;if(qe(e))return e}}const Yd=/;(?![^(]*\))/g,Zd=/:([^]+)/,Xd=/\/\*.*?\*\//gs;function Qd(e){const t={};return e.replace(Xd,"").split(Yd).forEach(n=>{if(n){const i=n.split(Zd);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ee(e){let t="";if(Qe(e))t=e;else if(ye(e))for(let n=0;n<e.length;n++){const i=ee(e[n]);i&&(t+=i+" ")}else if(qe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const eh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",th=jo(eh);function cc(e){return!!e||e===""}const Le=e=>Qe(e)?e:e==null?"":ye(e)||qe(e)&&(e.toString===fc||!Ie(e.toString))?JSON.stringify(e,uc,2):String(e),uc=(e,t)=>t&&t.__v_isRef?uc(e,t.value):Ci(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:dc(t)?{[`Set(${t.size})`]:[...t.values()]}:qe(t)&&!ye(t)&&!pc(t)?String(t):t,Ge={},_i=[],Qt=()=>{},nh=()=>!1,ih=/^on[^a-z]/,dr=e=>ih.test(e),Ko=e=>e.startsWith("onUpdate:"),dt=Object.assign,Vo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},sh=Object.prototype.hasOwnProperty,Oe=(e,t)=>sh.call(e,t),ye=Array.isArray,Ci=e=>hr(e)==="[object Map]",dc=e=>hr(e)==="[object Set]",Ie=e=>typeof e=="function",Qe=e=>typeof e=="string",Ho=e=>typeof e=="symbol",qe=e=>e!==null&&typeof e=="object",hc=e=>qe(e)&&Ie(e.then)&&Ie(e.catch),fc=Object.prototype.toString,hr=e=>fc.call(e),rh=e=>hr(e).slice(8,-1),pc=e=>hr(e)==="[object Object]",Uo=e=>Qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Hs=jo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},oh=/-(\w)/g,dn=fr(e=>e.replace(oh,(t,n)=>n?n.toUpperCase():"")),lh=/\B([A-Z])/g,ri=fr(e=>e.replace(lh,"-$1").toLowerCase()),pr=fr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Us=fr(e=>e?`on${pr(e)}`:""),ls=(e,t)=>!Object.is(e,t),$s=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Js=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},co=e=>{const t=parseFloat(e);return isNaN(t)?e:t},ah=e=>{const t=Qe(e)?Number(e):NaN;return isNaN(t)?e:t};let Ol;const ch=()=>Ol||(Ol=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Lt;class mc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Lt,!t&&Lt&&(this.index=(Lt.scopes||(Lt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Lt;try{return Lt=this,t()}finally{Lt=n}}}on(){Lt=this}off(){Lt=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function $o(e){return new mc(e)}function uh(e,t=Lt){t&&t.active&&t.effects.push(e)}function Go(){return Lt}function gc(e){Lt&&Lt.cleanups.push(e)}const qo=e=>{const t=new Set(e);return t.w=0,t.n=0,t},bc=e=>(e.w&Dn)>0,yc=e=>(e.n&Dn)>0,dh=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Dn},hh=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];bc(r)&&!yc(r)?r.delete(e):t[n++]=r,r.w&=~Dn,r.n&=~Dn}t.length=n}},Ys=new WeakMap;let Wi=0,Dn=1;const uo=30;let Jt;const ti=Symbol(""),ho=Symbol("");class Wo{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,uh(this,i)}run(){if(!this.active)return this.fn();let t=Jt,n=An;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Jt,Jt=this,An=!0,Dn=1<<++Wi,Wi<=uo?dh(this):Ml(this),this.fn()}finally{Wi<=uo&&hh(this),Dn=1<<--Wi,Jt=this.parent,An=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Jt===this?this.deferStop=!0:this.active&&(Ml(this),this.onStop&&this.onStop(),this.active=!1)}}function Ml(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let An=!0;const wc=[];function Fi(){wc.push(An),An=!1}function Di(){const e=wc.pop();An=e===void 0?!0:e}function Pt(e,t,n){if(An&&Jt){let i=Ys.get(e);i||Ys.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=qo()),xc(r)}}function xc(e,t){let n=!1;Wi<=uo?yc(e)||(e.n|=Dn,n=!bc(e)):n=!e.has(Jt),n&&(e.add(Jt),Jt.deps.push(e))}function yn(e,t,n,i,r,s){const o=Ys.get(e);if(!o)return;let l=[];if(t==="clear")l=[...o.values()];else if(n==="length"&&ye(e)){const c=Number(i);o.forEach((a,d)=>{(d==="length"||d>=c)&&l.push(a)})}else switch(n!==void 0&&l.push(o.get(n)),t){case"add":ye(e)?Uo(n)&&l.push(o.get("length")):(l.push(o.get(ti)),Ci(e)&&l.push(o.get(ho)));break;case"delete":ye(e)||(l.push(o.get(ti)),Ci(e)&&l.push(o.get(ho)));break;case"set":Ci(e)&&l.push(o.get(ti));break}if(l.length===1)l[0]&&fo(l[0]);else{const c=[];for(const a of l)a&&c.push(...a);fo(qo(c))}}function fo(e,t){const n=ye(e)?e:[...e];for(const i of n)i.computed&&Ll(i);for(const i of n)i.computed||Ll(i)}function Ll(e,t){(e!==Jt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function fh(e,t){var n;return(n=Ys.get(e))===null||n===void 0?void 0:n.get(t)}const ph=jo("__proto__,__v_isRef,__isVue"),vc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ho)),mh=Jo(),gh=Jo(!1,!0),bh=Jo(!0),Tl=yh();function yh(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Ae(this);for(let s=0,o=this.length;s<o;s++)Pt(i,"get",s+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(Ae)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Fi();const i=Ae(this)[t].apply(this,n);return Di(),i}}),e}function wh(e){const t=Ae(this);return Pt(t,"has",e),t.hasOwnProperty(e)}function Jo(e=!1,t=!1){return function(i,r,s){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&s===(e?t?Fh:Ec:t?Sc:Ic).get(i))return i;const o=ye(i);if(!e){if(o&&Oe(Tl,r))return Reflect.get(Tl,r,s);if(r==="hasOwnProperty")return wh}const l=Reflect.get(i,r,s);return(Ho(r)?vc.has(r):ph(r))||(e||Pt(i,"get",r),t)?l:Ze(l)?o&&Uo(r)?l:l.value:qe(l)?e?Xo(l):Nt(l):l}}const xh=_c(),vh=_c(!0);function _c(e=!1){return function(n,i,r,s){let o=n[i];if(Pi(o)&&Ze(o)&&!Ze(r))return!1;if(!e&&(!Zs(r)&&!Pi(r)&&(o=Ae(o),r=Ae(r)),!ye(n)&&Ze(o)&&!Ze(r)))return o.value=r,!0;const l=ye(n)&&Uo(i)?Number(i)<n.length:Oe(n,i),c=Reflect.set(n,i,r,s);return n===Ae(s)&&(l?ls(r,o)&&yn(n,"set",i,r):yn(n,"add",i,r)),c}}function _h(e,t){const n=Oe(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&yn(e,"delete",t,void 0),i}function Ch(e,t){const n=Reflect.has(e,t);return(!Ho(t)||!vc.has(t))&&Pt(e,"has",t),n}function Ih(e){return Pt(e,"iterate",ye(e)?"length":ti),Reflect.ownKeys(e)}const Cc={get:mh,set:xh,deleteProperty:_h,has:Ch,ownKeys:Ih},Sh={get:bh,set(e,t){return!0},deleteProperty(e,t){return!0}},Eh=dt({},Cc,{get:gh,set:vh}),Yo=e=>e,mr=e=>Reflect.getPrototypeOf(e);function Ps(e,t,n=!1,i=!1){e=e.__v_raw;const r=Ae(e),s=Ae(t);n||(t!==s&&Pt(r,"get",t),Pt(r,"get",s));const{has:o}=mr(r),l=i?Yo:n?el:as;if(o.call(r,t))return l(e.get(t));if(o.call(r,s))return l(e.get(s));e!==r&&e.get(t)}function Rs(e,t=!1){const n=this.__v_raw,i=Ae(n),r=Ae(e);return t||(e!==r&&Pt(i,"has",e),Pt(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function As(e,t=!1){return e=e.__v_raw,!t&&Pt(Ae(e),"iterate",ti),Reflect.get(e,"size",e)}function Fl(e){e=Ae(e);const t=Ae(this);return mr(t).has.call(t,e)||(t.add(e),yn(t,"add",e,e)),this}function Dl(e,t){t=Ae(t);const n=Ae(this),{has:i,get:r}=mr(n);let s=i.call(n,e);s||(e=Ae(e),s=i.call(n,e));const o=r.call(n,e);return n.set(e,t),s?ls(t,o)&&yn(n,"set",e,t):yn(n,"add",e,t),this}function Bl(e){const t=Ae(this),{has:n,get:i}=mr(t);let r=n.call(t,e);r||(e=Ae(e),r=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return r&&yn(t,"delete",e,void 0),s}function Nl(){const e=Ae(this),t=e.size!==0,n=e.clear();return t&&yn(e,"clear",void 0,void 0),n}function Os(e,t){return function(i,r){const s=this,o=s.__v_raw,l=Ae(o),c=t?Yo:e?el:as;return!e&&Pt(l,"iterate",ti),o.forEach((a,d)=>i.call(r,c(a),c(d),s))}}function Ms(e,t,n){return function(...i){const r=this.__v_raw,s=Ae(r),o=Ci(s),l=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,a=r[e](...i),d=n?Yo:t?el:as;return!t&&Pt(s,"iterate",c?ho:ti),{next(){const{value:u,done:h}=a.next();return h?{value:u,done:h}:{value:l?[d(u[0]),d(u[1])]:d(u),done:h}},[Symbol.iterator](){return this}}}}function _n(e){return function(...t){return e==="delete"?!1:this}}function kh(){const e={get(s){return Ps(this,s)},get size(){return As(this)},has:Rs,add:Fl,set:Dl,delete:Bl,clear:Nl,forEach:Os(!1,!1)},t={get(s){return Ps(this,s,!1,!0)},get size(){return As(this)},has:Rs,add:Fl,set:Dl,delete:Bl,clear:Nl,forEach:Os(!1,!0)},n={get(s){return Ps(this,s,!0)},get size(){return As(this,!0)},has(s){return Rs.call(this,s,!0)},add:_n("add"),set:_n("set"),delete:_n("delete"),clear:_n("clear"),forEach:Os(!0,!1)},i={get(s){return Ps(this,s,!0,!0)},get size(){return As(this,!0)},has(s){return Rs.call(this,s,!0)},add:_n("add"),set:_n("set"),delete:_n("delete"),clear:_n("clear"),forEach:Os(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Ms(s,!1,!1),n[s]=Ms(s,!0,!1),t[s]=Ms(s,!1,!0),i[s]=Ms(s,!0,!0)}),[e,n,t,i]}const[Ph,Rh,Ah,Oh]=kh();function Zo(e,t){const n=t?e?Oh:Ah:e?Rh:Ph;return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Oe(n,r)&&r in i?n:i,r,s)}const Mh={get:Zo(!1,!1)},Lh={get:Zo(!1,!0)},Th={get:Zo(!0,!1)},Ic=new WeakMap,Sc=new WeakMap,Ec=new WeakMap,Fh=new WeakMap;function Dh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bh(e){return e.__v_skip||!Object.isExtensible(e)?0:Dh(rh(e))}function Nt(e){return Pi(e)?e:Qo(e,!1,Cc,Mh,Ic)}function Nh(e){return Qo(e,!1,Eh,Lh,Sc)}function Xo(e){return Qo(e,!0,Sh,Th,Ec)}function Qo(e,t,n,i,r){if(!qe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const o=Bh(e);if(o===0)return e;const l=new Proxy(e,o===2?i:n);return r.set(e,l),l}function On(e){return Pi(e)?On(e.__v_raw):!!(e&&e.__v_isReactive)}function Pi(e){return!!(e&&e.__v_isReadonly)}function Zs(e){return!!(e&&e.__v_isShallow)}function kc(e){return On(e)||Pi(e)}function Ae(e){const t=e&&e.__v_raw;return t?Ae(t):e}function si(e){return Js(e,"__v_skip",!0),e}const as=e=>qe(e)?Nt(e):e,el=e=>qe(e)?Xo(e):e;function Pc(e){An&&Jt&&(e=Ae(e),xc(e.dep||(e.dep=qo())))}function Rc(e,t){e=Ae(e);const n=e.dep;n&&fo(n)}function Ze(e){return!!(e&&e.__v_isRef===!0)}function ut(e){return Ac(e,!1)}function zh(e){return Ac(e,!0)}function Ac(e,t){return Ze(e)?e:new jh(e,t)}class jh{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ae(t),this._value=n?t:as(t)}get value(){return Pc(this),this._value}set value(t){const n=this.__v_isShallow||Zs(t)||Pi(t);t=n?t:Ae(t),ls(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:as(t),Rc(this))}}function me(e){return Ze(e)?e.value:e}const Kh={get:(e,t,n)=>me(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Ze(r)&&!Ze(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Oc(e){return On(e)?e:new Proxy(e,Kh)}function Vh(e){const t=ye(e)?new Array(e.length):{};for(const n in e)t[n]=Uh(e,n);return t}class Hh{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return fh(Ae(this._object),this._key)}}function Uh(e,t,n){const i=e[t];return Ze(i)?i:new Hh(e,t,n)}var Mc;class $h{constructor(t,n,i,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Mc]=!1,this._dirty=!0,this.effect=new Wo(t,()=>{this._dirty||(this._dirty=!0,Rc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const t=Ae(this);return Pc(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Mc="__v_isReadonly";function Gh(e,t,n=!1){let i,r;const s=Ie(e);return s?(i=e,r=Qt):(i=e.get,r=e.set),new $h(i,r,s||!r,n)}function Mn(e,t,n,i){let r;try{r=i?e(...i):e()}catch(s){gr(s,t,n)}return r}function Ut(e,t,n,i){if(Ie(e)){const s=Mn(e,t,n,i);return s&&hc(s)&&s.catch(o=>{gr(o,t,n)}),s}const r=[];for(let s=0;s<e.length;s++)r.push(Ut(e[s],t,n,i));return r}function gr(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,l=n;for(;s;){const a=s.ec;if(a){for(let d=0;d<a.length;d++)if(a[d](e,o,l)===!1)return}s=s.parent}const c=t.appContext.config.errorHandler;if(c){Mn(c,null,10,[e,o,l]);return}}qh(e,n,r,i)}function qh(e,t,n,i=!0){console.error(e)}let cs=!1,po=!1;const bt=[];let an=0;const Ii=[];let gn=null,Jn=0;const Lc=Promise.resolve();let tl=null;function br(e){const t=tl||Lc;return e?t.then(this?e.bind(this):e):t}function Wh(e){let t=an+1,n=bt.length;for(;t<n;){const i=t+n>>>1;us(bt[i])<e?t=i+1:n=i}return t}function nl(e){(!bt.length||!bt.includes(e,cs&&e.allowRecurse?an+1:an))&&(e.id==null?bt.push(e):bt.splice(Wh(e.id),0,e),Tc())}function Tc(){!cs&&!po&&(po=!0,tl=Lc.then(Dc))}function Jh(e){const t=bt.indexOf(e);t>an&&bt.splice(t,1)}function Yh(e){ye(e)?Ii.push(...e):(!gn||!gn.includes(e,e.allowRecurse?Jn+1:Jn))&&Ii.push(e),Tc()}function zl(e,t=cs?an+1:0){for(;t<bt.length;t++){const n=bt[t];n&&n.pre&&(bt.splice(t,1),t--,n())}}function Fc(e){if(Ii.length){const t=[...new Set(Ii)];if(Ii.length=0,gn){gn.push(...t);return}for(gn=t,gn.sort((n,i)=>us(n)-us(i)),Jn=0;Jn<gn.length;Jn++)gn[Jn]();gn=null,Jn=0}}const us=e=>e.id==null?1/0:e.id,Zh=(e,t)=>{const n=us(e)-us(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Dc(e){po=!1,cs=!0,bt.sort(Zh);const t=Qt;try{for(an=0;an<bt.length;an++){const n=bt[an];n&&n.active!==!1&&Mn(n,null,14)}}finally{an=0,bt.length=0,Fc(),cs=!1,tl=null,(bt.length||Ii.length)&&Dc()}}function Xh(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Ge;let r=n;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in i){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:u,trim:h}=i[d]||Ge;h&&(r=n.map(f=>Qe(f)?f.trim():f)),u&&(r=n.map(co))}let l,c=i[l=Us(t)]||i[l=Us(dn(t))];!c&&s&&(c=i[l=Us(ri(t))]),c&&Ut(c,e,6,r);const a=i[l+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Ut(a,e,6,r)}}function Bc(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const s=e.emits;let o={},l=!1;if(!Ie(e)){const c=a=>{const d=Bc(a,t,!0);d&&(l=!0,dt(o,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!s&&!l?(qe(e)&&i.set(e,null),null):(ye(s)?s.forEach(c=>o[c]=null):dt(o,s),qe(e)&&i.set(e,o),o)}function yr(e,t){return!e||!dr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Oe(e,t[0].toLowerCase()+t.slice(1))||Oe(e,ri(t))||Oe(e,t))}let gt=null,wr=null;function Xs(e){const t=gt;return gt=e,wr=e&&e.type.__scopeId||null,t}function Qh(e){wr=e}function ef(){wr=null}function be(e,t=gt,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&Yl(-1);const s=Xs(t);let o;try{o=e(...r)}finally{Xs(s),i._d&&Yl(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Ur(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:s,propsOptions:[o],slots:l,attrs:c,emit:a,render:d,renderCache:u,data:h,setupState:f,ctx:v,inheritAttrs:C}=e;let E,P;const O=Xs(e);try{if(n.shapeFlag&4){const ie=r||i;E=ln(d.call(ie,ie,u,s,f,h,v)),P=c}else{const ie=t;E=ln(ie.length>1?ie(s,{attrs:c,slots:l,emit:a}):ie(s,null)),P=t.props?c:tf(c)}}catch(ie){Qi.length=0,gr(ie,e,1),E=ce($t)}let z=E;if(P&&C!==!1){const ie=Object.keys(P),{shapeFlag:de}=z;ie.length&&de&7&&(o&&ie.some(Ko)&&(P=nf(P,o)),z=Bn(z,P))}return n.dirs&&(z=Bn(z),z.dirs=z.dirs?z.dirs.concat(n.dirs):n.dirs),n.transition&&(z.transition=n.transition),E=z,Xs(O),E}const tf=e=>{let t;for(const n in e)(n==="class"||n==="style"||dr(n))&&((t||(t={}))[n]=e[n]);return t},nf=(e,t)=>{const n={};for(const i in e)(!Ko(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function sf(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:l,patchFlag:c}=t,a=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return i?jl(i,o,a):!!o;if(c&8){const d=t.dynamicProps;for(let u=0;u<d.length;u++){const h=d[u];if(o[h]!==i[h]&&!yr(a,h))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:i===o?!1:i?o?jl(i,o,a):!0:!!o;return!1}function jl(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!yr(n,s))return!0}return!1}function rf({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const of=e=>e.__isSuspense;function lf(e,t){t&&t.pendingBranch?ye(e)?t.effects.push(...e):t.effects.push(e):Yh(e)}function Gs(e,t){if(tt){let n=tt.provides;const i=tt.parent&&tt.parent.provides;i===n&&(n=tt.provides=Object.create(i)),n[e]=t}}function Dt(e,t,n=!1){const i=tt||gt;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Ie(t)?t.call(i.proxy):t}}const Ls={};function en(e,t,n){return Nc(e,t,n)}function Nc(e,t,{immediate:n,deep:i,flush:r,onTrack:s,onTrigger:o}=Ge){const l=Go()===(tt==null?void 0:tt.scope)?tt:null;let c,a=!1,d=!1;if(Ze(e)?(c=()=>e.value,a=Zs(e)):On(e)?(c=()=>e,i=!0):ye(e)?(d=!0,a=e.some(z=>On(z)||Zs(z)),c=()=>e.map(z=>{if(Ze(z))return z.value;if(On(z))return ei(z);if(Ie(z))return Mn(z,l,2)})):Ie(e)?t?c=()=>Mn(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return u&&u(),Ut(e,l,3,[h])}:c=Qt,t&&i){const z=c;c=()=>ei(z())}let u,h=z=>{u=P.onStop=()=>{Mn(z,l,4)}},f;if(ps)if(h=Qt,t?n&&Ut(t,l,3,[c(),d?[]:void 0,h]):c(),r==="sync"){const z=Qf();f=z.__watcherHandles||(z.__watcherHandles=[])}else return Qt;let v=d?new Array(e.length).fill(Ls):Ls;const C=()=>{if(P.active)if(t){const z=P.run();(i||a||(d?z.some((ie,de)=>ls(ie,v[de])):ls(z,v)))&&(u&&u(),Ut(t,l,3,[z,v===Ls?void 0:d&&v[0]===Ls?[]:v,h]),v=z)}else P.run()};C.allowRecurse=!!t;let E;r==="sync"?E=C:r==="post"?E=()=>St(C,l&&l.suspense):(C.pre=!0,l&&(C.id=l.uid),E=()=>nl(C));const P=new Wo(c,E);t?n?C():v=P.run():r==="post"?St(P.run.bind(P),l&&l.suspense):P.run();const O=()=>{P.stop(),l&&l.scope&&Vo(l.scope.effects,P)};return f&&f.push(O),O}function af(e,t,n){const i=this.proxy,r=Qe(e)?e.includes(".")?zc(i,e):()=>i[e]:e.bind(i,i);let s;Ie(t)?s=t:(s=t.handler,n=t);const o=tt;Ri(this);const l=Nc(r,s.bind(i),n);return o?Ri(o):ni(),l}function zc(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function ei(e,t){if(!qe(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ze(e))ei(e.value,t);else if(ye(e))for(let n=0;n<e.length;n++)ei(e[n],t);else if(dc(e)||Ci(e))e.forEach(n=>{ei(n,t)});else if(pc(e))for(const n in e)ei(e[n],t);return e}function jc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return sl(()=>{e.isMounted=!0}),$c(()=>{e.isUnmounting=!0}),e}const jt=[Function,Array],cf={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:jt,onEnter:jt,onAfterEnter:jt,onEnterCancelled:jt,onBeforeLeave:jt,onLeave:jt,onAfterLeave:jt,onLeaveCancelled:jt,onBeforeAppear:jt,onAppear:jt,onAfterAppear:jt,onAppearCancelled:jt},setup(e,{slots:t}){const n=Ir(),i=jc();let r;return()=>{const s=t.default&&il(t.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const C of s)if(C.type!==$t){o=C;break}}const l=Ae(e),{mode:c}=l;if(i.isLeaving)return $r(o);const a=Kl(o);if(!a)return $r(o);const d=ds(a,l,i,n);hs(a,d);const u=n.subTree,h=u&&Kl(u);let f=!1;const{getTransitionKey:v}=a.type;if(v){const C=v();r===void 0?r=C:C!==r&&(r=C,f=!0)}if(h&&h.type!==$t&&(!Yn(a,h)||f)){const C=ds(h,l,i,n);if(hs(h,C),c==="out-in")return i.isLeaving=!0,C.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},$r(o);c==="in-out"&&a.type!==$t&&(C.delayLeave=(E,P,O)=>{const z=Vc(i,h);z[String(h.key)]=h,E._leaveCb=()=>{P(),E._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=O})}return o}}},Kc=cf;function Vc(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function ds(e,t,n,i){const{appear:r,mode:s,persisted:o=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:a,onEnterCancelled:d,onBeforeLeave:u,onLeave:h,onAfterLeave:f,onLeaveCancelled:v,onBeforeAppear:C,onAppear:E,onAfterAppear:P,onAppearCancelled:O}=t,z=String(e.key),ie=Vc(n,e),de=(q,ge)=>{q&&Ut(q,i,9,ge)},_e=(q,ge)=>{const xe=ge[1];de(q,ge),ye(q)?q.every(Ee=>Ee.length<=1)&&xe():q.length<=1&&xe()},pe={mode:s,persisted:o,beforeEnter(q){let ge=l;if(!n.isMounted)if(r)ge=C||l;else return;q._leaveCb&&q._leaveCb(!0);const xe=ie[z];xe&&Yn(e,xe)&&xe.el._leaveCb&&xe.el._leaveCb(),de(ge,[q])},enter(q){let ge=c,xe=a,Ee=d;if(!n.isMounted)if(r)ge=E||c,xe=P||a,Ee=O||d;else return;let te=!1;const Te=q._enterCb=He=>{te||(te=!0,He?de(Ee,[q]):de(xe,[q]),pe.delayedLeave&&pe.delayedLeave(),q._enterCb=void 0)};ge?_e(ge,[q,Te]):Te()},leave(q,ge){const xe=String(e.key);if(q._enterCb&&q._enterCb(!0),n.isUnmounting)return ge();de(u,[q]);let Ee=!1;const te=q._leaveCb=Te=>{Ee||(Ee=!0,ge(),Te?de(v,[q]):de(f,[q]),q._leaveCb=void 0,ie[xe]===e&&delete ie[xe])};ie[xe]=e,h?_e(h,[q,te]):te()},clone(q){return ds(q,t,n,i)}};return pe}function $r(e){if(xr(e))return e=Bn(e),e.children=null,e}function Kl(e){return xr(e)?e.children?e.children[0]:void 0:e}function hs(e,t){e.shapeFlag&6&&e.component?hs(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function il(e,t=!1,n){let i=[],r=0;for(let s=0;s<e.length;s++){let o=e[s];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===fe?(o.patchFlag&128&&r++,i=i.concat(il(o.children,t,l))):(t||o.type!==$t)&&i.push(l!=null?Bn(o,{key:l}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function xs(e){return Ie(e)?{setup:e,name:e.name}:e}const Yi=e=>!!e.type.__asyncLoader,xr=e=>e.type.__isKeepAlive;function uf(e,t){Hc(e,"a",t)}function df(e,t){Hc(e,"da",t)}function Hc(e,t,n=tt){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(vr(t,i,n),n){let r=n.parent;for(;r&&r.parent;)xr(r.parent.vnode)&&hf(i,t,n,r),r=r.parent}}function hf(e,t,n,i){const r=vr(t,e,i,!0);Gc(()=>{Vo(i[t],r)},n)}function vr(e,t,n=tt,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Fi(),Ri(n);const l=Ut(t,n,e,o);return ni(),Di(),l});return i?r.unshift(s):r.push(s),s}}const xn=e=>(t,n=tt)=>(!ps||e==="sp")&&vr(e,(...i)=>t(...i),n),ff=xn("bm"),sl=xn("m"),pf=xn("bu"),Uc=xn("u"),$c=xn("bum"),Gc=xn("um"),mf=xn("sp"),gf=xn("rtg"),bf=xn("rtc");function yf(e,t=tt){vr("ec",e,t)}function st(e,t){const n=gt;if(n===null)return e;const i=Sr(n)||n.proxy,r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,l,c,a=Ge]=t[s];o&&(Ie(o)&&(o={mounted:o,updated:o}),o.deep&&ei(l),r.push({dir:o,instance:i,value:l,oldValue:void 0,arg:c,modifiers:a}))}return e}function Hn(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const l=r[o];s&&(l.oldValue=s[o].value);let c=l.dir[i];c&&(Fi(),Ut(c,n,8,[e.el,l,e,t]),Di())}}const rl="components",wf="directives";function ve(e,t){return ol(rl,e,!0,t)||e}const qc=Symbol();function lt(e){return Qe(e)?ol(rl,e,!1)||e:e||qc}function It(e){return ol(wf,e)}function ol(e,t,n=!0,i=!1){const r=gt||tt;if(r){const s=r.type;if(e===rl){const l=Jf(s,!1);if(l&&(l===t||l===dn(t)||l===pr(dn(t))))return s}const o=Vl(r[e]||s[e],t)||Vl(r.appContext[e],t);return!o&&i?s:o}}function Vl(e,t){return e&&(e[t]||e[dn(t)]||e[pr(dn(t))])}function rt(e,t,n,i){let r;const s=n&&n[i];if(ye(e)||Qe(e)){r=new Array(e.length);for(let o=0,l=e.length;o<l;o++)r[o]=t(e[o],o,void 0,s&&s[o])}else if(typeof e=="number"){r=new Array(e);for(let o=0;o<e;o++)r[o]=t(o+1,o,void 0,s&&s[o])}else if(qe(e))if(e[Symbol.iterator])r=Array.from(e,(o,l)=>t(o,l,void 0,s&&s[l]));else{const o=Object.keys(e);r=new Array(o.length);for(let l=0,c=o.length;l<c;l++){const a=o[l];r[l]=t(e[a],a,l,s&&s[l])}}else r=[];return n&&(n[i]=r),r}function mo(e,t){for(let n=0;n<t.length;n++){const i=t[n];if(ye(i))for(let r=0;r<i.length;r++)e[i[r].name]=i[r].fn;else i&&(e[i.name]=i.key?(...r)=>{const s=i.fn(...r);return s&&(s.key=i.key),s}:i.fn)}return e}function Pe(e,t,n={},i,r){if(gt.isCE||gt.parent&&Yi(gt.parent)&&gt.parent.isCE)return t!=="default"&&(n.name=t),ce("slot",n,i&&i());let s=e[t];s&&s._c&&(s._d=!1),x();const o=s&&Wc(s(n)),l=se(fe,{key:n.key||o&&o.key||`_${t}`},o||(i?i():[]),o&&e._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function Wc(e){return e.some(t=>er(t)?!(t.type===$t||t.type===fe&&!Wc(t.children)):!0)?e:null}function Ts(e,t){const n={};for(const i in e)n[t&&/[A-Z]/.test(i)?`on:${i}`:Us(i)]=e[i];return n}const go=e=>e?ru(e)?Sr(e)||e.proxy:go(e.parent):null,Zi=dt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>go(e.parent),$root:e=>go(e.root),$emit:e=>e.emit,$options:e=>ll(e),$forceUpdate:e=>e.f||(e.f=()=>nl(e.update)),$nextTick:e=>e.n||(e.n=br.bind(e.proxy)),$watch:e=>af.bind(e)}),Gr=(e,t)=>e!==Ge&&!e.__isScriptSetup&&Oe(e,t),xf={get({_:e},t){const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:l,appContext:c}=e;let a;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(Gr(i,t))return o[t]=1,i[t];if(r!==Ge&&Oe(r,t))return o[t]=2,r[t];if((a=e.propsOptions[0])&&Oe(a,t))return o[t]=3,s[t];if(n!==Ge&&Oe(n,t))return o[t]=4,n[t];bo&&(o[t]=0)}}const d=Zi[t];let u,h;if(d)return t==="$attrs"&&Pt(e,"get",t),d(e);if((u=l.__cssModules)&&(u=u[t]))return u;if(n!==Ge&&Oe(n,t))return o[t]=4,n[t];if(h=c.config.globalProperties,Oe(h,t))return h[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:s}=e;return Gr(r,t)?(r[t]=n,!0):i!==Ge&&Oe(i,t)?(i[t]=n,!0):Oe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let l;return!!n[o]||e!==Ge&&Oe(e,o)||Gr(t,o)||(l=s[0])&&Oe(l,o)||Oe(i,o)||Oe(Zi,o)||Oe(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Oe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let bo=!0;function vf(e){const t=ll(e),n=e.proxy,i=e.ctx;bo=!1,t.beforeCreate&&Hl(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:o,watch:l,provide:c,inject:a,created:d,beforeMount:u,mounted:h,beforeUpdate:f,updated:v,activated:C,deactivated:E,beforeDestroy:P,beforeUnmount:O,destroyed:z,unmounted:ie,render:de,renderTracked:_e,renderTriggered:pe,errorCaptured:q,serverPrefetch:ge,expose:xe,inheritAttrs:Ee,components:te,directives:Te,filters:He}=t;if(a&&_f(a,i,null,e.appContext.config.unwrapInjectedRef),o)for(const Be in o){const Me=o[Be];Ie(Me)&&(i[Be]=Me.bind(n))}if(r){const Be=r.call(n,n);qe(Be)&&(e.data=Nt(Be))}if(bo=!0,s)for(const Be in s){const Me=s[Be],yt=Ie(Me)?Me.bind(n,n):Ie(Me.get)?Me.get.bind(n,n):Qt,ht=!Ie(Me)&&Ie(Me.set)?Me.set.bind(n):Qt,ft=Ve({get:yt,set:ht});Object.defineProperty(i,Be,{enumerable:!0,configurable:!0,get:()=>ft.value,set:et=>ft.value=et})}if(l)for(const Be in l)Jc(l[Be],i,n,Be);if(c){const Be=Ie(c)?c.call(n):c;Reflect.ownKeys(Be).forEach(Me=>{Gs(Me,Be[Me])})}d&&Hl(d,e,"c");function Ue(Be,Me){ye(Me)?Me.forEach(yt=>Be(yt.bind(n))):Me&&Be(Me.bind(n))}if(Ue(ff,u),Ue(sl,h),Ue(pf,f),Ue(Uc,v),Ue(uf,C),Ue(df,E),Ue(yf,q),Ue(bf,_e),Ue(gf,pe),Ue($c,O),Ue(Gc,ie),Ue(mf,ge),ye(xe))if(xe.length){const Be=e.exposed||(e.exposed={});xe.forEach(Me=>{Object.defineProperty(Be,Me,{get:()=>n[Me],set:yt=>n[Me]=yt})})}else e.exposed||(e.exposed={});de&&e.render===Qt&&(e.render=de),Ee!=null&&(e.inheritAttrs=Ee),te&&(e.components=te),Te&&(e.directives=Te)}function _f(e,t,n=Qt,i=!1){ye(e)&&(e=yo(e));for(const r in e){const s=e[r];let o;qe(s)?"default"in s?o=Dt(s.from||r,s.default,!0):o=Dt(s.from||r):o=Dt(s),Ze(o)&&i?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[r]=o}}function Hl(e,t,n){Ut(ye(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function Jc(e,t,n,i){const r=i.includes(".")?zc(n,i):()=>n[i];if(Qe(e)){const s=t[e];Ie(s)&&en(r,s)}else if(Ie(e))en(r,e.bind(n));else if(qe(e))if(ye(e))e.forEach(s=>Jc(s,t,n,i));else{const s=Ie(e.handler)?e.handler.bind(n):t[e.handler];Ie(s)&&en(r,s,e)}}function ll(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,l=s.get(t);let c;return l?c=l:!r.length&&!n&&!i?c=t:(c={},r.length&&r.forEach(a=>Qs(c,a,o,!0)),Qs(c,t,o)),qe(t)&&s.set(t,c),c}function Qs(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&Qs(e,s,n,!0),r&&r.forEach(o=>Qs(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const l=Cf[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const Cf={data:Ul,props:qn,emits:qn,methods:qn,computed:qn,beforeCreate:wt,created:wt,beforeMount:wt,mounted:wt,beforeUpdate:wt,updated:wt,beforeDestroy:wt,beforeUnmount:wt,destroyed:wt,unmounted:wt,activated:wt,deactivated:wt,errorCaptured:wt,serverPrefetch:wt,components:qn,directives:qn,watch:Sf,provide:Ul,inject:If};function Ul(e,t){return t?e?function(){return dt(Ie(e)?e.call(this,this):e,Ie(t)?t.call(this,this):t)}:t:e}function If(e,t){return qn(yo(e),yo(t))}function yo(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function wt(e,t){return e?[...new Set([].concat(e,t))]:t}function qn(e,t){return e?dt(dt(Object.create(null),e),t):t}function Sf(e,t){if(!e)return t;if(!t)return e;const n=dt(Object.create(null),e);for(const i in t)n[i]=wt(e[i],t[i]);return n}function Ef(e,t,n,i=!1){const r={},s={};Js(s,Cr,1),e.propsDefaults=Object.create(null),Yc(e,t,r,s);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:Nh(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function kf(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=e,l=Ae(r),[c]=e.propsOptions;let a=!1;if((i||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let u=0;u<d.length;u++){let h=d[u];if(yr(e.emitsOptions,h))continue;const f=t[h];if(c)if(Oe(s,h))f!==s[h]&&(s[h]=f,a=!0);else{const v=dn(h);r[v]=wo(c,l,v,f,e,!1)}else f!==s[h]&&(s[h]=f,a=!0)}}}else{Yc(e,t,r,s)&&(a=!0);let d;for(const u in l)(!t||!Oe(t,u)&&((d=ri(u))===u||!Oe(t,d)))&&(c?n&&(n[u]!==void 0||n[d]!==void 0)&&(r[u]=wo(c,l,u,void 0,e,!0)):delete r[u]);if(s!==l)for(const u in s)(!t||!Oe(t,u))&&(delete s[u],a=!0)}a&&yn(e,"set","$attrs")}function Yc(e,t,n,i){const[r,s]=e.propsOptions;let o=!1,l;if(t)for(let c in t){if(Hs(c))continue;const a=t[c];let d;r&&Oe(r,d=dn(c))?!s||!s.includes(d)?n[d]=a:(l||(l={}))[d]=a:yr(e.emitsOptions,c)||(!(c in i)||a!==i[c])&&(i[c]=a,o=!0)}if(s){const c=Ae(n),a=l||Ge;for(let d=0;d<s.length;d++){const u=s[d];n[u]=wo(r,c,u,a[u],e,!Oe(a,u))}}return o}function wo(e,t,n,i,r,s){const o=e[n];if(o!=null){const l=Oe(o,"default");if(l&&i===void 0){const c=o.default;if(o.type!==Function&&Ie(c)){const{propsDefaults:a}=r;n in a?i=a[n]:(Ri(r),i=a[n]=c.call(null,t),ni())}else i=c}o[0]&&(s&&!l?i=!1:o[1]&&(i===""||i===ri(n))&&(i=!0))}return i}function Zc(e,t,n=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const s=e.props,o={},l=[];let c=!1;if(!Ie(e)){const d=u=>{c=!0;const[h,f]=Zc(u,t,!0);dt(o,h),f&&l.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!c)return qe(e)&&i.set(e,_i),_i;if(ye(s))for(let d=0;d<s.length;d++){const u=dn(s[d]);$l(u)&&(o[u]=Ge)}else if(s)for(const d in s){const u=dn(d);if($l(u)){const h=s[d],f=o[u]=ye(h)||Ie(h)?{type:h}:Object.assign({},h);if(f){const v=Wl(Boolean,f.type),C=Wl(String,f.type);f[0]=v>-1,f[1]=C<0||v<C,(v>-1||Oe(f,"default"))&&l.push(u)}}}const a=[o,l];return qe(e)&&i.set(e,a),a}function $l(e){return e[0]!=="$"}function Gl(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function ql(e,t){return Gl(e)===Gl(t)}function Wl(e,t){return ye(t)?t.findIndex(n=>ql(n,e)):Ie(t)&&ql(t,e)?0:-1}const Xc=e=>e[0]==="_"||e==="$stable",al=e=>ye(e)?e.map(ln):[ln(e)],Pf=(e,t,n)=>{if(t._n)return t;const i=be((...r)=>al(t(...r)),n);return i._c=!1,i},Qc=(e,t,n)=>{const i=e._ctx;for(const r in e){if(Xc(r))continue;const s=e[r];if(Ie(s))t[r]=Pf(r,s,i);else if(s!=null){const o=al(s);t[r]=()=>o}}},eu=(e,t)=>{const n=al(t);e.slots.default=()=>n},Rf=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ae(t),Js(t,"_",n)):Qc(t,e.slots={})}else e.slots={},t&&eu(e,t);Js(e.slots,Cr,1)},Af=(e,t,n)=>{const{vnode:i,slots:r}=e;let s=!0,o=Ge;if(i.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(dt(r,t),!n&&l===1&&delete r._):(s=!t.$stable,Qc(t,r)),o=t}else t&&(eu(e,t),o={default:1});if(s)for(const l in r)!Xc(l)&&!(l in o)&&delete r[l]};function tu(){return{app:null,config:{isNativeTag:nh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Of=0;function Mf(e,t){return function(i,r=null){Ie(i)||(i=Object.assign({},i)),r!=null&&!qe(r)&&(r=null);const s=tu(),o=new Set;let l=!1;const c=s.app={_uid:Of++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:ep,get config(){return s.config},set config(a){},use(a,...d){return o.has(a)||(a&&Ie(a.install)?(o.add(a),a.install(c,...d)):Ie(a)&&(o.add(a),a(c,...d))),c},mixin(a){return s.mixins.includes(a)||s.mixins.push(a),c},component(a,d){return d?(s.components[a]=d,c):s.components[a]},directive(a,d){return d?(s.directives[a]=d,c):s.directives[a]},mount(a,d,u){if(!l){const h=ce(i,r);return h.appContext=s,d&&t?t(h,a):e(h,a,u),l=!0,c._container=a,a.__vue_app__=c,Sr(h.component)||h.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(a,d){return s.provides[a]=d,c}};return c}}function xo(e,t,n,i,r=!1){if(ye(e)){e.forEach((h,f)=>xo(h,t&&(ye(t)?t[f]:t),n,i,r));return}if(Yi(i)&&!r)return;const s=i.shapeFlag&4?Sr(i.component)||i.component.proxy:i.el,o=r?null:s,{i:l,r:c}=e,a=t&&t.r,d=l.refs===Ge?l.refs={}:l.refs,u=l.setupState;if(a!=null&&a!==c&&(Qe(a)?(d[a]=null,Oe(u,a)&&(u[a]=null)):Ze(a)&&(a.value=null)),Ie(c))Mn(c,l,12,[o,d]);else{const h=Qe(c),f=Ze(c);if(h||f){const v=()=>{if(e.f){const C=h?Oe(u,c)?u[c]:d[c]:c.value;r?ye(C)&&Vo(C,s):ye(C)?C.includes(s)||C.push(s):h?(d[c]=[s],Oe(u,c)&&(u[c]=d[c])):(c.value=[s],e.k&&(d[e.k]=c.value))}else h?(d[c]=o,Oe(u,c)&&(u[c]=o)):f&&(c.value=o,e.k&&(d[e.k]=o))};o?(v.id=-1,St(v,n)):v()}}}const St=lf;function Lf(e){return Tf(e)}function Tf(e,t){const n=ch();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:l,createComment:c,setText:a,setElementText:d,parentNode:u,nextSibling:h,setScopeId:f=Qt,insertStaticContent:v}=e,C=(y,_,M,L=null,B=null,$=null,X=!1,U=null,J=!!_.dynamicChildren)=>{if(y===_)return;y&&!Yn(y,_)&&(L=G(y),et(y,B,$,!0),y=null),_.patchFlag===-2&&(J=!1,_.dynamicChildren=null);const{type:K,ref:he,shapeFlag:oe}=_;switch(K){case _r:E(y,_,M,L);break;case $t:P(y,_,M,L);break;case qr:y==null&&O(_,M,L,X);break;case fe:te(y,_,M,L,B,$,X,U,J);break;default:oe&1?de(y,_,M,L,B,$,X,U,J):oe&6?Te(y,_,M,L,B,$,X,U,J):(oe&64||oe&128)&&K.process(y,_,M,L,B,$,X,U,J,ne)}he!=null&&B&&xo(he,y&&y.ref,$,_||y,!_)},E=(y,_,M,L)=>{if(y==null)i(_.el=l(_.children),M,L);else{const B=_.el=y.el;_.children!==y.children&&a(B,_.children)}},P=(y,_,M,L)=>{y==null?i(_.el=c(_.children||""),M,L):_.el=y.el},O=(y,_,M,L)=>{[y.el,y.anchor]=v(y.children,_,M,L,y.el,y.anchor)},z=({el:y,anchor:_},M,L)=>{let B;for(;y&&y!==_;)B=h(y),i(y,M,L),y=B;i(_,M,L)},ie=({el:y,anchor:_})=>{let M;for(;y&&y!==_;)M=h(y),r(y),y=M;r(_)},de=(y,_,M,L,B,$,X,U,J)=>{X=X||_.type==="svg",y==null?_e(_,M,L,B,$,X,U,J):ge(y,_,B,$,X,U,J)},_e=(y,_,M,L,B,$,X,U)=>{let J,K;const{type:he,props:oe,shapeFlag:le,transition:we,dirs:Se}=y;if(J=y.el=o(y.type,$,oe&&oe.is,oe),le&8?d(J,y.children):le&16&&q(y.children,J,null,L,B,$&&he!=="foreignObject",X,U),Se&&Hn(y,null,L,"created"),pe(J,y,y.scopeId,X,L),oe){for(const Fe in oe)Fe!=="value"&&!Hs(Fe)&&s(J,Fe,null,oe[Fe],$,y.children,L,B,Q);"value"in oe&&s(J,"value",null,oe.value),(K=oe.onVnodeBeforeMount)&&rn(K,L,y)}Se&&Hn(y,null,L,"beforeMount");const ze=(!B||B&&!B.pendingBranch)&&we&&!we.persisted;ze&&we.beforeEnter(J),i(J,_,M),((K=oe&&oe.onVnodeMounted)||ze||Se)&&St(()=>{K&&rn(K,L,y),ze&&we.enter(J),Se&&Hn(y,null,L,"mounted")},B)},pe=(y,_,M,L,B)=>{if(M&&f(y,M),L)for(let $=0;$<L.length;$++)f(y,L[$]);if(B){let $=B.subTree;if(_===$){const X=B.vnode;pe(y,X,X.scopeId,X.slotScopeIds,B.parent)}}},q=(y,_,M,L,B,$,X,U,J=0)=>{for(let K=J;K<y.length;K++){const he=y[K]=U?En(y[K]):ln(y[K]);C(null,he,_,M,L,B,$,X,U)}},ge=(y,_,M,L,B,$,X)=>{const U=_.el=y.el;let{patchFlag:J,dynamicChildren:K,dirs:he}=_;J|=y.patchFlag&16;const oe=y.props||Ge,le=_.props||Ge;let we;M&&Un(M,!1),(we=le.onVnodeBeforeUpdate)&&rn(we,M,_,y),he&&Hn(_,y,M,"beforeUpdate"),M&&Un(M,!0);const Se=B&&_.type!=="foreignObject";if(K?xe(y.dynamicChildren,K,U,M,L,Se,$):X||Me(y,_,U,null,M,L,Se,$,!1),J>0){if(J&16)Ee(U,_,oe,le,M,L,B);else if(J&2&&oe.class!==le.class&&s(U,"class",null,le.class,B),J&4&&s(U,"style",oe.style,le.style,B),J&8){const ze=_.dynamicProps;for(let Fe=0;Fe<ze.length;Fe++){const Xe=ze[Fe],At=oe[Xe],vn=le[Xe];(vn!==At||Xe==="value")&&s(U,Xe,At,vn,B,y.children,M,L,Q)}}J&1&&y.children!==_.children&&d(U,_.children)}else!X&&K==null&&Ee(U,_,oe,le,M,L,B);((we=le.onVnodeUpdated)||he)&&St(()=>{we&&rn(we,M,_,y),he&&Hn(_,y,M,"updated")},L)},xe=(y,_,M,L,B,$,X)=>{for(let U=0;U<_.length;U++){const J=y[U],K=_[U],he=J.el&&(J.type===fe||!Yn(J,K)||J.shapeFlag&70)?u(J.el):M;C(J,K,he,null,L,B,$,X,!0)}},Ee=(y,_,M,L,B,$,X)=>{if(M!==L){if(M!==Ge)for(const U in M)!Hs(U)&&!(U in L)&&s(y,U,M[U],null,X,_.children,B,$,Q);for(const U in L){if(Hs(U))continue;const J=L[U],K=M[U];J!==K&&U!=="value"&&s(y,U,K,J,X,_.children,B,$,Q)}"value"in L&&s(y,"value",M.value,L.value)}},te=(y,_,M,L,B,$,X,U,J)=>{const K=_.el=y?y.el:l(""),he=_.anchor=y?y.anchor:l("");let{patchFlag:oe,dynamicChildren:le,slotScopeIds:we}=_;we&&(U=U?U.concat(we):we),y==null?(i(K,M,L),i(he,M,L),q(_.children,M,he,B,$,X,U,J)):oe>0&&oe&64&&le&&y.dynamicChildren?(xe(y.dynamicChildren,le,M,B,$,X,U),(_.key!=null||B&&_===B.subTree)&&cl(y,_,!0)):Me(y,_,M,he,B,$,X,U,J)},Te=(y,_,M,L,B,$,X,U,J)=>{_.slotScopeIds=U,y==null?_.shapeFlag&512?B.ctx.activate(_,M,L,X,J):He(_,M,L,B,$,X,J):We(y,_,J)},He=(y,_,M,L,B,$,X)=>{const U=y.component=$f(y,L,B);if(xr(y)&&(U.ctx.renderer=ne),Gf(U),U.asyncDep){if(B&&B.registerDep(U,Ue),!y.el){const J=U.subTree=ce($t);P(null,J,_,M)}return}Ue(U,y,_,M,B,$,X)},We=(y,_,M)=>{const L=_.component=y.component;if(sf(y,_,M))if(L.asyncDep&&!L.asyncResolved){Be(L,_,M);return}else L.next=_,Jh(L.update),L.update();else _.el=y.el,L.vnode=_},Ue=(y,_,M,L,B,$,X)=>{const U=()=>{if(y.isMounted){let{next:he,bu:oe,u:le,parent:we,vnode:Se}=y,ze=he,Fe;Un(y,!1),he?(he.el=Se.el,Be(y,he,X)):he=Se,oe&&$s(oe),(Fe=he.props&&he.props.onVnodeBeforeUpdate)&&rn(Fe,we,he,Se),Un(y,!0);const Xe=Ur(y),At=y.subTree;y.subTree=Xe,C(At,Xe,u(At.el),G(At),y,B,$),he.el=Xe.el,ze===null&&rf(y,Xe.el),le&&St(le,B),(Fe=he.props&&he.props.onVnodeUpdated)&&St(()=>rn(Fe,we,he,Se),B)}else{let he;const{el:oe,props:le}=_,{bm:we,m:Se,parent:ze}=y,Fe=Yi(_);if(Un(y,!1),we&&$s(we),!Fe&&(he=le&&le.onVnodeBeforeMount)&&rn(he,ze,_),Un(y,!0),oe&&Ce){const Xe=()=>{y.subTree=Ur(y),Ce(oe,y.subTree,y,B,null)};Fe?_.type.__asyncLoader().then(()=>!y.isUnmounted&&Xe()):Xe()}else{const Xe=y.subTree=Ur(y);C(null,Xe,M,L,y,B,$),_.el=Xe.el}if(Se&&St(Se,B),!Fe&&(he=le&&le.onVnodeMounted)){const Xe=_;St(()=>rn(he,ze,Xe),B)}(_.shapeFlag&256||ze&&Yi(ze.vnode)&&ze.vnode.shapeFlag&256)&&y.a&&St(y.a,B),y.isMounted=!0,_=M=L=null}},J=y.effect=new Wo(U,()=>nl(K),y.scope),K=y.update=()=>J.run();K.id=y.uid,Un(y,!0),K()},Be=(y,_,M)=>{_.component=y;const L=y.vnode.props;y.vnode=_,y.next=null,kf(y,_.props,L,M),Af(y,_.children,M),Fi(),zl(),Di()},Me=(y,_,M,L,B,$,X,U,J=!1)=>{const K=y&&y.children,he=y?y.shapeFlag:0,oe=_.children,{patchFlag:le,shapeFlag:we}=_;if(le>0){if(le&128){ht(K,oe,M,L,B,$,X,U,J);return}else if(le&256){yt(K,oe,M,L,B,$,X,U,J);return}}we&8?(he&16&&Q(K,B,$),oe!==K&&d(M,oe)):he&16?we&16?ht(K,oe,M,L,B,$,X,U,J):Q(K,B,$,!0):(he&8&&d(M,""),we&16&&q(oe,M,L,B,$,X,U,J))},yt=(y,_,M,L,B,$,X,U,J)=>{y=y||_i,_=_||_i;const K=y.length,he=_.length,oe=Math.min(K,he);let le;for(le=0;le<oe;le++){const we=_[le]=J?En(_[le]):ln(_[le]);C(y[le],we,M,null,B,$,X,U,J)}K>he?Q(y,B,$,!0,!1,oe):q(_,M,L,B,$,X,U,J,oe)},ht=(y,_,M,L,B,$,X,U,J)=>{let K=0;const he=_.length;let oe=y.length-1,le=he-1;for(;K<=oe&&K<=le;){const we=y[K],Se=_[K]=J?En(_[K]):ln(_[K]);if(Yn(we,Se))C(we,Se,M,null,B,$,X,U,J);else break;K++}for(;K<=oe&&K<=le;){const we=y[oe],Se=_[le]=J?En(_[le]):ln(_[le]);if(Yn(we,Se))C(we,Se,M,null,B,$,X,U,J);else break;oe--,le--}if(K>oe){if(K<=le){const we=le+1,Se=we<he?_[we].el:L;for(;K<=le;)C(null,_[K]=J?En(_[K]):ln(_[K]),M,Se,B,$,X,U,J),K++}}else if(K>le)for(;K<=oe;)et(y[K],B,$,!0),K++;else{const we=K,Se=K,ze=new Map;for(K=Se;K<=le;K++){const at=_[K]=J?En(_[K]):ln(_[K]);at.key!=null&&ze.set(at.key,K)}let Fe,Xe=0;const At=le-Se+1;let vn=!1,Ni=0;const Kn=new Array(At);for(K=0;K<At;K++)Kn[K]=0;for(K=we;K<=oe;K++){const at=y[K];if(Xe>=At){et(at,B,$,!0);continue}let Ot;if(at.key!=null)Ot=ze.get(at.key);else for(Fe=Se;Fe<=le;Fe++)if(Kn[Fe-Se]===0&&Yn(at,_[Fe])){Ot=Fe;break}Ot===void 0?et(at,B,$,!0):(Kn[Ot-Se]=K+1,Ot>=Ni?Ni=Ot:vn=!0,C(at,_[Ot],M,null,B,$,X,U,J),Xe++)}const sn=vn?Ff(Kn):_i;for(Fe=sn.length-1,K=At-1;K>=0;K--){const at=Se+K,Ot=_[at],ai=at+1<he?_[at+1].el:L;Kn[K]===0?C(null,Ot,M,ai,B,$,X,U,J):vn&&(Fe<0||K!==sn[Fe]?ft(Ot,M,ai,2):Fe--)}}},ft=(y,_,M,L,B=null)=>{const{el:$,type:X,transition:U,children:J,shapeFlag:K}=y;if(K&6){ft(y.component.subTree,_,M,L);return}if(K&128){y.suspense.move(_,M,L);return}if(K&64){X.move(y,_,M,ne);return}if(X===fe){i($,_,M);for(let oe=0;oe<J.length;oe++)ft(J[oe],_,M,L);i(y.anchor,_,M);return}if(X===qr){z(y,_,M);return}if(L!==2&&K&1&&U)if(L===0)U.beforeEnter($),i($,_,M),St(()=>U.enter($),B);else{const{leave:oe,delayLeave:le,afterLeave:we}=U,Se=()=>i($,_,M),ze=()=>{oe($,()=>{Se(),we&&we()})};le?le($,Se,ze):ze()}else i($,_,M)},et=(y,_,M,L=!1,B=!1)=>{const{type:$,props:X,ref:U,children:J,dynamicChildren:K,shapeFlag:he,patchFlag:oe,dirs:le}=y;if(U!=null&&xo(U,null,M,y,!0),he&256){_.ctx.deactivate(y);return}const we=he&1&&le,Se=!Yi(y);let ze;if(Se&&(ze=X&&X.onVnodeBeforeUnmount)&&rn(ze,_,y),he&6)D(y.component,M,L);else{if(he&128){y.suspense.unmount(M,L);return}we&&Hn(y,null,_,"beforeUnmount"),he&64?y.type.remove(y,_,M,B,ne,L):K&&($!==fe||oe>0&&oe&64)?Q(K,_,M,!1,!0):($===fe&&oe&384||!B&&he&16)&&Q(J,_,M),L&&Rt(y)}(Se&&(ze=X&&X.onVnodeUnmounted)||we)&&St(()=>{ze&&rn(ze,_,y),we&&Hn(y,null,_,"unmounted")},M)},Rt=y=>{const{type:_,el:M,anchor:L,transition:B}=y;if(_===fe){jn(M,L);return}if(_===qr){ie(y);return}const $=()=>{r(M),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(y.shapeFlag&1&&B&&!B.persisted){const{leave:X,delayLeave:U}=B,J=()=>X(M,$);U?U(y.el,$,J):J()}else $()},jn=(y,_)=>{let M;for(;y!==_;)M=h(y),r(y),y=M;r(_)},D=(y,_,M)=>{const{bum:L,scope:B,update:$,subTree:X,um:U}=y;L&&$s(L),B.stop(),$&&($.active=!1,et(X,y,_,M)),U&&St(U,_),St(()=>{y.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},Q=(y,_,M,L=!1,B=!1,$=0)=>{for(let X=$;X<y.length;X++)et(y[X],_,M,L,B)},G=y=>y.shapeFlag&6?G(y.component.subTree):y.shapeFlag&128?y.suspense.next():h(y.anchor||y.el),re=(y,_,M)=>{y==null?_._vnode&&et(_._vnode,null,null,!0):C(_._vnode||null,y,_,null,null,null,M),zl(),Fc(),_._vnode=y},ne={p:C,um:et,m:ft,r:Rt,mt:He,mc:q,pc:Me,pbc:xe,n:G,o:e};let ke,Ce;return t&&([ke,Ce]=t(ne)),{render:re,hydrate:ke,createApp:Mf(re,ke)}}function Un({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function cl(e,t,n=!1){const i=e.children,r=t.children;if(ye(i)&&ye(r))for(let s=0;s<i.length;s++){const o=i[s];let l=r[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[s]=En(r[s]),l.el=o.el),n||cl(o,l)),l.type===_r&&(l.el=o.el)}}function Ff(e){const t=e.slice(),n=[0];let i,r,s,o,l;const c=e.length;for(i=0;i<c;i++){const a=e[i];if(a!==0){if(r=n[n.length-1],e[r]<a){t[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)l=s+o>>1,e[n[l]]<a?s=l+1:o=l;a<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}const Df=e=>e.__isTeleport,Xi=e=>e&&(e.disabled||e.disabled===""),Jl=e=>typeof SVGElement<"u"&&e instanceof SVGElement,vo=(e,t)=>{const n=e&&e.to;return Qe(n)?t?t(n):null:n},Bf={__isTeleport:!0,process(e,t,n,i,r,s,o,l,c,a){const{mc:d,pc:u,pbc:h,o:{insert:f,querySelector:v,createText:C,createComment:E}}=a,P=Xi(t.props);let{shapeFlag:O,children:z,dynamicChildren:ie}=t;if(e==null){const de=t.el=C(""),_e=t.anchor=C("");f(de,n,i),f(_e,n,i);const pe=t.target=vo(t.props,v),q=t.targetAnchor=C("");pe&&(f(q,pe),o=o||Jl(pe));const ge=(xe,Ee)=>{O&16&&d(z,xe,Ee,r,s,o,l,c)};P?ge(n,_e):pe&&ge(pe,q)}else{t.el=e.el;const de=t.anchor=e.anchor,_e=t.target=e.target,pe=t.targetAnchor=e.targetAnchor,q=Xi(e.props),ge=q?n:_e,xe=q?de:pe;if(o=o||Jl(_e),ie?(h(e.dynamicChildren,ie,ge,r,s,o,l),cl(e,t,!0)):c||u(e,t,ge,xe,r,s,o,l,!1),P)q||Fs(t,n,de,a,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Ee=t.target=vo(t.props,v);Ee&&Fs(t,Ee,null,a,0)}else q&&Fs(t,_e,pe,a,1)}nu(t)},remove(e,t,n,i,{um:r,o:{remove:s}},o){const{shapeFlag:l,children:c,anchor:a,targetAnchor:d,target:u,props:h}=e;if(u&&s(d),(o||!Xi(h))&&(s(a),l&16))for(let f=0;f<c.length;f++){const v=c[f];r(v,t,n,!0,!!v.dynamicChildren)}},move:Fs,hydrate:Nf};function Fs(e,t,n,{o:{insert:i},m:r},s=2){s===0&&i(e.targetAnchor,t,n);const{el:o,anchor:l,shapeFlag:c,children:a,props:d}=e,u=s===2;if(u&&i(o,t,n),(!u||Xi(d))&&c&16)for(let h=0;h<a.length;h++)r(a[h],t,n,2);u&&i(l,t,n)}function Nf(e,t,n,i,r,s,{o:{nextSibling:o,parentNode:l,querySelector:c}},a){const d=t.target=vo(t.props,c);if(d){const u=d._lpa||d.firstChild;if(t.shapeFlag&16)if(Xi(t.props))t.anchor=a(o(e),t,l(e),n,i,r,s),t.targetAnchor=u;else{t.anchor=o(e);let h=u;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){t.targetAnchor=h,d._lpa=t.targetAnchor&&o(t.targetAnchor);break}a(u,t,d,n,i,r,s)}nu(t)}return t.anchor&&o(t.anchor)}const zf=Bf;function nu(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const fe=Symbol(void 0),_r=Symbol(void 0),$t=Symbol(void 0),qr=Symbol(void 0),Qi=[];let Zt=null;function x(e=!1){Qi.push(Zt=e?null:[])}function jf(){Qi.pop(),Zt=Qi[Qi.length-1]||null}let fs=1;function Yl(e){fs+=e}function iu(e){return e.dynamicChildren=fs>0?Zt||_i:null,jf(),fs>0&&Zt&&Zt.push(e),e}function k(e,t,n,i,r,s){return iu(N(e,t,n,i,r,s,!0))}function se(e,t,n,i,r){return iu(ce(e,t,n,i,r,!0))}function er(e){return e?e.__v_isVNode===!0:!1}function Yn(e,t){return e.type===t.type&&e.key===t.key}const Cr="__vInternal",su=({key:e})=>e??null,qs=({ref:e,ref_key:t,ref_for:n})=>e!=null?Qe(e)||Ze(e)||Ie(e)?{i:gt,r:e,k:t,f:!!n}:e:null;function N(e,t=null,n=null,i=0,r=null,s=e===fe?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&su(t),ref:t&&qs(t),scopeId:wr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:gt};return l?(ul(c,n),s&128&&e.normalize(c)):n&&(c.shapeFlag|=Qe(n)?8:16),fs>0&&!o&&Zt&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&Zt.push(c),c}const ce=Kf;function Kf(e,t=null,n=null,i=0,r=null,s=!1){if((!e||e===qc)&&(e=$t),er(e)){const l=Bn(e,t,!0);return n&&ul(l,n),fs>0&&!s&&Zt&&(l.shapeFlag&6?Zt[Zt.indexOf(e)]=l:Zt.push(l)),l.patchFlag|=-2,l}if(Yf(e)&&(e=e.__vccOpts),t){t=Vf(t);let{class:l,style:c}=t;l&&!Qe(l)&&(t.class=ee(l)),qe(c)&&(kc(c)&&!ye(c)&&(c=dt({},c)),t.style=$e(c))}const o=Qe(e)?1:of(e)?128:Df(e)?64:qe(e)?4:Ie(e)?2:0;return N(e,t,n,i,r,o,s,!0)}function Vf(e){return e?kc(e)||Cr in e?dt({},e):e:null}function Bn(e,t,n=!1){const{props:i,ref:r,patchFlag:s,children:o}=e,l=t?Ye(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&su(l),ref:t&&t.ref?n&&r?ye(r)?r.concat(qs(t)):[r,qs(t)]:qs(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==fe?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Bn(e.ssContent),ssFallback:e.ssFallback&&Bn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function _t(e=" ",t=0){return ce(_r,null,e,t)}function H(e="",t=!1){return t?(x(),se($t,null,e)):ce($t,null,e)}function ln(e){return e==null||typeof e=="boolean"?ce($t):ye(e)?ce(fe,null,e.slice()):typeof e=="object"?En(e):ce(_r,null,String(e))}function En(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Bn(e)}function ul(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(ye(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),ul(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(Cr in t)?t._ctx=gt:r===3&&gt&&(gt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ie(t)?(t={default:t,_ctx:gt},n=32):(t=String(t),i&64?(n=16,t=[_t(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ye(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=ee([t.class,i.class]));else if(r==="style")t.style=$e([t.style,i.style]);else if(dr(r)){const s=t[r],o=i[r];o&&s!==o&&!(ye(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}function rn(e,t,n,i=null){Ut(e,t,7,[n,i])}const Hf=tu();let Uf=0;function $f(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||Hf,s={uid:Uf++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new mc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zc(i,r),emitsOptions:Bc(i,r),emit:null,emitted:null,propsDefaults:Ge,inheritAttrs:i.inheritAttrs,ctx:Ge,data:Ge,props:Ge,attrs:Ge,slots:Ge,refs:Ge,setupState:Ge,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Xh.bind(null,s),e.ce&&e.ce(s),s}let tt=null;const Ir=()=>tt||gt,Ri=e=>{tt=e,e.scope.on()},ni=()=>{tt&&tt.scope.off(),tt=null};function ru(e){return e.vnode.shapeFlag&4}let ps=!1;function Gf(e,t=!1){ps=t;const{props:n,children:i}=e.vnode,r=ru(e);Ef(e,n,r,t),Rf(e,i);const s=r?qf(e,t):void 0;return ps=!1,s}function qf(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=si(new Proxy(e.ctx,xf));const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?lu(e):null;Ri(e),Fi();const s=Mn(i,e,0,[e.props,r]);if(Di(),ni(),hc(s)){if(s.then(ni,ni),t)return s.then(o=>{Zl(e,o,t)}).catch(o=>{gr(o,e,0)});e.asyncDep=s}else Zl(e,s,t)}else ou(e,t)}function Zl(e,t,n){Ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:qe(t)&&(e.setupState=Oc(t)),ou(e,n)}let Xl;function ou(e,t,n){const i=e.type;if(!e.render){if(!t&&Xl&&!i.render){const r=i.template||ll(e).template;if(r){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:l,compilerOptions:c}=i,a=dt(dt({isCustomElement:s,delimiters:l},o),c);i.render=Xl(r,a)}}e.render=i.render||Qt}Ri(e),Fi(),vf(e),Di(),ni()}function Wf(e){return new Proxy(e.attrs,{get(t,n){return Pt(e,"get","$attrs"),t[n]}})}function lu(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=Wf(e))},slots:e.slots,emit:e.emit,expose:t}}function Sr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Oc(si(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Zi)return Zi[n](e)},has(t,n){return n in t||n in Zi}}))}function Jf(e,t=!0){return Ie(e)?e.displayName||e.name:e.name||t&&e.__name}function Yf(e){return Ie(e)&&"__vccOpts"in e}const Ve=(e,t)=>Gh(e,t,ps);function Qv(){return Zf().attrs}function Zf(){const e=Ir();return e.setupContext||(e.setupContext=lu(e))}function dl(e,t,n){const i=arguments.length;return i===2?qe(t)&&!ye(t)?er(t)?ce(e,null,[t]):ce(e,t):ce(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&er(n)&&(n=[n]),ce(e,t,n))}const Xf=Symbol(""),Qf=()=>Dt(Xf),ep="3.2.47",tp="http://www.w3.org/2000/svg",Zn=typeof document<"u"?document:null,Ql=Zn&&Zn.createElement("template"),np={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?Zn.createElementNS(tp,e):Zn.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>Zn.createTextNode(e),createComment:e=>Zn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Zn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{Ql.innerHTML=i?`<svg>${e}</svg>`:e;const l=Ql.content;if(i){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function ip(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function sp(e,t,n){const i=e.style,r=Qe(n);if(n&&!r){if(t&&!Qe(t))for(const s in t)n[s]==null&&_o(i,s,"");for(const s in n)_o(i,s,n[s])}else{const s=i.display;r?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=s)}}const ea=/\s*!important$/;function _o(e,t,n){if(ye(n))n.forEach(i=>_o(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=rp(e,t);ea.test(n)?e.setProperty(ri(i),n.replace(ea,""),"important"):e[i]=n}}const ta=["Webkit","Moz","ms"],Wr={};function rp(e,t){const n=Wr[t];if(n)return n;let i=dn(t);if(i!=="filter"&&i in e)return Wr[t]=i;i=pr(i);for(let r=0;r<ta.length;r++){const s=ta[r]+i;if(s in e)return Wr[t]=s}return t}const na="http://www.w3.org/1999/xlink";function op(e,t,n,i,r){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(na,t.slice(6,t.length)):e.setAttributeNS(na,t,n);else{const s=th(t);n==null||s&&!cc(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function lp(e,t,n,i,r,s,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,r,s),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const c=n??"";(e.value!==c||e.tagName==="OPTION")&&(e.value=c),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=cc(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function mi(e,t,n,i){e.addEventListener(t,n,i)}function ap(e,t,n,i){e.removeEventListener(t,n,i)}function cp(e,t,n,i,r=null){const s=e._vei||(e._vei={}),o=s[t];if(i&&o)o.value=i;else{const[l,c]=up(t);if(i){const a=s[t]=fp(i,r);mi(e,l,a,c)}else o&&(ap(e,l,o,c),s[t]=void 0)}}const ia=/(?:Once|Passive|Capture)$/;function up(e){let t;if(ia.test(e)){t={};let i;for(;i=e.match(ia);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ri(e.slice(2)),t]}let Jr=0;const dp=Promise.resolve(),hp=()=>Jr||(dp.then(()=>Jr=0),Jr=Date.now());function fp(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Ut(pp(i,n.value),t,5,[i])};return n.value=e,n.attached=hp(),n}function pp(e,t){if(ye(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const sa=/^on[a-z]/,mp=(e,t,n,i,r=!1,s,o,l,c)=>{t==="class"?ip(e,i,r):t==="style"?sp(e,n,i):dr(t)?Ko(t)||cp(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):gp(e,t,i,r))?lp(e,t,i,s,o,l,c):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),op(e,t,i,r))};function gp(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&sa.test(t)&&Ie(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||sa.test(t)&&Qe(n)?!1:t in e}const Cn="transition",Hi="animation",Nn=(e,{slots:t})=>dl(Kc,cu(e),t);Nn.displayName="Transition";const au={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},bp=Nn.props=dt({},Kc.props,au),$n=(e,t=[])=>{ye(e)?e.forEach(n=>n(...t)):e&&e(...t)},ra=e=>e?ye(e)?e.some(t=>t.length>1):e.length>1:!1;function cu(e){const t={};for(const te in e)te in au||(t[te]=e[te]);if(e.css===!1)return t;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:a=o,appearToClass:d=l,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,v=yp(r),C=v&&v[0],E=v&&v[1],{onBeforeEnter:P,onEnter:O,onEnterCancelled:z,onLeave:ie,onLeaveCancelled:de,onBeforeAppear:_e=P,onAppear:pe=O,onAppearCancelled:q=z}=t,ge=(te,Te,He)=>{Sn(te,Te?d:l),Sn(te,Te?a:o),He&&He()},xe=(te,Te)=>{te._isLeaving=!1,Sn(te,u),Sn(te,f),Sn(te,h),Te&&Te()},Ee=te=>(Te,He)=>{const We=te?pe:O,Ue=()=>ge(Te,te,He);$n(We,[Te,Ue]),oa(()=>{Sn(Te,te?c:s),pn(Te,te?d:l),ra(We)||la(Te,i,C,Ue)})};return dt(t,{onBeforeEnter(te){$n(P,[te]),pn(te,s),pn(te,o)},onBeforeAppear(te){$n(_e,[te]),pn(te,c),pn(te,a)},onEnter:Ee(!1),onAppear:Ee(!0),onLeave(te,Te){te._isLeaving=!0;const He=()=>xe(te,Te);pn(te,u),du(),pn(te,h),oa(()=>{te._isLeaving&&(Sn(te,u),pn(te,f),ra(ie)||la(te,i,E,He))}),$n(ie,[te,He])},onEnterCancelled(te){ge(te,!1),$n(z,[te])},onAppearCancelled(te){ge(te,!0),$n(q,[te])},onLeaveCancelled(te){xe(te),$n(de,[te])}})}function yp(e){if(e==null)return null;if(qe(e))return[Yr(e.enter),Yr(e.leave)];{const t=Yr(e);return[t,t]}}function Yr(e){return ah(e)}function pn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Sn(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function oa(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let wp=0;function la(e,t,n,i){const r=e._endId=++wp,s=()=>{r===e._endId&&i()};if(n)return setTimeout(s,n);const{type:o,timeout:l,propCount:c}=uu(e,t);if(!o)return i();const a=o+"end";let d=0;const u=()=>{e.removeEventListener(a,h),s()},h=f=>{f.target===e&&++d>=c&&u()};setTimeout(()=>{d<c&&u()},l+1),e.addEventListener(a,h)}function uu(e,t){const n=window.getComputedStyle(e),i=v=>(n[v]||"").split(", "),r=i(`${Cn}Delay`),s=i(`${Cn}Duration`),o=aa(r,s),l=i(`${Hi}Delay`),c=i(`${Hi}Duration`),a=aa(l,c);let d=null,u=0,h=0;t===Cn?o>0&&(d=Cn,u=o,h=s.length):t===Hi?a>0&&(d=Hi,u=a,h=c.length):(u=Math.max(o,a),d=u>0?o>a?Cn:Hi:null,h=d?d===Cn?s.length:c.length:0);const f=d===Cn&&/\b(transform|all)(,|$)/.test(i(`${Cn}Property`).toString());return{type:d,timeout:u,propCount:h,hasTransform:f}}function aa(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>ca(n)+ca(e[i])))}function ca(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function du(){return document.body.offsetHeight}const hu=new WeakMap,fu=new WeakMap,pu={name:"TransitionGroup",props:dt({},bp,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Ir(),i=jc();let r,s;return Uc(()=>{if(!r.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!Sp(r[0].el,n.vnode.el,o))return;r.forEach(_p),r.forEach(Cp);const l=r.filter(Ip);du(),l.forEach(c=>{const a=c.el,d=a.style;pn(a,o),d.transform=d.webkitTransform=d.transitionDuration="";const u=a._moveCb=h=>{h&&h.target!==a||(!h||/transform$/.test(h.propertyName))&&(a.removeEventListener("transitionend",u),a._moveCb=null,Sn(a,o))};a.addEventListener("transitionend",u)})}),()=>{const o=Ae(e),l=cu(o);let c=o.tag||fe;r=s,s=t.default?il(t.default()):[];for(let a=0;a<s.length;a++){const d=s[a];d.key!=null&&hs(d,ds(d,l,i,n))}if(r)for(let a=0;a<r.length;a++){const d=r[a];hs(d,ds(d,l,i,n)),hu.set(d,d.el.getBoundingClientRect())}return ce(c,null,s)}}},xp=e=>delete e.mode;pu.props;const vp=pu;function _p(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Cp(e){fu.set(e,e.el.getBoundingClientRect())}function Ip(e){const t=hu.get(e),n=fu.get(e),i=t.left-n.left,r=t.top-n.top;if(i||r){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",e}}function Sp(e,t,n){const i=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(i);const{hasTransform:s}=uu(i);return r.removeChild(i),s}const ua=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ye(t)?n=>$s(t,n):t};function Ep(e){e.target.composing=!0}function da(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const e_={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e._assign=ua(r);const s=i||r.props&&r.props.type==="number";mi(e,t?"change":"input",o=>{if(o.target.composing)return;let l=e.value;n&&(l=l.trim()),s&&(l=co(l)),e._assign(l)}),n&&mi(e,"change",()=>{e.value=e.value.trim()}),t||(mi(e,"compositionstart",Ep),mi(e,"compositionend",da),mi(e,"change",da))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:r}},s){if(e._assign=ua(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===t||(r||e.type==="number")&&co(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},kp=["ctrl","shift","alt","meta"],Pp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>kp.some(n=>e[`${n}Key`]&&!t.includes(n))},hl=(e,t)=>(n,...i)=>{for(let r=0;r<t.length;r++){const s=Pp[t[r]];if(s&&s(n,t))return}return e(n,...i)},Rp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},es=(e,t)=>n=>{if(!("key"in n))return;const i=ri(n.key);if(t.some(r=>r===i||Rp[r]===i))return e(n)},t_={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ui(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Ui(e,!0),i.enter(e)):i.leave(e,()=>{Ui(e,!1)}):Ui(e,t))},beforeUnmount(e,{value:t}){Ui(e,t)}};function Ui(e,t){e.style.display=t?e._vod:"none"}const Ap=dt({patchProp:mp},np);let ha;function Op(){return ha||(ha=Lf(Ap))}const Mp=(...e)=>{const t=Op().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=Lp(i);if(!r)return;const s=t._component;!Ie(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function Lp(e){return Qe(e)?document.querySelector(e):e}var Tp=!1;/*!
  * pinia v2.0.30
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let mu;const Er=e=>mu=e,gu=Symbol();function Co(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ts;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ts||(ts={}));function Fp(){const e=$o(!0),t=e.run(()=>ut({}));let n=[],i=[];const r=si({install(s){Er(r),r._a=s,s.provide(gu,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return!this._a&&!Tp?i.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const bu=()=>{};function fa(e,t,n,i=bu){e.push(t);const r=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!n&&Go()&&gc(r),r}function hi(e,...t){e.slice().forEach(n=>{n(...t)})}function Io(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],r=e[n];Co(r)&&Co(i)&&e.hasOwnProperty(n)&&!Ze(i)&&!On(i)?e[n]=Io(r,i):e[n]=i}return e}const Dp=Symbol();function Bp(e){return!Co(e)||!e.hasOwnProperty(Dp)}const{assign:kn}=Object;function Np(e){return!!(Ze(e)&&e.effect)}function zp(e,t,n,i){const{state:r,actions:s,getters:o}=t,l=n.state.value[e];let c;function a(){l||(n.state.value[e]=r?r():{});const d=Vh(n.state.value[e]);return kn(d,s,Object.keys(o||{}).reduce((u,h)=>(u[h]=si(Ve(()=>{Er(n);const f=n._s.get(e);return o[h].call(f,f)})),u),{}))}return c=yu(e,a,t,n,i,!0),c.$reset=function(){const u=r?r():{};this.$patch(h=>{kn(h,u)})},c}function yu(e,t,n={},i,r,s){let o;const l=kn({actions:{}},n),c={deep:!0};let a,d,u=si([]),h=si([]),f;const v=i.state.value[e];!s&&!v&&(i.state.value[e]={}),ut({});let C;function E(pe){let q;a=d=!1,typeof pe=="function"?(pe(i.state.value[e]),q={type:ts.patchFunction,storeId:e,events:f}):(Io(i.state.value[e],pe),q={type:ts.patchObject,payload:pe,storeId:e,events:f});const ge=C=Symbol();br().then(()=>{C===ge&&(a=!0)}),d=!0,hi(u,q,i.state.value[e])}const P=bu;function O(){o.stop(),u=[],h=[],i._s.delete(e)}function z(pe,q){return function(){Er(i);const ge=Array.from(arguments),xe=[],Ee=[];function te(We){xe.push(We)}function Te(We){Ee.push(We)}hi(h,{args:ge,name:pe,store:de,after:te,onError:Te});let He;try{He=q.apply(this&&this.$id===e?this:de,ge)}catch(We){throw hi(Ee,We),We}return He instanceof Promise?He.then(We=>(hi(xe,We),We)).catch(We=>(hi(Ee,We),Promise.reject(We))):(hi(xe,He),He)}}const ie={_p:i,$id:e,$onAction:fa.bind(null,h),$patch:E,$reset:P,$subscribe(pe,q={}){const ge=fa(u,pe,q.detached,()=>xe()),xe=o.run(()=>en(()=>i.state.value[e],Ee=>{(q.flush==="sync"?d:a)&&pe({storeId:e,type:ts.direct,events:f},Ee)},kn({},c,q)));return ge},$dispose:O},de=Nt(ie);i._s.set(e,de);const _e=i._e.run(()=>(o=$o(),o.run(()=>t())));for(const pe in _e){const q=_e[pe];if(Ze(q)&&!Np(q)||On(q))s||(v&&Bp(q)&&(Ze(q)?q.value=v[pe]:Io(q,v[pe])),i.state.value[e][pe]=q);else if(typeof q=="function"){const ge=z(pe,q);_e[pe]=ge,l.actions[pe]=q}}return kn(de,_e),kn(Ae(de),_e),Object.defineProperty(de,"$state",{get:()=>i.state.value[e],set:pe=>{E(q=>{kn(q,pe)})}}),i._p.forEach(pe=>{kn(de,o.run(()=>pe({store:de,app:i._a,pinia:i,options:l})))}),v&&s&&n.hydrate&&n.hydrate(de.$state,v),a=!0,d=!0,de}function kr(e,t,n){let i,r;const s=typeof t=="function";typeof e=="string"?(i=e,r=s?n:t):(r=e,i=e.id);function o(l,c){const a=Ir();return l=l||a&&Dt(gu,null),l&&Er(l),l=mu,l._s.has(i)||(s?yu(i,t,r,l):zp(i,r,l)),l._s.get(i)}return o.$id=i,o}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const gi=typeof window<"u";function jp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ne=Object.assign;function Zr(e,t){const n={};for(const i in t){const r=t[i];n[i]=tn(r)?r.map(e):e(r)}return n}const ns=()=>{},tn=Array.isArray,Kp=/\/$/,Vp=e=>e.replace(Kp,"");function Xr(e,t,n="/"){let i,r={},s="",o="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(i=t.slice(0,c),s=t.slice(c+1,l>-1?l:t.length),r=e(s)),l>-1&&(i=i||t.slice(0,l),o=t.slice(l,t.length)),i=Gp(i??t,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:o}}function Hp(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function pa(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Up(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&Ai(t.matched[i],n.matched[r])&&wu(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ai(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function wu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!$p(e[n],t[n]))return!1;return!0}function $p(e,t){return tn(e)?ma(e,t):tn(t)?ma(t,e):e===t}function ma(e,t){return tn(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function Gp(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let r=n.length-1,s,o;for(s=0;s<i.length;s++)if(o=i[s],o!==".")if(o==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(s-(s===i.length?1:0)).join("/")}var ms;(function(e){e.pop="pop",e.push="push"})(ms||(ms={}));var is;(function(e){e.back="back",e.forward="forward",e.unknown=""})(is||(is={}));function qp(e){if(!e)if(gi){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Vp(e)}const Wp=/^[^#]+#/;function Jp(e,t){return e.replace(Wp,"#")+t}function Yp(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Pr=()=>({left:window.pageXOffset,top:window.pageYOffset});function Zp(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Yp(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function ga(e,t){return(history.state?history.state.position-t:-1)+e}const So=new Map;function Xp(e,t){So.set(e,t)}function Qp(e){const t=So.get(e);return So.delete(e),t}let em=()=>location.protocol+"//"+location.host;function xu(e,t){const{pathname:n,search:i,hash:r}=t,s=e.indexOf("#");if(s>-1){let l=r.includes(e.slice(s))?e.slice(s).length:1,c=r.slice(l);return c[0]!=="/"&&(c="/"+c),pa(c,"")}return pa(n,e)+i+r}function tm(e,t,n,i){let r=[],s=[],o=null;const l=({state:h})=>{const f=xu(e,location),v=n.value,C=t.value;let E=0;if(h){if(n.value=f,t.value=h,o&&o===v){o=null;return}E=C?h.position-C.position:0}else i(f);r.forEach(P=>{P(n.value,v,{delta:E,type:ms.pop,direction:E?E>0?is.forward:is.back:is.unknown})})};function c(){o=n.value}function a(h){r.push(h);const f=()=>{const v=r.indexOf(h);v>-1&&r.splice(v,1)};return s.push(f),f}function d(){const{history:h}=window;h.state&&h.replaceState(Ne({},h.state,{scroll:Pr()}),"")}function u(){for(const h of s)h();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d),{pauseListeners:c,listen:a,destroy:u}}function ba(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?Pr():null}}function nm(e){const{history:t,location:n}=window,i={value:xu(e,n)},r={value:t.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(c,a,d){const u=e.indexOf("#"),h=u>-1?(n.host&&document.querySelector("base")?e:e.slice(u))+c:em()+e+c;try{t[d?"replaceState":"pushState"](a,"",h),r.value=a}catch(f){console.error(f),n[d?"replace":"assign"](h)}}function o(c,a){const d=Ne({},t.state,ba(r.value.back,c,r.value.forward,!0),a,{position:r.value.position});s(c,d,!0),i.value=c}function l(c,a){const d=Ne({},r.value,t.state,{forward:c,scroll:Pr()});s(d.current,d,!0);const u=Ne({},ba(i.value,c,null),{position:d.position+1},a);s(c,u,!1),i.value=c}return{location:i,state:r,push:l,replace:o}}function im(e){e=qp(e);const t=nm(e),n=tm(e,t.state,t.location,t.replace);function i(s,o=!0){o||n.pauseListeners(),history.go(s)}const r=Ne({location:"",base:e,go:i,createHref:Jp.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function sm(e){return typeof e=="string"||e&&typeof e=="object"}function vu(e){return typeof e=="string"||typeof e=="symbol"}const In={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},_u=Symbol("");var ya;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ya||(ya={}));function Oi(e,t){return Ne(new Error,{type:e,[_u]:!0},t)}function fn(e,t){return e instanceof Error&&_u in e&&(t==null||!!(e.type&t))}const wa="[^/]+?",rm={sensitive:!1,strict:!1,start:!0,end:!0},om=/[.+*?^${}()[\]/\\]/g;function lm(e,t){const n=Ne({},rm,t),i=[];let r=n.start?"^":"";const s=[];for(const a of e){const d=a.length?[]:[90];n.strict&&!a.length&&(r+="/");for(let u=0;u<a.length;u++){const h=a[u];let f=40+(n.sensitive?.25:0);if(h.type===0)u||(r+="/"),r+=h.value.replace(om,"\\$&"),f+=40;else if(h.type===1){const{value:v,repeatable:C,optional:E,regexp:P}=h;s.push({name:v,repeatable:C,optional:E});const O=P||wa;if(O!==wa){f+=10;try{new RegExp(`(${O})`)}catch(ie){throw new Error(`Invalid custom RegExp for param "${v}" (${O}): `+ie.message)}}let z=C?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;u||(z=E&&a.length<2?`(?:/${z})`:"/"+z),E&&(z+="?"),r+=z,f+=20,E&&(f+=-8),C&&(f+=-20),O===".*"&&(f+=-50)}d.push(f)}i.push(d)}if(n.strict&&n.end){const a=i.length-1;i[a][i[a].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function l(a){const d=a.match(o),u={};if(!d)return null;for(let h=1;h<d.length;h++){const f=d[h]||"",v=s[h-1];u[v.name]=f&&v.repeatable?f.split("/"):f}return u}function c(a){let d="",u=!1;for(const h of e){(!u||!d.endsWith("/"))&&(d+="/"),u=!1;for(const f of h)if(f.type===0)d+=f.value;else if(f.type===1){const{value:v,repeatable:C,optional:E}=f,P=v in a?a[v]:"";if(tn(P)&&!C)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const O=tn(P)?P.join("/"):P;if(!O)if(E)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):u=!0);else throw new Error(`Missing required param "${v}"`);d+=O}}return d||"/"}return{re:o,score:i,keys:s,parse:l,stringify:c}}function am(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function cm(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const s=am(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(xa(i))return 1;if(xa(r))return-1}return r.length-i.length}function xa(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const um={type:0,value:""},dm=/[a-zA-Z0-9_]/;function hm(e){if(!e)return[[]];if(e==="/")return[[um]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${a}": ${f}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let l=0,c,a="",d="";function u(){a&&(n===0?s.push({type:0,value:a}):n===1||n===2||n===3?(s.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${a}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:a,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),a="")}function h(){a+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:c==="/"?(a&&u(),o()):c===":"?(u(),n=1):h();break;case 4:h(),n=i;break;case 1:c==="("?n=2:dm.test(c)?h():(u(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:n=3:d+=c;break;case 3:u(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${a}"`),u(),o(),r}function fm(e,t,n){const i=lm(hm(e.path),n),r=Ne(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function pm(e,t){const n=[],i=new Map;t=Ca({strict:!1,end:!0,sensitive:!1},t);function r(d){return i.get(d)}function s(d,u,h){const f=!h,v=mm(d);v.aliasOf=h&&h.record;const C=Ca(t,d),E=[v];if("alias"in d){const z=typeof d.alias=="string"?[d.alias]:d.alias;for(const ie of z)E.push(Ne({},v,{components:h?h.record.components:v.components,path:ie,aliasOf:h?h.record:v}))}let P,O;for(const z of E){const{path:ie}=z;if(u&&ie[0]!=="/"){const de=u.record.path,_e=de[de.length-1]==="/"?"":"/";z.path=u.record.path+(ie&&_e+ie)}if(P=fm(z,u,C),h?h.alias.push(P):(O=O||P,O!==P&&O.alias.push(P),f&&d.name&&!_a(P)&&o(d.name)),v.children){const de=v.children;for(let _e=0;_e<de.length;_e++)s(de[_e],P,h&&h.children[_e])}h=h||P,(P.record.components&&Object.keys(P.record.components).length||P.record.name||P.record.redirect)&&c(P)}return O?()=>{o(O)}:ns}function o(d){if(vu(d)){const u=i.get(d);u&&(i.delete(d),n.splice(n.indexOf(u),1),u.children.forEach(o),u.alias.forEach(o))}else{const u=n.indexOf(d);u>-1&&(n.splice(u,1),d.record.name&&i.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function l(){return n}function c(d){let u=0;for(;u<n.length&&cm(d,n[u])>=0&&(d.record.path!==n[u].record.path||!Cu(d,n[u]));)u++;n.splice(u,0,d),d.record.name&&!_a(d)&&i.set(d.record.name,d)}function a(d,u){let h,f={},v,C;if("name"in d&&d.name){if(h=i.get(d.name),!h)throw Oi(1,{location:d});C=h.record.name,f=Ne(va(u.params,h.keys.filter(O=>!O.optional).map(O=>O.name)),d.params&&va(d.params,h.keys.map(O=>O.name))),v=h.stringify(f)}else if("path"in d)v=d.path,h=n.find(O=>O.re.test(v)),h&&(f=h.parse(v),C=h.record.name);else{if(h=u.name?i.get(u.name):n.find(O=>O.re.test(u.path)),!h)throw Oi(1,{location:d,currentLocation:u});C=h.record.name,f=Ne({},u.params,d.params),v=h.stringify(f)}const E=[];let P=h;for(;P;)E.unshift(P.record),P=P.parent;return{name:C,path:v,params:f,matched:E,meta:bm(E)}}return e.forEach(d=>s(d)),{addRoute:s,resolve:a,removeRoute:o,getRoutes:l,getRecordMatcher:r}}function va(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function mm(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:gm(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function gm(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="boolean"?n:n[i];return t}function _a(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function bm(e){return e.reduce((t,n)=>Ne(t,n.meta),{})}function Ca(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function Cu(e,t){return t.children.some(n=>n===e||Cu(e,n))}const Iu=/#/g,ym=/&/g,wm=/\//g,xm=/=/g,vm=/\?/g,Su=/\+/g,_m=/%5B/g,Cm=/%5D/g,Eu=/%5E/g,Im=/%60/g,ku=/%7B/g,Sm=/%7C/g,Pu=/%7D/g,Em=/%20/g;function fl(e){return encodeURI(""+e).replace(Sm,"|").replace(_m,"[").replace(Cm,"]")}function km(e){return fl(e).replace(ku,"{").replace(Pu,"}").replace(Eu,"^")}function Eo(e){return fl(e).replace(Su,"%2B").replace(Em,"+").replace(Iu,"%23").replace(ym,"%26").replace(Im,"`").replace(ku,"{").replace(Pu,"}").replace(Eu,"^")}function Pm(e){return Eo(e).replace(xm,"%3D")}function Rm(e){return fl(e).replace(Iu,"%23").replace(vm,"%3F")}function Am(e){return e==null?"":Rm(e).replace(wm,"%2F")}function tr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Om(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(Su," "),o=s.indexOf("="),l=tr(o<0?s:s.slice(0,o)),c=o<0?null:tr(s.slice(o+1));if(l in t){let a=t[l];tn(a)||(a=t[l]=[a]),a.push(c)}else t[l]=c}return t}function Ia(e){let t="";for(let n in e){const i=e[n];if(n=Pm(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(tn(i)?i.map(s=>s&&Eo(s)):[i&&Eo(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Mm(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=tn(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const Lm=Symbol(""),Sa=Symbol(""),Rr=Symbol(""),Ru=Symbol(""),ko=Symbol("");function $i(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Pn(e,t,n,i,r){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((o,l)=>{const c=u=>{u===!1?l(Oi(4,{from:n,to:t})):u instanceof Error?l(u):sm(u)?l(Oi(2,{from:t,to:u})):(s&&i.enterCallbacks[r]===s&&typeof u=="function"&&s.push(u),o())},a=e.call(i&&i.instances[r],t,n,c);let d=Promise.resolve(a);e.length<3&&(d=d.then(c)),d.catch(u=>l(u))})}function Qr(e,t,n,i){const r=[];for(const s of e)for(const o in s.components){let l=s.components[o];if(!(t!=="beforeRouteEnter"&&!s.instances[o]))if(Tm(l)){const a=(l.__vccOpts||l)[t];a&&r.push(Pn(a,n,i,s,o))}else{let c=l();r.push(()=>c.then(a=>{if(!a)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const d=jp(a)?a.default:a;s.components[o]=d;const h=(d.__vccOpts||d)[t];return h&&Pn(h,n,i,s,o)()}))}}return r}function Tm(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ea(e){const t=Dt(Rr),n=Dt(Ru),i=Ve(()=>t.resolve(me(e.to))),r=Ve(()=>{const{matched:c}=i.value,{length:a}=c,d=c[a-1],u=n.matched;if(!d||!u.length)return-1;const h=u.findIndex(Ai.bind(null,d));if(h>-1)return h;const f=ka(c[a-2]);return a>1&&ka(d)===f&&u[u.length-1].path!==f?u.findIndex(Ai.bind(null,c[a-2])):h}),s=Ve(()=>r.value>-1&&Nm(n.params,i.value.params)),o=Ve(()=>r.value>-1&&r.value===n.matched.length-1&&wu(n.params,i.value.params));function l(c={}){return Bm(c)?t[me(e.replace)?"replace":"push"](me(e.to)).catch(ns):Promise.resolve()}return{route:i,href:Ve(()=>i.value.href),isActive:s,isExactActive:o,navigate:l}}const Fm=xs({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ea,setup(e,{slots:t}){const n=Nt(Ea(e)),{options:i}=Dt(Rr),r=Ve(()=>({[Pa(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Pa(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:dl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),Dm=Fm;function Bm(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Nm(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!tn(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function ka(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Pa=(e,t,n)=>e??t??n,zm=xs({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=Dt(ko),r=Ve(()=>e.route||i.value),s=Dt(Sa,0),o=Ve(()=>{let a=me(s);const{matched:d}=r.value;let u;for(;(u=d[a])&&!u.components;)a++;return a}),l=Ve(()=>r.value.matched[o.value]);Gs(Sa,Ve(()=>o.value+1)),Gs(Lm,l),Gs(ko,r);const c=ut();return en(()=>[c.value,l.value,e.name],([a,d,u],[h,f,v])=>{d&&(d.instances[u]=a,f&&f!==d&&a&&a===h&&(d.leaveGuards.size||(d.leaveGuards=f.leaveGuards),d.updateGuards.size||(d.updateGuards=f.updateGuards))),a&&d&&(!f||!Ai(d,f)||!h)&&(d.enterCallbacks[u]||[]).forEach(C=>C(a))},{flush:"post"}),()=>{const a=r.value,d=e.name,u=l.value,h=u&&u.components[d];if(!h)return Ra(n.default,{Component:h,route:a});const f=u.props[d],v=f?f===!0?a.params:typeof f=="function"?f(a):f:null,E=dl(h,Ne({},v,t,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(u.instances[d]=null)},ref:c}));return Ra(n.default,{Component:E,route:a})||E}}});function Ra(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Au=zm;function jm(e){const t=pm(e.routes,e),n=e.parseQuery||Om,i=e.stringifyQuery||Ia,r=e.history,s=$i(),o=$i(),l=$i(),c=zh(In);let a=In;gi&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Zr.bind(null,D=>""+D),u=Zr.bind(null,Am),h=Zr.bind(null,tr);function f(D,Q){let G,re;return vu(D)?(G=t.getRecordMatcher(D),re=Q):re=D,t.addRoute(re,G)}function v(D){const Q=t.getRecordMatcher(D);Q&&t.removeRoute(Q)}function C(){return t.getRoutes().map(D=>D.record)}function E(D){return!!t.getRecordMatcher(D)}function P(D,Q){if(Q=Ne({},Q||c.value),typeof D=="string"){const y=Xr(n,D,Q.path),_=t.resolve({path:y.path},Q),M=r.createHref(y.fullPath);return Ne(y,_,{params:h(_.params),hash:tr(y.hash),redirectedFrom:void 0,href:M})}let G;if("path"in D)G=Ne({},D,{path:Xr(n,D.path,Q.path).path});else{const y=Ne({},D.params);for(const _ in y)y[_]==null&&delete y[_];G=Ne({},D,{params:u(D.params)}),Q.params=u(Q.params)}const re=t.resolve(G,Q),ne=D.hash||"";re.params=d(h(re.params));const ke=Hp(i,Ne({},D,{hash:km(ne),path:re.path})),Ce=r.createHref(ke);return Ne({fullPath:ke,hash:ne,query:i===Ia?Mm(D.query):D.query||{}},re,{redirectedFrom:void 0,href:Ce})}function O(D){return typeof D=="string"?Xr(n,D,c.value.path):Ne({},D)}function z(D,Q){if(a!==D)return Oi(8,{from:Q,to:D})}function ie(D){return pe(D)}function de(D){return ie(Ne(O(D),{replace:!0}))}function _e(D){const Q=D.matched[D.matched.length-1];if(Q&&Q.redirect){const{redirect:G}=Q;let re=typeof G=="function"?G(D):G;return typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=O(re):{path:re},re.params={}),Ne({query:D.query,hash:D.hash,params:"path"in re?{}:D.params},re)}}function pe(D,Q){const G=a=P(D),re=c.value,ne=D.state,ke=D.force,Ce=D.replace===!0,y=_e(G);if(y)return pe(Ne(O(y),{state:typeof y=="object"?Ne({},ne,y.state):ne,force:ke,replace:Ce}),Q||G);const _=G;_.redirectedFrom=Q;let M;return!ke&&Up(i,re,G)&&(M=Oi(16,{to:_,from:re}),ht(re,re,!0,!1)),(M?Promise.resolve(M):ge(_,re)).catch(L=>fn(L)?fn(L,2)?L:yt(L):Be(L,_,re)).then(L=>{if(L){if(fn(L,2))return pe(Ne({replace:Ce},O(L.to),{state:typeof L.to=="object"?Ne({},ne,L.to.state):ne,force:ke}),Q||_)}else L=Ee(_,re,!0,Ce,ne);return xe(_,re,L),L})}function q(D,Q){const G=z(D,Q);return G?Promise.reject(G):Promise.resolve()}function ge(D,Q){let G;const[re,ne,ke]=Km(D,Q);G=Qr(re.reverse(),"beforeRouteLeave",D,Q);for(const y of re)y.leaveGuards.forEach(_=>{G.push(Pn(_,D,Q))});const Ce=q.bind(null,D,Q);return G.push(Ce),fi(G).then(()=>{G=[];for(const y of s.list())G.push(Pn(y,D,Q));return G.push(Ce),fi(G)}).then(()=>{G=Qr(ne,"beforeRouteUpdate",D,Q);for(const y of ne)y.updateGuards.forEach(_=>{G.push(Pn(_,D,Q))});return G.push(Ce),fi(G)}).then(()=>{G=[];for(const y of D.matched)if(y.beforeEnter&&!Q.matched.includes(y))if(tn(y.beforeEnter))for(const _ of y.beforeEnter)G.push(Pn(_,D,Q));else G.push(Pn(y.beforeEnter,D,Q));return G.push(Ce),fi(G)}).then(()=>(D.matched.forEach(y=>y.enterCallbacks={}),G=Qr(ke,"beforeRouteEnter",D,Q),G.push(Ce),fi(G))).then(()=>{G=[];for(const y of o.list())G.push(Pn(y,D,Q));return G.push(Ce),fi(G)}).catch(y=>fn(y,8)?y:Promise.reject(y))}function xe(D,Q,G){for(const re of l.list())re(D,Q,G)}function Ee(D,Q,G,re,ne){const ke=z(D,Q);if(ke)return ke;const Ce=Q===In,y=gi?history.state:{};G&&(re||Ce?r.replace(D.fullPath,Ne({scroll:Ce&&y&&y.scroll},ne)):r.push(D.fullPath,ne)),c.value=D,ht(D,Q,G,Ce),yt()}let te;function Te(){te||(te=r.listen((D,Q,G)=>{if(!jn.listening)return;const re=P(D),ne=_e(re);if(ne){pe(Ne(ne,{replace:!0}),re).catch(ns);return}a=re;const ke=c.value;gi&&Xp(ga(ke.fullPath,G.delta),Pr()),ge(re,ke).catch(Ce=>fn(Ce,12)?Ce:fn(Ce,2)?(pe(Ce.to,re).then(y=>{fn(y,20)&&!G.delta&&G.type===ms.pop&&r.go(-1,!1)}).catch(ns),Promise.reject()):(G.delta&&r.go(-G.delta,!1),Be(Ce,re,ke))).then(Ce=>{Ce=Ce||Ee(re,ke,!1),Ce&&(G.delta&&!fn(Ce,8)?r.go(-G.delta,!1):G.type===ms.pop&&fn(Ce,20)&&r.go(-1,!1)),xe(re,ke,Ce)}).catch(ns)}))}let He=$i(),We=$i(),Ue;function Be(D,Q,G){yt(D);const re=We.list();return re.length?re.forEach(ne=>ne(D,Q,G)):console.error(D),Promise.reject(D)}function Me(){return Ue&&c.value!==In?Promise.resolve():new Promise((D,Q)=>{He.add([D,Q])})}function yt(D){return Ue||(Ue=!D,Te(),He.list().forEach(([Q,G])=>D?G(D):Q()),He.reset()),D}function ht(D,Q,G,re){const{scrollBehavior:ne}=e;if(!gi||!ne)return Promise.resolve();const ke=!G&&Qp(ga(D.fullPath,0))||(re||!G)&&history.state&&history.state.scroll||null;return br().then(()=>ne(D,Q,ke)).then(Ce=>Ce&&Zp(Ce)).catch(Ce=>Be(Ce,D,Q))}const ft=D=>r.go(D);let et;const Rt=new Set,jn={currentRoute:c,listening:!0,addRoute:f,removeRoute:v,hasRoute:E,getRoutes:C,resolve:P,options:e,push:ie,replace:de,go:ft,back:()=>ft(-1),forward:()=>ft(1),beforeEach:s.add,beforeResolve:o.add,afterEach:l.add,onError:We.add,isReady:Me,install(D){const Q=this;D.component("RouterLink",Dm),D.component("RouterView",Au),D.config.globalProperties.$router=Q,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>me(c)}),gi&&!et&&c.value===In&&(et=!0,ie(r.location).catch(ne=>{}));const G={};for(const ne in In)G[ne]=Ve(()=>c.value[ne]);D.provide(Rr,Q),D.provide(Ru,Nt(G)),D.provide(ko,c);const re=D.unmount;Rt.add(D),D.unmount=function(){Rt.delete(D),Rt.size<1&&(a=In,te&&te(),te=null,c.value=In,et=!1,Ue=!1),re()}}};return jn}function fi(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function Km(e,t){const n=[],i=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const l=t.matched[o];l&&(e.matched.find(a=>Ai(a,l))?i.push(l):n.push(l));const c=e.matched[o];c&&(t.matched.find(a=>Ai(a,c))||r.push(c))}return[n,i,r]}function Vm(){return Dt(Rr)}var R={innerWidth(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0},width(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0},getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth(e,t){if(e){let n=e.offsetWidth;if(t){let i=getComputedStyle(e);n+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return n}return 0},getOuterHeight(e,t){if(e){let n=e.offsetHeight;if(t){let i=getComputedStyle(e);n+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return n}return 0},getClientHeight(e,t){if(e){let n=e.clientHeight;if(t){let i=getComputedStyle(e);n+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return n}return 0},getViewport(){let e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0],r=e.innerWidth||n.clientWidth||i.clientWidth,s=e.innerHeight||n.clientHeight||i.clientHeight;return{width:r,height:s}},getOffset(e){if(e){let t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index(e){if(e){let t=e.parentNode.childNodes,n=0;for(let i=0;i<t.length;i++){if(t[i]===e)return n;t[i].nodeType===1&&n++}}return-1},addMultipleClasses(e,t){if(e&&t)if(e.classList){let n=t.split(" ");for(let i=0;i<n.length;i++)e.classList.add(n[i])}else{let n=t.split(" ");for(let i=0;i<n.length;i++)e.className+=" "+n[i]}},addClass(e,t){e&&t&&(e.classList?e.classList.add(t):e.className+=" "+t)},removeClass(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass(e,t){return e?e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className):!1},find(e,t){return this.isElement(e)?e.querySelectorAll(t):[]},findSingle(e,t){return this.isElement(e)?e.querySelector(t):null},getHeight(e){if(e){let t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),t}return 0},getWidth(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),t}return 0},absolutePosition(e,t){if(e){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),i=n.height,r=n.width,s=t.offsetHeight,o=t.offsetWidth,l=t.getBoundingClientRect(),c=this.getWindowScrollTop(),a=this.getWindowScrollLeft(),d=this.getViewport(),u,h;l.top+s+i>d.height?(u=l.top+c-i,e.style.transformOrigin="bottom",u<0&&(u=c)):(u=s+l.top+c,e.style.transformOrigin="top"),l.left+r>d.width?h=Math.max(0,l.left+a+o-r):h=l.left+a,e.style.top=u+"px",e.style.left=h+"px"}},relativePosition(e,t){if(e){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const i=t.offsetHeight,r=t.getBoundingClientRect(),s=this.getViewport();let o,l;r.top+i+n.height>s.height?(o=-1*n.height,e.style.transformOrigin="bottom",r.top+o<0&&(o=-1*r.top)):(o=i,e.style.transformOrigin="top"),n.width>s.width?l=r.left*-1:r.left+n.width>s.width?l=(r.left+n.width-s.width)*-1:l=0,e.style.top=o+"px",e.style.left=l+"px"}},getParents(e,t=[]){return e.parentNode===null?t:this.getParents(e.parentNode,t.concat([e.parentNode]))},getScrollableParents(e){let t=[];if(e){let n=this.getParents(e);const i=/(auto|scroll)/,r=s=>{let o=window.getComputedStyle(s,null);return i.test(o.getPropertyValue("overflow"))||i.test(o.getPropertyValue("overflowX"))||i.test(o.getPropertyValue("overflowY"))};for(let s of n){let o=s.nodeType===1&&s.dataset.scrollselectors;if(o){let l=o.split(",");for(let c of l){let a=this.findSingle(s,c);a&&r(a)&&t.push(a)}}s.nodeType!==9&&r(s)&&t.push(s)}}return t},getHiddenElementOuterHeight(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementOuterWidth(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementDimensions(e){if(e){let t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}return 0},fadeIn(e,t){if(e){e.style.opacity=0;let n=+new Date,i=0,r=function(){i=+e.style.opacity+(new Date().getTime()-n)/t,e.style.opacity=i,n=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(r)||setTimeout(r,16))};r()}},fadeOut(e,t){if(e){let n=1,i=50,r=t,s=i/r,o=setInterval(()=>{n-=s,n<=0&&(n=0,clearInterval(o)),e.style.opacity=n},i)}},getUserAgent(){return navigator.userAgent},appendChild(e,t){if(this.isElement(t))t.appendChild(e);else if(t.el&&t.elElement)t.elElement.appendChild(e);else throw new Error("Cannot append "+t+" to "+e)},isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView(e,t){let n=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=n?parseFloat(n):0,r=getComputedStyle(e).getPropertyValue("paddingTop"),s=r?parseFloat(r):0,o=e.getBoundingClientRect(),c=t.getBoundingClientRect().top+document.body.scrollTop-(o.top+document.body.scrollTop)-i-s,a=e.scrollTop,d=e.clientHeight,u=this.getOuterHeight(t);c<0?e.scrollTop=a+c:c+u>d&&(e.scrollTop=a+c-d+u)},clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t},getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),t=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},isVisible(e){return e&&e.offsetParent!=null},invokeElementMethod(e,t,n){e[t].apply(e,n)},isExist(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode)},isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus(e,t){e&&document.activeElement!==e&&e.focus(t)},isFocusableElement(e,t=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`):!1},getFocusableElements(e,t=""){let n=this.find(e,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`),i=[];for(let r of n)getComputedStyle(r).display!="none"&&getComputedStyle(r).visibility!="hidden"&&i.push(r);return i},getFirstFocusableElement(e,t){const n=this.getFocusableElements(e,t);return n.length>0?n[0]:null},getLastFocusableElement(e,t){const n=this.getFocusableElements(e,t);return n.length>0?n[n.length-1]:null},getNextFocusableElement(e,t,n){const i=this.getFocusableElements(e,n),r=i.length>0?i.findIndex(o=>o===t):-1,s=r>-1&&i.length>=r+1?r+1:-1;return s>-1?i[s]:null},isClickable(e){const t=e.nodeName,n=e.parentElement&&e.parentElement.nodeName;return t=="INPUT"||t=="BUTTON"||t=="A"||n=="INPUT"||n=="BUTTON"||n=="A"||this.hasClass(e,"p-button")||this.hasClass(e.parentElement,"p-button")||this.hasClass(e.parentElement,"p-checkbox")||this.hasClass(e.parentElement,"p-radiobutton")},applyStyle(e,t){if(typeof t=="string")e.style.cssText=t;else for(let n in t)e.style[n]=t[n]},isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid(){return/(android)/i.test(navigator.userAgent)},isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},exportCSV(e,t){let n=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(n,t+".csv");else{let i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(n)),i.setAttribute("download",t+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}}};class pl{constructor(t,n=()=>{}){this.element=t,this.listener=n}bindScrollListener(){this.scrollableParents=R.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}function ml(){const e=new Map;return{on(t,n){let i=e.get(t);i?i.push(n):i=[n],e.set(t,i)},off(t,n){let i=e.get(t);i&&i.splice(i.indexOf(n)>>>0,1)},emit(t,n){let i=e.get(t);i&&i.slice().map(r=>{r(n)})}}}var j={equals(e,t,n){return n?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)},deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),i=Array.isArray(t),r,s,o;if(n&&i){if(s=e.length,s!=t.length)return!1;for(r=s;r--!==0;)if(!this.deepEquals(e[r],t[r]))return!1;return!0}if(n!=i)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var a=e instanceof RegExp,d=t instanceof RegExp;if(a!=d)return!1;if(a&&d)return e.toString()==t.toString();var u=Object.keys(e);if(s=u.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,u[r]))return!1;for(r=s;r--!==0;)if(o=u[r],!this.deepEquals(e[o],t[o]))return!1;return!0}return e!==e&&t!==t},resolveFieldData(e,t){if(e&&Object.keys(e).length&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")===-1)return e[t];{let r=t.split("."),s=e;for(var n=0,i=r.length;n<i;++n){if(s==null)return null;s=s[r[n]]}return s}}else return null},isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)},getItemValue(e,...t){return this.isFunction(e)?e(...t):e},filter(e,t,n){var i=[];if(e){for(let r of e)for(let s of t)if(String(this.resolveFieldData(r,s)).toLowerCase().indexOf(n.toLowerCase())>-1){i.push(r);break}}return i},reorderArray(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))},findIndexInList(e,t){let n=-1;if(t){for(let i=0;i<t.length;i++)if(t[i]===e){n=i;break}}return n},contains(e,t){if(e!=null&&t&&t.length){for(let n of t)if(this.equals(e,n))return!0}return!1},insertIntoOrderedArray(e,t,n,i){if(n.length>0){let r=!1;for(let s=0;s<n.length;s++)if(this.findIndexInList(n[s],i)>t){n.splice(s,0,e),r=!0;break}r||n.push(e)}else n.push(e)},removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp(e,t){let n=e.props;if(n){let i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=Object.prototype.hasOwnProperty.call(n,i)?i:t;return e.type.props[t].type===Boolean&&n[r]===""?!0:n[r]}return null},isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&typeof e=="object"&&Object.keys(e).length===0},isNotEmpty(e){return!this.isEmpty(e)},isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast(e,t){let n;if(this.isNotEmpty(e))try{n=e.findLast(t)}catch{n=[...e].reverse().find(t)}return n},findLastIndex(e,t){let n=-1;if(this.isNotEmpty(e))try{n=e.findLastIndex(t)}catch{n=e.lastIndexOf([...e].reverse().find(t))}return n}},Aa=0;function zt(e="pv_id_"){return Aa++,`${e}${Aa}`}function Hm(){let e=[];const t=(o,l,c=999)=>{const a=r(o,l,c),d=a.value+(a.key===o?0:c)+1;return e.push({key:o,value:d}),d},n=o=>{e=e.filter(l=>l.value!==o)},i=(o,l)=>r(o,l).value,r=(o,l,c=0)=>[...e].reverse().find(a=>l?!0:a.key===o)||{key:o,value:c},s=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:s,set:(o,l,c)=>{l&&(l.style.zIndex=String(t(o,!0,c)))},clear:o=>{o&&(n(s(o)),o.style.zIndex="")},getCurrent:o=>i(o,!0)}}var it=Hm();let Po;function Um(e){e.addEventListener("mousedown",Ou)}function $m(e){e.removeEventListener("mousedown",Ou)}function Gm(e){let t=document.createElement("span");t.className="p-ink",t.setAttribute("role","presentation"),t.setAttribute("aria-hidden","true"),e.appendChild(t),t.addEventListener("animationend",Mu)}function qm(e){let t=Lu(e);t&&($m(e),t.removeEventListener("animationend",Mu),t.remove())}function Ou(e){let t=e.currentTarget,n=Lu(t);if(!n||getComputedStyle(n,null).display==="none")return;if(R.removeClass(n,"p-ink-active"),!R.getHeight(n)&&!R.getWidth(n)){let o=Math.max(R.getOuterWidth(t),R.getOuterHeight(t));n.style.height=o+"px",n.style.width=o+"px"}let i=R.getOffset(t),r=e.pageX-i.left+document.body.scrollTop-R.getWidth(n)/2,s=e.pageY-i.top+document.body.scrollLeft-R.getHeight(n)/2;n.style.top=s+"px",n.style.left=r+"px",R.addClass(n,"p-ink-active"),Po=setTimeout(()=>{n&&R.removeClass(n,"p-ink-active")},401)}function Mu(e){Po&&clearTimeout(Po),R.removeClass(e.currentTarget,"p-ink-active")}function Lu(e){for(let t=0;t<e.children.length;t++)if(typeof e.children[t].className=="string"&&e.children[t].className.indexOf("p-ink")!==-1)return e.children[t];return null}const Gt={mounted(e,t){t.instance.$primevue&&t.instance.$primevue.config&&t.instance.$primevue.config.ripple&&(Gm(e),Um(e))},unmounted(e){qm(e)}};var Tu={name:"MenubarSub",emits:["item-mouseenter","item-click"],props:{items:{type:Array,default:null},root:{type:Boolean,default:!1},popup:{type:Boolean,default:!1},mobileActive:{type:Boolean,default:!1},template:{type:Function,default:null},exact:{type:Boolean,default:!0},level:{type:Number,default:0},menuId:{type:String,default:null},focusedItemId:{type:String,default:null},activeItemPath:{type:Object,default:null}},list:null,methods:{getItemId(e){return`${this.menuId}_${e.key}`},getItemKey(e){return this.getItemId(e)},getItemProp(e,t,n){return e&&e.item?j.getItemValue(e.item[t],n):void 0},getItemLabel(e){return this.getItemProp(e,"label")},isItemActive(e){return this.activeItemPath.some(t=>t.key===e.key)},isItemVisible(e){return this.getItemProp(e,"visible")!==!1},isItemDisabled(e){return this.getItemProp(e,"disabled")},isItemFocused(e){return this.focusedItemId===this.getItemId(e)},isItemGroup(e){return j.isNotEmpty(e.items)},onItemClick(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.$emit("item-click",{originalEvent:e,processedItem:t,isFocus:!0})},onItemMouseEnter(e,t){this.$emit("item-mouseenter",{originalEvent:e,processedItem:t})},onItemActionClick(e,t){t&&t(e)},getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length},getAriaPosInset(e){return e-this.items.slice(0,e).filter(t=>this.isItemVisible(t)&&this.getItemProp(t,"separator")).length+1},getItemClass(e){return["p-menuitem",this.getItemProp(e,"class"),{"p-menuitem-active p-highlight":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)}]},getItemActionClass(e,t){return["p-menuitem-link",{"router-link-active":t&&t.isActive,"router-link-active-exact":this.exact&&t&&t.isExactActive}]},getItemIconClass(e){return["p-menuitem-icon",this.getItemProp(e,"icon")]},getSeparatorItemClass(e){return["p-menuitem-separator",this.getItemProp(e,"class")]},getSubmenuIcon(){return["p-submenu-icon pi",{"pi-angle-right":!this.root,"pi-angle-down":this.root}]}},computed:{containerClass(){return{"p-submenu-list":!this.root,"p-menubar-root-list":this.root}}},directives:{ripple:Gt}};const Wm=["id","aria-label","aria-disabled","aria-expanded","aria-haspopup","aria-level","aria-setsize","aria-posinset"],Jm=["onClick","onMouseenter"],Ym=["href","onClick"],Zm={class:"p-menuitem-text"},Xm=["href","target"],Qm={class:"p-menuitem-text"},eg=["id"];function tg(e,t,n,i,r,s){const o=ve("router-link"),l=ve("MenubarSub",!0),c=It("ripple");return x(),k("ul",null,[(x(!0),k(fe,null,rt(n.items,(a,d)=>(x(),k(fe,{key:s.getItemKey(a)},[s.isItemVisible(a)&&!s.getItemProp(a,"separator")?(x(),k("li",{key:0,id:s.getItemId(a),style:$e(s.getItemProp(a,"style")),class:ee(s.getItemClass(a)),role:"menuitem","aria-label":s.getItemLabel(a),"aria-disabled":s.isItemDisabled(a)||void 0,"aria-expanded":s.isItemGroup(a)?s.isItemActive(a):void 0,"aria-haspopup":s.isItemGroup(a)&&!s.getItemProp(a,"to")?"menu":void 0,"aria-level":n.level+1,"aria-setsize":s.getAriaSetSize(),"aria-posinset":s.getAriaPosInset(d)},[N("div",{class:"p-menuitem-content",onClick:u=>s.onItemClick(u,a),onMouseenter:u=>s.onItemMouseEnter(u,a)},[n.template?(x(),se(lt(n.template),{key:1,item:a.item},null,8,["item"])):(x(),k(fe,{key:0},[s.getItemProp(a,"to")&&!s.isItemDisabled(a)?(x(),se(o,{key:0,to:s.getItemProp(a,"to"),custom:""},{default:be(({navigate:u,href:h,isActive:f,isExactActive:v})=>[st((x(),k("a",{href:h,class:ee(s.getItemActionClass(a,{isActive:f,isExactActive:v})),tabindex:"-1","aria-hidden":"true",onClick:C=>s.onItemActionClick(C,u)},[s.getItemProp(a,"icon")?(x(),k("span",{key:0,class:ee(s.getItemIconClass(a))},null,2)):H("",!0),N("span",Zm,Le(s.getItemLabel(a)),1)],10,Ym)),[[c]])]),_:2},1032,["to"])):st((x(),k("a",{key:1,href:s.getItemProp(a,"url"),class:ee(s.getItemActionClass(a)),target:s.getItemProp(a,"target"),tabindex:"-1","aria-hidden":"true"},[s.getItemProp(a,"icon")?(x(),k("span",{key:0,class:ee(s.getItemIconClass(a))},null,2)):H("",!0),N("span",Qm,Le(s.getItemLabel(a)),1),s.getItemProp(a,"items")?(x(),k("span",{key:1,class:ee(s.getSubmenuIcon())},null,2)):H("",!0)],10,Xm)),[[c]])],64))],40,Jm),s.isItemVisible(a)&&s.isItemGroup(a)?(x(),se(l,{key:0,menuId:n.menuId,role:"menu",class:"p-submenu-list",focusedItemId:n.focusedItemId,items:a.items,mobileActive:n.mobileActive,activeItemPath:n.activeItemPath,template:n.template,exact:n.exact,level:n.level+1,onItemClick:t[0]||(t[0]=u=>e.$emit("item-click",u)),onItemMouseenter:t[1]||(t[1]=u=>e.$emit("item-mouseenter",u))},null,8,["menuId","focusedItemId","items","mobileActive","activeItemPath","template","exact","level"])):H("",!0)],14,Wm)):H("",!0),s.isItemVisible(a)&&s.getItemProp(a,"separator")?(x(),k("li",{key:1,id:s.getItemId(a),style:$e(s.getItemProp(a,"style")),class:ee(s.getSeparatorItemClass(a)),role:"separator"},null,14,eg)):H("",!0)],64))),128))])}Tu.render=tg;var Fu={name:"Menubar",emits:["focus","blur"],props:{model:{type:Array,default:null},exact:{type:Boolean,default:!0},buttonProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{id:this.$attrs.id,mobileActive:!1,focused:!1,focusedItemInfo:{index:-1,level:0,parentKey:""},activeItemPath:[],dirty:!1}},watch:{"$attrs.id":function(e){this.id=e||zt()},activeItemPath(e){j.isNotEmpty(e)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())}},outsideClickListener:null,container:null,menubar:null,mounted(){this.id=this.id||zt()},beforeUnmount(){this.mobileActive=!1,this.unbindOutsideClickListener(),this.unbindResizeListener(),this.container&&it.clear(this.container),this.container=null},methods:{getItemProp(e,t){return e?j.getItemValue(e[t]):void 0},getItemLabel(e){return this.getItemProp(e,"label")},isItemDisabled(e){return this.getItemProp(e,"disabled")},isItemGroup(e){return j.isNotEmpty(this.getItemProp(e,"items"))},isItemSeparator(e){return this.getItemProp(e,"separator")},getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0},isProccessedItemGroup(e){return e&&j.isNotEmpty(e.items)},toggle(e){this.mobileActive?(this.mobileActive=!1,it.clear(this.menubar),this.hide()):(this.mobileActive=!0,it.set("menu",this.menubar,this.$primevue.config.zIndex.menu),setTimeout(()=>{this.show()},0)),this.bindOutsideClickListener(),e.preventDefault()},show(){this.focusedItemInfo={index:this.findFirstFocusedItemIndex(),level:0,parentKey:""},R.focus(this.menubar)},hide(e,t){this.mobileActive&&setTimeout(()=>{R.focus(this.$refs.menubutton)},0),this.activeItemPath=[],this.focusedItemInfo={index:-1,level:0,parentKey:""},t&&R.focus(this.menubar),this.dirty=!1},onFocus(e){this.focused=!0,this.focusedItemInfo=this.focusedItemInfo.index!==-1?this.focusedItemInfo:{index:this.findFirstFocusedItemIndex(),level:0,parentKey:""},this.$emit("focus",e)},onBlur(e){this.focused=!1,this.focusedItemInfo={index:-1,level:0,parentKey:""},this.searchValue="",this.dirty=!1,this.$emit("blur",e)},onKeyDown(e){const t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&j.isPrintableCharacter(e.key)&&this.searchItems(e,e.key);break}},onItemChange(e){const{processedItem:t,isFocus:n}=e;if(j.isEmpty(t))return;const{index:i,key:r,level:s,parentKey:o,items:l}=t,c=j.isNotEmpty(l),a=this.activeItemPath.filter(d=>d.parentKey!==o&&d.parentKey!==r);c&&a.push(t),this.focusedItemInfo={index:i,level:s,parentKey:o},this.activeItemPath=a,c&&(this.dirty=!0),n&&R.focus(this.menubar)},onItemClick(e){const{originalEvent:t,processedItem:n}=e,i=this.isProccessedItemGroup(n),r=j.isEmpty(n.parent);if(this.isSelected(n)){const{index:o,key:l,level:c,parentKey:a}=n;this.activeItemPath=this.activeItemPath.filter(d=>l!==d.key&&l.startsWith(d.key)),this.focusedItemInfo={index:o,level:c,parentKey:a},this.dirty=!r,R.focus(this.menubar)}else if(i)this.onItemChange(e);else{const o=r?n:this.activeItemPath.find(l=>l.parentKey==="");this.hide(t),this.changeFocusedItemIndex(t,o?o.index:-1),this.mobileActive=!1,R.focus(this.menubar)}},onItemMouseEnter(e){!this.mobileActive&&this.dirty&&this.onItemChange(e)},menuButtonClick(e){this.toggle(e)},menuButtonKeydown(e){(e.code==="Enter"||e.code==="Space")&&this.menuButtonClick(e)},onArrowDownKey(e){const t=this.visibleItems[this.focusedItemInfo.index];if(t?j.isEmpty(t.parent):null)this.isProccessedItemGroup(t)&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo={index:-1,parentKey:t.key},this.onArrowRightKey(e));else{const i=this.focusedItemInfo.index!==-1?this.findNextItemIndex(this.focusedItemInfo.index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}},onArrowUpKey(e){const t=this.visibleItems[this.focusedItemInfo.index];if(j.isEmpty(t.parent)){if(this.isProccessedItemGroup(t)){this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo={index:-1,parentKey:t.key};const r=this.findLastItemIndex();this.changeFocusedItemIndex(e,r)}}else{const i=this.activeItemPath.find(r=>r.key===t.parentKey);if(this.focusedItemInfo.index===0)this.focusedItemInfo={index:-1,parentKey:i?i.parentKey:""},this.searchValue="",this.onArrowLeftKey(e),this.activeItemPath=this.activeItemPath.filter(r=>r.parentKey!==this.focusedItemInfo.parentKey);else{const r=this.focusedItemInfo.index!==-1?this.findPrevItemIndex(this.focusedItemInfo.index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,r)}}e.preventDefault()},onArrowLeftKey(e){const t=this.visibleItems[this.focusedItemInfo.index],n=t?this.activeItemPath.find(i=>i.key===t.parentKey):null;if(n)this.onItemChange({originalEvent:e,processedItem:n}),this.activeItemPath=this.activeItemPath.filter(i=>i.parentKey!==this.focusedItemInfo.parentKey),e.preventDefault();else{const i=this.focusedItemInfo.index!==-1?this.findPrevItemIndex(this.focusedItemInfo.index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}},onArrowRightKey(e){const t=this.visibleItems[this.focusedItemInfo.index];if(t?this.activeItemPath.find(i=>i.key===t.parentKey):null)this.isProccessedItemGroup(t)&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo={index:-1,parentKey:t.key},this.onArrowDownKey(e));else{const i=this.focusedItemInfo.index!==-1?this.findNextItemIndex(this.focusedItemInfo.index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}},onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()},onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()},onEnterKey(e){if(this.focusedItemInfo.index!==-1){const t=R.findSingle(this.menubar,`li[id="${`${this.focusedItemId}`}"]`),n=t&&R.findSingle(t,".p-menuitem-link");n?n.click():t&&t.click();const i=this.visibleItems[this.focusedItemInfo.index];!this.isProccessedItemGroup(i)&&(this.focusedItemInfo.index=this.findFirstFocusedItemIndex())}e.preventDefault()},onSpaceKey(e){this.onEnterKey(e)},onEscapeKey(e){this.hide(e,!0),this.focusedItemInfo.index=this.findFirstFocusedItemIndex(),e.preventDefault()},onTabKey(e){if(this.focusedItemInfo.index!==-1){const t=this.visibleItems[this.focusedItemInfo.index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{const t=this.menubar!==e.target&&!this.menubar.contains(e.target),n=this.mobileActive&&this.$refs.menubutton!==e.target&&!this.$refs.menubutton.contains(e.target);t&&(n?this.mobileActive=!1:this.hide())},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindResizeListener(){this.resizeListener||(this.resizeListener=e=>{R.isTouchDevice()||this.hide(e,!0),this.mobileActive=!1},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())},isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)},isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)},isSelected(e){return this.activeItemPath.some(t=>t.key===e.key)},findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))},findLastItemIndex(){return j.findLastIndex(this.visibleItems,e=>this.isValidItem(e))},findNextItemIndex(e){const t=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(n=>this.isValidItem(n)):-1;return t>-1?t+e+1:e},findPrevItemIndex(e){const t=e>0?j.findLastIndex(this.visibleItems.slice(0,e),n=>this.isValidItem(n)):-1;return t>-1?t:e},findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))},findFirstFocusedItemIndex(){const e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e},findLastFocusedItemIndex(){const e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e},searchItems(e,t){this.searchValue=(this.searchValue||"")+t;let n=-1,i=!1;return this.focusedItemInfo.index!==-1?(n=this.visibleItems.slice(this.focusedItemInfo.index).findIndex(r=>this.isItemMatched(r)),n=n===-1?this.visibleItems.slice(0,this.focusedItemInfo.index).findIndex(r=>this.isItemMatched(r)):n+this.focusedItemInfo.index):n=this.visibleItems.findIndex(r=>this.isItemMatched(r)),n!==-1&&(i=!0),n===-1&&this.focusedItemInfo.index===-1&&(n=this.findFirstFocusedItemIndex()),n!==-1&&this.changeFocusedItemIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),i},changeFocusedItemIndex(e,t){this.focusedItemInfo.index!==t&&(this.focusedItemInfo.index=t,this.scrollInView())},scrollInView(e=-1){const t=e!==-1?`${this.id}_${e}`:this.focusedItemId,n=R.findSingle(this.menubar,`li[id="${t}"]`);n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"start"})},createProcessedItems(e,t=0,n={},i=""){const r=[];return e&&e.forEach((s,o)=>{const l=(i!==""?i+"_":"")+o,c={item:s,index:o,level:t,key:l,parent:n,parentKey:i};c.items=this.createProcessedItems(s.items,t+1,c,l),r.push(c)}),r},containerRef(e){this.container=e},menubarRef(e){this.menubar=e?e.$el:void 0}},computed:{containerClass(){return["p-menubar p-component",{"p-menubar-mobile-active":this.mobileActive}]},processedItems(){return this.createProcessedItems(this.model||[])},visibleItems(){const e=this.activeItemPath.find(t=>t.key===this.focusedItemInfo.parentKey);return e?e.items:this.processedItems},focusedItemId(){return this.focusedItemInfo.index!==-1?`${this.id}${j.isNotEmpty(this.focusedItemInfo.parentKey)?"_"+this.focusedItemInfo.parentKey:""}_${this.focusedItemInfo.index}`:null}},components:{MenubarSub:Tu}};const ng={key:0,class:"p-menubar-start"},ig=["aria-haspopup","aria-expanded","aria-controls","aria-label"],sg=N("i",{class:"pi pi-bars"},null,-1),rg=[sg],og={key:2,class:"p-menubar-end"};function lg(e,t,n,i,r,s){const o=ve("MenubarSub");return x(),k("div",{ref:s.containerRef,class:ee(s.containerClass)},[e.$slots.start?(x(),k("div",ng,[Pe(e.$slots,"start")])):H("",!0),n.model&&n.model.length>0?(x(),k("a",Ye({key:1,ref:"menubutton",role:"button",tabindex:"0",class:"p-menubar-button","aria-haspopup":!!(n.model.length&&n.model.length>0),"aria-expanded":r.mobileActive,"aria-controls":r.id,"aria-label":e.$primevue.config.locale.aria.navigation,onClick:t[0]||(t[0]=l=>s.menuButtonClick(l)),onKeydown:t[1]||(t[1]=l=>s.menuButtonKeydown(l))},n.buttonProps),rg,16,ig)):H("",!0),ce(o,{ref:s.menubarRef,id:r.id,class:"p-menubar-root-list",role:"menubar",items:s.processedItems,template:e.$slots.item,root:!0,mobileActive:r.mobileActive,tabindex:"0","aria-activedescendant":r.focused?s.focusedItemId:void 0,menuId:r.id,focusedItemId:r.focused?s.focusedItemId:void 0,activeItemPath:r.activeItemPath,exact:n.exact,level:0,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onFocus:s.onFocus,onBlur:s.onBlur,onKeydown:s.onKeyDown,onItemClick:s.onItemClick,onItemMouseenter:s.onItemMouseEnter},null,8,["id","items","template","mobileActive","aria-activedescendant","menuId","focusedItemId","activeItemPath","exact","aria-labelledby","aria-label","onFocus","onBlur","onKeydown","onItemClick","onItemMouseenter"]),e.$slots.end?(x(),k("div",og,[Pe(e.$slots,"end")])):H("",!0)],2)}function ag(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var cg=`
.p-menubar {
    display: flex;
    align-items: center;
}
.p-menubar ul {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-menubar .p-menuitem-link {
    cursor: pointer;
    display: flex;
    align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
.p-menubar .p-menuitem-text {
    line-height: 1;
}
.p-menubar .p-menuitem {
    position: relative;
}
.p-menubar-root-list {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
}
.p-menubar-root-list > li ul {
    display: none;
    z-index: 1;
}
.p-menubar-root-list > .p-menuitem-active > .p-submenu-list {
    display: block;
}
.p-menubar .p-submenu-list {
    display: none;
    position: absolute;
    z-index: 1;
}
.p-menubar .p-submenu-list > .p-menuitem-active > .p-submenu-list {
    display: block;
    left: 100%;
    top: 0;
}
.p-menubar .p-submenu-list .p-menuitem .p-menuitem-content .p-menuitem-link .p-submenu-icon {
    margin-left: auto;
}
.p-menubar .p-menubar-end {
    margin-left: auto;
    align-self: center;
}
.p-menubar-button {
    display: none;
    cursor: pointer;
    align-items: center;
    justify-content: center;
    text-decoration: none;
}
`;ag(cg);Fu.render=lg;var Mi={name:"Button",props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"}},computed:{buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":this.icon&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-disabled":this.$attrs.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label}},iconStyleClass(){return[this.loading?"p-button-loading-icon "+this.loadingIcon:this.icon,"p-button-icon",this.iconClass,{"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label}]},badgeStyleClass(){return["p-badge p-component",this.badgeClass,{"p-badge-no-gutter":this.badge&&String(this.badge).length===1}]},disabled(){return this.$attrs.disabled||this.loading},defaultAriaLabel(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs["aria-label"]}},directives:{ripple:Gt}};const ug=["aria-label","disabled"],dg={class:"p-button-label"};function hg(e,t,n,i,r,s){const o=It("ripple");return st((x(),k("button",{class:ee(s.buttonClass),type:"button","aria-label":s.defaultAriaLabel,disabled:s.disabled},[Pe(e.$slots,"default",{},()=>[n.loading&&!n.icon?(x(),k("span",{key:0,class:ee(s.iconStyleClass)},null,2)):H("",!0),n.icon?(x(),k("span",{key:1,class:ee(s.iconStyleClass)},null,2)):H("",!0),N("span",dg,Le(n.label||""),1),n.badge?(x(),k("span",{key:2,class:ee(s.badgeStyleClass)},Le(n.badge),3)):H("",!0)])],10,ug)),[[o]])}Mi.render=hg;var Du={name:"Textarea",emits:["update:modelValue"],props:{modelValue:null,autoResize:Boolean},mounted(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize(){const e=window.getComputedStyle(this.$el);this.$el.style.height="auto",this.$el.style.height=`calc(${e.borderTopWidth} + ${e.borderBottomWidth} + ${this.$el.scrollHeight}px)`,parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled(){return this.modelValue!=null&&this.modelValue.toString().length>0}}};const fg=["value"];function pg(e,t,n,i,r,s){return x(),k("textarea",{class:ee(["p-inputtextarea p-inputtext p-component",{"p-filled":s.filled,"p-inputtextarea-resizable ":n.autoResize}]),value:n.modelValue,onInput:t[0]||(t[0]=(...o)=>s.onInput&&s.onInput(...o))},null,42,fg)}function mg(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var gg=`
.p-inputtextarea-resizable {
    overflow: hidden;
    resize: none;
}
.p-fluid .p-inputtextarea {
    width: 100%;
}
`;mg(gg);Du.render=pg;var Bu={name:"InputText",emits:["update:modelValue"],props:{modelValue:null},methods:{onInput(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled(){return this.modelValue!=null&&this.modelValue.toString().length>0}}};const bg=["value"];function yg(e,t,n,i,r,s){return x(),k("input",{class:ee(["p-inputtext p-component",{"p-filled":s.filled}]),value:n.modelValue,onInput:t[0]||(t[0]=(...o)=>s.onInput&&s.onInput(...o))},null,42,bg)}Bu.render=yg;var gl={name:"InputNumber",emits:["update:modelValue","input","focus","blur"],props:{modelValue:{type:Number,default:null},format:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!1},buttonLayout:{type:String,default:"stacked"},incrementButtonClass:{type:String,default:null},decrementButtonClass:{type:String,default:null},incrementButtonIcon:{type:String,default:"pi pi-angle-up"},decrementButtonIcon:{type:String,default:"pi pi-angle-down"},locale:{type:String,default:void 0},localeMatcher:{type:String,default:void 0},mode:{type:String,default:"decimal"},prefix:{type:String,default:null},suffix:{type:String,default:null},currency:{type:String,default:void 0},currencyDisplay:{type:String,default:void 0},useGrouping:{type:Boolean,default:!0},minFractionDigits:{type:Number,default:void 0},maxFractionDigits:{type:Number,default:void 0},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:1},allowEmpty:{type:Boolean,default:!0},highlightOnFocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},inputId:{type:String,default:null},inputClass:{type:String,default:null},inputStyle:{type:null,default:null},inputProps:{type:null,default:null},incrementButtonProps:{type:null,default:null},decrementButtonProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},numberFormat:null,_numeral:null,_decimal:null,_group:null,_minusSign:null,_currency:null,_suffix:null,_prefix:null,_index:null,groupChar:"",isSpecialChar:null,prefixChar:null,suffixChar:null,timer:null,data(){return{d_modelValue:this.modelValue,focused:!1}},watch:{modelValue(e){this.d_modelValue=e},locale(e,t){this.updateConstructParser(e,t)},localeMatcher(e,t){this.updateConstructParser(e,t)},mode(e,t){this.updateConstructParser(e,t)},currency(e,t){this.updateConstructParser(e,t)},currencyDisplay(e,t){this.updateConstructParser(e,t)},useGrouping(e,t){this.updateConstructParser(e,t)},minFractionDigits(e,t){this.updateConstructParser(e,t)},maxFractionDigits(e,t){this.updateConstructParser(e,t)},suffix(e,t){this.updateConstructParser(e,t)},prefix(e,t){this.updateConstructParser(e,t)}},created(){this.constructParser()},methods:{getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}},constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),t=new Map(e.map((n,i)=>[n,i]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=n=>t.get(n)},updateConstructParser(e,t){e!==t&&this.constructParser()},escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,{...this.getOptions(),useGrouping:!1});return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")},getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")},getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")},getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")},getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")},getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")},formatValue(e){if(e!=null){if(e==="-")return e;if(this.format){let n=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(n=this.prefix+n),this.suffix&&(n=n+this.suffix),n}return e.toString()}return""},parseValue(e){let t=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(t){if(t==="-")return t;let n=+t;return isNaN(n)?null:n}return null},repeat(e,t,n){if(this.readonly)return;let i=t||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,n)},i),this.spin(e,n)},spin(e,t){if(this.$refs.input){let n=this.step*t,i=this.parseValue(this.$refs.input.$el.value)||0,r=this.validateValue(i+n);this.updateInput(r,null,"spin"),this.updateModel(e,r),this.handleOnInput(e,i,r)}},onUpButtonMouseDown(e){this.disabled||(this.$refs.input.$el.focus(),this.repeat(e,null,1),e.preventDefault())},onUpButtonMouseUp(){this.disabled||this.clearTimer()},onUpButtonMouseLeave(){this.disabled||this.clearTimer()},onUpButtonKeyUp(){this.disabled||this.clearTimer()},onUpButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,1)},onDownButtonMouseDown(e){this.disabled||(this.$refs.input.$el.focus(),this.repeat(e,null,-1),e.preventDefault())},onDownButtonMouseUp(){this.disabled||this.clearTimer()},onDownButtonMouseLeave(){this.disabled||this.clearTimer()},onDownButtonKeyUp(){this.disabled||this.clearTimer()},onDownButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,-1)},onUserInput(){this.isSpecialChar&&(this.$refs.input.$el.value=this.lastValue),this.isSpecialChar=!1},onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey){this.isSpecialChar=!0;return}let t=e.target.selectionStart,n=e.target.selectionEnd,i=e.target.value,r=null;switch(e.altKey&&e.preventDefault(),e.code){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":this.isNumeralChar(i.charAt(t-1))||e.preventDefault();break;case"ArrowRight":this.isNumeralChar(i.charAt(t))||e.preventDefault();break;case"Tab":case"Enter":r=this.validateValue(this.parseValue(i)),this.$refs.input.$el.value=this.formatValue(r),this.$refs.input.$el.setAttribute("aria-valuenow",r),this.updateModel(e,r);break;case"Backspace":{if(e.preventDefault(),t===n){const s=i.charAt(t-1),{decimalCharIndex:o,decimalCharIndexWithoutPrefix:l}=this.getDecimalCharIndexes(i);if(this.isNumeralChar(s)){const c=this.getDecimalLength(i);if(this._group.test(s))this._group.lastIndex=0,r=i.slice(0,t-2)+i.slice(t-1);else if(this._decimal.test(s))this._decimal.lastIndex=0,c?this.$refs.input.$el.setSelectionRange(t-1,t-1):r=i.slice(0,t-1)+i.slice(t);else if(o>0&&t>o){const a=this.isDecimalMode()&&(this.minFractionDigits||0)<c?"":"0";r=i.slice(0,t-1)+a+i.slice(t)}else l===1?(r=i.slice(0,t-1)+"0"+i.slice(t),r=this.parseValue(r)>0?r:""):r=i.slice(0,t-1)+i.slice(t)}this.updateValue(e,r,null,"delete-single")}else r=this.deleteRange(i,t,n),this.updateValue(e,r,null,"delete-range");break}case"Delete":if(e.preventDefault(),t===n){const s=i.charAt(t),{decimalCharIndex:o,decimalCharIndexWithoutPrefix:l}=this.getDecimalCharIndexes(i);if(this.isNumeralChar(s)){const c=this.getDecimalLength(i);if(this._group.test(s))this._group.lastIndex=0,r=i.slice(0,t)+i.slice(t+2);else if(this._decimal.test(s))this._decimal.lastIndex=0,c?this.$refs.input.$el.setSelectionRange(t+1,t+1):r=i.slice(0,t)+i.slice(t+1);else if(o>0&&t>o){const a=this.isDecimalMode()&&(this.minFractionDigits||0)<c?"":"0";r=i.slice(0,t)+a+i.slice(t+1)}else l===1?(r=i.slice(0,t)+"0"+i.slice(t+1),r=this.parseValue(r)>0?r:""):r=i.slice(0,t)+i.slice(t+1)}this.updateValue(e,r,null,"delete-back-single")}else r=this.deleteRange(i,t,n),this.updateValue(e,r,null,"delete-range");break;case"Home":this.min&&(this.updateModel(e,this.min),e.preventDefault());break;case"End":this.max&&(this.updateModel(e,this.max),e.preventDefault());break}},onInputKeyPress(e){if(this.readonly)return;e.preventDefault();let t=e.which||e.keyCode,n=String.fromCharCode(t);const i=this.isDecimalSign(n),r=this.isMinusSign(n);(48<=t&&t<=57||r||i)&&this.insert(e,n,{isDecimalSign:i,isMinusSign:r})},onPaste(e){e.preventDefault();let t=(e.clipboardData||window.clipboardData).getData("Text");if(t){let n=this.parseValue(t);n!=null&&this.insert(e,n.toString())}},allowMinusSign(){return this.min===null||this.min<0},isMinusSign(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1},isDecimalSign(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1},isDecimalMode(){return this.mode==="decimal"},getDecimalCharIndexes(e){let t=e.search(this._decimal);this._decimal.lastIndex=0;const i=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:t,decimalCharIndexWithoutPrefix:i}},getCharIndexes(e){const t=e.search(this._decimal);this._decimal.lastIndex=0;const n=e.search(this._minusSign);this._minusSign.lastIndex=0;const i=e.search(this._suffix);this._suffix.lastIndex=0;const r=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:t,minusCharIndex:n,suffixCharIndex:i,currencyCharIndex:r}},insert(e,t,n={isDecimalSign:!1,isMinusSign:!1}){const i=t.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&i!==-1)return;const r=this.$refs.input.$el.selectionStart,s=this.$refs.input.$el.selectionEnd;let o=this.$refs.input.$el.value.trim();const{decimalCharIndex:l,minusCharIndex:c,suffixCharIndex:a,currencyCharIndex:d}=this.getCharIndexes(o);let u;if(n.isMinusSign)r===0&&(u=o,(c===-1||s!==0)&&(u=this.insertText(o,t,0,s)),this.updateValue(e,u,t,"insert"));else if(n.isDecimalSign)l>0&&r===l?this.updateValue(e,o,t,"insert"):l>r&&l<s?(u=this.insertText(o,t,r,s),this.updateValue(e,u,t,"insert")):l===-1&&this.maxFractionDigits&&(u=this.insertText(o,t,r,s),this.updateValue(e,u,t,"insert"));else{const h=this.numberFormat.resolvedOptions().maximumFractionDigits,f=r!==s?"range-insert":"insert";if(l>0&&r>l){if(r+t.length-(l+1)<=h){const v=d>=r?d-1:a>=r?a:o.length;u=o.slice(0,r)+t+o.slice(r+t.length,v)+o.slice(v),this.updateValue(e,u,t,f)}}else u=this.insertText(o,t,r,s),this.updateValue(e,u,t,f)}},insertText(e,t,n,i){if((t==="."?t:t.split(".")).length===2){const s=e.slice(n,i).search(this._decimal);return this._decimal.lastIndex=0,s>0?e.slice(0,n)+this.formatValue(t)+e.slice(i):e||this.formatValue(t)}else return i-n===e.length?this.formatValue(t):n===0?t+e.slice(i):i===e.length?e.slice(0,n)+t:e.slice(0,n)+t+e.slice(i)},deleteRange(e,t,n){let i;return n-t===e.length?i="":t===0?i=e.slice(n):n===e.length?i=e.slice(0,t):i=e.slice(0,t)+e.slice(n),i},initCursor(){let e=this.$refs.input.$el.selectionStart,t=this.$refs.input.$el.value,n=t.length,i=null,r=(this.prefixChar||"").length;t=t.replace(this._prefix,""),e=e-r;let s=t.charAt(e);if(this.isNumeralChar(s))return e+r;let o=e-1;for(;o>=0;)if(s=t.charAt(o),this.isNumeralChar(s)){i=o+r;break}else o--;if(i!==null)this.$refs.input.$el.setSelectionRange(i+1,i+1);else{for(o=e;o<n;)if(s=t.charAt(o),this.isNumeralChar(s)){i=o+r;break}else o++;i!==null&&this.$refs.input.$el.setSelectionRange(i,i)}return i||0},onInputClick(){const e=this.$refs.input.$el.value;!this.readonly&&e!==R.getSelection()&&this.initCursor()},isNumeralChar(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1},resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0},updateValue(e,t,n,i){let r=this.$refs.input.$el.value,s=null;t!=null&&(s=this.parseValue(t),s=!s&&!this.allowEmpty?0:s,this.updateInput(s,n,i,t),this.handleOnInput(e,r,s))},handleOnInput(e,t,n){this.isValueChanged(t,n)&&this.$emit("input",{originalEvent:e,value:n,formattedValue:t})},isValueChanged(e,t){if(t===null&&e!==null)return!0;if(t!=null){let n=typeof e=="string"?this.parseValue(e):e;return t!==n}return!1},validateValue(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e},updateInput(e,t,n,i){t=t||"";let r=this.$refs.input.$el.value,s=this.formatValue(e),o=r.length;if(s!==i&&(s=this.concatValues(s,i)),o===0){this.$refs.input.$el.value=s,this.$refs.input.$el.setSelectionRange(0,0);const c=this.initCursor()+t.length;this.$refs.input.$el.setSelectionRange(c,c)}else{let l=this.$refs.input.$el.selectionStart,c=this.$refs.input.$el.selectionEnd;this.$refs.input.$el.value=s;let a=s.length;if(n==="range-insert"){const d=this.parseValue((r||"").slice(0,l)),h=(d!==null?d.toString():"").split("").join(`(${this.groupChar})?`),f=new RegExp(h,"g");f.test(s);const v=t.split("").join(`(${this.groupChar})?`),C=new RegExp(v,"g");C.test(s.slice(f.lastIndex)),c=f.lastIndex+C.lastIndex,this.$refs.input.$el.setSelectionRange(c,c)}else if(a===o)n==="insert"||n==="delete-back-single"?this.$refs.input.$el.setSelectionRange(c+1,c+1):n==="delete-single"?this.$refs.input.$el.setSelectionRange(c-1,c-1):(n==="delete-range"||n==="spin")&&this.$refs.input.$el.setSelectionRange(c,c);else if(n==="delete-back-single"){let d=r.charAt(c-1),u=r.charAt(c),h=o-a,f=this._group.test(u);f&&h===1?c+=1:!f&&this.isNumeralChar(d)&&(c+=-1*h+1),this._group.lastIndex=0,this.$refs.input.$el.setSelectionRange(c,c)}else if(r==="-"&&n==="insert"){this.$refs.input.$el.setSelectionRange(0,0);const u=this.initCursor()+t.length+1;this.$refs.input.$el.setSelectionRange(u,u)}else c=c+(a-o),this.$refs.input.$el.setSelectionRange(c,c)}this.$refs.input.$el.setAttribute("aria-valuenow",e)},concatValues(e,t){if(e&&t){let n=t.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?e.replace(this.suffixChar,"").split(this._decimal)[0]+t.replace(this.suffixChar,"").slice(n)+this.suffixChar:n!==-1?e.split(this._decimal)[0]+t.slice(n):e}return e},getDecimalLength(e){if(e){const t=e.split(this._decimal);if(t.length===2)return t[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0},updateModel(e,t){this.d_modelValue=t,this.$emit("update:modelValue",t)},onInputFocus(e){this.focused=!0,!this.disabled&&!this.readonly&&this.$refs.input.$el.value!==R.getSelection()&&this.highlightOnFocus&&e.target.select(),this.$emit("focus",e)},onInputBlur(e){this.focused=!1;let t=e.target,n=this.validateValue(this.parseValue(t.value));this.$emit("blur",{originalEvent:e,value:t.value}),t.value=this.formatValue(n),t.setAttribute("aria-valuenow",n),this.updateModel(e,n)},clearTimer(){this.timer&&clearInterval(this.timer)},maxBoundry(){return this.d_modelValue>=this.max},minBoundry(){return this.d_modelValue<=this.min}},computed:{containerClass(){return["p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":this.filled,"p-inputwrapper-focus":this.focused,"p-inputnumber-buttons-stacked":this.showButtons&&this.buttonLayout==="stacked","p-inputnumber-buttons-horizontal":this.showButtons&&this.buttonLayout==="horizontal","p-inputnumber-buttons-vertical":this.showButtons&&this.buttonLayout==="vertical"}]},upButtonClass(){return["p-inputnumber-button p-inputnumber-button-up",this.incrementButtonClass,{"p-disabled":this.showButtons&&this.max!==null&&this.maxBoundry()}]},downButtonClass(){return["p-inputnumber-button p-inputnumber-button-down",this.decrementButtonClass,{"p-disabled":this.showButtons&&this.min!==null&&this.minBoundry()}]},filled(){return this.modelValue!=null&&this.modelValue.toString().length>0},upButtonListeners(){return{mousedown:e=>this.onUpButtonMouseDown(e),mouseup:e=>this.onUpButtonMouseUp(e),mouseleave:e=>this.onUpButtonMouseLeave(e),keydown:e=>this.onUpButtonKeyDown(e),keyup:e=>this.onUpButtonKeyUp(e)}},downButtonListeners(){return{mousedown:e=>this.onDownButtonMouseDown(e),mouseup:e=>this.onDownButtonMouseUp(e),mouseleave:e=>this.onDownButtonMouseLeave(e),keydown:e=>this.onDownButtonKeyDown(e),keyup:e=>this.onDownButtonKeyUp(e)}},formattedValue(){const e=!this.modelValue&&!this.allowEmpty?0:this.modelValue;return this.formatValue(e)},getFormatter(){return this.numberFormat}},components:{INInputText:Bu,INButton:Mi}};const wg={key:0,class:"p-inputnumber-button-group"};function xg(e,t,n,i,r,s){const o=ve("INInputText"),l=ve("INButton");return x(),k("span",{class:ee(s.containerClass)},[ce(o,Ye({ref:"input",id:n.inputId,class:["p-inputnumber-input",n.inputClass],role:"spinbutton",style:n.inputStyle,value:s.formattedValue,"aria-valuemin":n.min,"aria-valuemax":n.max,"aria-valuenow":n.modelValue,disabled:n.disabled,readonly:n.readonly,placeholder:n.placeholder,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onInput:s.onUserInput,onKeydown:s.onInputKeyDown,onKeypress:s.onInputKeyPress,onPaste:s.onPaste,onClick:s.onInputClick,onFocus:s.onInputFocus,onBlur:s.onInputBlur},n.inputProps),null,16,["id","class","style","value","aria-valuemin","aria-valuemax","aria-valuenow","disabled","readonly","placeholder","aria-labelledby","aria-label","onInput","onKeydown","onKeypress","onPaste","onClick","onFocus","onBlur"]),n.showButtons&&n.buttonLayout==="stacked"?(x(),k("span",wg,[ce(l,Ye({class:s.upButtonClass,icon:n.incrementButtonIcon},Ts(s.upButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true"},n.incrementButtonProps),null,16,["class","icon","disabled"]),ce(l,Ye({class:s.downButtonClass,icon:n.decrementButtonIcon},Ts(s.downButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true"},n.decrementButtonProps),null,16,["class","icon","disabled"])])):H("",!0),n.showButtons&&n.buttonLayout!=="stacked"?(x(),se(l,Ye({key:1,class:s.upButtonClass,icon:n.incrementButtonIcon},Ts(s.upButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true"},n.incrementButtonProps),null,16,["class","icon","disabled"])):H("",!0),n.showButtons&&n.buttonLayout!=="stacked"?(x(),se(l,Ye({key:2,class:s.downButtonClass,icon:n.decrementButtonIcon},Ts(s.downButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true"},n.decrementButtonProps),null,16,["class","icon","disabled"])):H("",!0)],2)}function vg(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var _g=`
.p-inputnumber {
    display: inline-flex;
}
.p-inputnumber-button {
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 0 0 auto;
}
.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,
.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label {
    display: none;
}
.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
    padding: 0;
}
.p-inputnumber-buttons-stacked .p-inputnumber-input {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}
.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down {
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    border-bottom-left-radius: 0;
    padding: 0;
}
.p-inputnumber-buttons-stacked .p-inputnumber-button-group {
    display: flex;
    flex-direction: column;
}
.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button {
    flex: 1 1 auto;
}
.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up {
    order: 3;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}
.p-inputnumber-buttons-horizontal .p-inputnumber-input {
    order: 2;
    border-radius: 0;
}
.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down {
    order: 1;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}
.p-inputnumber-buttons-vertical {
    flex-direction: column;
}
.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up {
    order: 1;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
    width: 100%;
}
.p-inputnumber-buttons-vertical .p-inputnumber-input {
    order: 2;
    border-radius: 0;
    text-align: center;
}
.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down {
    order: 3;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    width: 100%;
}
.p-inputnumber-input {
    flex: 1 1 auto;
}
.p-fluid .p-inputnumber {
    width: 100%;
}
.p-fluid .p-inputnumber .p-inputnumber-input {
    width: 1%;
}
.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input {
    width: 100%;
}
`;vg(_g);gl.render=xg;function Cg(e,t){const{onFocusIn:n,onFocusOut:i}=t.value||{};e.$_pfocustrap_mutationobserver=new MutationObserver(r=>{r.forEach(s=>{if(s.type==="childList"&&!e.contains(document.activeElement)){const o=l=>{const c=R.isFocusableElement(l)?l:R.getFirstFocusableElement(l);return j.isNotEmpty(c)?c:o(l.nextSibling)};R.focus(o(s.nextSibling))}})}),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=r=>n&&n(r),e.$_pfocustrap_focusoutlistener=r=>i&&i(r),e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)}function Oa(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)}function Ig(e,t){const{autoFocusSelector:n="",firstFocusableSelector:i="",autoFocus:r=!1}=t.value||{};let s=R.getFirstFocusableElement(e,`[autofocus]:not(.p-hidden-focusable)${n}`);r&&!s&&(s=R.getFirstFocusableElement(e,`:not(.p-hidden-focusable)${i}`)),R.focus(s)}function Sg(e){const{currentTarget:t,relatedTarget:n}=e,i=n===t.$_pfocustrap_lasthiddenfocusableelement?R.getFirstFocusableElement(t.parentElement,`:not(.p-hidden-focusable)${t.$_pfocustrap_focusableselector}`):t.$_pfocustrap_lasthiddenfocusableelement;R.focus(i)}function Eg(e){const{currentTarget:t,relatedTarget:n}=e,i=n===t.$_pfocustrap_firsthiddenfocusableelement?R.getLastFocusableElement(t.parentElement,`:not(.p-hidden-focusable)${t.$_pfocustrap_focusableselector}`):t.$_pfocustrap_firsthiddenfocusableelement;R.focus(i)}function kg(e,t){const{tabIndex:n=0,firstFocusableSelector:i="",lastFocusableSelector:r=""}=t.value||{},s=c=>{const a=document.createElement("span");return a.classList="p-hidden-accessible p-hidden-focusable",a.tabIndex=n,a.setAttribute("aria-hidden","true"),a.setAttribute("role","presentation"),a.addEventListener("focus",c),a},o=s(Sg),l=s(Eg);o.$_pfocustrap_lasthiddenfocusableelement=l,o.$_pfocustrap_focusableselector=i,l.$_pfocustrap_firsthiddenfocusableelement=o,l.$_pfocustrap_focusableselector=r,e.prepend(o),e.append(l)}const bl={mounted(e,t){const{disabled:n}=t.value||{};n||(kg(e,t),Cg(e,t),Ig(e,t))},updated(e,t){const{disabled:n}=t.value||{};n&&Oa(e)},unmounted(e){Oa(e)}};var Ht=ml(),oi={name:"Portal",props:{appendTo:{type:String,default:"body"},disabled:{type:Boolean,default:!1}},data(){return{mounted:!1}},mounted(){this.mounted=R.isClient()},computed:{inline(){return this.disabled||this.appendTo==="self"}}};function Pg(e,t,n,i,r,s){return s.inline?Pe(e.$slots,"default",{key:0}):r.mounted?(x(),se(zf,{key:1,to:n.appendTo},[Pe(e.$slots,"default")],8,["to"])):H("",!0)}oi.render=Pg;var Nu={name:"OverlayPanel",inheritAttrs:!1,emits:["show","hide"],props:{dismissable:{type:Boolean,default:!0},showCloseIcon:{type:Boolean,default:!1},appendTo:{type:String,default:"body"},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},breakpoints:{type:Object,default:null}},data(){return{visible:!1}},watch:{dismissable:{immediate:!0,handler(e){e?this.bindOutsideClickListener():this.unbindOutsideClickListener()}}},selfClick:!1,target:null,eventTarget:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,styleElement:null,overlayEventListener:null,beforeUnmount(){this.dismissable&&this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.destroyStyle(),this.unbindResizeListener(),this.target=null,this.container&&this.autoZIndex&&it.clear(this.container),this.overlayEventListener&&(Ht.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.container=null},mounted(){this.breakpoints&&this.createStyle()},methods:{toggle(e,t){this.visible?this.hide():this.show(e,t)},show(e,t){this.visible=!0,this.eventTarget=e.currentTarget,this.target=t||e.currentTarget},hide(){this.visible=!1,R.focus(this.target)},onContentClick(){this.selfClick=!0},onEnter(e){this.container.setAttribute(this.attributeSelector,""),this.alignOverlay(),this.dismissable&&this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.autoZIndex&&it.set("overlay",e,this.baseZIndex+this.$primevue.config.zIndex.overlay),this.overlayEventListener=t=>{this.container.contains(t.target)&&(this.selfClick=!0)},this.focus(),Ht.on("overlay-click",this.overlayEventListener),this.$emit("show")},onLeave(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),Ht.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null,this.$emit("hide")},onAfterLeave(e){this.autoZIndex&&it.clear(e)},alignOverlay(){R.absolutePosition(this.container,this.target);const e=R.getOffset(this.container),t=R.getOffset(this.target);let n=0;e.left<t.left&&(n=t.left-e.left),this.container.style.setProperty("--overlayArrowLeft",`${n}px`),e.top<t.top&&R.addClass(this.container,"p-overlaypanel-flipped")},onContentKeydown(e){e.code==="Escape"&&this.hide()},onButtonKeydown(e){switch(e.code){case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":e.preventDefault()}},focus(){let e=this.container.querySelector("[autofocus]");e&&e.focus()},bindOutsideClickListener(){!this.outsideClickListener&&R.isClient()&&(this.outsideClickListener=e=>{this.visible&&!this.selfClick&&!this.isTargetClicked(e)&&(this.visible=!1),this.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new pl(this.target,()=>{this.visible&&(this.visible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.visible&&!R.isTouchDevice()&&(this.visible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isTargetClicked(e){return this.eventTarget&&(this.eventTarget===e.target||this.eventTarget.contains(e.target))},containerRef(e){this.container=e},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let t in this.breakpoints)e+=`
                        @media screen and (max-width: ${t}) {
                            .p-overlaypanel[${this.attributeSelector}] {
                                width: ${this.breakpoints[t]} !important;
                            }
                        }
                    `;this.styleElement.innerHTML=e}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},onOverlayClick(e){Ht.emit("overlay-click",{originalEvent:e,target:this.target})}},computed:{containerClass(){return["p-overlaypanel p-component",{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},attributeSelector(){return zt()},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{focustrap:bl,ripple:Gt},components:{Portal:oi}};const Rg=["aria-modal"],Ag=["aria-label"],Og=N("span",{class:"p-overlaypanel-close-icon pi pi-times"},null,-1),Mg=[Og];function Lg(e,t,n,i,r,s){const o=ve("Portal"),l=It("ripple"),c=It("focustrap");return x(),se(o,{appendTo:n.appendTo},{default:be(()=>[ce(Nn,{name:"p-overlaypanel",onEnter:s.onEnter,onLeave:s.onLeave,onAfterLeave:s.onAfterLeave},{default:be(()=>[r.visible?st((x(),k("div",Ye({key:0,ref:s.containerRef,role:"dialog",class:s.containerClass,"aria-modal":r.visible,onClick:t[5]||(t[5]=(...a)=>s.onOverlayClick&&s.onOverlayClick(...a))},e.$attrs),[N("div",{class:"p-overlaypanel-content",onClick:t[0]||(t[0]=(...a)=>s.onContentClick&&s.onContentClick(...a)),onMousedown:t[1]||(t[1]=(...a)=>s.onContentClick&&s.onContentClick(...a)),onKeydown:t[2]||(t[2]=(...a)=>s.onContentKeydown&&s.onContentKeydown(...a))},[Pe(e.$slots,"default")],32),n.showCloseIcon?st((x(),k("button",{key:0,class:"p-overlaypanel-close p-link","aria-label":s.closeAriaLabel,type:"button",autofocus:"",onClick:t[3]||(t[3]=(...a)=>s.hide&&s.hide(...a)),onKeydown:t[4]||(t[4]=(...a)=>s.onButtonKeydown&&s.onButtonKeydown(...a))},Mg,40,Ag)),[[l]]):H("",!0)],16,Rg)),[[c]]):H("",!0)]),_:3},8,["onEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo"])}function Tg(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var Fg=`
.p-overlaypanel {
    position: absolute;
    margin-top: 10px;
    top: 0;
    left: 0;
}
.p-overlaypanel-flipped {
    margin-top: 0;
    margin-bottom: 10px;
}
.p-overlaypanel-close {
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    position: relative;
}

/* Animation */
.p-overlaypanel-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}
.p-overlaypanel-leave-to {
    opacity: 0;
}
.p-overlaypanel-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1), opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}
.p-overlaypanel-leave-active {
    transition: opacity 0.1s linear;
}
.p-overlaypanel:after,
.p-overlaypanel:before {
    bottom: 100%;
    left: calc(var(--overlayArrowLeft, 0) + 1.25rem);
    content: ' ';
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}
.p-overlaypanel:after {
    border-width: 8px;
    margin-left: -8px;
}
.p-overlaypanel:before {
    border-width: 10px;
    margin-left: -10px;
}
.p-overlaypanel-flipped:after,
.p-overlaypanel-flipped:before {
    bottom: auto;
    top: 100%;
}
.p-overlaypanel.p-overlaypanel-flipped:after {
    border-bottom-color: transparent;
}
.p-overlaypanel.p-overlaypanel-flipped:before {
    border-bottom-color: transparent;
}
`;Tg(Fg);Nu.render=Lg;var zu={name:"Image",inheritAttrs:!1,emits:["show","hide","error"],props:{preview:{type:Boolean,default:!1},class:{type:null,default:null},style:{type:null,default:null},imageStyle:{type:null,default:null},imageClass:{type:null,default:null},previewButtonProps:{type:null,default:null}},mask:null,data(){return{maskVisible:!1,previewVisible:!1,rotate:0,scale:1}},beforeUnmount(){this.mask&&it.clear(this.container)},methods:{maskRef(e){this.mask=e},toolbarRef(e){this.toolbarRef=e},onImageClick(){this.preview&&(this.maskVisible=!0,setTimeout(()=>{this.previewVisible=!0},25))},onPreviewImageClick(){this.previewClick=!0},onMaskClick(){this.previewClick||(this.previewVisible=!1,this.rotate=0,this.scale=1),this.previewClick=!1},onMaskKeydown(e){switch(e.code){case"Escape":this.onMaskClick(),setTimeout(()=>{R.focus(this.$refs.previewButton)},25),e.preventDefault();break}},onError(){this.$emit("error")},rotateRight(){this.rotate+=90,this.previewClick=!0},rotateLeft(){this.rotate-=90,this.previewClick=!0},zoomIn(){this.scale=this.scale+.1,this.previewClick=!0},zoomOut(){this.scale=this.scale-.1,this.previewClick=!0},onBeforeEnter(){it.set("modal",this.mask,this.$primevue.config.zIndex.modal)},onEnter(){this.focus(),this.$emit("show")},onBeforeLeave(){R.addClass(this.mask,"p-component-overlay-leave")},onLeave(){this.$emit("hide")},onAfterLeave(e){it.clear(e),this.maskVisible=!1},focus(){let e=this.mask.querySelector("[autofocus]");e&&e.focus()}},computed:{containerClass(){return["p-image p-component",this.class,{"p-image-preview-container":this.preview}]},maskClass(){return["p-image-mask p-component-overlay p-component-overlay-enter"]},rotateClass(){return"p-image-preview-rotate-"+this.rotate},imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}},zoomDisabled(){return this.scale<=.5||this.scale>=1.5},rightAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateRight:void 0},leftAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateLeft:void 0},zoomInAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomIn:void 0},zoomOutAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomOut:void 0},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},components:{Portal:oi},directives:{focustrap:bl}};const Dg=N("i",{class:"p-image-preview-icon pi pi-eye"},null,-1),Bg=["aria-modal"],Ng={class:"p-image-toolbar"},zg=["aria-label"],jg=N("i",{class:"pi pi-refresh"},null,-1),Kg=[jg],Vg=["aria-label"],Hg=N("i",{class:"pi pi-undo"},null,-1),Ug=[Hg],$g=["disabled","aria-label"],Gg=N("i",{class:"pi pi-search-minus"},null,-1),qg=[Gg],Wg=["disabled","aria-label"],Jg=N("i",{class:"pi pi-search-plus"},null,-1),Yg=[Jg],Zg=["aria-label"],Xg=N("i",{class:"pi pi-times"},null,-1),Qg=[Xg],eb={key:0},tb=["src"];function nb(e,t,n,i,r,s){const o=ve("Portal"),l=It("focustrap");return x(),k("span",{class:ee(s.containerClass),style:$e(n.style)},[N("img",Ye(e.$attrs,{style:n.imageStyle,class:n.imageClass,onError:t[0]||(t[0]=(...c)=>s.onError&&s.onError(...c))}),null,16),n.preview?(x(),k("button",Ye({key:0,ref:"previewButton",class:"p-image-preview-indicator",onClick:t[1]||(t[1]=(...c)=>s.onImageClick&&s.onImageClick(...c))},n.previewButtonProps),[Pe(e.$slots,"indicator",{},()=>[Dg])],16)):H("",!0),ce(o,null,{default:be(()=>[r.maskVisible?st((x(),k("div",{key:0,ref:s.maskRef,role:"dialog",class:ee(s.maskClass),"aria-modal":r.maskVisible,onClick:t[8]||(t[8]=(...c)=>s.onMaskClick&&s.onMaskClick(...c)),onKeydown:t[9]||(t[9]=(...c)=>s.onMaskKeydown&&s.onMaskKeydown(...c))},[N("div",Ng,[N("button",{class:"p-image-action p-link",onClick:t[2]||(t[2]=(...c)=>s.rotateRight&&s.rotateRight(...c)),type:"button","aria-label":s.rightAriaLabel},Kg,8,zg),N("button",{class:"p-image-action p-link",onClick:t[3]||(t[3]=(...c)=>s.rotateLeft&&s.rotateLeft(...c)),type:"button","aria-label":s.leftAriaLabel},Ug,8,Vg),N("button",{class:"p-image-action p-link",onClick:t[4]||(t[4]=(...c)=>s.zoomOut&&s.zoomOut(...c)),type:"button",disabled:s.zoomDisabled,"aria-label":s.zoomOutAriaLabel},qg,8,$g),N("button",{class:"p-image-action p-link",onClick:t[5]||(t[5]=(...c)=>s.zoomIn&&s.zoomIn(...c)),type:"button",disabled:s.zoomDisabled,"aria-label":s.zoomInAriaLabel},Yg,8,Wg),N("button",{class:"p-image-action p-link",type:"button",onClick:t[6]||(t[6]=(...c)=>e.hidePreview&&e.hidePreview(...c)),"aria-label":s.closeAriaLabel,autofocus:""},Qg,8,Zg)]),ce(Nn,{name:"p-image-preview",onBeforeEnter:s.onBeforeEnter,onEnter:s.onEnter,onLeave:s.onLeave,onBeforeLeave:s.onBeforeLeave,onAfterLeave:s.onAfterLeave},{default:be(()=>[r.previewVisible?(x(),k("div",eb,[N("img",{src:e.$attrs.src,class:"p-image-preview",style:$e(s.imagePreviewStyle),onClick:t[7]||(t[7]=(...c)=>s.onPreviewImageClick&&s.onPreviewImageClick(...c))},null,12,tb)])):H("",!0)]),_:1},8,["onBeforeEnter","onEnter","onLeave","onBeforeLeave","onAfterLeave"])],42,Bg)),[[l]]):H("",!0)]),_:1})],6)}function ib(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var sb=`
.p-image-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}
.p-image-preview-container {
    position: relative;
    display: inline-block;
}
.p-image-preview-indicator {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s;
}
.p-image-preview-icon {
    font-size: 1.5rem;
}
.p-image-preview-container:hover > .p-image-preview-indicator {
    opacity: 1;
    cursor: pointer;
}
.p-image-preview-container > img {
    cursor: pointer;
}
.p-image-toolbar {
    position: absolute;
    top: 0;
    right: 0;
    display: flex;
}
.p-image-action.p-link {
    display: flex;
    justify-content: center;
    align-items: center;
}
.p-image-preview {
    transition: transform 0.15s;
    max-width: 100vw;
    max-height: 100vh;
}
.p-image-preview-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}
.p-image-preview-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}
.p-image-preview-enter-from,
.p-image-preview-leave-to {
    opacity: 0;
    transform: scale(0.7);
}
`;ib(sb);zu.render=nb;var bn=ml(),ju={name:"ToastMessage",emits:["close"],props:{message:{type:null,default:null},template:{type:null,default:null},closeIcon:{type:String,default:null},infoIcon:{type:String,default:null},warnIcon:{type:String,default:null},errorIcon:{type:String,default:null},successIcon:{type:String,default:null},closeButtonProps:{type:null,default:null}},closeTimeout:null,mounted(){this.message.life&&(this.closeTimeout=setTimeout(()=>{this.close()},this.message.life))},beforeUnmount(){this.clearCloseTimeout()},methods:{close(){this.$emit("close",this.message)},onCloseClick(){this.clearCloseTimeout(),this.close()},clearCloseTimeout(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)}},computed:{containerClass(){return["p-toast-message",this.message.styleClass,{"p-toast-message-info":this.message.severity==="info","p-toast-message-warn":this.message.severity==="warn","p-toast-message-error":this.message.severity==="error","p-toast-message-success":this.message.severity==="success"}]},iconClass(){return["p-toast-message-icon",{[this.infoIcon]:this.message.severity==="info",[this.warnIcon]:this.message.severity==="warn",[this.errorIcon]:this.message.severity==="error",[this.successIcon]:this.message.severity==="success"}]},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{ripple:Gt}};const rb={class:"p-toast-message-text"},ob={class:"p-toast-summary"},lb={class:"p-toast-detail"},ab={key:2},cb=["aria-label"];function ub(e,t,n,i,r,s){const o=It("ripple");return x(),k("div",{class:ee(s.containerClass),role:"alert","aria-live":"assertive","aria-atomic":"true"},[N("div",{class:ee(["p-toast-message-content",n.message.contentStyleClass])},[n.template?(x(),se(lt(n.template),{key:1,message:n.message},null,8,["message"])):(x(),k(fe,{key:0},[N("span",{class:ee(s.iconClass)},null,2),N("div",rb,[N("span",ob,Le(n.message.summary),1),N("div",lb,Le(n.message.detail),1)])],64)),n.message.closable!==!1?(x(),k("div",ab,[st((x(),k("button",Ye({class:"p-toast-icon-close p-link",type:"button","aria-label":s.closeAriaLabel,onClick:t[0]||(t[0]=(...l)=>s.onCloseClick&&s.onCloseClick(...l)),autofocus:""},n.closeButtonProps),[N("span",{class:ee(["p-toast-icon-close-icon",n.closeIcon])},null,2)],16,cb)),[[o]])])):H("",!0)],2)],2)}ju.render=ub;var db=0,Ku={name:"Toast",inheritAttrs:!1,props:{group:{type:String,default:null},position:{type:String,default:"top-right"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},breakpoints:{type:Object,default:null},closeIcon:{type:String,default:"pi pi-times"},infoIcon:{type:String,default:"pi pi-info-circle"},warnIcon:{type:String,default:"pi pi-exclamation-triangle"},errorIcon:{type:String,default:"pi pi-times"},successIcon:{type:String,default:"pi pi-check"},closeButtonProps:{type:null,default:null}},data(){return{messages:[]}},styleElement:null,mounted(){bn.on("add",this.onAdd),bn.on("remove-group",this.onRemoveGroup),bn.on("remove-all-groups",this.onRemoveAllGroups),this.breakpoints&&this.createStyle()},beforeUnmount(){this.destroyStyle(),this.$refs.container&&this.autoZIndex&&it.clear(this.$refs.container),bn.off("add",this.onAdd),bn.off("remove-group",this.onRemoveGroup),bn.off("remove-all-groups",this.onRemoveAllGroups)},methods:{add(e){e.id==null&&(e.id=db++),this.messages=[...this.messages,e]},remove(e){let t=-1;for(let n=0;n<this.messages.length;n++)if(this.messages[n]===e){t=n;break}this.messages.splice(t,1)},onAdd(e){this.group==e.group&&this.add(e)},onRemoveGroup(e){this.group===e&&(this.messages=[])},onRemoveAllGroups(){this.messages=[]},onEnter(){this.$refs.container.setAttribute(this.attributeSelector,""),this.autoZIndex&&it.set("modal",this.$refs.container,this.baseZIndex||this.$primevue.config.zIndex.modal)},onLeave(){this.$refs.container&&this.autoZIndex&&j.isEmpty(this.messages)&&setTimeout(()=>{it.clear(this.$refs.container)},200)},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let t in this.breakpoints){let n="";for(let i in this.breakpoints[t])n+=i+":"+this.breakpoints[t][i]+"!important;";e+=`
                        @media screen and (max-width: ${t}) {
                            .p-toast[${this.attributeSelector}] {
                                ${n}
                            }
                        }
                    `}this.styleElement.innerHTML=e}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}},computed:{containerClass(){return["p-toast p-component p-toast-"+this.position,{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},attributeSelector(){return zt()}},components:{ToastMessage:ju,Portal:oi}};function hb(e,t,n,i,r,s){const o=ve("ToastMessage"),l=ve("Portal");return x(),se(l,null,{default:be(()=>[N("div",Ye({ref:"container",class:s.containerClass},e.$attrs),[ce(vp,{name:"p-toast-message",tag:"div",onEnter:s.onEnter,onLeave:s.onLeave},{default:be(()=>[(x(!0),k(fe,null,rt(r.messages,c=>(x(),se(o,{key:c.id,message:c,template:e.$slots.message,closeIcon:n.closeIcon,infoIcon:n.infoIcon,warnIcon:n.warnIcon,errorIcon:n.errorIcon,successIcon:n.successIcon,closeButtonProps:n.closeButtonProps,onClose:t[0]||(t[0]=a=>s.remove(a))},null,8,["message","template","closeIcon","infoIcon","warnIcon","errorIcon","successIcon","closeButtonProps"]))),128))]),_:1},8,["onEnter","onLeave"])],16)]),_:1})}function fb(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var pb=`
.p-toast {
    position: fixed;
    width: 25rem;
}
.p-toast-message-content {
    display: flex;
    align-items: flex-start;
}
.p-toast-message-text {
    flex: 1 1 auto;
}
.p-toast-top-right {
    top: 20px;
    right: 20px;
}
.p-toast-top-left {
    top: 20px;
    left: 20px;
}
.p-toast-bottom-left {
    bottom: 20px;
    left: 20px;
}
.p-toast-bottom-right {
    bottom: 20px;
    right: 20px;
}
.p-toast-top-center {
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
}
.p-toast-bottom-center {
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
}
.p-toast-center {
    left: 50%;
    top: 50%;
    min-width: 20vw;
    transform: translate(-50%, -50%);
}
.p-toast-icon-close {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}
.p-toast-icon-close.p-link {
    cursor: pointer;
}

/* Animations */
.p-toast-message-enter-from {
    opacity: 0;
    -webkit-transform: translateY(50%);
    -ms-transform: translateY(50%);
    transform: translateY(50%);
}
.p-toast-message-leave-from {
    max-height: 1000px;
}
.p-toast .p-toast-message.p-toast-message-leave-to {
    max-height: 0;
    opacity: 0;
    margin-bottom: 0;
    overflow: hidden;
}
.p-toast-message-enter-active {
    -webkit-transition: transform 0.3s, opacity 0.3s;
    transition: transform 0.3s, opacity 0.3s;
}
.p-toast-message-leave-active {
    -webkit-transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
}
`;fb(pb);Ku.render=hb;const mb="/panther-demo/assets/panther_logo_thin-2d6524b3.png";let Ds;const gb=new Uint8Array(16);function bb(){if(!Ds&&(Ds=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ds))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ds(gb)}const pt=[];for(let e=0;e<256;++e)pt.push((e+256).toString(16).slice(1));function yb(e,t=0){return(pt[e[t+0]]+pt[e[t+1]]+pt[e[t+2]]+pt[e[t+3]]+"-"+pt[e[t+4]]+pt[e[t+5]]+"-"+pt[e[t+6]]+pt[e[t+7]]+"-"+pt[e[t+8]]+pt[e[t+9]]+"-"+pt[e[t+10]]+pt[e[t+11]]+pt[e[t+12]]+pt[e[t+13]]+pt[e[t+14]]+pt[e[t+15]]).toLowerCase()}const wb=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ma={randomUUID:wb};function Li(e,t,n){if(Ma.randomUUID&&!t&&!e)return Ma.randomUUID();e=e||{};const i=e.random||(e.rng||bb)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){n=n||0;for(let r=0;r<16;++r)t[n+r]=i[r];return t}return yb(i)}var La;const Vu=typeof window<"u";Vu&&((La=window==null?void 0:window.navigator)!=null&&La.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function bi(e){return typeof e=="function"?e():me(e)}function Ta(e,t=!1,n="Timeout"){return new Promise((i,r)=>{setTimeout(t?()=>r(n):i,e)})}function n_(e){return e}function i_(e,...t){return t.some(n=>n in e)}function yl(e){return Go()?(gc(e),!0):!1}function s_(){const e=[],t=r=>{const s=e.indexOf(r);s!==-1&&e.splice(s,1)};return{on:r=>{e.push(r);const s=()=>t(r);return yl(s),{off:s}},off:t,trigger:r=>{e.forEach(s=>s(r))}}}function xb(e){let t=0,n,i;const r=()=>{t-=1,i&&t<=0&&(i.stop(),n=void 0,i=void 0)};return(...s)=>(t+=1,n||(i=$o(!0),n=i.run(()=>e(...s))),yl(r),n)}function r_(e){return typeof e=="function"?Ve(e):ut(e)}function Ro(e,t=!1){function n(u,{flush:h="sync",deep:f=!1,timeout:v,throwOnTimeout:C}={}){let E=null;const O=[new Promise(z=>{E=en(e,ie=>{u(ie)!==t&&(E==null||E(),z(ie))},{flush:h,deep:f,immediate:!0})})];return v!=null&&O.push(Ta(v,C).then(()=>bi(e)).finally(()=>E==null?void 0:E())),Promise.race(O)}function i(u,h){if(!Ze(u))return n(ie=>ie===u,h);const{flush:f="sync",deep:v=!1,timeout:C,throwOnTimeout:E}=h??{};let P=null;const z=[new Promise(ie=>{P=en([e,u],([de,_e])=>{t!==(de===_e)&&(P==null||P(),ie(de))},{flush:f,deep:v,immediate:!0})})];return C!=null&&z.push(Ta(C,E).then(()=>bi(e)).finally(()=>(P==null||P(),bi(e)))),Promise.race(z)}function r(u){return n(h=>Boolean(h),u)}function s(u){return i(null,u)}function o(u){return i(void 0,u)}function l(u){return n(Number.isNaN,u)}function c(u,h){return n(f=>{const v=Array.from(f);return v.includes(u)||v.includes(bi(u))},h)}function a(u){return d(1,u)}function d(u=1,h){let f=-1;return n(()=>(f+=1,f>=u),h)}return Array.isArray(bi(e))?{toMatch:n,toContains:c,changed:a,changedTimes:d,get not(){return Ro(e,!t)}}:{toMatch:n,toBe:i,toBeTruthy:r,toBeNull:s,toBeNaN:l,toBeUndefined:o,changed:a,changedTimes:d,get not(){return Ro(e,!t)}}}function o_(e){return Ro(e)}function l_(e,t,n={}){const{immediate:i=!0}=n,r=ut(!1);let s=null;function o(){s&&(clearTimeout(s),s=null)}function l(){r.value=!1,o()}function c(...a){o(),r.value=!0,s=setTimeout(()=>{r.value=!1,s=null,e(...a)},bi(t))}return i&&(r.value=!0,Vu&&c()),yl(l),{isPending:Xo(r),start:c,stop:l}}function a_(e,t,n){const i=en(e,(...r)=>(br(()=>i()),t(...r)),n)}var W;(function(e){e.ApiError="BAD API",e.BadAuthentication="BAD_AUTHENTICATION",e.BadCreds="BAD_CREDS",e.BadHeader="BAD_HEADER",e.BadJson="BAD_JSON",e.BadPayload="BAD_PAYLOAD",e.BadSubject="BAD_SUBJECT",e.Cancelled="CANCELLED",e.ConnectionClosed="CONNECTION_CLOSED",e.ConnectionDraining="CONNECTION_DRAINING",e.ConnectionRefused="CONNECTION_REFUSED",e.ConnectionTimeout="CONNECTION_TIMEOUT",e.Disconnect="DISCONNECT",e.InvalidOption="INVALID_OPTION",e.InvalidPayload="INVALID_PAYLOAD",e.MaxPayloadExceeded="MAX_PAYLOAD_EXCEEDED",e.NoResponders="503",e.NotFunction="NOT_FUNC",e.RequestError="REQUEST_ERROR",e.ServerOptionNotAvailable="SERVER_OPT_NA",e.SubClosed="SUB_CLOSED",e.SubDraining="SUB_DRAINING",e.Timeout="TIMEOUT",e.Tls="TLS",e.Unknown="UNKNOWN_ERROR",e.WssRequired="WSS_REQUIRED",e.JetStreamInvalidAck="JESTREAM_INVALID_ACK",e.JetStream404NoMessages="404",e.JetStream408RequestTimeout="408",e.JetStream409MaxAckPendingExceeded="409",e.JetStream409="409",e.JetStreamNotEnabled="503",e.JetStreamIdleHeartBeat="IDLE_HEARTBEAT",e.AuthorizationViolation="AUTHORIZATION_VIOLATION",e.AuthenticationExpired="AUTHENTICATION_EXPIRED",e.ProtocolError="NATS_PROTOCOL_ERR",e.PermissionsViolation="PERMISSIONS_VIOLATION"})(W||(W={}));class Hu{constructor(){b(this,"messages");this.messages=new Map,this.messages.set(W.InvalidPayload,"Invalid payload type - payloads can be 'binary', 'string', or 'json'"),this.messages.set(W.BadJson,"Bad JSON"),this.messages.set(W.WssRequired,"TLS is required, therefore a secure websocket connection is also required")}static getMessage(t){return vb.getMessage(t)}getMessage(t){return this.messages.get(t)||t}}const vb=new Hu;function _b(e){return typeof e.code=="string"}class ue extends Error{constructor(n,i,r){super(n);b(this,"name");b(this,"message");b(this,"code");b(this,"permissionContext");b(this,"chainedError");b(this,"api_error");this.name="NatsError",this.message=n,this.code=i,this.chainedError=r}static errorForCode(n,i){const r=Hu.getMessage(n);return new ue(r,n,i)}isAuthError(){return this.code===W.AuthenticationExpired||this.code===W.AuthorizationViolation}isPermissionError(){return this.code===W.PermissionsViolation}isProtocolError(){return this.code===W.ProtocolError}isJetStreamError(){return this.api_error!==void 0}jsError(){return this.api_error?this.api_error:null}}const Ct=new Uint8Array(0);var Xn;(function(e){e.Disconnect="disconnect",e.Reconnect="reconnect",e.Update="update",e.LDM="ldm",e.Error="error"})(Xn||(Xn={}));var gs;(function(e){e.Reconnecting="reconnecting",e.PingTimer="pingTimer",e.StaleConnection="staleConnection"})(gs||(gs={}));const Ao="127.0.0.1",Uu=2*1e3,$u=2*60*1e3,Cb=2;var cn;(function(e){e.Timer="timer",e.Count="count",e.JitterTimer="jitterTimer",e.SentinelMsg="sentinelMsg"})(cn||(cn={}));var Fa;(function(e){e.API="api_audit",e.StreamAction="stream_action",e.ConsumerAction="consumer_action",e.SnapshotCreate="snapshot_create",e.SnapshotComplete="snapshot_complete",e.RestoreCreate="restore_create",e.RestoreComplete="restore_complete",e.MaxDeliver="max_deliver",e.Terminated="terminated",e.Ack="consumer_ack",e.StreamLeaderElected="stream_leader_elected",e.StreamQuorumLost="stream_quorum_lost",e.ConsumerLeaderElected="consumer_leader_elected",e.ConsumerQuorumLost="consumer_quorum_lost"})(Fa||(Fa={}));var Oo;(function(e){e.Limits="limits",e.Interest="interest",e.Workqueue="workqueue"})(Oo||(Oo={}));var bs;(function(e){e.Old="old",e.New="new"})(bs||(bs={}));var Mo;(function(e){e.File="file",e.Memory="memory"})(Mo||(Mo={}));var Tt;(function(e){e.All="all",e.Last="last",e.New="new",e.StartSequence="by_start_sequence",e.StartTime="by_start_time",e.LastPerSubject="last_per_subject"})(Tt||(Tt={}));var mt;(function(e){e.None="none",e.All="all",e.Explicit="explicit",e.NotSet=""})(mt||(mt={}));var Ti;(function(e){e.Instant="instant",e.Original="original"})(Ti||(Ti={}));var Xt;(function(e){e.StreamSourceHdr="Nats-Stream-Source",e.LastConsumerSeqHdr="Nats-Last-Consumer",e.LastStreamSeqHdr="Nats-Last-Stream",e.ConsumerStalledHdr="Nats-Consumer-Stalled",e.MessageSizeHdr="Nats-Msg-Size",e.RollupHdr="Nats-Rollup",e.RollupValueSubject="sub",e.RollupValueAll="all"})(Xt||(Xt={}));var yi;(function(e){e.Stream="Nats-Stream",e.Sequence="Nats-Sequence",e.TimeStamp="Nats-Time-Stamp",e.Subject="Nats-Subject"})(yi||(yi={}));var Da;(function(e){e.Stream="Nats-Stream",e.Subject="Nats-Subject",e.Sequence="Nats-Sequence",e.LastSequence="Nats-Last-Sequence",e.Size="Nats-Msg-Size"})(Da||(Da={}));const zn=new TextEncoder,nn=new TextDecoder;function Ib(...e){let t=0;for(let r=0;r<e.length;r++)t+=e[r].length;const n=new Uint8Array(t);let i=0;for(let r=0;r<e.length;r++)n.set(e[r],i),i+=e[r].length;return n}function ss(...e){const t=[];for(let n=0;n<e.length;n++)t.push(zn.encode(e[n]));return t.length===0?Ct:t.length===1?t[0]:Ib(...t)}function Ba(e){return!e||e.length===0?"":nn.decode(e)}class vs{constructor(){b(this,"buffers");b(this,"byteLength");this.buffers=[],this.byteLength=0}static concat(...t){let n=0;for(let s=0;s<t.length;s++)n+=t[s].length;const i=new Uint8Array(n);let r=0;for(let s=0;s<t.length;s++)i.set(t[s],r),r+=t[s].length;return i}static fromAscii(t){return t||(t=""),zn.encode(t)}static toAscii(t){return nn.decode(t)}reset(){this.buffers.length=0,this.byteLength=0}pack(){if(this.buffers.length>1){const t=new Uint8Array(this.byteLength);let n=0;for(let i=0;i<this.buffers.length;i++)t.set(this.buffers[i],n),n+=this.buffers[i].length;this.buffers.length=0,this.buffers.push(t)}}shift(){if(this.buffers.length){const t=this.buffers.shift();if(t)return this.byteLength-=t.length,t}return new Uint8Array(0)}drain(t){if(this.buffers.length){this.pack();const n=this.buffers.pop();if(n){const i=this.byteLength;(t===void 0||t>i)&&(t=i);const r=n.subarray(0,t);return i>t&&this.buffers.push(n.subarray(t)),this.byteLength=i-t,r}}return new Uint8Array(0)}fill(t,...n){t&&(this.buffers.push(t),this.byteLength+=t.length);for(let i=0;i<n.length;i++)n[i]&&n[i].length&&(this.buffers.push(n[i]),this.byteLength+=n[i].length)}peek(){return this.buffers.length?(this.pack(),this.buffers[0]):new Uint8Array(0)}size(){return this.byteLength}length(){return this.buffers.length}}const Wn=`\r
`,nr=vs.fromAscii(Wn),Sb=new Uint8Array(nr)[0],Eb=new Uint8Array(nr)[1];function kb(e){return e instanceof Uint8Array}function Pb(e){for(let t=0;t<e.length;t++){const n=t+1;if(e.byteLength>n&&e[t]===Sb&&e[n]===Eb)return n+1}return 0}function Rb(e){const t=Pb(e);if(t>0){const i=new Uint8Array(e).slice(0,t);return nn.decode(i)}return""}function Ar(e,...t){for(let n=0;n<t.length;n++){const i=t[n];Object.keys(i).forEach(function(r){e[r]=i[r]})}return e}function Bs(e){const t="",n="";return nn.decode(e).replace(/\n/g,n).replace(/\r/g,t)}function Or(e){const t=ue.errorForCode(W.Timeout);let n,i;const r=new Promise((s,o)=>{n={cancel:()=>{i&&clearTimeout(i)}},i=setTimeout(()=>{o(t)},e)});return Object.assign(r,n)}function wl(e=0){return new Promise(t=>{setTimeout(()=>{t()},e)})}function nt(){let e={};const t=new Promise((n,i)=>{e={resolve:n,reject:i}});return Object.assign(t,e)}function Gu(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}class kt{constructor(){b(this,"inflight");b(this,"processed");b(this,"received");b(this,"noIterator");b(this,"iterClosed");b(this,"done");b(this,"signal");b(this,"yields");b(this,"filtered");b(this,"pendingFiltered");b(this,"ingestionFilterFn");b(this,"protocolFilterFn");b(this,"dispatchedFn");b(this,"ctx");b(this,"_data");b(this,"err");b(this,"time");this.inflight=0,this.filtered=0,this.pendingFiltered=0,this.processed=0,this.received=0,this.noIterator=!1,this.done=!1,this.signal=nt(),this.yields=[],this.iterClosed=nt(),this.time=0}[Symbol.asyncIterator](){return this.iterate()}push(t){if(this.done)return;if(typeof t=="function"){this.yields.push(t),this.signal.resolve();return}const{ingest:n,protocol:i}=this.ingestionFilterFn?this.ingestionFilterFn(t,this.ctx||this):{ingest:!0,protocol:!1};n&&(i&&(this.filtered++,this.pendingFiltered++),this.yields.push(t),this.signal.resolve())}async*iterate(){if(this.noIterator)throw new ue("unsupported iterator",W.ApiError);try{for(;;){if(this.yields.length===0&&await this.signal,this.err)throw this.err;const t=this.yields;this.inflight=t.length,this.yields=[];for(let n=0;n<t.length;n++){if(typeof t[n]=="function"){const r=t[n];try{r()}catch(s){throw s}if(this.err)throw this.err;continue}if(this.protocolFilterFn?this.protocolFilterFn(t[n]):!0){this.processed++;const r=Date.now();yield t[n],this.time=Date.now()-r,this.dispatchedFn&&t[n]&&this.dispatchedFn(t[n])}else this.pendingFiltered--;this.inflight--}if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=nt())}}finally{this.stop()}}stop(t){this.done||(this.err=t,this.done=!0,this.signal.resolve(),this.iterClosed.resolve())}getProcessed(){return this.noIterator?this.received:this.processed}getPending(){return this.yields.length+this.inflight-this.pendingFiltered}getReceived(){return this.received-this.filtered}}function Na(e){let i=!0;const r=new Array(e.length);for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);if(o===58||o<33||o>126)throw new ue(`'${e[s]}' is not a valid character for a header key`,W.BadHeader);i&&97<=o&&o<=122?o-=32:!i&&65<=o&&o<=90&&(o+=32),r[s]=o,i=o==45}return String.fromCharCode(...r)}function wn(e=0,t=""){if(e===0&&t!==""||e>0&&t==="")throw new Error("setting status requires both code and description");return new Ln(e,t)}const eo="NATS/1.0";var Kt;(function(e){e[e.Exact=0]="Exact",e[e.CanonicalMIME=1]="CanonicalMIME",e[e.IgnoreCase=2]="IgnoreCase"})(Kt||(Kt={}));class Ln{constructor(t=0,n=""){b(this,"_code");b(this,"headers");b(this,"_description");this._code=t,this._description=n,this.headers=new Map}[Symbol.iterator](){return this.headers.entries()}size(){return this.headers.size}equals(t){if(t&&this.headers.size===t.headers.size&&this._code===t._code){for(const[n,i]of this.headers){const r=t.values(n);if(i.length!==r.length)return!1;const s=[...i].sort(),o=[...r].sort();for(let l=0;l<s.length;l++)if(s[l]!==o[l])return!1}return!0}return!1}static decode(t){const n=new Ln,r=nn.decode(t).split(`\r
`),s=r[0];if(s!==eo){let o=s.replace(eo,"");n._code=parseInt(o,10);const l=n._code.toString();o=o.replace(l,""),n._description=o.trim()}return r.length>=1&&r.slice(1).map(o=>{if(o){const l=o.indexOf(":");if(l>-1){const c=o.slice(0,l),a=o.slice(l+1).trim();n.append(c,a)}}}),n}toString(){if(this.headers.size===0&&this._code===0)return"";let t=eo;this._code>0&&this._description!==""&&(t+=` ${this._code} ${this._description}`);for(const[n,i]of this.headers)for(let r=0;r<i.length;r++)t=`${t}\r
${n}: ${i[r]}`;return`${t}\r
\r
`}encode(){return zn.encode(this.toString())}static validHeaderValue(t){if(/[\r\n]/.test(t))throw new ue("invalid header value - \\r and \\n are not allowed.",W.BadHeader);return t.trim()}keys(){const t=[];for(const n of this.headers.keys())t.push(n);return t}findKeys(t,n=Kt.Exact){const i=this.keys();switch(n){case Kt.Exact:return i.filter(r=>r===t);case Kt.CanonicalMIME:return t=Na(t),i.filter(r=>r===t);default:{const r=t.toLowerCase();return i.filter(s=>r===s.toLowerCase())}}}get(t,n=Kt.Exact){const i=this.findKeys(t,n);if(i.length){const r=this.headers.get(i[0]);if(r)return Array.isArray(r)?r[0]:r}return""}has(t,n=Kt.Exact){return this.findKeys(t,n).length>0}set(t,n,i=Kt.Exact){this.delete(t,i),this.append(t,n,i)}append(t,n,i=Kt.Exact){const r=Na(t);i===Kt.CanonicalMIME&&(t=r);const s=this.findKeys(t,i);t=s.length>0?s[0]:t;const o=Ln.validHeaderValue(n);let l=this.headers.get(t);l||(l=[],this.headers.set(t,l)),l.push(o)}values(t,n=Kt.Exact){const i=[];return this.findKeys(t,n).forEach(s=>{const o=this.headers.get(s);o&&i.push(...o)}),i}delete(t,n=Kt.Exact){this.findKeys(t,n).forEach(r=>{this.headers.delete(r)})}get hasError(){return this._code>=300}get status(){return`${this._code} ${this._description}`.trim()}toRecord(){const t={};return this.keys().forEach(n=>{t[n]=this.values(n)}),t}get code(){return this._code}get description(){return this._description}static fromRecord(t){const n=new Ln;for(const i in t)n.headers.set(i,t[i]);return n}}function Ab(){return{encode(e){return zn.encode(e)},decode(e){return nn.decode(e)}}}function Yt(e){return{encode(t){try{return t===void 0&&(t=null),zn.encode(JSON.stringify(t))}catch(n){throw ue.errorForCode(W.BadJson,n)}},decode(t){try{return JSON.parse(nn.decode(t),e)}catch(n){throw ue.errorForCode(W.BadJson,n)}}}}const za="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",ja=36,Ob=0xcfd41b9100000,Ka=33,Mb=333,Va=12+10;function Lb(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(Math.random()*255)}function Tb(e){var t;(t=globalThis==null?void 0:globalThis.crypto)!=null&&t.getRandomValues?globalThis.crypto.getRandomValues(e):Lb(e)}class Fb{constructor(){b(this,"buf");b(this,"seq");b(this,"inc");this.buf=new Uint8Array(Va),this.init()}init(){this.setPre(),this.initSeqAndInc(),this.fillSeq()}initSeqAndInc(){this.seq=Math.floor(Math.random()*Ob),this.inc=Math.floor(Math.random()*(Mb-Ka)+Ka)}setPre(){const t=new Uint8Array(12);Tb(t);for(let n=0;n<12;n++){const i=t[n]%36;this.buf[n]=za.charCodeAt(i)}}fillSeq(){let t=this.seq;for(let n=Va-1;n>=12;n--)this.buf[n]=za.charCodeAt(t%ja),t=Math.floor(t/ja)}next(){return this.seq+=this.inc,this.seq>0xcfd41b9100000&&(this.setPre(),this.initSeqAndInc()),this.fillSeq(),String.fromCharCode.apply(String,this.buf)}reset(){this.init()}}const Mr=new Fb;function qu(e){var t;return e&&e.data.length===0&&((t=e.headers)==null?void 0:t.code)===503?ue.errorForCode(W.NoResponders):null}class Wu{constructor(t,n,i){b(this,"_headers");b(this,"_msg");b(this,"_rdata");b(this,"_reply");b(this,"_subject");b(this,"publisher");this._msg=t,this._rdata=n,this.publisher=i}get subject(){return this._subject?this._subject:(this._subject=nn.decode(this._msg.subject),this._subject)}get reply(){return this._reply?this._reply:(this._reply=nn.decode(this._msg.reply),this._reply)}get sid(){return this._msg.sid}get headers(){if(this._msg.hdr>-1&&!this._headers){const t=this._rdata.subarray(0,this._msg.hdr);this._headers=Ln.decode(t)}return this._headers}get data(){return this._rdata?this._msg.hdr>-1?this._rdata.subarray(this._msg.hdr):this._rdata:new Uint8Array(0)}respond(t=Ct,n){return this.reply?(this.publisher.publish(this.reply,t,n),!0):!1}size(){var r;const t=this._msg.subject.length,n=((r=this._msg.reply)==null?void 0:r.length)||0,i=this._msg.size===-1?0:this._msg.size;return t+n+i}}function Si(e){return Ei("durable",e)}function Et(e){return Ei("stream",e)}function Ei(e,t=""){if(t==="")throw Error(`${e} name required`);const n=Ju(t);if(n.length)throw new Error(`invalid ${e} name - ${e} name ${n}`)}function Ju(e=""){if(e==="")throw Error("name required");const t=/^[-\w]+$/g;if(e.match(t)===null){for(const i of e.split(""))if(i.match(t)===null)return`cannot contain '${i}'`}return""}function Db(e,t={}){return Object.assign({name:e,deliver_policy:Tt.All,ack_policy:mt.Explicit,ack_wait:ot(30*1e3),replay_policy:Ti.Instant},t)}function ot(e){return e*1e6}function xl(e){return Math.floor(e/1e6)}function Lo(e){if(e.data.length>0)return!1;const t=e.headers;return t?t.code>=100&&t.code<200:!1}function Ha(e){var t;return Lo(e)&&((t=e.headers)==null?void 0:t.description)==="Idle Heartbeat"}function Bb(e,t,n){const i=wn(e,t),r={hdr:1,sid:0,size:0},s=new Wu(r,Ct,{});return s._headers=i,s._subject=n,s}function ki(e){if(e.data.length!==0)return null;const t=e.headers;return t?Yu(t.code,t.description):null}var Wt;(function(e){e.MaxBatchExceeded="exceeded maxrequestbatch of",e.MaxExpiresExceeded="exceeded maxrequestexpires of",e.MaxBytesExceeded="exceeded maxrequestmaxbytes of",e.MaxMessageSizeExceeded="message size exceeds maxbytes",e.PushConsumer="consumer is push based",e.MaxWaitingExceeded="exceeded maxwaiting",e.IdleHeartbeatMissed="`idle heartbeats missed`"})(Wt||(Wt={}));function Nb(e){return e.code!==W.JetStream409?!1:[Wt.MaxBatchExceeded,Wt.MaxExpiresExceeded,Wt.MaxBytesExceeded,Wt.MaxMessageSizeExceeded,Wt.PushConsumer,Wt.IdleHeartbeatMissed].find(n=>e.message.indexOf(n)!==-1)!==void 0}function Yu(e,t=""){if(e<300)return null;switch(t=t.toLowerCase(),e){case 404:return new ue(t,W.JetStream404NoMessages);case 408:return new ue(t,W.JetStream408RequestTimeout);case 409:{const n=t.startsWith(Wt.IdleHeartbeatMissed)?W.JetStreamIdleHeartBeat:W.JetStream409;return new ue(t,n)}case 503:return ue.errorForCode(W.JetStreamNotEnabled,new Error(t));default:return t===""&&(t=W.Unknown),new ue(t,`${e}`)}}function ii(e=""){const t=e.match(/(\d+).(\d+).(\d+)/);if(t)return{major:parseInt(t[1]),minor:parseInt(t[2]),micro:parseInt(t[3])};throw new Error(`'${e}' is not a semver value`)}function To(e,t){return e.major<t.major?-1:e.major>t.major?1:e.minor<t.minor?-1:e.minor>t.minor?1:e.micro<t.micro?-1:e.micro>t.micro?1:0}var Ft;(function(e){e.JS_KV="js_kv",e.JS_OBJECTSTORE="js_objectstore",e.JS_PULL_MAX_BYTES="js_pull_max_bytes",e.JS_NEW_CONSUMER_CREATE_API="js_new_consumer_create",e.JS_ALLOW_DIRECT="js_allow_direct"})(Ft||(Ft={}));class zb{constructor(t){b(this,"server");b(this,"features");b(this,"disabled");this.features=new Map,this.disabled=[],this.update(t)}resetDisabled(){this.disabled.length=0,this.update(this.server)}disable(t){this.disabled.push(t),this.update(this.server)}isDisabled(t){return this.disabled.indexOf(t)!==-1}update(t){typeof t=="string"&&(t=ii(t)),this.server=t,this.set(Ft.JS_KV,"2.6.2"),this.set(Ft.JS_OBJECTSTORE,"2.6.3"),this.set(Ft.JS_PULL_MAX_BYTES,"2.8.3"),this.set(Ft.JS_NEW_CONSUMER_CREATE_API,"2.9.0"),this.set(Ft.JS_ALLOW_DIRECT,"2.9.0"),this.disabled.forEach(n=>{this.features.delete(n)})}set(t,n){this.features.set(t,{min:n,ok:To(this.server,ii(n))>=0})}get(t){return this.features.get(t)||{min:"unknown",ok:!1}}supports(t){var n;return((n=this.get(t))==null?void 0:n.ok)||!1}require(t){return typeof t=="string"&&(t=ii(t)),To(this.server,t)>=0}}const jb="$SRV",ir="Nats-Service-Error",sr="Nats-Service-Error-Code";var un;(function(e){e.PING="PING",e.STATS="STATS",e.INFO="INFO",e.SCHEMA="SCHEMA"})(un||(un={}));var wi;(function(e){e.STATS="io.nats.micro.v1.stats_response",e.INFO="io.nats.micro.v1.info_response",e.PING="io.nats.micro.v1.ping_response",e.SCHEMA="io.nats.micro.v1.schema_response"})(wi||(wi={}));class Ua{constructor(t){b(this,"msg");this.msg=t}get data(){return this.msg.data}get sid(){return this.msg.sid}get subject(){return this.msg.subject}respond(t,n){return this.msg.respond(t,n)}respondError(t,n,i,r){var s,o;return r=r||{},r.headers=r.headers||wn(),(s=r.headers)==null||s.set(sr,`${t}`),(o=r.headers)==null||o.set(ir,n),this.msg.respond(i,r)}}class ys{constructor(t,n=""){b(this,"subject");b(this,"srv");n!==""&&Vb("service group",n);let i="";if(t instanceof _s)this.srv=t,i="";else if(t instanceof ys){const r=t;this.srv=r.srv,i=r.subject}else throw new Error("unknown ServiceGroup type");this.subject=this.calcSubject(i,n)}calcSubject(t,n=""){return n===""?t:t!==""?`${t}.${n}`:n}addEndpoint(t="",n){n=n||{subject:t};const i=typeof n=="function"?{handler:n,subject:t}:n;Ei("endpoint",t);let{subject:r,handler:s,schema:o}=i;r=r||t,Kb("endpoint subject",r),r=this.calcSubject(this.subject,r);const l={name:t,subject:r,handler:s,schema:o};return this.srv._addEndpoint(l)}addGroup(t=""){return new ys(this,t)}}function Kb(e,t){if(t==="")throw new Error(`${e} cannot be empty`);if(t.indexOf(" ")!==-1)throw new Error(`${e} cannot contain spaces: '${t}'`);const n=t.split(".");n.forEach((i,r)=>{if(i===">"&&r!==n.length-1)throw new Error(`${e} cannot have internal '>': '${t}'`)})}function Vb(e,t){if(t.indexOf(" ")!==-1)throw new Error(`${e} cannot contain spaces: '${t}'`);t.split(".").forEach(i=>{if(i===">")throw new Error(`${e} name cannot contain internal '>': '${t}'`)})}class rr extends Error{constructor(n,i){super(i);b(this,"code");this.code=n}static isServiceError(n){return rr.toServiceError(n)!==null}static toServiceError(n){var r,s;const i=((r=n==null?void 0:n.headers)==null?void 0:r.get(sr))||"";if(i!==""){const o=parseInt(i)||400,l=((s=n==null?void 0:n.headers)==null?void 0:s.get(ir))||"";return new rr(o,l.length?l:i)}return null}}class _s extends kt{constructor(n,i={name:"",version:""}){var r,s,o;super();b(this,"nc");b(this,"_id");b(this,"config");b(this,"handlers");b(this,"internal");b(this,"_stopped");b(this,"_done");b(this,"_schema");b(this,"started");this.nc=n,this.config=i,Ei("name",this.config.name),ii(this.config.version),this._id=Mr.next(),this.internal=[],this._done=nt(),this._stopped=!1,this.handlers=[],this.noIterator=!0,this.started=new Date().toISOString(),this.reset(),this.config.endpoint&&this._addEndpoint({name:"default",subject:(r=this.config.endpoint)==null?void 0:r.subject,handler:(s=this.config.endpoint)==null?void 0:s.handler,schema:(o=this.config.endpoint)==null?void 0:o.schema},!0),this.nc.closed().then(()=>{this.close().catch()}).catch(l=>{this.close(l).catch()})}static controlSubject(n,i="",r="",s){const o=s??jb;return i===""&&r===""?`${o}.${n}`:(Ei("control subject name",i),r!==""?(Ei("control subject id",r),`${o}.${n}.${i}.${r}`):`${o}.${n}.${i}`)}get subjects(){return this.handlers.filter(n=>n.internal===!1).map(n=>n.subject)}get id(){return this._id}get name(){return this.config.name}get description(){return this.config.description??""}get version(){return this.config.version}errorToHeader(n){const i=wn();if(n instanceof rr){const r=n;i.set(ir,r.message),i.set(sr,`${r.code}`)}else i.set(ir,n.message),i.set(sr,"500");return i}setupHandler(n,i=!1){const r=i?"":"q",{name:s,subject:o,handler:l,schema:c}=n,a=n;a.internal=i,i&&this.internal.push(a),a.stats=new Hb(s,o),a.schema=c;const d=l?(u,h)=>{if(u){this.close(u);return}const f=Date.now();try{l(u,new Ua(h))}catch(v){a.stats.countError(v),h==null||h.respond(Ct,{headers:this.errorToHeader(v)})}finally{a.stats.countLatency(f)}}:void 0;return a.sub=this.nc.subscribe(o,{callback:d,queue:r}),a.sub.closed.then(()=>{this._stopped||this.close(new Error(`required subscription ${n.subject} stopped`)).catch()}).catch(u=>{if(!this._stopped){const h=new Error(`required subscription ${n.subject} errored: ${u.message}`);h.stack=u.stack,this.close(h).catch()}}),a}info(){return{type:wi.INFO,name:this.name,id:this.id,version:this.version,description:this.description,subjects:this.subjects}}async stats(){const n=[];for(const i of this.handlers){if(typeof this.config.statsHandler=="function")try{i.stats.data=await this.config.statsHandler(i)}catch(r){i.stats.countError(r)}n.push(i.stats.stats(i.qi))}return{type:wi.STATS,name:this.name,id:this.id,version:this.version,started:this.started,endpoints:n}}addInternalHandler(n,i){const r=`${n}`.toUpperCase();this._doAddInternalHandler(`${r}-all`,n,i),this._doAddInternalHandler(`${r}-kind`,n,i,this.name),this._doAddInternalHandler(`${r}`,n,i,this.name,this.id)}_doAddInternalHandler(n,i,r,s="",o=""){const l={};l.name=n,l.subject=_s.controlSubject(i,s,o),l.handler=r,this.setupHandler(l,!0)}start(){const n=Yt(),i=(c,a)=>c?(this.close(c),Promise.reject(c)):this.stats().then(d=>(a==null||a.respond(n.encode(d)),Promise.resolve())),r=(c,a)=>c?(this.close(c),Promise.reject(c)):(a==null||a.respond(n.encode(this.info())),Promise.resolve()),s=n.encode({type:wi.PING,name:this.name,id:this.id,version:this.version}),o=(c,a)=>c?(this.close(c).then().catch(),Promise.reject(c)):(a.respond(s),Promise.resolve()),l=(c,a)=>c?(this.close(c),Promise.reject(c)):(a==null||a.respond(Yt().encode(this.schema())),Promise.resolve());return this.addInternalHandler(un.PING,o),this.addInternalHandler(un.STATS,i),this.addInternalHandler(un.INFO,r),this.addInternalHandler(un.SCHEMA,l),this.handlers.forEach(c=>{const{subject:a}=c;typeof a=="string"&&c.handler!==null&&this.setupHandler(c)}),Promise.resolve(this)}close(n){if(this._stopped)return this._done;this._stopped=!0;let i=[];return this.nc.isClosed()||(i=this.handlers.concat(this.internal).map(r=>r.sub.drain())),Promise.allSettled(i).then(()=>{this._done.resolve(n||null)}),this._done}get stopped(){return this._done}get isStopped(){return this._stopped}stop(n){return this.close(n)}schema(){const n={type:wi.SCHEMA,name:this.name,id:this.id,version:this.version,api_url:this.config.apiURL,endpoints:[]};return n.endpoints=this.handlers.map(i=>{const{schema:r,subject:s,name:o}=i;return{schema:r,subject:s,name:o}}),n}reset(){if(this.started=new Date().toISOString(),this.handlers)for(const n of this.handlers)n.stats.reset(n.qi)}addGroup(n){return new ys(this,n)}addEndpoint(n,i){return new ys(this).addEndpoint(n,i)}_addEndpoint(n,i=!1){const r=i?this:new kt;r.noIterator=typeof n.handler=="function",r.noIterator||(n.handler=(o,l)=>{o?this.stop(o).catch():r.push(new Ua(l))},r.iterClosed.then(()=>{this.close().catch()}));const s=this.setupHandler(n,!1);return s.qi=r,this.handlers.push(s),r}}class Hb{constructor(t,n){b(this,"name");b(this,"subject");b(this,"average_processing_time");b(this,"num_requests");b(this,"processing_time");b(this,"num_errors");b(this,"last_error");b(this,"data");this.name=t,this.subject=n,this.average_processing_time=0,this.num_errors=0,this.num_requests=0,this.processing_time=0}reset(t){this.num_requests=0,this.processing_time=0,this.average_processing_time=0,this.num_errors=0,this.last_error=void 0,this.data=void 0;const n=t;n&&(n.time=0,n.processed=0)}countLatency(t){this.num_requests++,this.processing_time+=ot(Date.now()-t),this.average_processing_time=Math.round(this.processing_time/this.num_requests)}countError(t){this.num_errors++,this.last_error=t.message}_stats(){const{name:t,subject:n,average_processing_time:i,num_errors:r,num_requests:s,processing_time:o,last_error:l,data:c}=this;return{name:t,subject:n,average_processing_time:i,num_errors:r,num_requests:s,processing_time:o,last_error:l,data:c}}stats(t){const n=t;return(n==null?void 0:n.noIterator)===!1&&(this.processing_time=n.time,this.num_requests=n.processed,this.average_processing_time=this.processing_time>0&&this.num_requests>0?this.processing_time/this.num_requests:0),this._stats()}}const Ub="$JS.API";function $b(e){return e=e||{},e.domain&&(e.apiPrefix=`$JS.${e.domain}.API`,delete e.domain),Ar({apiPrefix:Ub,timeout:5e3},e)}class Cs{constructor(t,n){b(this,"nc");b(this,"opts");b(this,"prefix");b(this,"timeout");b(this,"jc");this.nc=t,this.opts=$b(n),this._parseOpts(),this.prefix=this.opts.apiPrefix,this.timeout=this.opts.timeout,this.jc=Yt()}_parseOpts(){let t=this.opts.apiPrefix;if(!t||t.length===0)throw new Error("invalid empty prefix");t[t.length-1]==="."&&(t=t.substr(0,t.length-1)),this.opts.apiPrefix=t}async _request(t,n=null,i){i=i||{},i.timeout=this.timeout;let r=Ct;n&&(r=this.jc.encode(n));const s=await this.nc.request(t,r,i);return this.parseJsResponse(s)}async findStream(t){const n={subject:t},r=await this._request(`${this.prefix}.STREAM.NAMES`,n);if(!r.streams||r.streams.length!==1)throw new Error("no stream matches subject");return r.streams[0]}parseJsResponse(t){const n=this.jc.decode(t.data),i=n;if(i.error){const r=Yu(i.error.code,i.error.description);if(r!==null)throw r.api_error=i.error,r}return n}}class Ji{constructor(t,n,i,r){b(this,"err");b(this,"offset");b(this,"pageInfo");b(this,"subject");b(this,"jsm");b(this,"filter");b(this,"payload");if(!t)throw new Error("subject is required");this.subject=t,this.jsm=i,this.offset=0,this.pageInfo={},this.filter=n,this.payload=r||{}}async next(){if(this.err)return[];if(this.pageInfo&&this.offset>=this.pageInfo.total)return[];const t={offset:this.offset};this.payload&&Object.assign(t,this.payload);try{const n=await this.jsm._request(this.subject,t,{timeout:this.jsm.timeout});this.pageInfo=n;const i=this.filter(n);return this.offset+=i.length,i}catch(n){throw this.err=n,n}}async*[Symbol.asyncIterator](){let t=await this.next();for(;t.length>0;){for(const n of t)yield n;t=await this.next()}}}class Zu extends Cs{constructor(t,n){super(t,n)}async add(t,n){if(Et(t),n.deliver_group&&n.flow_control)throw new Error("jetstream flow control is not supported with queue groups");if(n.deliver_group&&n.idle_heartbeat)throw new Error("jetstream idle heartbeat is not supported with queue groups");const i={};i.config=n,i.stream_name=t,i.config.durable_name&&Si(i.config.durable_name);const r=this.nc,{min:s,ok:o}=r.features.get(Ft.JS_NEW_CONSUMER_CREATE_API),l=n.name===""?void 0:n.name;if(l&&!o)throw new Error(`consumer 'name' requires server ${s}`);if(l){const u=Ju(l);if(u.length)throw new Error(`consumer 'name' ${u}`)}let c,a="";if(o&&(a=n.name??n.durable_name??""),a!==""){let u=n.filter_subject??void 0;u===">"&&(u=void 0),c=u!==void 0?`${this.prefix}.CONSUMER.CREATE.${t}.${a}.${u}`:`${this.prefix}.CONSUMER.CREATE.${t}.${a}`}else c=n.durable_name?`${this.prefix}.CONSUMER.DURABLE.CREATE.${t}.${n.durable_name}`:`${this.prefix}.CONSUMER.CREATE.${t}`;return await this._request(c,i)}async update(t,n,i){const r=await this.info(t,n),s=i;return this.add(t,Object.assign(r.config,s))}async info(t,n){return Et(t),Si(n),await this._request(`${this.prefix}.CONSUMER.INFO.${t}.${n}`)}async delete(t,n){return Et(t),Si(n),(await this._request(`${this.prefix}.CONSUMER.DELETE.${t}.${n}`)).success}list(t){Et(t);const n=r=>r.consumers,i=`${this.prefix}.CONSUMER.LIST.${t}`;return new Ji(i,n,this)}}class Xu{constructor(t,n){b(this,"token");b(this,"received");b(this,"ctx");b(this,"requestSubject");b(this,"mux");this.mux=t,this.requestSubject=n,this.received=0,this.token=Mr.next(),this.ctx=new Error}}class Gb extends Xu{constructor(n,i,r={maxWait:1e3}){super(n,i);b(this,"callback");b(this,"done");b(this,"timer");b(this,"max");b(this,"opts");if(this.opts=r,typeof this.opts.callback!="function")throw new Error("callback is required");this.callback=this.opts.callback,this.max=typeof r.maxMessages=="number"&&r.maxMessages>0?r.maxMessages:-1,this.done=nt(),this.done.then(()=>{this.callback(null,null)}),this.timer=setTimeout(()=>{this.cancel()},r.maxWait)}cancel(n){n&&this.callback(n,null),clearTimeout(this.timer),this.mux.cancel(this),this.done.resolve()}resolver(n,i){n?(n.stack+=`

${this.ctx.stack}`,this.cancel(n)):(this.callback(null,i),this.opts.strategy===cn.Count&&(this.max--,this.max===0&&this.cancel()),this.opts.strategy===cn.JitterTimer&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.cancel()},this.opts.jitter||300)),this.opts.strategy===cn.SentinelMsg&&i&&i.data.length===0&&this.cancel())}}class Qu extends Xu{constructor(n,i,r={timeout:1e3}){super(n,i);b(this,"deferred");b(this,"timer");this.deferred=nt(),this.timer=Or(r.timeout)}resolver(n,i){this.timer&&this.timer.cancel(),n?(n.stack+=`

${this.ctx.stack}`,this.deferred.reject(n)):this.deferred.resolve(i),this.cancel()}cancel(n){this.timer&&this.timer.cancel(),this.mux.cancel(this),this.deferred.reject(n||ue.errorForCode(W.Cancelled))}}const $a=Uint8Array.of(43,65,67,75),qb=Uint8Array.of(45,78,65,75),Gi=Uint8Array.of(43,87,80,73),Wb=Uint8Array.of(43,78,88,84),Jb=Uint8Array.of(43,84,69,82,77),Yb=Uint8Array.of(32);function or(e){return new Xb(e)}function Zb(e){const t=e.split(".");if(t.length===9&&t.splice(2,0,"_",""),t.length<11||t[0]!=="$JS"||t[1]!=="ACK")throw new Error("not js message");const n={};return n.domain=t[2]==="_"?"":t[2],n.account_hash=t[3],n.stream=t[4],n.consumer=t[5],n.redeliveryCount=parseInt(t[6],10),n.redelivered=n.redeliveryCount>1,n.streamSequence=parseInt(t[7],10),n.deliverySequence=parseInt(t[8],10),n.timestampNanos=parseInt(t[9],10),n.pending=parseInt(t[10],10),n}class Xb{constructor(t){b(this,"msg");b(this,"di");b(this,"didAck");this.msg=t,this.didAck=!1}get subject(){return this.msg.subject}get sid(){return this.msg.sid}get data(){return this.msg.data}get headers(){return this.msg.headers}get info(){return this.di||(this.di=Zb(this.reply)),this.di}get redelivered(){return this.info.redeliveryCount>1}get reply(){return this.msg.reply||""}get seq(){return this.info.streamSequence}doAck(t){this.didAck||(this.didAck=!this.isWIP(t),this.msg.respond(t))}isWIP(t){return t.length===4&&t[0]===Gi[0]&&t[1]===Gi[1]&&t[2]===Gi[2]&&t[3]===Gi[3]}async ackAck(){if(!this.didAck&&(this.didAck=!0,this.msg.reply)){const n=this.msg.publisher,i=new Qu(n.muxSubscriptions,this.msg.reply);n.request(i);try{n.publish(this.msg.reply,$a,{reply:`${n.muxSubscriptions.baseInbox}${i.token}`})}catch(r){i.cancel(r)}try{return await Promise.race([i.timer,i.deferred]),!0}catch(r){i.cancel(r)}}return!1}ack(){this.doAck($a)}nak(t){let n=qb;t&&(n=Ab().encode(`-NAK ${JSON.stringify({delay:ot(t)})}`)),this.doAck(n)}working(){this.doAck(Gi)}next(t,n={batch:1}){const i={};i.batch=n.batch||1,i.no_wait=n.no_wait||!1,n.expires&&n.expires>0&&(i.expires=ot(n.expires));const r=Yt().encode(i),s=vs.concat(Wb,Yb,r),o=t?{reply:t}:void 0;this.msg.respond(s,o)}term(){this.doAck(Jb)}}function pi(e,t,n=!1){if(n===!0&&!e)throw ue.errorForCode(W.ApiError,new Error(`${t} is not a function`));if(e&&typeof e!="function")throw ue.errorForCode(W.ApiError,new Error(`${t} is not a function`))}class Qb extends kt{constructor(n,i,r){super();b(this,"sub");b(this,"adapter");b(this,"subIterDone");pi(r.adapter,"adapter",!0),this.adapter=r.adapter,r.callback&&pi(r.callback,"callback"),this.noIterator=typeof r.callback=="function",r.ingestionFilterFn&&(pi(r.ingestionFilterFn,"ingestionFilterFn"),this.ingestionFilterFn=r.ingestionFilterFn),r.protocolFilterFn&&(pi(r.protocolFilterFn,"protocolFilterFn"),this.protocolFilterFn=r.protocolFilterFn),r.dispatchedFn&&(pi(r.dispatchedFn,"dispatchedFn"),this.dispatchedFn=r.dispatchedFn),r.cleanupFn&&pi(r.cleanupFn,"cleanupFn");let s=(d,u)=>{this.callback(d,u)};if(r.callback){const d=r.callback;s=(u,h)=>{const[f,v]=this.adapter(u,h);if(f){d(f,null);return}const{ingest:C}=this.ingestionFilterFn?this.ingestionFilterFn(v,this):{ingest:!0};C&&(!this.protocolFilterFn||this.protocolFilterFn(v))&&(d(f,v),this.dispatchedFn&&v&&this.dispatchedFn(v))}}const{max:o,queue:l,timeout:c}=r,a={queue:l,timeout:c,callback:s};o&&o>0&&(a.max=o),this.sub=n.subscribe(i,a),r.cleanupFn&&(this.sub.cleanupFn=r.cleanupFn),this.noIterator||this.iterClosed.then(()=>{this.unsubscribe()}),this.subIterDone=nt(),Promise.all([this.sub.closed,this.iterClosed]).then(()=>{this.subIterDone.resolve()}).catch(()=>{this.subIterDone.resolve()}),(async d=>{await d.closed,this.stop()})(this.sub).then().catch()}unsubscribe(n){this.sub.unsubscribe(n)}drain(){return this.sub.drain()}isDraining(){return this.sub.isDraining()}isClosed(){return this.sub.isClosed()}callback(n,i){this.sub.cancelTimeout();const[r,s]=this.adapter(n,i);r&&this.stop(r),s&&this.push(s)}getSubject(){return this.sub.getSubject()}getReceived(){return this.sub.getReceived()}getProcessed(){return this.sub.getProcessed()}getPending(){return this.sub.getPending()}getID(){return this.sub.getID()}getMax(){return this.sub.getMax()}get closed(){return this.sub.closed}}let Bt;function ey(e){Bt=e}function ed(){return Bt!==void 0&&Bt.defaultPort!==void 0?Bt.defaultPort:4222}function to(){return Bt!==void 0&&Bt.urlParseFn?Bt.urlParseFn:void 0}function ty(){if(!Bt||typeof Bt.factory!="function")throw new Error("transport fn is not set");return Bt.factory()}function td(){return Bt!==void 0&&Bt.dnsResolveFn?Bt.dnsResolveFn:void 0}const ny=4,nd=48,iy=65,sy=97;function ry(e,t,n,i){const r=new Uint8Array(16);return[0,0,0,0,0,0,0,0,0,0,255,255].forEach((o,l)=>{r[l]=o}),r[12]=e,r[13]=t,r[14]=n,r[15]=i,r}function Fo(e){return oy(e)!==void 0}function oy(e){for(let t=0;t<e.length;t++)switch(e[t]){case".":return id(e);case":":return ly(e)}}function id(e){const t=new Uint8Array(4);for(let n=0;n<4;n++){if(e.length===0)return;if(n>0){if(e[0]!==".")return;e=e.substring(1)}const{n:i,c:r,ok:s}=ay(e);if(!s||i>255)return;e=e.substring(r),t[n]=i}return ry(t[0],t[1],t[2],t[3])}function ly(e){const t=new Uint8Array(16);let n=-1;if(e.length>=2&&e[0]===":"&&e[1]===":"&&(n=0,e=e.substring(2),e.length===0))return t;let i=0;for(;i<16;){const{n:r,c:s,ok:o}=cy(e);if(!o||r>65535)return;if(s<e.length&&e[s]==="."){if(n<0&&i!=16-4||i+4>16)return;const l=id(e);if(l===void 0)return;t[i]=l[12],t[i+1]=l[13],t[i+2]=l[14],t[i+3]=l[15],e="",i+=ny;break}if(t[i]=r>>8,t[i+1]=r,i+=2,e=e.substring(s),e.length===0)break;if(e[0]!==":"||e.length==1)return;if(e=e.substring(1),e[0]===":"){if(n>=0)return;if(n=i,e=e.substring(1),e.length===0)break}}if(e.length===0){if(i<16){if(n<0)return;const r=16-i;for(let s=i-1;s>=n;s--)t[s+r]=t[s];for(let s=n+r-1;s>=n;s--)t[s]=0}else if(n>=0)return;return t}}function ay(e){let t=0,n=0;for(t=0;t<e.length&&48<=e.charCodeAt(t)&&e.charCodeAt(t)<=57;t++)if(n=n*10+(e.charCodeAt(t)-nd),n>=16777215)return{n:16777215,c:t,ok:!1};return t===0?{n:0,c:0,ok:!1}:{n,c:t,ok:!0}}function cy(e){let t=0,n=0;for(n=0;n<e.length;n++){if(48<=e.charCodeAt(n)&&e.charCodeAt(n)<=57)t*=16,t+=e.charCodeAt(n)-nd;else if(97<=e.charCodeAt(n)&&e.charCodeAt(n)<=102)t*=16,t+=e.charCodeAt(n)-sy+10;else if(65<=e.charCodeAt(n)&&e.charCodeAt(n)<=70)t*=16,t+=e.charCodeAt(n)-iy+10;else break;if(t>=16777215)return{n:0,c:n,ok:!1}}return n===0?{n:0,c:n,ok:!1}:{n:t,c:n,ok:!0}}function uy(e){return e.indexOf(".")!==-1?!0:e.indexOf("[")!==-1||e.indexOf("::")!==-1?!1:e.split(":").length<=2}function Do(e){return!uy(e)}function dy(e){e=e.trim(),e.match(/^(.*:\/\/)(.*)/m)&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2")),Do(e)&&e.indexOf("[")===-1&&(e=`[${e}]`);const t=Do(e)?e.match(/(]:)(\d+)/):e.match(/(:)(\d+)/),n=t&&t.length===3&&t[1]&&t[2]?parseInt(t[2]):4222,i=n===80?"https":"http",r=new URL(`${i}://${e}`);r.port=`${n}`;let s=r.hostname;return s.charAt(0)==="["&&(s=s.substring(1,s.length-1)),{listen:r.host,hostname:s,port:n}}class rs{constructor(t,n=!1){b(this,"src");b(this,"listen");b(this,"hostname");b(this,"port");b(this,"didConnect");b(this,"reconnects");b(this,"lastConnect");b(this,"gossiped");b(this,"tlsName");b(this,"resolves");this.src=t,this.tlsName="";const i=dy(t);this.listen=i.listen,this.hostname=i.hostname,this.port=i.port,this.didConnect=!1,this.reconnects=0,this.lastConnect=0,this.gossiped=n}toString(){return this.listen}async resolve(t){if(!t.fn)return[this];const n=[];if(Fo(this.hostname))return[this];{const i=await t.fn(this.hostname);t.debug&&console.log(`resolve ${this.hostname} = ${i.join(",")}`);for(const r of i){const s=this.port===80?"https":"http",o=new URL(`${s}://${Do(r)?"["+r+"]":r}`);o.port=`${this.port}`;const l=new rs(o.host,!1);l.tlsName=this.hostname,n.push(l)}}return t.randomize&&Gu(n),this.resolves=n,n}}class hy{constructor(t=[],n={}){b(this,"firstSelect");b(this,"servers");b(this,"currentServer");b(this,"tlsName");b(this,"randomize");this.firstSelect=!0,this.servers=[],this.tlsName="",this.randomize=n.randomize||!1;const i=to();t&&(t.forEach(r=>{r=i?i(r):r,this.servers.push(new rs(r))}),this.randomize&&(this.servers=Gu(this.servers))),this.servers.length===0&&this.addServer(`${Ao}:${ed()}`,!1),this.currentServer=this.servers[0]}clear(){this.servers.length=0}updateTLSName(){const t=this.getCurrentServer();Fo(t.hostname)||(this.tlsName=t.hostname,this.servers.forEach(n=>{n.gossiped&&(n.tlsName=this.tlsName)}))}getCurrentServer(){return this.currentServer}addServer(t,n=!1){const i=to();t=i?i(t):t;const r=new rs(t,n);Fo(r.hostname)&&(r.tlsName=this.tlsName),this.servers.push(r)}selectServer(){if(this.firstSelect)return this.firstSelect=!1,this.currentServer;const t=this.servers.shift();return t&&(this.servers.push(t),this.currentServer=t),t}removeCurrentServer(){this.removeServer(this.currentServer)}removeServer(t){if(t){const n=this.servers.indexOf(t);this.servers.splice(n,1)}}length(){return this.servers.length}next(){return this.servers.length?this.servers[0]:void 0}getServers(){return this.servers}update(t){const n=[];let i=[];const r=to(),s=new Map;t.connect_urls&&t.connect_urls.length>0&&t.connect_urls.forEach(l=>{l=r?r(l):l;const c=new rs(l,!0);s.set(l,c)});const o=[];return this.servers.forEach((l,c)=>{const a=l.listen;l.gossiped&&this.currentServer.listen!==a&&s.get(a)===void 0&&o.push(c),s.delete(a)}),o.reverse(),o.forEach(l=>{const c=this.servers.splice(l,1);i=i.concat(c[0].listen)}),s.forEach((l,c)=>{this.servers.push(l),n.push(c)}),{added:n,deleted:i}}}class sd extends kt{constructor(n,i,r={}){super();b(this,"sid");b(this,"queue");b(this,"draining");b(this,"max");b(this,"subject");b(this,"drained");b(this,"protocol");b(this,"timer");b(this,"info");b(this,"cleanupFn");b(this,"closed");b(this,"requestSubject");Ar(this,r),this.protocol=n,this.subject=i,this.draining=!1,this.noIterator=typeof r.callback=="function",this.closed=nt(),r.timeout&&(this.timer=Or(r.timeout),this.timer.then(()=>{this.timer=void 0}).catch(s=>{this.stop(s),this.noIterator&&this.callback(s,{})})),this.noIterator||this.iterClosed.then(()=>{this.closed.resolve(),this.unsubscribe()})}setPrePostHandlers(n){if(this.noIterator){const i=this.callback,r=n.ingestionFilterFn?n.ingestionFilterFn:()=>({ingest:!0,protocol:!1}),s=n.protocolFilterFn?n.protocolFilterFn:()=>!0,o=n.dispatchedFn?n.dispatchedFn:()=>{};this.callback=(l,c)=>{const{ingest:a}=r(c);a&&s(c)&&(i(l,c),o(c))}}else this.protocolFilterFn=n.protocolFilterFn,this.dispatchedFn=n.dispatchedFn}callback(n,i){this.cancelTimeout(),n?this.stop(n):this.push(i)}close(){if(!this.isClosed()){this.cancelTimeout();const n=()=>{if(this.stop(),this.cleanupFn)try{this.cleanupFn(this,this.info)}catch{}this.closed.resolve()};this.noIterator?n():this.push(n)}}unsubscribe(n){this.protocol.unsubscribe(this,n)}cancelTimeout(){this.timer&&(this.timer.cancel(),this.timer=void 0)}drain(){return this.protocol.isClosed()?Promise.reject(ue.errorForCode(W.ConnectionClosed)):this.isClosed()?Promise.reject(ue.errorForCode(W.SubClosed)):(this.drained||(this.protocol.unsub(this),this.drained=this.protocol.flush(nt()).then(()=>{this.protocol.subscriptions.cancel(this)}).catch(()=>{this.protocol.subscriptions.cancel(this)})),this.drained)}isDraining(){return this.draining}isClosed(){return this.done}getSubject(){return this.subject}getMax(){return this.max}getID(){return this.sid}}class fy{constructor(){b(this,"mux");b(this,"subs");b(this,"sidCounter");this.sidCounter=0,this.mux=null,this.subs=new Map}size(){return this.subs.size}add(t){return this.sidCounter++,t.sid=this.sidCounter,this.subs.set(t.sid,t),t}setMux(t){return this.mux=t,t}getMux(){return this.mux}get(t){return this.subs.get(t)}resub(t){return this.sidCounter++,this.subs.delete(t.sid),t.sid=this.sidCounter,this.subs.set(t.sid,t),t}all(){return Array.from(this.subs.values())}cancel(t){t&&(t.close(),this.subs.delete(t.sid))}handleError(t){if(t&&t.permissionContext){const n=t.permissionContext,i=this.all();let r;if(n.operation==="subscription"&&(r=i.find(s=>s.subject===n.subject)),n.operation==="publish"&&(r=i.find(s=>s.requestSubject===n.subject)),r)return r.callback(t,{}),r.close(),this.subs.delete(r.sid),r!==this.mux}return!1}close(){this.subs.forEach(t=>{t.close()})}}class py{constructor(t,n,i){b(this,"ph");b(this,"interval");b(this,"maxOut");b(this,"timer");b(this,"pendings");this.ph=t,this.interval=n,this.maxOut=i,this.pendings=[]}start(){this.cancel(),this._schedule()}cancel(t){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this._reset(),t&&this.ph.disconnect()}_schedule(){this.timer=setTimeout(()=>{if(this.ph.dispatchStatus({type:gs.PingTimer,data:`${this.pendings.length+1}`}),this.pendings.length===this.maxOut){this.cancel(!0);return}const t=nt();this.ph.flush(t).then(()=>{this._reset()}).catch(()=>{this.cancel()}),this.pendings.push(t),this._schedule()},this.interval)}_reset(){this.pendings=this.pendings.filter(t=>(t.resolve(),!1))}}class my extends Error{constructor(t){super(t),this.name="AssertionError"}}function gy(e,t="Assertion failed."){if(!e)throw new my(t)}const Ga=32*1024,no=2**32-2;function Ns(e,t,n=0){const i=t.byteLength-n;return e.byteLength>i&&(e=e.subarray(0,i)),t.set(e,n),e.byteLength}class io{constructor(t){b(this,"_buf");b(this,"_off");if(this._off=0,t==null){this._buf=new Uint8Array(0);return}this._buf=new Uint8Array(t)}bytes(t={copy:!0}){return t.copy===!1?this._buf.subarray(this._off):this._buf.slice(this._off)}empty(){return this._buf.byteLength<=this._off}get length(){return this._buf.byteLength-this._off}get capacity(){return this._buf.buffer.byteLength}truncate(t){if(t===0){this.reset();return}if(t<0||t>this.length)throw Error("bytes.Buffer: truncation out of range");this._reslice(this._off+t)}reset(){this._reslice(0),this._off=0}_tryGrowByReslice(t){const n=this._buf.byteLength;return t<=this.capacity-n?(this._reslice(n+t),n):-1}_reslice(t){gy(t<=this._buf.buffer.byteLength),this._buf=new Uint8Array(this._buf.buffer,0,t)}readByte(){const t=new Uint8Array(1);return this.read(t)?t[0]:null}read(t){if(this.empty())return this.reset(),t.byteLength===0?0:null;const n=Ns(this._buf.subarray(this._off),t);return this._off+=n,n}writeByte(t){return this.write(Uint8Array.of(t))}writeString(t){return this.write(zn.encode(t))}write(t){const n=this._grow(t.byteLength);return Ns(t,this._buf,n)}_grow(t){const n=this.length;n===0&&this._off!==0&&this.reset();const i=this._tryGrowByReslice(t);if(i>=0)return i;const r=this.capacity;if(t<=Math.floor(r/2)-n)Ns(this._buf.subarray(this._off),this._buf);else{if(r+t>no)throw new Error("The buffer cannot be grown beyond the maximum size.");{const s=new Uint8Array(Math.min(2*r+t,no));Ns(this._buf.subarray(this._off),s),this._buf=s}}return this._off=0,this._reslice(Math.min(n+t,no)),n}grow(t){if(t<0)throw Error("Buffer._grow: negative count");const n=this._grow(t);this._reslice(n)}readFrom(t){let n=0;const i=new Uint8Array(Ga);for(;;){const r=this.capacity-this.length<Ga,s=r?i:new Uint8Array(this._buf.buffer,this.length),o=t.read(s);if(o===null)return n;r?this.write(s.subarray(0,o)):this._reslice(this.length+o),n+=o}}}var xt;(function(e){e[e.OK=0]="OK",e[e.ERR=1]="ERR",e[e.MSG=2]="MSG",e[e.INFO=3]="INFO",e[e.PING=4]="PING",e[e.PONG=5]="PONG"})(xt||(xt={}));function qa(){const e={};return e.sid=-1,e.hdr=-1,e.size=-1,e}const by=48;class Wa{constructor(t){b(this,"dispatcher");b(this,"state");b(this,"as");b(this,"drop");b(this,"hdr");b(this,"ma");b(this,"argBuf");b(this,"msgBuf");this.dispatcher=t,this.state=Y.OP_START,this.as=0,this.drop=0,this.hdr=0}parse(t){let n;for(n=0;n<t.length;n++){const i=t[n];switch(this.state){case Y.OP_START:switch(i){case Z.M:case Z.m:this.state=Y.OP_M,this.hdr=-1,this.ma=qa();break;case Z.H:case Z.h:this.state=Y.OP_H,this.hdr=0,this.ma=qa();break;case Z.P:case Z.p:this.state=Y.OP_P;break;case Z.PLUS:this.state=Y.OP_PLUS;break;case Z.MINUS:this.state=Y.OP_MINUS;break;case Z.I:case Z.i:this.state=Y.OP_I;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_H:switch(i){case Z.M:case Z.m:this.state=Y.OP_M;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_M:switch(i){case Z.S:case Z.s:this.state=Y.OP_MS;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_MS:switch(i){case Z.G:case Z.g:this.state=Y.OP_MSG;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_MSG:switch(i){case Z.SPACE:case Z.TAB:this.state=Y.OP_MSG_SPC;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_MSG_SPC:switch(i){case Z.SPACE:case Z.TAB:continue;default:this.state=Y.MSG_ARG,this.as=n}break;case Y.MSG_ARG:switch(i){case Z.CR:this.drop=1;break;case Z.NL:{const r=this.argBuf?this.argBuf.bytes():t.subarray(this.as,n-this.drop);this.processMsgArgs(r),this.drop=0,this.as=n+1,this.state=Y.MSG_PAYLOAD,n=this.as+this.ma.size-1;break}default:this.argBuf&&this.argBuf.writeByte(i)}break;case Y.MSG_PAYLOAD:if(this.msgBuf)if(this.msgBuf.length>=this.ma.size){const r=this.msgBuf.bytes({copy:!1});this.dispatcher.push({kind:xt.MSG,msg:this.ma,data:r}),this.argBuf=void 0,this.msgBuf=void 0,this.state=Y.MSG_END}else{let r=this.ma.size-this.msgBuf.length;const s=t.length-n;s<r&&(r=s),r>0?(this.msgBuf.write(t.subarray(n,n+r)),n=n+r-1):this.msgBuf.writeByte(i)}else n-this.as>=this.ma.size&&(this.dispatcher.push({kind:xt.MSG,msg:this.ma,data:t.subarray(this.as,n)}),this.argBuf=void 0,this.msgBuf=void 0,this.state=Y.MSG_END);break;case Y.MSG_END:switch(i){case Z.NL:this.drop=0,this.as=n+1,this.state=Y.OP_START;break;default:continue}break;case Y.OP_PLUS:switch(i){case Z.O:case Z.o:this.state=Y.OP_PLUS_O;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_PLUS_O:switch(i){case Z.K:case Z.k:this.state=Y.OP_PLUS_OK;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_PLUS_OK:switch(i){case Z.NL:this.dispatcher.push({kind:xt.OK}),this.drop=0,this.state=Y.OP_START;break}break;case Y.OP_MINUS:switch(i){case Z.E:case Z.e:this.state=Y.OP_MINUS_E;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_MINUS_E:switch(i){case Z.R:case Z.r:this.state=Y.OP_MINUS_ER;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_MINUS_ER:switch(i){case Z.R:case Z.r:this.state=Y.OP_MINUS_ERR;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_MINUS_ERR:switch(i){case Z.SPACE:case Z.TAB:this.state=Y.OP_MINUS_ERR_SPC;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_MINUS_ERR_SPC:switch(i){case Z.SPACE:case Z.TAB:continue;default:this.state=Y.MINUS_ERR_ARG,this.as=n}break;case Y.MINUS_ERR_ARG:switch(i){case Z.CR:this.drop=1;break;case Z.NL:{let r;this.argBuf?(r=this.argBuf.bytes(),this.argBuf=void 0):r=t.subarray(this.as,n-this.drop),this.dispatcher.push({kind:xt.ERR,data:r}),this.drop=0,this.as=n+1,this.state=Y.OP_START;break}default:this.argBuf&&this.argBuf.write(Uint8Array.of(i))}break;case Y.OP_P:switch(i){case Z.I:case Z.i:this.state=Y.OP_PI;break;case Z.O:case Z.o:this.state=Y.OP_PO;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_PO:switch(i){case Z.N:case Z.n:this.state=Y.OP_PON;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_PON:switch(i){case Z.G:case Z.g:this.state=Y.OP_PONG;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_PONG:switch(i){case Z.NL:this.dispatcher.push({kind:xt.PONG}),this.drop=0,this.state=Y.OP_START;break}break;case Y.OP_PI:switch(i){case Z.N:case Z.n:this.state=Y.OP_PIN;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_PIN:switch(i){case Z.G:case Z.g:this.state=Y.OP_PING;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_PING:switch(i){case Z.NL:this.dispatcher.push({kind:xt.PING}),this.drop=0,this.state=Y.OP_START;break}break;case Y.OP_I:switch(i){case Z.N:case Z.n:this.state=Y.OP_IN;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_IN:switch(i){case Z.F:case Z.f:this.state=Y.OP_INF;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_INF:switch(i){case Z.O:case Z.o:this.state=Y.OP_INFO;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_INFO:switch(i){case Z.SPACE:case Z.TAB:this.state=Y.OP_INFO_SPC;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_INFO_SPC:switch(i){case Z.SPACE:case Z.TAB:continue;default:this.state=Y.INFO_ARG,this.as=n}break;case Y.INFO_ARG:switch(i){case Z.CR:this.drop=1;break;case Z.NL:{let r;this.argBuf?(r=this.argBuf.bytes(),this.argBuf=void 0):r=t.subarray(this.as,n-this.drop),this.dispatcher.push({kind:xt.INFO,data:r}),this.drop=0,this.as=n+1,this.state=Y.OP_START;break}default:this.argBuf&&this.argBuf.writeByte(i)}break;default:throw this.fail(t.subarray(n))}}(this.state===Y.MSG_ARG||this.state===Y.MINUS_ERR_ARG||this.state===Y.INFO_ARG)&&!this.argBuf&&(this.argBuf=new io(t.subarray(this.as,n-this.drop))),this.state===Y.MSG_PAYLOAD&&!this.msgBuf&&(this.argBuf||this.cloneMsgArg(),this.msgBuf=new io(t.subarray(this.as)))}cloneMsgArg(){const t=this.ma.subject.length,n=this.ma.reply?this.ma.reply.length:0,i=new Uint8Array(t+n);i.set(this.ma.subject),this.ma.reply&&i.set(this.ma.reply,t),this.argBuf=new io(i),this.ma.subject=i.subarray(0,t),this.ma.reply&&(this.ma.reply=i.subarray(t))}processMsgArgs(t){if(this.hdr>=0)return this.processHeaderMsgArgs(t);const n=[];let i=-1;for(let r=0;r<t.length;r++)switch(t[r]){case Z.SPACE:case Z.TAB:case Z.CR:case Z.NL:i>=0&&(n.push(t.subarray(i,r)),i=-1);break;default:i<0&&(i=r)}switch(i>=0&&n.push(t.subarray(i)),n.length){case 3:this.ma.subject=n[0],this.ma.sid=this.protoParseInt(n[1]),this.ma.reply=void 0,this.ma.size=this.protoParseInt(n[2]);break;case 4:this.ma.subject=n[0],this.ma.sid=this.protoParseInt(n[1]),this.ma.reply=n[2],this.ma.size=this.protoParseInt(n[3]);break;default:throw this.fail(t,"processMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processMsgArgs Bad or Missing Sid Error");if(this.ma.size<0)throw this.fail(t,"processMsgArgs Bad or Missing Size Error")}fail(t,n=""){return n?n=`${n} [${this.state}]`:n=`parse error [${this.state}]`,new Error(`${n}: ${nn.decode(t)}`)}processHeaderMsgArgs(t){const n=[];let i=-1;for(let r=0;r<t.length;r++)switch(t[r]){case Z.SPACE:case Z.TAB:case Z.CR:case Z.NL:i>=0&&(n.push(t.subarray(i,r)),i=-1);break;default:i<0&&(i=r)}switch(i>=0&&n.push(t.subarray(i)),n.length){case 4:this.ma.subject=n[0],this.ma.sid=this.protoParseInt(n[1]),this.ma.reply=void 0,this.ma.hdr=this.protoParseInt(n[2]),this.ma.size=this.protoParseInt(n[3]);break;case 5:this.ma.subject=n[0],this.ma.sid=this.protoParseInt(n[1]),this.ma.reply=n[2],this.ma.hdr=this.protoParseInt(n[3]),this.ma.size=this.protoParseInt(n[4]);break;default:throw this.fail(t,"processHeaderMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Sid Error");if(this.ma.hdr<0||this.ma.hdr>this.ma.size)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Header Size Error");if(this.ma.size<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Size Error")}protoParseInt(t){if(t.length===0)return-1;let n=0;for(let i=0;i<t.length;i++){if(t[i]<48||t[i]>57)return-1;n=n*10+(t[i]-by)}return n}}var Y;(function(e){e[e.OP_START=0]="OP_START",e[e.OP_PLUS=1]="OP_PLUS",e[e.OP_PLUS_O=2]="OP_PLUS_O",e[e.OP_PLUS_OK=3]="OP_PLUS_OK",e[e.OP_MINUS=4]="OP_MINUS",e[e.OP_MINUS_E=5]="OP_MINUS_E",e[e.OP_MINUS_ER=6]="OP_MINUS_ER",e[e.OP_MINUS_ERR=7]="OP_MINUS_ERR",e[e.OP_MINUS_ERR_SPC=8]="OP_MINUS_ERR_SPC",e[e.MINUS_ERR_ARG=9]="MINUS_ERR_ARG",e[e.OP_M=10]="OP_M",e[e.OP_MS=11]="OP_MS",e[e.OP_MSG=12]="OP_MSG",e[e.OP_MSG_SPC=13]="OP_MSG_SPC",e[e.MSG_ARG=14]="MSG_ARG",e[e.MSG_PAYLOAD=15]="MSG_PAYLOAD",e[e.MSG_END=16]="MSG_END",e[e.OP_H=17]="OP_H",e[e.OP_P=18]="OP_P",e[e.OP_PI=19]="OP_PI",e[e.OP_PIN=20]="OP_PIN",e[e.OP_PING=21]="OP_PING",e[e.OP_PO=22]="OP_PO",e[e.OP_PON=23]="OP_PON",e[e.OP_PONG=24]="OP_PONG",e[e.OP_I=25]="OP_I",e[e.OP_IN=26]="OP_IN",e[e.OP_INF=27]="OP_INF",e[e.OP_INFO=28]="OP_INFO",e[e.OP_INFO_SPC=29]="OP_INFO_SPC",e[e.INFO_ARG=30]="INFO_ARG"})(Y||(Y={}));var Z;(function(e){e[e.CR="\r".charCodeAt(0)]="CR",e[e.E="E".charCodeAt(0)]="E",e[e.e="e".charCodeAt(0)]="e",e[e.F="F".charCodeAt(0)]="F",e[e.f="f".charCodeAt(0)]="f",e[e.G="G".charCodeAt(0)]="G",e[e.g="g".charCodeAt(0)]="g",e[e.H="H".charCodeAt(0)]="H",e[e.h="h".charCodeAt(0)]="h",e[e.I="I".charCodeAt(0)]="I",e[e.i="i".charCodeAt(0)]="i",e[e.K="K".charCodeAt(0)]="K",e[e.k="k".charCodeAt(0)]="k",e[e.M="M".charCodeAt(0)]="M",e[e.m="m".charCodeAt(0)]="m",e[e.MINUS="-".charCodeAt(0)]="MINUS",e[e.N="N".charCodeAt(0)]="N",e[e.n="n".charCodeAt(0)]="n",e[e.NL=`
`.charCodeAt(0)]="NL",e[e.O="O".charCodeAt(0)]="O",e[e.o="o".charCodeAt(0)]="o",e[e.P="P".charCodeAt(0)]="P",e[e.p="p".charCodeAt(0)]="p",e[e.PLUS="+".charCodeAt(0)]="PLUS",e[e.R="R".charCodeAt(0)]="R",e[e.r="r".charCodeAt(0)]="r",e[e.S="S".charCodeAt(0)]="S",e[e.s="s".charCodeAt(0)]="s",e[e.SPACE=" ".charCodeAt(0)]="SPACE",e[e.TAB="	".charCodeAt(0)]="TAB"})(Z||(Z={}));const yy=1024*32,wy=/^INFO\s+([^\r\n]+)\r\n/i;function Tn(e=""){if(e=e||"_INBOX",typeof e!="string")throw new Error("prefix must be a string");return`${e}.${Mr.next()}`}class xy{constructor(){b(this,"baseInbox");b(this,"reqs");this.reqs=new Map}size(){return this.reqs.size}init(t){return this.baseInbox=`${Tn(t)}.`,this.baseInbox}add(t){isNaN(t.received)||(t.received=0),this.reqs.set(t.token,t)}get(t){return this.reqs.get(t)}cancel(t){this.reqs.delete(t.token)}getToken(t){const n=t.subject||"";return n.indexOf(this.baseInbox)===0?n.substring(this.baseInbox.length):null}all(){return Array.from(this.reqs.values())}handleError(t,n){if(n&&n.permissionContext){if(t)return this.all().forEach(r=>{r.resolver(n,{})}),!0;const i=n.permissionContext;if(i.operation==="publish"){const r=this.all().find(s=>s.requestSubject===i.subject);if(r)return r.resolver(n,{}),!0}}return!1}dispatcher(){return(t,n)=>{const i=this.getToken(n);if(i){const r=this.get(i);r&&(t===null&&n.headers&&(t=qu(n)),r.resolver(t,n))}}}close(){const t=ue.errorForCode(W.Timeout);this.reqs.forEach(n=>{n.resolver(t,{})})}}const vy=ss(`PONG\r
`),Ja=ss(`PING\r
`);class _y{constructor(t,n,i){b(this,"echo");b(this,"no_responders");b(this,"protocol");b(this,"verbose");b(this,"pedantic");b(this,"jwt");b(this,"nkey");b(this,"sig");b(this,"user");b(this,"pass");b(this,"auth_token");b(this,"tls_required");b(this,"name");b(this,"lang");b(this,"version");b(this,"headers");this.protocol=1,this.version=t.version,this.lang=t.lang,this.echo=n.noEcho?!1:void 0,this.verbose=n.verbose,this.pedantic=n.pedantic,this.tls_required=n.tls?!0:void 0,this.name=n.name;const r=(n&&n.authenticator?n.authenticator(i):{})||{};Ar(this,r)}}class lr{constructor(t,n){b(this,"connected");b(this,"connectedOnce");b(this,"infoReceived");b(this,"info");b(this,"muxSubscriptions");b(this,"options");b(this,"outbound");b(this,"pongs");b(this,"subscriptions");b(this,"transport");b(this,"noMorePublishing");b(this,"connectError");b(this,"publisher");b(this,"_closed");b(this,"closed");b(this,"listeners");b(this,"heartbeats");b(this,"parser");b(this,"outMsgs");b(this,"inMsgs");b(this,"outBytes");b(this,"inBytes");b(this,"pendingLimit");b(this,"lastError");b(this,"abortReconnect");b(this,"servers");b(this,"server");b(this,"features");this._closed=!1,this.connected=!1,this.connectedOnce=!1,this.infoReceived=!1,this.noMorePublishing=!1,this.abortReconnect=!1,this.listeners=[],this.pendingLimit=yy,this.outMsgs=0,this.inMsgs=0,this.outBytes=0,this.inBytes=0,this.options=t,this.publisher=n,this.subscriptions=new fy,this.muxSubscriptions=new xy,this.outbound=new vs,this.pongs=[],this.pendingLimit=t.pendingLimit||this.pendingLimit,this.features=new zb({major:0,minor:0,micro:0});const i=typeof t.servers=="string"?[t.servers]:t.servers;this.servers=new hy(i,{randomize:!t.noRandomize}),this.closed=nt(),this.parser=new Wa(this),this.heartbeats=new py(this,this.options.pingInterval||$u,this.options.maxPingOut||Cb)}resetOutbound(){this.outbound.reset();const t=this.pongs;this.pongs=[];const n=ue.errorForCode(W.Disconnect);n.stack="",t.forEach(i=>{i.reject(n)}),this.parser=new Wa(this),this.infoReceived=!1}dispatchStatus(t){this.listeners.forEach(n=>{n.push(t)})}status(){const t=new kt;return this.listeners.push(t),t}prepare(){this.info=void 0,this.resetOutbound();const t=nt();return t.catch(()=>{}),this.pongs.unshift(t),this.connectError=n=>{t.reject(n)},this.transport=ty(),this.transport.closed().then(async n=>{if(this.connected=!1,!this.isClosed()){await this.disconnected(this.transport.closeError||this.lastError);return}}),t}disconnect(){this.dispatchStatus({type:gs.StaleConnection,data:""}),this.transport.disconnect()}async disconnected(t){this.dispatchStatus({type:Xn.Disconnect,data:this.servers.getCurrentServer().toString()}),this.options.reconnect?await this.dialLoop().then(()=>{var n;this.dispatchStatus({type:Xn.Reconnect,data:this.servers.getCurrentServer().toString()}),((n=this.lastError)==null?void 0:n.code)===W.AuthenticationExpired&&(this.lastError=void 0)}).catch(n=>{this._close(n)}):await this._close(t)}async dial(t){const n=this.prepare();let i;try{i=Or(this.options.timeout||2e4);const r=this.transport.connect(t,this.options);await Promise.race([r,i]),(async()=>{try{for await(const s of this.transport)this.parser.parse(s)}catch(s){console.log("reader closed",s)}})().then()}catch(r){n.reject(r)}try{await Promise.race([i,n]),i&&i.cancel(),this.connected=!0,this.connectError=void 0,this.sendSubscriptions(),this.connectedOnce=!0,this.server.didConnect=!0,this.server.reconnects=0,this.flushPending(),this.heartbeats.start()}catch(r){throw i&&i.cancel(),await this.transport.close(r),r}}async _doDial(t){const n=await t.resolve({fn:td(),debug:this.options.debug,randomize:!this.options.noRandomize});let i=null;for(const r of n)try{i=null,this.dispatchStatus({type:gs.Reconnecting,data:r.toString()}),await this.dial(r);return}catch(s){i=s}throw i}async dialLoop(){let t;for(;;){this._closed&&this.servers.clear();const n=this.options.reconnectDelayHandler?this.options.reconnectDelayHandler():Uu;let i=n;const r=this.selectServer();if(!r||this.abortReconnect)throw t||(this.lastError?this.lastError:ue.errorForCode(W.ConnectionRefused));const s=Date.now();if(r.lastConnect===0||r.lastConnect+n<=s){r.lastConnect=Date.now();try{await this._doDial(r);break}catch(o){if(t=o,!this.connectedOnce){if(this.options.waitOnFirstConnect)continue;this.servers.removeCurrentServer()}r.reconnects++;const l=this.options.maxReconnectAttempts||0;l!==-1&&r.reconnects>=l&&this.servers.removeCurrentServer()}}else i=Math.min(i,r.lastConnect+n-s),await wl(i)}}static async connect(t,n){const i=new lr(t,n);return await i.dialLoop(),i}static toError(t){const n=t?t.toLowerCase():"";if(n.indexOf("permissions violation")!==-1){const i=new ue(t,W.PermissionsViolation),r=t.match(/(Publish|Subscription) to "(\S+)"/);return r&&(i.permissionContext={operation:r[1].toLowerCase(),subject:r[2]}),i}else return n.indexOf("authorization violation")!==-1?new ue(t,W.AuthorizationViolation):n.indexOf("user authentication expired")!==-1?new ue(t,W.AuthenticationExpired):new ue(t,W.ProtocolError)}processMsg(t,n){if(this.inMsgs++,this.inBytes+=n.length,!this.subscriptions.sidCounter)return;const i=this.subscriptions.get(t.sid);i&&(i.received+=1,i.callback&&i.callback(null,new Wu(t,n,this)),i.max!==void 0&&i.received>=i.max&&i.unsubscribe())}processError(t){const n=Ba(t),i=lr.toError(n),r={type:Xn.Error,data:i.code};if(i.isPermissionError()){let s=!1;if(i.permissionContext){r.permissionContext=i.permissionContext;const o=this.subscriptions.getMux();s=(o==null?void 0:o.subject)===i.permissionContext.subject}this.subscriptions.handleError(i),this.muxSubscriptions.handleError(s,i),s&&this.subscriptions.setMux(null)}this.dispatchStatus(r),this.handleError(i)}handleError(t){t.isAuthError()&&this.handleAuthError(t),t.isProtocolError()&&(this.lastError=t),t.isPermissionError()||(this.lastError=t)}handleAuthError(t){this.lastError&&t.code===this.lastError.code&&this.options.ignoreAuthErrorAbort===!1&&(this.abortReconnect=!0),this.connectError?this.connectError(t):this.disconnect()}processPing(){this.transport.send(vy)}processPong(){const t=this.pongs.shift();t&&t.resolve()}processInfo(t){const n=JSON.parse(Ba(t));this.info=n;const i=this.options&&this.options.ignoreClusterUpdates?void 0:this.servers.update(n);if(!this.infoReceived){this.features.update(ii(n.version)),this.infoReceived=!0,this.transport.isEncrypted()&&this.servers.updateTLSName();const{version:s,lang:o}=this.transport;try{const l=new _y({version:s,lang:o},this.options,n.nonce);n.headers&&(l.headers=!0,l.no_responders=!0);const c=JSON.stringify(l);this.transport.send(ss(`CONNECT ${c}${Wn}`)),this.transport.send(Ja)}catch(l){this._close(l)}}i&&this.dispatchStatus({type:Xn.Update,data:i}),(n.ldm!==void 0?n.ldm:!1)&&this.dispatchStatus({type:Xn.LDM,data:this.servers.getCurrentServer().toString()})}push(t){switch(t.kind){case xt.MSG:{const{msg:n,data:i}=t;this.processMsg(n,i);break}case xt.OK:break;case xt.ERR:this.processError(t.data);break;case xt.PING:this.processPing();break;case xt.PONG:this.processPong();break;case xt.INFO:this.processInfo(t.data);break}}sendCommand(t,...n){const i=this.outbound.length();let r;typeof t=="string"?r=ss(t):r=t,this.outbound.fill(r,...n),i===0?setTimeout(()=>{this.flushPending()}):this.outbound.size()>=this.pendingLimit&&this.flushPending()}publish(t,n,i){let r=n.length;i=i||{},i.reply=i.reply||"";let s=Ct,o=0;if(i.headers){if(this.info&&!this.info.headers)throw new ue("headers",W.ServerOptionNotAvailable);s=i.headers.encode(),o=s.length,r=n.length+o}if(this.info&&r>this.info.max_payload)throw ue.errorForCode(W.MaxPayloadExceeded);this.outBytes+=r,this.outMsgs++;let l;i.headers?(i.reply?l=`HPUB ${t} ${i.reply} ${o} ${r}${Wn}`:l=`HPUB ${t} ${o} ${r}\r
`,this.sendCommand(l,s,n,nr)):(i.reply?l=`PUB ${t} ${i.reply} ${r}\r
`:l=`PUB ${t} ${r}\r
`,this.sendCommand(l,n,nr))}request(t){return this.initMux(),this.muxSubscriptions.add(t),t}subscribe(t){return this.subscriptions.add(t),this._subunsub(t),t}_sub(t){t.queue?this.sendCommand(`SUB ${t.subject} ${t.queue} ${t.sid}\r
`):this.sendCommand(`SUB ${t.subject} ${t.sid}\r
`)}_subunsub(t){return this._sub(t),t.max&&this.unsubscribe(t,t.max),t}unsubscribe(t,n){this.unsub(t,n),(t.max===void 0||t.received>=t.max)&&this.subscriptions.cancel(t)}unsub(t,n){!t||this.isClosed()||(n?this.sendCommand(`UNSUB ${t.sid} ${n}${Wn}`):this.sendCommand(`UNSUB ${t.sid}${Wn}`),t.max=n)}resub(t,n){!t||this.isClosed()||(t.subject=n,this.subscriptions.resub(t),this._sub(t))}flush(t){return t||(t=nt()),this.pongs.push(t),this.sendCommand(Ja),t}sendSubscriptions(){const t=[];this.subscriptions.all().forEach(n=>{const i=n;i.queue?t.push(`SUB ${i.subject} ${i.queue} ${i.sid}${Wn}`):t.push(`SUB ${i.subject} ${i.sid}${Wn}`)}),t.length&&this.transport.send(ss(t.join("")))}async _close(t){this._closed||(this.heartbeats.cancel(),this.connectError&&(this.connectError(t),this.connectError=void 0),this.muxSubscriptions.close(),this.subscriptions.close(),this.listeners.forEach(n=>{n.stop()}),this._closed=!0,await this.transport.close(t),await this.closed.resolve(t))}close(){return this._close()}isClosed(){return this._closed}drain(){const t=this.subscriptions.all(),n=[];return t.forEach(i=>{n.push(i.drain())}),Promise.all(n).then(async()=>(this.noMorePublishing=!0,await this.flush(),this.close())).catch(()=>{})}flushPending(){if(!(!this.infoReceived||!this.connected)&&this.outbound.size()){const t=this.outbound.drain();this.transport.send(t)}}initMux(){if(!this.subscriptions.getMux()){const n=this.muxSubscriptions.init(this.options.inboxPrefix),i=new sd(this,`${n}*`);i.callback=this.muxSubscriptions.dispatcher(),this.subscriptions.setMux(i),this.subscribe(i)}}selectServer(){const t=this.servers.selectServer();if(t!==void 0)return this.server=t,this.server}getServer(){return this.server}}function Fn(e){return new Cy(e)}class Cy{constructor(t){b(this,"config");b(this,"ordered");b(this,"mack");b(this,"stream");b(this,"callbackFn");b(this,"max");b(this,"qname");b(this,"isBind");this.stream="",this.mack=!1,this.ordered=!1,this.config=Db("",t||{})}getOpts(){const t={};return t.config=this.config,t.mack=this.mack,t.stream=this.stream,t.callbackFn=this.callbackFn,t.max=this.max,t.queue=this.qname,t.ordered=this.ordered,t.config.ack_policy=t.ordered?mt.None:t.config.ack_policy,t.isBind=t.isBind||!1,t}description(t){return this.config.description=t,this}deliverTo(t){return this.config.deliver_subject=t,this}durable(t){return Si(t),this.config.durable_name=t,this}startSequence(t){if(t<=0)throw new Error("sequence must be greater than 0");return this.config.deliver_policy=Tt.StartSequence,this.config.opt_start_seq=t,this}startTime(t){return this.config.deliver_policy=Tt.StartTime,this.config.opt_start_time=t.toISOString(),this}deliverAll(){return this.config.deliver_policy=Tt.All,this}deliverLastPerSubject(){return this.config.deliver_policy=Tt.LastPerSubject,this}deliverLast(){return this.config.deliver_policy=Tt.Last,this}deliverNew(){return this.config.deliver_policy=Tt.New,this}startAtTimeDelta(t){return this.startTime(new Date(Date.now()-t)),this}headersOnly(){return this.config.headers_only=!0,this}ackNone(){return this.config.ack_policy=mt.None,this}ackAll(){return this.config.ack_policy=mt.All,this}ackExplicit(){return this.config.ack_policy=mt.Explicit,this}ackWait(t){return this.config.ack_wait=ot(t),this}maxDeliver(t){return this.config.max_deliver=t,this}filterSubject(t){return this.config.filter_subject=t,this}replayInstantly(){return this.config.replay_policy=Ti.Instant,this}replayOriginal(){return this.config.replay_policy=Ti.Original,this}sample(t){if(t=Math.trunc(t),t<0||t>100)throw new Error("value must be between 0-100");return this.config.sample_freq=`${t}%`,this}limit(t){return this.config.rate_limit_bps=t,this}maxWaiting(t){return this.config.max_waiting=t,this}maxAckPending(t){return this.config.max_ack_pending=t,this}idleHeartbeat(t){return this.config.idle_heartbeat=ot(t),this}flowControl(){return this.config.flow_control=!0,this}deliverGroup(t){return this.queue(t),this}manualAck(){return this.mack=!0,this}maxMessages(t){return this.max=t,this}callback(t){return this.callbackFn=t,this}queue(t){return this.qname=t,this.config.deliver_group=t,this}orderedConsumer(){return this.ordered=!0,this}bind(t,n){return this.stream=t,this.config.durable_name=n,this.isBind=!0,this}bindStream(t){return this.stream=t,this}inactiveEphemeralThreshold(t){return this.config.inactive_threshold=ot(t),this}maxPullBatch(t){return this.config.max_batch=t,this}maxPullRequestExpires(t){return this.config.max_expires=ot(t),this}memory(){return this.config.mem_storage=!0,this}numReplicas(t){return this.config.num_replicas=t,this}}function Ya(e){return typeof e.getOpts=="function"}class rd{constructor(t,n,i={maxOut:2}){b(this,"interval");b(this,"maxOut");b(this,"cancelAfter");b(this,"timer");b(this,"autoCancelTimer");b(this,"last");b(this,"missed");b(this,"count");b(this,"callback");this.interval=t,this.maxOut=(i==null?void 0:i.maxOut)||2,this.cancelAfter=(i==null?void 0:i.cancelAfter)||0,this.last=Date.now(),this.missed=0,this.count=0,this.callback=n,this._schedule()}cancel(){this.autoCancelTimer&&clearTimeout(this.autoCancelTimer),this.timer&&clearInterval(this.timer),this.timer=0,this.autoCancelTimer=0}work(){this.last=Date.now(),this.missed=0}_change(t,n=0,i=2){this.interval=t,this.maxOut=i,this.cancelAfter=n,this.restart()}restart(){this.cancel(),this._schedule()}_schedule(){this.cancelAfter>0&&(this.autoCancelTimer=setTimeout(()=>{this.cancel()},this.cancelAfter)),this.timer=setInterval(()=>{if(this.count++,Date.now()-this.interval>this.last&&this.missed++,this.missed>=this.maxOut)try{this.callback(this.missed)===!0&&this.cancel()}catch(t){console.log(t)}},this.interval)}}class Za{static encode(t){if(typeof t=="string")return btoa(t);const n=Array.from(t);return btoa(String.fromCharCode(...n))}static decode(t,n=!1){const i=atob(t);return n?Uint8Array.from(i,r=>r.charCodeAt(0)):i}}class ar{static encode(t){return ar.toB64URLEncoding(Za.encode(t))}static decode(t,n=!1){return Za.decode(ar.fromB64URLEncoding(t),n)}static toB64URLEncoding(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}static fromB64URLEncoding(t){return t.replace(/_/g,"/").replace(/-/g,"+")}}function Xa(e){const t=e.length;let n=e.indexOf("=");n===-1&&(n=t);const i=n===t?0:4-n%4;return[n,i]}function Iy(e,t,n=!1){function i(o,l){return Math.floor((o+l)*3/4-l)}function r(o){return e[o>>18&63]+e[o>>12&63]+e[o>>6&63]+e[o&63]}function s(o,l,c){const a=new Array((c-l)/3);for(let d=l,u=0;d<c;d+=3)a[u++]=r((o[d]<<16)+(o[d+1]<<8)+o[d+2]);return a.join("")}return{byteLength(o){return i.apply(null,Xa(o))},toUint8Array(o){const[l,c]=Xa(o),a=new Uint8Array(i(l,c)),d=c?l-4:l;let u,h=0,f;for(f=0;f<d;f+=4)u=t[o.charCodeAt(f)]<<18|t[o.charCodeAt(f+1)]<<12|t[o.charCodeAt(f+2)]<<6|t[o.charCodeAt(f+3)],a[h++]=u>>16&255,a[h++]=u>>8&255,a[h++]=u&255;return c===2?(u=t[o.charCodeAt(f)]<<2|t[o.charCodeAt(f+1)]>>4,a[h++]=u&255):c===1&&(u=t[o.charCodeAt(f)]<<10|t[o.charCodeAt(f+1)]<<4|t[o.charCodeAt(f+2)]>>2,a[h++]=u>>8&255,a[h++]=u&255),a},fromUint8Array(o){const c=o.length,a=c%3,d=c-a,u=new Array(Math.ceil(d/16383)+(a?1:0));let h=0,f;for(let C=0;C<d;C+=16383)f=C+16383,u[h++]=s(o,C,f>d?d:f);let v;return a===1?(v=o[d],u[h]=e[v>>2]+e[v<<4&63],n||(u[h]+="==")):a===2&&(v=o[d]<<8|o[d+1]&255,u[h]=e[v>>10]+e[v>>4&63]+e[v<<2&63],n||(u[h]+="=")),u.join("")}}}const od=[],ld=[],so="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let e=0,t=so.length;e<t;++e)od[e]=so[e],ld[so.charCodeAt(e)]=e;const{byteLength:c_,toUint8Array:Sy,fromUint8Array:Ey}=Iy(od,ld,!0),ky=new TextDecoder,Py=new TextEncoder;function Ry(e){return e.reduce((t,n)=>`${t}${n<16?"0":""}${n.toString(16)}`,"")}function Ay(e){const t=e.length;if(t%2||!/^[0-9a-fA-F]+$/.test(e))throw new TypeError("Invalid hex string.");e=e.toLowerCase();const n=new Uint8Array(Math.floor(t/2)),i=t/2;for(let r=0;r<i;++r)n[r]=parseInt(e.substr(r*2,2),16);return n}function Oy(e,t="utf8"){if(/^utf-?8$/i.test(t))return ky.decode(e);if(/^base64$/i.test(t))return Ey(e);if(/^hex(?:adecimal)?$/i.test(t))return Ry(e);throw new TypeError("Unsupported string encoding.")}function My(e,t="utf8"){if(/^utf-?8$/i.test(t))return Py.encode(e);if(/^base64$/i.test(t))return Sy(e);if(/^hex(?:adecimal)?$/i.test(t))return Ay(e);throw new TypeError("Unsupported string encoding.")}class Qa{constructor(){b(this,"hashSize",32);b(this,"_buf");b(this,"_bufIdx");b(this,"_count");b(this,"_K");b(this,"_H");b(this,"_finalized");this._buf=new Uint8Array(64),this._K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),this.init()}init(){return this._H=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this._bufIdx=0,this._count=new Uint32Array(2),this._buf.fill(0),this._finalized=!1,this}update(t,n){if(t===null)throw new TypeError("msg must be a string or Uint8Array.");typeof t=="string"&&(t=My(t,n));for(let r=0,s=t.length;r<s;r++)this._buf[this._bufIdx++]=t[r],this._bufIdx===64&&(this._transform(),this._bufIdx=0);const i=this._count;return(i[0]+=t.length<<3)<t.length<<3&&i[1]++,i[1]+=t.length>>>29,this}digest(t){if(this._finalized)throw new Error("digest has already been called.");this._finalized=!0;const n=this._buf;let i=this._bufIdx;for(n[i++]=128;i!==56;)i===64&&(this._transform(),i=0),n[i++]=0;const r=this._count;n[56]=r[1]>>>24&255,n[57]=r[1]>>>16&255,n[58]=r[1]>>>8&255,n[59]=r[1]>>>0&255,n[60]=r[0]>>>24&255,n[61]=r[0]>>>16&255,n[62]=r[0]>>>8&255,n[63]=r[0]>>>0&255,this._transform();const s=new Uint8Array(32);for(let o=0;o<8;o++)s[(o<<2)+0]=this._H[o]>>>24&255,s[(o<<2)+1]=this._H[o]>>>16&255,s[(o<<2)+2]=this._H[o]>>>8&255,s[(o<<2)+3]=this._H[o]>>>0&255;return this.init(),t?Oy(s,t):s}_transform(){const t=this._H;let n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],l=t[5],c=t[6],a=t[7];const d=new Uint32Array(16);let u;for(u=0;u<16;u++)d[u]=this._buf[(u<<2)+3]|this._buf[(u<<2)+2]<<8|this._buf[(u<<2)+1]<<16|this._buf[u<<2]<<24;for(u=0;u<64;u++){let h;if(u<16)h=d[u];else{let f=d[u+1&15],v=d[u+14&15];h=d[u&15]=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+d[u&15]+d[u+9&15]|0}h=h+a+(o>>>6^o>>>11^o>>>25^o<<26^o<<21^o<<7)+(c^o&(l^c))+this._K[u]|0,a=c,c=l,l=o,o=s+h,s=r,r=i,i=n,n=h+(i&r^s&(i^r))+(i>>>2^i>>>13^i>>>22^i<<30^i<<19^i<<10)|0}t[0]=t[0]+n|0,t[1]=t[1]+i|0,t[2]=t[2]+r|0,t[3]=t[3]+s|0,t[4]=t[4]+o|0,t[5]=t[5]+l|0,t[6]=t[6]+c|0,t[7]=t[7]+a|0}}class Ly extends Cs{constructor(t,n){super(t,n)}async getMessage(t,n){Et(t);let i=n;const{last_by_subj:r}=i;r&&(i=null);const s=i?this.jc.encode(i):Ct,o=this.opts.apiPrefix||"$JS.API",l=r?`${o}.DIRECT.GET.${t}.${r}`:`${o}.DIRECT.GET.${t}`,c=await this.nc.request(l,s),a=ki(c);if(a)return Promise.reject(a);const d=new Ty(c);return Promise.resolve(d)}}class Ty{constructor(t){b(this,"data");b(this,"header");if(!t.headers)throw new Error("headers expected");this.data=t.data,this.header=t.headers}get subject(){return this.header.get(yi.Subject)}get seq(){const t=this.header.get(yi.Sequence);return typeof t=="string"?parseInt(t):0}get time(){return new Date(Date.parse(this.header.get(yi.TimeStamp)))}get stream(){return this.header.get(yi.Stream)}}(function(e){var t=function(p,g){this.hi=p|0,this.lo=g|0},n=function(p){var g,m=new Float64Array(16);if(p)for(g=0;g<p.length;g++)m[g]=p[g];return m},i=function(){throw new Error("no PRNG")},r=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=n(),l=n([1]),c=n([56129,1]),a=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function v(p,g){return p<<g|p>>>32-g}function C(p,g){var m=p[g+3]&255;return m=m<<8|p[g+2]&255,m=m<<8|p[g+1]&255,m<<8|p[g+0]&255}function E(p,g){var m=p[g]<<24|p[g+1]<<16|p[g+2]<<8|p[g+3],w=p[g+4]<<24|p[g+5]<<16|p[g+6]<<8|p[g+7];return new t(m,w)}function P(p,g,m){var w;for(w=0;w<4;w++)p[g+w]=m&255,m>>>=8}function O(p,g,m){p[g]=m.hi>>24&255,p[g+1]=m.hi>>16&255,p[g+2]=m.hi>>8&255,p[g+3]=m.hi&255,p[g+4]=m.lo>>24&255,p[g+5]=m.lo>>16&255,p[g+6]=m.lo>>8&255,p[g+7]=m.lo&255}function z(p,g,m,w,I){var S,F=0;for(S=0;S<I;S++)F|=p[g+S]^m[w+S];return(1&F-1>>>8)-1}function ie(p,g,m,w){return z(p,g,m,w,16)}function de(p,g,m,w){return z(p,g,m,w,32)}function _e(p,g,m,w,I){var S=new Uint32Array(16),F=new Uint32Array(16),V=new Uint32Array(16),A=new Uint32Array(4),T,ae,Re;for(T=0;T<4;T++)F[5*T]=C(w,4*T),F[1+T]=C(m,4*T),F[6+T]=C(g,4*T),F[11+T]=C(m,16+4*T);for(T=0;T<16;T++)V[T]=F[T];for(T=0;T<20;T++){for(ae=0;ae<4;ae++){for(Re=0;Re<4;Re++)A[Re]=F[(5*ae+4*Re)%16];for(A[1]^=v(A[0]+A[3]|0,7),A[2]^=v(A[1]+A[0]|0,9),A[3]^=v(A[2]+A[1]|0,13),A[0]^=v(A[3]+A[2]|0,18),Re=0;Re<4;Re++)S[4*ae+(ae+Re)%4]=A[Re]}for(Re=0;Re<16;Re++)F[Re]=S[Re]}if(I){for(T=0;T<16;T++)F[T]=F[T]+V[T]|0;for(T=0;T<4;T++)F[5*T]=F[5*T]-C(w,4*T)|0,F[6+T]=F[6+T]-C(g,4*T)|0;for(T=0;T<4;T++)P(p,4*T,F[5*T]),P(p,16+4*T,F[6+T])}else for(T=0;T<16;T++)P(p,4*T,F[T]+V[T]|0)}function pe(p,g,m,w){return _e(p,g,m,w,!1),0}function q(p,g,m,w){return _e(p,g,m,w,!0),0}var ge=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function xe(p,g,m,w,I,S,F){var V=new Uint8Array(16),A=new Uint8Array(64),T,ae;if(!I)return 0;for(ae=0;ae<16;ae++)V[ae]=0;for(ae=0;ae<8;ae++)V[ae]=S[ae];for(;I>=64;){for(pe(A,V,F,ge),ae=0;ae<64;ae++)p[g+ae]=(m?m[w+ae]:0)^A[ae];for(T=1,ae=8;ae<16;ae++)T=T+(V[ae]&255)|0,V[ae]=T&255,T>>>=8;I-=64,g+=64,m&&(w+=64)}if(I>0)for(pe(A,V,F,ge),ae=0;ae<I;ae++)p[g+ae]=(m?m[w+ae]:0)^A[ae];return 0}function Ee(p,g,m,w,I){return xe(p,g,null,0,m,w,I)}function te(p,g,m,w,I){var S=new Uint8Array(32);return q(S,w,I,ge),Ee(p,g,m,w.subarray(16),S)}function Te(p,g,m,w,I,S,F){var V=new Uint8Array(32);return q(V,S,F,ge),xe(p,g,m,w,I,S.subarray(16),V)}function He(p,g){var m,w=0;for(m=0;m<17;m++)w=w+(p[m]+g[m]|0)|0,p[m]=w&255,w>>>=8}var We=new Uint32Array([5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252]);function Ue(p,g,m,w,I,S){var F,V,A,T,ae=new Uint32Array(17),Re=new Uint32Array(17),Je=new Uint32Array(17),qt=new Uint32Array(17),di=new Uint32Array(17);for(A=0;A<17;A++)Re[A]=Je[A]=0;for(A=0;A<16;A++)Re[A]=S[A];for(Re[3]&=15,Re[4]&=252,Re[7]&=15,Re[8]&=252,Re[11]&=15,Re[12]&=252,Re[15]&=15;I>0;){for(A=0;A<17;A++)qt[A]=0;for(A=0;A<16&&A<I;++A)qt[A]=m[w+A];for(qt[A]=1,w+=A,I-=A,He(Je,qt),V=0;V<17;V++)for(ae[V]=0,A=0;A<17;A++)ae[V]=ae[V]+Je[A]*(A<=V?Re[V-A]:320*Re[V+17-A]|0)|0|0;for(V=0;V<17;V++)Je[V]=ae[V];for(T=0,A=0;A<16;A++)T=T+Je[A]|0,Je[A]=T&255,T>>>=8;for(T=T+Je[16]|0,Je[16]=T&3,T=5*(T>>>2)|0,A=0;A<16;A++)T=T+Je[A]|0,Je[A]=T&255,T>>>=8;T=T+Je[16]|0,Je[16]=T}for(A=0;A<17;A++)di[A]=Je[A];for(He(Je,We),F=-(Je[16]>>>7)|0,A=0;A<17;A++)Je[A]^=F&(di[A]^Je[A]);for(A=0;A<16;A++)qt[A]=S[A+16];for(qt[16]=0,He(Je,qt),A=0;A<16;A++)p[g+A]=Je[A];return 0}function Be(p,g,m,w,I,S){var F=new Uint8Array(16);return Ue(F,0,m,w,I,S),ie(p,g,F,0)}function Me(p,g,m,w,I){var S;if(m<32)return-1;for(Te(p,0,g,0,m,w,I),Ue(p,16,p,32,m-32,p),S=0;S<16;S++)p[S]=0;return 0}function yt(p,g,m,w,I){var S,F=new Uint8Array(32);if(m<32||(te(F,0,32,w,I),Be(g,16,g,32,m-32,F)!==0))return-1;for(Te(p,0,g,0,m,w,I),S=0;S<32;S++)p[S]=0;return 0}function ht(p,g){var m;for(m=0;m<16;m++)p[m]=g[m]|0}function ft(p){var g,m;for(m=0;m<16;m++)p[m]+=65536,g=Math.floor(p[m]/65536),p[(m+1)*(m<15?1:0)]+=g-1+37*(g-1)*(m===15?1:0),p[m]-=g*65536}function et(p,g,m){for(var w,I=~(m-1),S=0;S<16;S++)w=I&(p[S]^g[S]),p[S]^=w,g[S]^=w}function Rt(p,g){var m,w,I,S=n(),F=n();for(m=0;m<16;m++)F[m]=g[m];for(ft(F),ft(F),ft(F),w=0;w<2;w++){for(S[0]=F[0]-65517,m=1;m<15;m++)S[m]=F[m]-65535-(S[m-1]>>16&1),S[m-1]&=65535;S[15]=F[15]-32767-(S[14]>>16&1),I=S[15]>>16&1,S[14]&=65535,et(F,S,1-I)}for(m=0;m<16;m++)p[2*m]=F[m]&255,p[2*m+1]=F[m]>>8}function jn(p,g){var m=new Uint8Array(32),w=new Uint8Array(32);return Rt(m,p),Rt(w,g),de(m,0,w,0)}function D(p){var g=new Uint8Array(32);return Rt(g,p),g[0]&1}function Q(p,g){var m;for(m=0;m<16;m++)p[m]=g[2*m]+(g[2*m+1]<<8);p[15]&=32767}function G(p,g,m){var w;for(w=0;w<16;w++)p[w]=g[w]+m[w]|0}function re(p,g,m){var w;for(w=0;w<16;w++)p[w]=g[w]-m[w]|0}function ne(p,g,m){var w,I,S=new Float64Array(31);for(w=0;w<31;w++)S[w]=0;for(w=0;w<16;w++)for(I=0;I<16;I++)S[w+I]+=g[w]*m[I];for(w=0;w<15;w++)S[w]+=38*S[w+16];for(w=0;w<16;w++)p[w]=S[w];ft(p),ft(p)}function ke(p,g){ne(p,g,g)}function Ce(p,g){var m=n(),w;for(w=0;w<16;w++)m[w]=g[w];for(w=253;w>=0;w--)ke(m,m),w!==2&&w!==4&&ne(m,m,g);for(w=0;w<16;w++)p[w]=m[w]}function y(p,g){var m=n(),w;for(w=0;w<16;w++)m[w]=g[w];for(w=250;w>=0;w--)ke(m,m),w!==1&&ne(m,m,g);for(w=0;w<16;w++)p[w]=m[w]}function _(p,g,m){var w=new Uint8Array(32),I=new Float64Array(80),S,F,V=n(),A=n(),T=n(),ae=n(),Re=n(),Je=n();for(F=0;F<31;F++)w[F]=g[F];for(w[31]=g[31]&127|64,w[0]&=248,Q(I,m),F=0;F<16;F++)A[F]=I[F],ae[F]=V[F]=T[F]=0;for(V[0]=ae[0]=1,F=254;F>=0;--F)S=w[F>>>3]>>>(F&7)&1,et(V,A,S),et(T,ae,S),G(Re,V,T),re(V,V,T),G(T,A,ae),re(A,A,ae),ke(ae,Re),ke(Je,V),ne(V,T,V),ne(T,A,Re),G(Re,V,T),re(V,V,T),ke(A,V),re(T,ae,Je),ne(V,T,c),G(V,V,ae),ne(T,T,V),ne(V,ae,Je),ne(ae,A,I),ke(A,Re),et(V,A,S),et(T,ae,S);for(F=0;F<16;F++)I[F+16]=V[F],I[F+32]=T[F],I[F+48]=A[F],I[F+64]=ae[F];var qt=I.subarray(32),di=I.subarray(16);return Ce(qt,qt),ne(di,di,qt),Rt(p,di),0}function M(p,g){return _(p,g,s)}function L(p,g){return i(g,32),M(p,g)}function B(p,g,m){var w=new Uint8Array(32);return _(w,m,g),q(p,r,w,ge)}var $=Me,X=yt;function U(p,g,m,w,I,S){var F=new Uint8Array(32);return B(F,I,S),$(p,g,m,w,F)}function J(p,g,m,w,I,S){var F=new Uint8Array(32);return B(F,I,S),X(p,g,m,w,F)}function K(){var p=0,g=0,m=0,w=0,I=65535,S,F,V;for(V=0;V<arguments.length;V++)S=arguments[V].lo,F=arguments[V].hi,p+=S&I,g+=S>>>16,m+=F&I,w+=F>>>16;return g+=p>>>16,m+=g>>>16,w+=m>>>16,new t(m&I|w<<16,p&I|g<<16)}function he(p,g){return new t(p.hi>>>g,p.lo>>>g|p.hi<<32-g)}function oe(){var p=0,g=0,m;for(m=0;m<arguments.length;m++)p^=arguments[m].lo,g^=arguments[m].hi;return new t(g,p)}function le(p,g){var m,w,I=32-g;return g<32?(m=p.hi>>>g|p.lo<<I,w=p.lo>>>g|p.hi<<I):g<64&&(m=p.lo>>>g|p.hi<<I,w=p.hi>>>g|p.lo<<I),new t(m,w)}function we(p,g,m){var w=p.hi&g.hi^~p.hi&m.hi,I=p.lo&g.lo^~p.lo&m.lo;return new t(w,I)}function Se(p,g,m){var w=p.hi&g.hi^p.hi&m.hi^g.hi&m.hi,I=p.lo&g.lo^p.lo&m.lo^g.lo&m.lo;return new t(w,I)}function ze(p){return oe(le(p,28),le(p,34),le(p,39))}function Fe(p){return oe(le(p,14),le(p,18),le(p,41))}function Xe(p){return oe(le(p,1),le(p,8),he(p,7))}function At(p){return oe(le(p,19),le(p,61),he(p,6))}var vn=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)];function Ni(p,g,m){var w=[],I=[],S=[],F=[],V,A,T;for(A=0;A<8;A++)w[A]=S[A]=E(p,8*A);for(var ae=0;m>=128;){for(A=0;A<16;A++)F[A]=E(g,8*A+ae);for(A=0;A<80;A++){for(T=0;T<8;T++)I[T]=S[T];for(V=K(S[7],Fe(S[4]),we(S[4],S[5],S[6]),vn[A],F[A%16]),I[7]=K(V,ze(S[0]),Se(S[0],S[1],S[2])),I[3]=K(I[3],V),T=0;T<8;T++)S[(T+1)%8]=I[T];if(A%16===15)for(T=0;T<16;T++)F[T]=K(F[T],F[(T+9)%16],Xe(F[(T+1)%16]),At(F[(T+14)%16]))}for(A=0;A<8;A++)S[A]=K(S[A],w[A]),w[A]=S[A];ae+=128,m-=128}for(A=0;A<8;A++)O(p,8*A,w[A]);return m}var Kn=new Uint8Array([106,9,230,103,243,188,201,8,187,103,174,133,132,202,167,59,60,110,243,114,254,148,248,43,165,79,245,58,95,29,54,241,81,14,82,127,173,230,130,209,155,5,104,140,43,62,108,31,31,131,217,171,251,65,189,107,91,224,205,25,19,126,33,121]);function sn(p,g,m){var w=new Uint8Array(64),I=new Uint8Array(256),S,F=m;for(S=0;S<64;S++)w[S]=Kn[S];for(Ni(w,g,m),m%=128,S=0;S<256;S++)I[S]=0;for(S=0;S<m;S++)I[S]=g[F-m+S];for(I[m]=128,m=256-128*(m<112?1:0),I[m-9]=0,O(I,m-8,new t(F/536870912|0,F<<3)),Ni(w,I,m),S=0;S<64;S++)p[S]=w[S];return 0}function at(p,g){var m=n(),w=n(),I=n(),S=n(),F=n(),V=n(),A=n(),T=n(),ae=n();re(m,p[1],p[0]),re(ae,g[1],g[0]),ne(m,m,ae),G(w,p[0],p[1]),G(ae,g[0],g[1]),ne(w,w,ae),ne(I,p[3],g[3]),ne(I,I,d),ne(S,p[2],g[2]),G(S,S,S),re(F,w,m),re(V,S,I),G(A,S,I),G(T,w,m),ne(p[0],F,V),ne(p[1],T,A),ne(p[2],A,V),ne(p[3],F,T)}function Ot(p,g,m){var w;for(w=0;w<4;w++)et(p[w],g[w],m)}function ai(p,g){var m=n(),w=n(),I=n();Ce(I,g[2]),ne(m,g[0],I),ne(w,g[1],I),Rt(p,w),p[31]^=D(m)<<7}function Fr(p,g,m){var w,I;for(ht(p[0],o),ht(p[1],l),ht(p[2],l),ht(p[3],o),I=255;I>=0;--I)w=m[I/8|0]>>(I&7)&1,Ot(p,g,w),at(g,p),at(p,p),Ot(p,g,w)}function Is(p,g){var m=[n(),n(),n(),n()];ht(m[0],u),ht(m[1],h),ht(m[2],l),ne(m[3],u,h),Fr(p,m,g)}function Dr(p,g,m){var w=new Uint8Array(64),I=[n(),n(),n(),n()],S;for(m||i(g,32),sn(w,g,32),w[0]&=248,w[31]&=127,w[31]|=64,Is(I,w),ai(p,I),S=0;S<32;S++)g[S+32]=p[S];return 0}var Ss=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Br(p,g){var m,w,I,S;for(w=63;w>=32;--w){for(m=0,I=w-32,S=w-12;I<S;++I)g[I]+=m-16*g[w]*Ss[I-(w-32)],m=Math.floor((g[I]+128)/256),g[I]-=m*256;g[I]+=m,g[w]=0}for(m=0,I=0;I<32;I++)g[I]+=m-(g[31]>>4)*Ss[I],m=g[I]>>8,g[I]&=255;for(I=0;I<32;I++)g[I]-=m*Ss[I];for(w=0;w<32;w++)g[w+1]+=g[w]>>8,p[w]=g[w]&255}function Nr(p){var g=new Float64Array(64),m;for(m=0;m<64;m++)g[m]=p[m];for(m=0;m<64;m++)p[m]=0;Br(p,g)}function kl(p,g,m,w){var I=new Uint8Array(64),S=new Uint8Array(64),F=new Uint8Array(64),V,A,T=new Float64Array(64),ae=[n(),n(),n(),n()];sn(I,w,32),I[0]&=248,I[31]&=127,I[31]|=64;var Re=m+64;for(V=0;V<m;V++)p[64+V]=g[V];for(V=0;V<32;V++)p[32+V]=I[32+V];for(sn(F,p.subarray(32),m+32),Nr(F),Is(ae,F),ai(p,ae),V=32;V<64;V++)p[V]=w[V];for(sn(S,p,m+64),Nr(S),V=0;V<64;V++)T[V]=0;for(V=0;V<32;V++)T[V]=F[V];for(V=0;V<32;V++)for(A=0;A<32;A++)T[V+A]+=S[V]*I[A];return Br(p.subarray(32),T),Re}function Ud(p,g){var m=n(),w=n(),I=n(),S=n(),F=n(),V=n(),A=n();return ht(p[2],l),Q(p[1],g),ke(I,p[1]),ne(S,I,a),re(I,I,p[2]),G(S,p[2],S),ke(F,S),ke(V,F),ne(A,V,F),ne(m,A,I),ne(m,m,S),y(m,m),ne(m,m,I),ne(m,m,S),ne(m,m,S),ne(p[0],m,S),ke(w,p[0]),ne(w,w,S),jn(w,I)&&ne(p[0],p[0],f),ke(w,p[0]),ne(w,w,S),jn(w,I)?-1:(D(p[0])===g[31]>>7&&re(p[0],o,p[0]),ne(p[3],p[0],p[1]),0)}function zr(p,g,m,w){var I,S=new Uint8Array(32),F=new Uint8Array(64),V=[n(),n(),n(),n()],A=[n(),n(),n(),n()];if(m<64||Ud(A,w))return-1;for(I=0;I<m;I++)p[I]=g[I];for(I=0;I<32;I++)p[I+32]=w[I];if(sn(F,p,m),Nr(F),Fr(V,A,F),Is(A,g.subarray(32)),at(V,A),ai(S,V),m-=64,de(g,0,S,0)){for(I=0;I<m;I++)p[I]=0;return-1}for(I=0;I<m;I++)p[I]=g[I+64];return m}var jr=32,Es=24,zi=32,ci=16,ji=32,ks=32,Ki=32,Vi=32,Kr=32,Pl=Es,$d=zi,Gd=ci,hn=64,Vn=32,ui=64,Vr=32,Hr=64;e.lowlevel={crypto_core_hsalsa20:q,crypto_stream_xor:Te,crypto_stream:te,crypto_stream_salsa20_xor:xe,crypto_stream_salsa20:Ee,crypto_onetimeauth:Ue,crypto_onetimeauth_verify:Be,crypto_verify_16:ie,crypto_verify_32:de,crypto_secretbox:Me,crypto_secretbox_open:yt,crypto_scalarmult:_,crypto_scalarmult_base:M,crypto_box_beforenm:B,crypto_box_afternm:$,crypto_box:U,crypto_box_open:J,crypto_box_keypair:L,crypto_hash:sn,crypto_sign:kl,crypto_sign_keypair:Dr,crypto_sign_open:zr,crypto_secretbox_KEYBYTES:jr,crypto_secretbox_NONCEBYTES:Es,crypto_secretbox_ZEROBYTES:zi,crypto_secretbox_BOXZEROBYTES:ci,crypto_scalarmult_BYTES:ji,crypto_scalarmult_SCALARBYTES:ks,crypto_box_PUBLICKEYBYTES:Ki,crypto_box_SECRETKEYBYTES:Vi,crypto_box_BEFORENMBYTES:Kr,crypto_box_NONCEBYTES:Pl,crypto_box_ZEROBYTES:$d,crypto_box_BOXZEROBYTES:Gd,crypto_sign_BYTES:hn,crypto_sign_PUBLICKEYBYTES:Vn,crypto_sign_SECRETKEYBYTES:ui,crypto_sign_SEEDBYTES:Vr,crypto_hash_BYTES:Hr,gf:n,D:a,L:Ss,pack25519:Rt,unpack25519:Q,M:ne,A:G,S:ke,Z:re,pow2523:y,add:at,set25519:ht,modL:Br,scalarmult:Fr,scalarbase:Is};function Rl(p,g){if(p.length!==jr)throw new Error("bad key size");if(g.length!==Es)throw new Error("bad nonce size")}function qd(p,g){if(p.length!==Ki)throw new Error("bad public key size");if(g.length!==Vi)throw new Error("bad secret key size")}function Mt(){for(var p=0;p<arguments.length;p++)if(!(arguments[p]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Al(p){for(var g=0;g<p.length;g++)p[g]=0}e.randomBytes=function(p){var g=new Uint8Array(p);return i(g,p),g},e.secretbox=function(p,g,m){Mt(p,g,m),Rl(m,g);for(var w=new Uint8Array(zi+p.length),I=new Uint8Array(w.length),S=0;S<p.length;S++)w[S+zi]=p[S];return Me(I,w,w.length,g,m),I.subarray(ci)},e.secretbox.open=function(p,g,m){Mt(p,g,m),Rl(m,g);for(var w=new Uint8Array(ci+p.length),I=new Uint8Array(w.length),S=0;S<p.length;S++)w[S+ci]=p[S];return w.length<32||yt(I,w,w.length,g,m)!==0?null:I.subarray(zi)},e.secretbox.keyLength=jr,e.secretbox.nonceLength=Es,e.secretbox.overheadLength=ci,e.scalarMult=function(p,g){if(Mt(p,g),p.length!==ks)throw new Error("bad n size");if(g.length!==ji)throw new Error("bad p size");var m=new Uint8Array(ji);return _(m,p,g),m},e.scalarMult.base=function(p){if(Mt(p),p.length!==ks)throw new Error("bad n size");var g=new Uint8Array(ji);return M(g,p),g},e.scalarMult.scalarLength=ks,e.scalarMult.groupElementLength=ji,e.box=function(p,g,m,w){var I=e.box.before(m,w);return e.secretbox(p,g,I)},e.box.before=function(p,g){Mt(p,g),qd(p,g);var m=new Uint8Array(Kr);return B(m,p,g),m},e.box.after=e.secretbox,e.box.open=function(p,g,m,w){var I=e.box.before(m,w);return e.secretbox.open(p,g,I)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var p=new Uint8Array(Ki),g=new Uint8Array(Vi);return L(p,g),{publicKey:p,secretKey:g}},e.box.keyPair.fromSecretKey=function(p){if(Mt(p),p.length!==Vi)throw new Error("bad secret key size");var g=new Uint8Array(Ki);return M(g,p),{publicKey:g,secretKey:new Uint8Array(p)}},e.box.publicKeyLength=Ki,e.box.secretKeyLength=Vi,e.box.sharedKeyLength=Kr,e.box.nonceLength=Pl,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(p,g){if(Mt(p,g),g.length!==ui)throw new Error("bad secret key size");var m=new Uint8Array(hn+p.length);return kl(m,p,p.length,g),m},e.sign.open=function(p,g){if(Mt(p,g),g.length!==Vn)throw new Error("bad public key size");var m=new Uint8Array(p.length),w=zr(m,p,p.length,g);if(w<0)return null;for(var I=new Uint8Array(w),S=0;S<I.length;S++)I[S]=m[S];return I},e.sign.detached=function(p,g){for(var m=e.sign(p,g),w=new Uint8Array(hn),I=0;I<w.length;I++)w[I]=m[I];return w},e.sign.detached.verify=function(p,g,m){if(Mt(p,g,m),g.length!==hn)throw new Error("bad signature size");if(m.length!==Vn)throw new Error("bad public key size");var w=new Uint8Array(hn+p.length),I=new Uint8Array(hn+p.length),S;for(S=0;S<hn;S++)w[S]=g[S];for(S=0;S<p.length;S++)w[S+hn]=p[S];return zr(I,w,w.length,m)>=0},e.sign.keyPair=function(){var p=new Uint8Array(Vn),g=new Uint8Array(ui);return Dr(p,g),{publicKey:p,secretKey:g}},e.sign.keyPair.fromSecretKey=function(p){if(Mt(p),p.length!==ui)throw new Error("bad secret key size");for(var g=new Uint8Array(Vn),m=0;m<g.length;m++)g[m]=p[32+m];return{publicKey:g,secretKey:new Uint8Array(p)}},e.sign.keyPair.fromSeed=function(p){if(Mt(p),p.length!==Vr)throw new Error("bad seed size");for(var g=new Uint8Array(Vn),m=new Uint8Array(ui),w=0;w<32;w++)m[w]=p[w];return Dr(g,m,!0),{publicKey:g,secretKey:m}},e.sign.publicKeyLength=Vn,e.sign.secretKeyLength=ui,e.sign.seedLength=Vr,e.sign.signatureLength=hn,e.hash=function(p){Mt(p);var g=new Uint8Array(Hr);return sn(g,p,p.length),g},e.hash.hashLength=Hr,e.verify=function(p,g){return Mt(p,g),p.length===0||g.length===0||p.length!==g.length?!1:z(p,0,g,0,p.length)===0},e.setPRNG=function(p){i=p},function(){var p=typeof globalThis<"u"?globalThis.crypto||globalThis.msCrypto:null;if(p&&p.getRandomValues){var g=65536;e.setPRNG(function(m,w){var I,S=new Uint8Array(w);for(I=0;I<w;I+=g)p.getRandomValues(S.subarray(I,I+Math.min(w-I,g)));for(I=0;I<w;I++)m[I]=S[I];Al(S)})}else typeof require<"u"&&(p=require("crypto"),p&&p.randomBytes&&e.setPRNG(function(m,w){var I,S=p.randomBytes(w);for(I=0;I<w;I++)m[I]=S[I];Al(S)}))}()})(typeof module<"u"&&module.exports?module.exports:globalThis.nacl=globalThis.nacl||{});const zs=typeof module<"u"&&module.exports?module.exports:globalThis.nacl,Fy={fromSeed:zs.sign.keyPair.fromSeed,sign:zs.sign.detached,verify:zs.sign.detached.verify,randomBytes:zs.randomBytes};let ad;function Dy(e){ad=e}function Rn(){return ad}const By=new Uint16Array([0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920]);class cr{static checksum(t){let n=0;for(let i=0;i<t.byteLength;i++){let r=t[i];n=n<<8&65535^By[(n>>8^r)&255]}return n}static validate(t,n){return cr.checksum(t)==n}}const ro="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";class ec{static encode(t){let n=0,i=0,r=new Uint8Array(t),s=new Uint8Array(t.byteLength*2),o=0;for(let l=0;l<r.byteLength;l++)for(i=i<<8|r[l],n+=8;n>=5;){let c=i>>>n-5&31;s[o++]=ro.charAt(c).charCodeAt(0),n-=5}if(n>0){let l=i<<5-n&31;s[o++]=ro.charAt(l).charCodeAt(0)}return s.slice(0,o)}static decode(t){let n=0,i=0,r=0,s=new Uint8Array(t),o=new Uint8Array(s.byteLength*5/8|0);for(let l=0;l<s.byteLength;l++){let c=String.fromCharCode(s[l]),a=ro.indexOf(c);if(a===-1)throw new Error("Illegal Base32 character: "+s[l]);i=i<<5|a,n+=5,n>=8&&(o[r++]=i>>>n-8&255,n-=8)}return o.slice(0,r)}}class Ke extends Error{constructor(n,i){super(n);b(this,"name");b(this,"code");b(this,"chainedError");this.name="NKeysError",this.code=n,this.chainedError=i}}function Ny(){return Lr(je.Operator)}function zy(){return Lr(je.Account)}function jy(){return Lr(je.User)}var De;(function(e){e.InvalidPrefixByte="nkeys: invalid prefix byte",e.InvalidKey="nkeys: invalid key",e.InvalidPublicKey="nkeys: invalid public key",e.InvalidSeedLen="nkeys: invalid seed length",e.InvalidSeed="nkeys: invalid seed",e.InvalidEncoding="nkeys: invalid encoded key",e.InvalidSignature="nkeys: signature verification failed",e.CannotSign="nkeys: cannot sign, no private key available",e.PublicKeyOnly="nkeys: no seed or private key available",e.InvalidChecksum="nkeys: invalid checksum",e.SerializationError="nkeys: serialization error",e.ApiError="nkeys: api error",e.ClearedPair="nkeys: pair is cleared"})(De||(De={}));var je;(function(e){e[e.Seed=144]="Seed",e[e.Private=120]="Private",e[e.Operator=112]="Operator",e[e.Server=104]="Server",e[e.Cluster=16]="Cluster",e[e.Account=0]="Account",e[e.User=160]="User"})(je||(je={}));class xi{static isValidPublicPrefix(t){return t==je.Server||t==je.Operator||t==je.Cluster||t==je.Account||t==je.User}static startsWithValidPrefix(t){let n=t[0];return n=="S"||n=="P"||n=="O"||n=="N"||n=="C"||n=="A"||n=="U"}static isValidPrefix(t){return this.parsePrefix(t)!=-1}static parsePrefix(t){switch(t){case je.Seed:return je.Seed;case je.Private:return je.Private;case je.Operator:return je.Operator;case je.Server:return je.Server;case je.Cluster:return je.Cluster;case je.Account:return je.Account;case je.User:return je.User;default:return-1}}}class vt{static encode(t,n){if(!n||!(n instanceof Uint8Array))throw new Ke(De.SerializationError);if(!xi.isValidPrefix(t))throw new Ke(De.InvalidPrefixByte);return vt._encode(!1,t,n)}static encodeSeed(t,n){if(!n)throw new Ke(De.ApiError);if(!xi.isValidPublicPrefix(t))throw new Ke(De.InvalidPrefixByte);if(n.byteLength!==32)throw new Ke(De.InvalidSeedLen);return vt._encode(!0,t,n)}static decode(t,n){if(!xi.isValidPrefix(t))throw new Ke(De.InvalidPrefixByte);const i=vt._decode(n);if(i[0]!==t)throw new Ke(De.InvalidPrefixByte);return i.slice(1)}static decodeSeed(t){const n=vt._decode(t),i=vt._decodePrefix(n);if(i[0]!=je.Seed)throw new Ke(De.InvalidSeed);if(!xi.isValidPublicPrefix(i[1]))throw new Ke(De.InvalidPrefixByte);return{buf:n.slice(2),prefix:i[1]}}static _encode(t,n,i){const r=t?2:1,s=i.byteLength,o=r+s+2,l=r+s,c=new Uint8Array(o);if(t){const u=vt._encodePrefix(je.Seed,n);c.set(u)}else c[0]=n;c.set(i,r);const a=cr.checksum(c.slice(0,l));return new DataView(c.buffer).setUint16(l,a,!0),ec.encode(c)}static _decode(t){if(t.byteLength<4)throw new Ke(De.InvalidEncoding);let n;try{n=ec.decode(t)}catch(l){throw new Ke(De.InvalidEncoding,l)}const i=n.byteLength-2,s=new DataView(n.buffer).getUint16(i,!0),o=n.slice(0,i);if(!cr.validate(o,s))throw new Ke(De.InvalidChecksum);return o}static _encodePrefix(t,n){const i=t|n>>5,r=(n&31)<<3;return new Uint8Array([i,r])}static _decodePrefix(t){const n=t[0]&248,i=(t[0]&7)<<5|(t[1]&248)>>3;return new Uint8Array([n,i])}}class cd{constructor(t){b(this,"seed");this.seed=t}getRawSeed(){if(!this.seed)throw new Ke(De.ClearedPair);return vt.decodeSeed(this.seed).buf}getSeed(){if(!this.seed)throw new Ke(De.ClearedPair);return this.seed}getPublicKey(){if(!this.seed)throw new Ke(De.ClearedPair);const t=vt.decodeSeed(this.seed),n=Rn().fromSeed(this.getRawSeed()),i=vt.encode(t.prefix,n.publicKey);return new TextDecoder().decode(i)}getPrivateKey(){if(!this.seed)throw new Ke(De.ClearedPair);const t=Rn().fromSeed(this.getRawSeed());return vt.encode(je.Private,t.secretKey)}sign(t){if(!this.seed)throw new Ke(De.ClearedPair);const n=Rn().fromSeed(this.getRawSeed());return Rn().sign(t,n.secretKey)}verify(t,n){if(!this.seed)throw new Ke(De.ClearedPair);const i=Rn().fromSeed(this.getRawSeed());return Rn().verify(t,n,i.publicKey)}clear(){this.seed&&(this.seed.fill(0),this.seed=void 0)}}function Lr(e){const t=Rn().randomBytes(32);let n=vt.encodeSeed(e,new Uint8Array(t));return new cd(n)}class Ky{constructor(t){b(this,"publicKey");this.publicKey=t}getPublicKey(){if(!this.publicKey)throw new Ke(De.ClearedPair);return new TextDecoder().decode(this.publicKey)}getPrivateKey(){throw this.publicKey?new Ke(De.PublicKeyOnly):new Ke(De.ClearedPair)}getSeed(){throw this.publicKey?new Ke(De.PublicKeyOnly):new Ke(De.ClearedPair)}sign(t){throw this.publicKey?new Ke(De.CannotSign):new Ke(De.ClearedPair)}verify(t,n){if(!this.publicKey)throw new Ke(De.ClearedPair);let i=vt._decode(this.publicKey);return Rn().verify(t,n,i.slice(1))}clear(){this.publicKey&&(this.publicKey.fill(0),this.publicKey=void 0)}}function Vy(e){const t=new TextEncoder().encode(e),n=vt._decode(t),i=xi.parsePrefix(n[0]);if(xi.isValidPublicPrefix(i))return new Ky(t);throw new Ke(De.InvalidPublicKey)}function Hy(e){return vt.decodeSeed(e),new cd(e)}function Uy(e){return btoa(String.fromCharCode(...e))}function $y(e){const t=atob(e),n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}Dy(Fy);const tc={createAccount:zy,createOperator:Ny,createPair:Lr,createUser:jy,fromPublic:Vy,fromSeed:Hy,NKeysError:Ke,NKeysErrorCode:De,Prefix:je,decode:$y,encode:Uy};function Gy(e){return e.authenticator?e.authenticator:e.token?Jy(e.token):e.user?Wy(e.user,e.pass):qy()}function qy(){return()=>{}}function Wy(e,t){return()=>{const n=typeof e=="function"?e():e,i=typeof t=="function"?t():t;return{user:n,pass:i}}}function Jy(e){return()=>({auth_token:typeof e=="function"?e():e})}function Yy(e){return t=>{const n=typeof e=="function"?e():e,i=n?tc.fromSeed(n):void 0,r=i?i.getPublicKey():"",s=zn.encode(t||""),o=i!==void 0&&t?i.sign(s):void 0,l=o?tc.encode(o):"";return{nkey:r,sig:l}}}function Zy(e,t){return n=>{const i=typeof e=="function"?e():e,r=Yy(t),{nkey:s,sig:o}=r(n);return{jwt:i,nkey:s,sig:o}}}function Xy(e){const t=typeof e!="function"?()=>e:e,n=()=>{const s=/\s*(?:(?:[-]{3,}[^\n]*[-]{3,}\n)(.+)(?:\n\s*[-]{3,}[^\n]*[-]{3,}\n))/ig,o=nn.decode(t());let l=s.exec(o);if(!l)throw ue.errorForCode(W.BadCreds);const c=l[1].trim();if(l=s.exec(o),!l||!l)throw ue.errorForCode(W.BadCreds);const a=zn.encode(l[1].trim());return{jwt:c,seed:a}};return Zy(()=>{const{jwt:s}=n();return s},()=>{const{seed:s}=n();return s})}function Qy(){return{maxPingOut:2,maxReconnectAttempts:10,noRandomize:!1,pedantic:!1,pingInterval:$u,reconnect:!0,reconnectJitter:100,reconnectJitterTLS:1e3,reconnectTimeWait:Uu,tls:void 0,verbose:!1,waitOnFirstConnect:!1,ignoreAuthErrorAbort:!1}}function ew(e){const t=`${Ao}:${ed()}`;if(e=e||{servers:[t]},e.servers=e.servers||[],typeof e.servers=="string"&&(e.servers=[e.servers]),e.servers.length>0&&e.port)throw new ue("port and servers options are mutually exclusive",W.InvalidOption);e.servers.length===0&&e.port&&(e.servers=[`${Ao}:${e.port}`]),e.servers&&e.servers.length===0&&(e.servers=[t]);const n=Ar(Qy(),e);if(e.user&&e.token||e.authenticator&&(e.token||e.user||e.pass))throw ue.errorForCode(W.BadAuthentication);if(n.authenticator=Gy(n),["reconnectDelayHandler","authenticator"].forEach(i=>{if(n[i]&&typeof n[i]!="function")throw new ue(`${i} option should be a function`,W.NotFunction)}),n.reconnectDelayHandler||(n.reconnectDelayHandler=()=>{let i=n.tls?n.reconnectJitterTLS:n.reconnectJitter;return i&&(i++,i=Math.floor(Math.random()*i)),n.reconnectTimeWait+i}),n.inboxPrefix)try{Tn(n.inboxPrefix)}catch(i){throw new ue(i.message,W.ApiError)}if(n.resolve&&typeof td()!="function")throw new ue("'resolve' is not supported on this client",W.InvalidOption);return n}function ud(){return{key:{encode(e){return e},decode(e){return e}},value:{encode(e){return e},decode(e){return e}}}}function tw(){return{replicas:1,history:1,timeout:2e3,maxBucketSize:-1,maxValueSize:-1,codec:ud(),storage:Mo.File}}const js="KV-Operation",Vt="KV_",nc="$KV",nw=/^[-/=.\w]+$/,iw=/^[-/=.>*\w]+$/,sw=/^[-\w]+$/;function dd(e){if(e.startsWith(".")||e.endsWith(".")||!nw.test(e))throw new Error(`invalid key: ${e}`)}function rw(e){if(e.startsWith(".")||e.endsWith(".")||!iw.test(e))throw new Error(`invalid key: ${e}`)}function ow(e){if(e.startsWith(".")||e.endsWith("."))throw new Error(`invalid key: ${e}`);const t=e.split(".");let n=!1;for(let i=0;i<t.length;i++)switch(t[i]){case"*":n=!0;break;case">":if(i!==t.length-1)throw new Error(`invalid key: ${e}`);n=!0;break}return n}function Ws(e){if(!sw.test(e))throw new Error(`invalid bucket name: ${e}`)}class ws{constructor(t,n,i){b(this,"jsm");b(this,"js");b(this,"stream");b(this,"bucket");b(this,"direct");b(this,"codec");b(this,"prefix");b(this,"editPrefix");b(this,"useJsPrefix");b(this,"_prefixLen");b(this,"validateKey",dd);b(this,"validateSearchKey",rw);b(this,"hasWildcards",ow);Ws(t),this.jsm=n,this.js=i,this.bucket=t,this.prefix=nc,this.editPrefix="",this.useJsPrefix=!1,this._prefixLen=0}static async create(t,n,i={}){const r=t,{ok:s,min:o}=r.nc.features.get(Ft.JS_KV);if(!s)return Promise.reject(new Error(`kv is only supported on servers ${o} or better`));Ws(n);const l=i.timeout||2e3;let c=r.opts||{};c=Object.assign(c,{timeout:l});const a=await r.nc.jetstreamManager(c),d=new ws(n,a,t);return await d.init(i),d}static async bind(t,n,i={}){const s=await t.nc.jetstreamManager(),o=await s.streams.info(`${Vt}${n}`);Ws(o.config.name);const l=new ws(n,s,t);return Object.assign(l,o),l.codec=i.codec||ud(),l.direct=o.config.allow_direct??!1,l.initializePrefixes(o),l}async init(t={}){const n=Object.assign(tw(),t);this.codec=n.codec;const i={};this.stream=i.name=t.streamName??this.bucketName(),i.retention=Oo.Limits,i.max_msgs_per_subject=n.history,n.maxBucketSize&&(n.max_bytes=n.maxBucketSize),n.max_bytes&&(i.max_bytes=n.max_bytes),i.max_msg_size=n.maxValueSize,i.storage=n.storage;const r=t.placementCluster??"";if(r&&(t.placement={},t.placement.cluster=r,t.placement.tags=[]),t.placement&&(i.placement=t.placement),t.republish&&(i.republish=t.republish),t.description&&(i.description=t.description),t.mirror){const u=Object.assign({},t.mirror);u.name.startsWith(Vt)||(u.name=`${Vt}${u.name}`),i.mirror=u,i.mirror_direct=!0}else if(t.sources){const u=t.sources.map(h=>{const f=Object.assign({},h);f.name.startsWith(Vt)||(f.name=`${Vt}${f.name}`)});i.sources=u}else i.subjects=[this.subjectForBucket()];const s=this.js.nc,o=s.getServerVersion(),l=o?To(o,ii("2.7.2"))>=0:!1;i.discard=l?bs.New:bs.Old;const{ok:c,min:a}=s.features.get(Ft.JS_ALLOW_DIRECT);if(!c&&t.allow_direct===!0){const u=o?`${o.major}.${o.minor}.${o.micro}`:"unknown";return Promise.reject(new Error(`allow_direct is not available on server version ${u} - requires ${a}`))}t.allow_direct=typeof t.allow_direct=="boolean"?t.allow_direct:c,i.allow_direct=t.allow_direct,this.direct=i.allow_direct,i.num_replicas=n.replicas,n.ttl&&(i.max_age=ot(n.ttl)),i.allow_rollup_hdrs=!0;let d;try{d=await this.jsm.streams.info(i.name),!d.config.allow_direct&&this.direct===!0&&(this.direct=!1)}catch(u){if(u.message==="stream not found")d=await this.jsm.streams.add(i);else throw u}this.initializePrefixes(d)}initializePrefixes(t){this._prefixLen=0,this.prefix=`$KV.${this.bucket}`,this.useJsPrefix=this.js.opts.apiPrefix!=="$JS.API";const{mirror:n}=t.config;if(n){let i=n.name;if(i.startsWith(Vt)&&(i=i.substring(Vt.length)),n.external&&n.external.api!==""){const r=n.name.substring(Vt.length);this.useJsPrefix=!1,this.prefix=`$KV.${r}`,this.editPrefix=`${n.external.api}.$KV.${i}`}else this.editPrefix=this.prefix}}bucketName(){return this.stream??`${Vt}${this.bucket}`}subjectForBucket(){return`${this.prefix}.${this.bucket}.>`}subjectForKey(t,n=!1){const i=[];return n?(this.useJsPrefix&&i.push(this.js.apiPrefix),this.editPrefix!==""?i.push(this.editPrefix):i.push(this.prefix)):this.prefix&&i.push(this.prefix),i.push(t),i.join(".")}fullKeyName(t){return this.prefix!==""?`${this.prefix}.${t}`:`${nc}.${this.bucket}.${t}`}get prefixLen(){return this._prefixLen===0&&(this._prefixLen=this.prefix.length+1),this._prefixLen}encodeKey(t){const n=[];for(const i of t.split("."))switch(i){case">":case"*":n.push(i);break;default:n.push(this.codec.key.encode(i));break}return n.join(".")}decodeKey(t){const n=[];for(const i of t.split("."))switch(i){case">":case"*":n.push(i);break;default:n.push(this.codec.key.decode(i));break}return n.join(".")}close(){return Promise.resolve()}dataLen(t,n){const i=n&&n.get(Xt.MessageSizeHdr)||"";return i!==""?parseInt(i,10):t.length}smToEntry(t){return{bucket:this.bucket,key:t.subject.substring(this.prefixLen),value:t.data,delta:0,created:t.time,revision:t.seq,operation:t.header.get(js)||"PUT",length:this.dataLen(t.data,t.header)}}jmToEntry(t){var i;const n=this.decodeKey(t.subject.substring(this.prefixLen));return{bucket:this.bucket,key:n,value:t.data,created:new Date(xl(t.info.timestampNanos)),revision:t.seq,operation:((i=t.headers)==null?void 0:i.get(js))||"PUT",delta:t.info.pending,length:this.dataLen(t.data,t.headers)}}create(t,n){return this.put(t,n,{previousSeq:0})}update(t,n,i){if(i<=0)throw new Error("version must be greater than 0");return this.put(t,n,{previousSeq:i})}async put(t,n,i={}){var o,l;const r=this.encodeKey(t);this.validateKey(r);const s={};if(i.previousSeq!==void 0){const c=wn();s.headers=c,c.set("Nats-Expected-Last-Subject-Sequence",`${i.previousSeq}`)}try{return(await this.js.publish(this.subjectForKey(r,!0),n,s)).seq}catch(c){const a=c;return a.isJetStreamError()?(a.message=(o=a.api_error)==null?void 0:o.description,a.code=`${(l=a.api_error)==null?void 0:l.code}`,Promise.reject(a)):Promise.reject(c)}}async get(t,n){const i=this.encodeKey(t);this.validateKey(i);let r={last_by_subj:this.subjectForKey(i)};n&&n.revision>0&&(r={seq:n.revision});let s;try{this.direct?s=await this.jsm.direct.getMessage(this.bucketName(),r):s=await this.jsm.streams.getMessage(this.bucketName(),r);const o=this.smToEntry(s);return o.key!==i?null:o}catch(o){if(o.code===W.JetStream404NoMessages)return null;throw o}}purge(t){return this._deleteOrPurge(t,"PURGE")}delete(t){return this._deleteOrPurge(t,"DEL")}async purgeDeletes(t=30*60*1e3){const n=nt(),i=[],r=await this.watch({key:">",initializedFn:()=>{n.resolve()}});(async()=>{for await(const c of r)(c.operation==="DEL"||c.operation==="PURGE")&&i.push(c)})().then(),await n,r.stop();const s=Date.now()-t,o=i.map(c=>{const a=this.subjectForKey(c.key);return c.created.getTime()>=s?this.jsm.streams.purge(this.stream,{filter:a,keep:1}):this.jsm.streams.purge(this.stream,{filter:a,keep:0})}),l=await Promise.all(o);return l.unshift({success:!0,purged:0}),l.reduce((c,a)=>(c.purged+=a.purged,c))}async _deleteOrPurge(t,n){if(!this.hasWildcards(t))return this._doDeleteOrPurge(t,n);const i=await this.keys(t),r=[];for await(const s of i)r.push(this._doDeleteOrPurge(s,n)),r.length===100&&(await Promise.all(r),r.length=0);r.length>0&&await Promise.all(r)}async _doDeleteOrPurge(t,n){const i=this.encodeKey(t);this.validateKey(i);const r=wn();r.set(js,n),n==="PURGE"&&r.set(Xt.RollupHdr,Xt.RollupValueSubject),await this.js.publish(this.subjectForKey(i,!0),Ct,{headers:r})}_buildCC(t,n=!1,i={}){const r=this.encodeKey(t);return this.validateSearchKey(t),Object.assign({deliver_policy:n?Tt.All:Tt.LastPerSubject,ack_policy:mt.None,filter_subject:this.fullKeyName(r),flow_control:!0,idle_heartbeat:ot(5*1e3)},i)}remove(t){return this.purge(t)}async history(t={}){const n=t.key??">",i=new kt,r={};r.headers_only=t.headers_only||!1;let s;s=()=>{i.stop()};let o=0;const l=this._buildCC(n,!0,r),c=l.filter_subject,a=Fn(l);a.bindStream(this.stream),a.orderedConsumer(),a.callback((u,h)=>{if(u){i.stop(u);return}if(h){const f=this.jmToEntry(h);i.push(f),i.received++,(s&&o>0&&i.received>=o||h.info.pending===0)&&(i.push(s),s=void 0)}});const d=await this.js.subscribe(c,a);if(s){const{info:{last:u}}=d,h=u.num_pending+u.delivered.consumer_seq;if(h===0||i.received>=h)try{s()}catch(f){i.stop(f)}finally{s=void 0}else o=h}return i._data=d,i.iterClosed.then(()=>{d.unsubscribe()}),d.closed.then(()=>{i.stop()}).catch(u=>{i.stop(u)}),i}async watch(t={}){const n=t.key??">",i=new kt,r={};r.headers_only=t.headers_only||!1;let s=t.initializedFn,o=0;const l=this._buildCC(n,!1,r),c=l.filter_subject,a=Fn(l);a.bindStream(this.stream),a.orderedConsumer(),a.callback((u,h)=>{if(u){i.stop(u);return}if(h){const f=this.jmToEntry(h);i.push(f),i.received++,s&&(o>0&&i.received>=o||h.info.pending===0)&&(i.push(s),s=void 0)}});const d=await this.js.subscribe(c,a);if(s){const{info:{last:u}}=d,h=u.num_pending+u.delivered.consumer_seq;if(h===0||i.received>=h)try{s()}catch(f){i.stop(f)}finally{s=void 0}else o=h}return i._data=d,i.iterClosed.then(()=>{d.unsubscribe()}),d.closed.then(()=>{i.stop()}).catch(u=>{i.stop(u)}),i}async keys(t=">"){const n=new kt,i=this._buildCC(t,!1,{headers_only:!0}),r=i.filter_subject,s=Fn(i);s.bindStream(this.stream),s.orderedConsumer();const o=await this.js.subscribe(r,s);return(async()=>{var c;for await(const a of o){const d=(c=a.headers)==null?void 0:c.get(js);if(d!=="DEL"&&d!=="PURGE"){const u=this.decodeKey(a.subject.substring(this.prefixLen));n.push(u)}a.info.pending===0&&o.unsubscribe()}})().then(()=>{n.stop()}).catch(c=>{n.stop(c)}),o.info.last.num_pending===0&&o.unsubscribe(),n}purgeBucket(t){return this.jsm.streams.purge(this.bucketName(),t)}destroy(){return this.jsm.streams.delete(this.bucketName())}async status(){var s;const n=((s=this.js.nc.info)==null?void 0:s.cluster)??"",i=this.bucketName(),r=await this.jsm.streams.info(i);return new hd(r,n)}}class hd{constructor(t,n=""){b(this,"si");b(this,"cluster");this.si=t,this.cluster=n}get bucket(){return this.si.config.name.startsWith(Vt)?this.si.config.name.substring(Vt.length):this.si.config.name}get values(){return this.si.state.messages}get history(){return this.si.config.max_msgs_per_subject}get ttl(){return xl(this.si.config.max_age)}get bucket_location(){return this.cluster}get backingStore(){return this.si.config.storage}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get description(){return this.si.config.description??""}get maxBucketSize(){return this.si.config.max_bytes}get maxValueSize(){return this.si.config.max_msg_size}get max_bytes(){return this.si.config.max_bytes}get placement(){return this.si.config.placement||{cluster:"",tags:[]}}get placementCluster(){var t;return((t=this.si.config.placement)==null?void 0:t.cluster)??""}get republish(){return this.si.config.republish??{src:"",dest:""}}get streamInfo(){return this.si}get size(){return this.si.state.bytes}}const vl="OBJ_",ic="SHA-256=";function lw(e){return Ws(e),`${vl}${e}`}function aw(e){return e.startsWith(vl)?e.substring(4):e}class Bo{constructor(t){b(this,"si");b(this,"backingStore");this.si=t,this.backingStore="JetStream"}get bucket(){return aw(this.si.config.name)}get description(){return this.si.config.description??""}get ttl(){return this.si.config.max_age}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get sealed(){return this.si.config.sealed}get size(){return this.si.state.bytes}get streamInfo(){return this.si}}function Ks(e){if(e===void 0)return;const{domain:t}=e;if(t===void 0)return e;const n=Object.assign({},e);if(delete n.domain,t==="")return n;if(n.external)throw new Error("domain and external are both set");return n.external={api:`$JS.${t}.API`},n}class cw extends Cs{constructor(t,n){super(t,n)}async add(t={}){var r;Et(t.name),t.mirror=Ks(t.mirror),t.sources=(r=t.sources)==null?void 0:r.map(Ks);const i=await this._request(`${this.prefix}.STREAM.CREATE.${t.name}`,t);return this._fixInfo(i),i}async delete(t){return Et(t),(await this._request(`${this.prefix}.STREAM.DELETE.${t}`)).success}async update(t,n={}){var l;if(typeof t=="object"){const c=t;t=c.name,n=c,console.trace("\x1B[33m >> streams.update(config: StreamConfig) api changed to streams.update(name: string, config: StreamUpdateConfig) - this shim will be removed - update your code.  \x1B[0m")}Et(t);const i=await this.info(t),r=Object.assign(i.config,n);r.mirror=Ks(r.mirror),r.sources=(l=r.sources)==null?void 0:l.map(Ks);const o=await this._request(`${this.prefix}.STREAM.UPDATE.${t}`,r);return this._fixInfo(o),o}async info(t,n){Et(t);const i=`${this.prefix}.STREAM.INFO.${t}`;let s=await this._request(i,n),{total:o,limit:l}=s,c=s.state.subjects?Object.getOwnPropertyNames(s.state.subjects).length:1;if(o&&o>c){const a=[s],d=n||{};let u=0;for(;o>c;){u++,d.offset=l*u;const f=await this._request(i,d);o=f.total,a.push(f);const v=Object.getOwnPropertyNames(f.state.subjects).length;if(c+=v,v<l)break}let h={};for(let f=0;f<a.length;f++)s=a[f],s.state.subjects&&(h=Object.assign(h,s.state.subjects));s.offset=0,s.total=0,s.limit=0,s.state.subjects=h}return this._fixInfo(s),s}list(t=""){const n=t!=null&&t.length?{subject:t}:{},i=s=>{const o=s;return o.streams.forEach(l=>{this._fixInfo(l)}),o.streams},r=`${this.prefix}.STREAM.LIST`;return new Ji(r,i,this,n)}_fixInfo(t){t.config.sealed=t.config.sealed||!1,t.config.deny_delete=t.config.deny_delete||!1,t.config.deny_purge=t.config.deny_purge||!1,t.config.allow_rollup_hdrs=t.config.allow_rollup_hdrs||!1}async purge(t,n){if(n){const{keep:r,seq:s}=n;if(typeof r=="number"&&typeof s=="number")throw new Error("can specify one of keep or seq")}return Et(t),await this._request(`${this.prefix}.STREAM.PURGE.${t}`,n)}async deleteMessage(t,n,i=!0){Et(t);const r={seq:n};return i||(r.no_erase=!0),(await this._request(`${this.prefix}.STREAM.MSG.DELETE.${t}`,r)).success}async getMessage(t,n){Et(t);const r=await this._request(`${this.prefix}.STREAM.MSG.GET.${t}`,n);return new bw(r)}find(t){return this.findStream(t)}listKvs(){const t=i=>{var c;const s=i.streams.filter(a=>a.config.name.startsWith(Vt));s.forEach(a=>{this._fixInfo(a)});let o="";return s.length&&(o=((c=this.nc.info)==null?void 0:c.cluster)??""),s.map(a=>new hd(a,o))},n=`${this.prefix}.STREAM.LIST`;return new Ji(n,t,this)}listObjectStores(){const t=i=>{const s=i.streams.filter(l=>l.config.name.startsWith(vl));return s.forEach(l=>{this._fixInfo(l)}),s.map(l=>new Bo(l))},n=`${this.prefix}.STREAM.LIST`;return new Ji(n,t,this)}names(t=""){const n=t!=null&&t.length?{subject:t}:{},i=s=>s.streams,r=`${this.prefix}.STREAM.NAMES`;return new Ji(r,i,this,n)}}class uw extends Cs{constructor(n,i){super(n,i);b(this,"streams");b(this,"consumers");b(this,"direct");this.streams=new cw(n,i),this.consumers=new Zu(n,i),this.direct=new Ly(n,i)}async getAccountInfo(){return await this._request(`${this.prefix}.INFO`)}advisories(){const n=new kt;return this.nc.subscribe("$JS.EVENT.ADVISORY.>",{callback:(i,r)=>{if(i)throw i;try{const s=this.parseJsResponse(r),o=s.type.split("."),l=o[o.length-1];n.push({kind:l,data:s})}catch(s){n.stop(s)}}}),n}}var Qn;(function(e){e.MsgIdHdr="Nats-Msg-Id",e.ExpectedStreamHdr="Nats-Expected-Stream",e.ExpectedLastSeqHdr="Nats-Expected-Last-Sequence",e.ExpectedLastMsgIdHdr="Nats-Expected-Last-Msg-Id",e.ExpectedLastSubjectSequenceHdr="Nats-Expected-Last-Subject-Sequence"})(Qn||(Qn={}));class oo{constructor(t){b(this,"info");b(this,"hdrs");this.info=t}get name(){return this.info.name}get description(){return this.info.description??""}get headers(){return this.hdrs||(this.hdrs=Ln.fromRecord(this.info.headers||{})),this.hdrs}get options(){return this.info.options}get bucket(){return this.info.bucket}get chunks(){return this.info.chunks}get deleted(){return this.info.deleted??!1}get digest(){return this.info.digest}get mtime(){return this.info.mtime}get nuid(){return this.info.nuid}get size(){return this.info.size}}function sc(e){const t={name:e.name,description:e.description??"",options:e.options};if(e.headers){const n=e.headers;t.headers=n.toRecord()}return t}function dw(e){return{name:e.name,description:e.description,headers:e.headers,options:e.options}}function hw(){return new ReadableStream({pull(e){e.enqueue(new Uint8Array(0)),e.close()}})}class os{constructor(t,n,i){b(this,"jsm");b(this,"js");b(this,"stream");b(this,"name");this.name=t,this.jsm=n,this.js=i}_sanitizeName(t){if(!t||t.length===0)return{name:t,error:new Error("name cannot be empty")};t=t.replace(/[. ]/g,"_");let n;try{dd(t)}catch(i){n=i}return{name:t,error:n}}async info(t){const n=await this.rawInfo(t);return n?new oo(n):null}async list(){const t=[],n=await this.watch({ignoreDeletes:!0,includeHistory:!0});for await(const i of n){if(i===null)break;t.push(i)}return Promise.resolve(t)}async rawInfo(t){const{name:n,error:i}=this._sanitizeName(t);if(i)return Promise.reject(i);const r=this._metaSubject(n);try{const s=await this.jsm.streams.getMessage(this.stream,{last_by_subj:r});return Yt().decode(s.data)}catch(s){return s.code==="404"?null:Promise.reject(s)}}async _si(t){try{return await this.jsm.streams.info(this.stream,t)}catch(n){return n.code==="404"?null:Promise.reject(n)}}async seal(){let t=await this._si();return t===null?Promise.reject(new Error("object store not found")):(t.config.sealed=!0,t=await this.jsm.streams.update(this.stream,t.config),Promise.resolve(new Bo(t)))}async status(t){const n=await this._si(t);return n===null?Promise.reject(new Error("object store not found")):Promise.resolve(new Bo(n))}destroy(){return this.jsm.streams.delete(this.stream)}async _put(t,n,i){var O,z;const r=this.js;i=i||{timeout:r.timeout},i.timeout=i.timeout||1e3;const{timeout:s}=i,o=((O=r.nc.info)==null?void 0:O.max_payload)||1024;t=t||{},t.options=t.options||{};let l=((z=t.options)==null?void 0:z.max_chunk_size)||128*1024;l=l>o?o:l,t.options.max_chunk_size=l;const c=await this.info(t.name),{name:a,error:d}=this._sanitizeName(t.name);if(d)return Promise.reject(d);const u=Mr.next(),h=this._chunkSubject(u),f=this._metaSubject(a),v=Object.assign({bucket:this.name,nuid:u,size:0,chunks:0},sc(t)),C=nt(),E=[],P=new vs;try{const ie=n?n.getReader():null,de=new Qa;for(;;){const{done:_e,value:pe}=ie?await ie.read():{done:!0,value:void 0};if(_e){if(P.size()>0){const te=P.drain();de.update(te),v.chunks++,v.size+=te.length,E.push(this.js.publish(h,te,{timeout:s}))}v.mtime=new Date().toISOString();const q=de.digest("base64"),ge=q.length%3,xe=ge>0?"=".repeat(ge):"";v.digest=`${ic}${q}${xe}`,v.deleted=!1;const Ee=wn();Ee.set(Xt.RollupHdr,Xt.RollupValueSubject),E.push(this.js.publish(f,Yt().encode(v),{headers:Ee,timeout:s})),c&&E.push(this.jsm.streams.purge(this.stream,{filter:`$O.${this.name}.C.${c.nuid}`})),await Promise.all(E),C.resolve(new oo(v));break}if(pe)for(P.fill(pe);P.size()>l;){v.chunks++,v.size+=l;const q=P.drain(t.options.max_chunk_size);de.update(q),E.push(this.js.publish(h,q,{timeout:s}))}}}catch(ie){await this.jsm.streams.purge(this.stream,{filter:h}),C.reject(ie)}return C}put(t,n,i){var r;return(r=t==null?void 0:t.options)!=null&&r.link?Promise.reject(new Error("link cannot be set when putting the object in bucket")):this._put(t,n,i)}async get(t){const n=await this.rawInfo(t);if(n===null||n.deleted)return Promise.resolve(null);if(n.options&&n.options.link){const d=n.options.link.name||"";if(d==="")throw new Error("link is a bucket");return(await os.create(this.js,n.options.link.bucket)).get(d)}const i=nt(),r={info:new oo(n),error:i};if(n.size===0)return r.data=hw(),i.resolve(null),Promise.resolve(r);let s;const o=Fn();o.orderedConsumer();const l=new Qa,c=`$O.${this.name}.C.${n.nuid}`,a=await this.js.subscribe(c,o);return(async()=>{for await(const d of a)if(d.data.length>0&&(l.update(d.data),s.enqueue(d.data)),d.info.pending===0){const u=l.digest("base64"),h=u.length%3,f=h>0?"=".repeat(h):"",v=`${ic}${u}${f}`;v!==n.digest?s.error(new Error(`received a corrupt object, digests do not match received: ${n.digest} calculated ${v}`)):s.close(),a.unsubscribe()}})().then(()=>{i.resolve()}).catch(d=>{s.error(d),i.reject(d)}),r.data=new ReadableStream({start(d){s=d},cancel(){a.unsubscribe()}}),r}linkStore(t,n){if(!(n instanceof os))return Promise.reject("bucket required");const i=n,{name:r,error:s}=this._sanitizeName(t);if(s)return Promise.reject(s);const o={name:r,options:{link:{bucket:i.name}}};return this._put(o,null)}async link(t,n){if(n.deleted)return Promise.reject(new Error("object is deleted"));const{name:i,error:r}=this._sanitizeName(t);if(r)return Promise.reject(r);if(this.name===n.bucket){const l=Object.assign({},dw(n));l.name=i;try{return await this.update(n.name,l),await this.info(i)}catch(c){return Promise.reject(c)}}const s={bucket:n.bucket,name:n.name},o={name:i,options:{link:s}};return this._put(o,null)}async delete(t){const n=await this.rawInfo(t);if(n===null)return Promise.resolve({purged:0,success:!1});n.deleted=!0,n.size=0,n.chunks=0,n.digest="";const i=Yt(),r=wn();return r.set(Xt.RollupHdr,Xt.RollupValueSubject),await this.js.publish(this._metaSubject(n.name),i.encode(n),{headers:r}),this.jsm.streams.purge(this.stream,{filter:this._chunkSubject(n.nuid)})}async update(t,n={}){const i=await this.rawInfo(t);if(i===null)return Promise.reject(new Error("object not found"));if(i.deleted)return Promise.reject(new Error("cannot update meta for a deleted object"));n.name=n.name??i.name;const{name:r,error:s}=this._sanitizeName(n.name);if(s)return Promise.reject(s);if(t!==n.name){const c=await this.info(n.name);if(c&&!c.deleted)return Promise.reject(new Error("an object already exists with that name"))}n.name=r;const o=Object.assign({},i,sc(n)),l=Yt();return this.js.publish(this._metaSubject(o.name),l.encode(o))}async watch(t={}){t.includeHistory=t.includeHistory??!1,t.ignoreDeletes=t.ignoreDeletes??!1;let n=!1;const i=new kt,r=this._metaSubjectAll();try{await this.jsm.streams.getMessage(this.stream,{last_by_subj:r})}catch(c){c.code==="404"?(i.push(null),n=!0):i.stop(c)}const s=Yt(),o=Fn();o.orderedConsumer(),t.includeHistory?o.deliverLastPerSubject():(n=!0,o.deliverNew()),o.callback((c,a)=>{var d;if(c){i.stop(c);return}if(a!==null){const u=s.decode(a.data);u.deleted&&t.ignoreDeletes===!0||i.push(u),((d=a.info)==null?void 0:d.pending)===0&&!n&&(n=!0,i.push(null))}});const l=await this.js.subscribe(r,o);return i._data=l,i.iterClosed.then(()=>{l.unsubscribe()}),l.closed.then(()=>{i.stop()}).catch(c=>{i.stop(c)}),i}_chunkSubject(t){return`$O.${this.name}.C.${t}`}_metaSubject(t){return`$O.${this.name}.M.${ar.encode(t)}`}_metaSubjectAll(){return`$O.${this.name}.M.>`}async init(t={}){try{this.stream=lw(this.name)}catch(i){return Promise.reject(i)}const n=Object.assign({},t);n.name=this.stream,n.allow_rollup_hdrs=!0,n.discard=bs.New,n.subjects=[`$O.${this.name}.C.>`,`$O.${this.name}.M.>`],t.placement&&(n.placement=t.placement);try{await this.jsm.streams.info(n.name)}catch(i){i.message==="stream not found"&&await this.jsm.streams.add(n)}}static async create(t,n,i={}){var u;if(typeof((u=crypto==null?void 0:crypto.subtle)==null?void 0:u.digest)!="function")return Promise.reject(new Error("objectstore: unable to calculate hashes - crypto.subtle.digest with sha256 support is required"));const r=t,{ok:s,min:o}=r.nc.features.get(Ft.JS_OBJECTSTORE);if(!s)return Promise.reject(new Error(`objectstore is only supported on servers ${o} or better`));let l=r.opts||{};const c=l.timeout||2e3;l=Object.assign(l,{timeout:c});const a=await r.nc.jetstreamManager(l),d=new os(n,a,t);return await d.init(i),Promise.resolve(d)}}class fw{constructor(t){b(this,"js");this.js=t}kv(t,n={}){return n.bindOnly?ws.bind(this.js,t):ws.create(this.js,t,n)}os(t,n={}){return Cw(this.js.nc),os.create(this.js,t,n)}}class _l extends Cs{constructor(n,i){super(n,i);b(this,"api");this.api=new Zu(n,i)}get apiPrefix(){return this.prefix}get views(){return new fw(this)}async publish(n,i=Ct,r){r=r||{},r.expect=r.expect||{};const s=(r==null?void 0:r.headers)||wn();r&&(r.msgID&&s.set(Qn.MsgIdHdr,r.msgID),r.expect.lastMsgID&&s.set(Qn.ExpectedLastMsgIdHdr,r.expect.lastMsgID),r.expect.streamName&&s.set(Qn.ExpectedStreamHdr,r.expect.streamName),typeof r.expect.lastSequence=="number"&&s.set(Qn.ExpectedLastSeqHdr,`${r.expect.lastSequence}`),typeof r.expect.lastSubjectSequence=="number"&&s.set(Qn.ExpectedLastSubjectSequenceHdr,`${r.expect.lastSubjectSequence}`));const o=r.timeout||this.timeout,l={};o&&(l.timeout=o),r&&(l.headers=s);let{retries:c,retry_delay:a}=r;c=c||1,a=a||250;let d;for(let h=0;h<c;h++)try{d=await this.nc.request(n,i,l);break}catch(f){if(f.code==="503"&&h+1<c)await wl(a);else throw f}const u=this.parseJsResponse(d);if(u.stream==="")throw ue.errorForCode(W.JetStreamInvalidAck);return u.duplicate=u.duplicate?u.duplicate:!1,u}async pull(n,i,r=0){Et(n),Si(i);let s=this.timeout;r>s&&(s=r),r=r<0?0:ot(r);const o={batch:1,no_wait:r===0,expires:r},l=await this.nc.request(`${this.prefix}.CONSUMER.MSG.NEXT.${n}.${i}`,this.jc.encode(o),{noMux:!0,timeout:s}),c=ki(l);if(c)throw c;return or(l)}fetch(n,i,r={}){Et(n),Si(i);let s=null;const o=(r.max_bytes??0)>0;let l=0;const c=o?r.max_bytes:0;let a=null;const d={};if(d.batch=r.batch||1,c){const O=this.nc.features.get(Ft.JS_PULL_MAX_BYTES);if(!O.ok)throw new Error(`max_bytes is only supported on servers ${O.min} or better`);d.max_bytes=c}d.no_wait=r.no_wait||!1,d.no_wait&&d.expires&&(d.expires=0);const u=r.expires||0;if(u&&(d.expires=ot(u)),u===0&&d.no_wait===!1)throw new Error("expires or no_wait is required");const h=r.idle_heartbeat||0;h&&(d.idle_heartbeat=ot(h),r.delay_heartbeat===!0&&(d.idle_heartbeat=ot(h*4)));const f=new kt,v=d.batch;let C=0;f.protocolFilterFn=(O,z=!1)=>Ha(O.msg)?(a==null||a.work(),!1):!0,f.dispatchedFn=O=>{if(O){if(o&&(l+=O.data.length),C++,s&&O.info.pending===0)return;(f.getPending()===1&&O.info.pending===0||v===C||c>0&&l>=c)&&f.stop()}};const E=Tn(this.nc.options.inboxPrefix),P=this.nc.subscribe(E,{max:r.batch,callback:(O,z)=>{O===null&&(O=ki(z)),O!==null?(s&&(s.cancel(),s=null),_b(O)?f.stop(pd(O)===null?void 0:O):f.stop(O)):(a==null||a.work(),f.received++,f.push(or(z)))}});return u&&(s=Or(u),s.catch(()=>{P.isClosed()||(P.drain().catch(()=>{}),s=null),a&&a.cancel()})),(async()=>{try{h&&(a=new rd(h,O=>(f.push(()=>{f.err=new ue(`${Wt.IdleHeartbeatMissed}: ${O}`,W.JetStreamIdleHeartBeat)}),!0)))}catch{}await P.closed,s!==null&&(s.cancel(),s=null),a&&a.cancel(),f.stop()})().catch(),this.nc.publish(`${this.prefix}.CONSUMER.MSG.NEXT.${n}.${i}`,this.jc.encode(d),{reply:E}),f}async pullSubscribe(n,i=Fn()){const r=await this._processOptions(n,i);if(r.ordered)throw new Error("pull subscribers cannot be be ordered");if(r.attached||(r.config.filter_subject=n),r.config.deliver_subject)throw new Error("consumer info specifies deliver_subject - pull consumers cannot have deliver_subject set");const s=r.config.ack_policy;if(s===mt.None||s===mt.All)throw new Error("ack policy for pull consumers must be explicit");const o=this._buildTypedSubscriptionOpts(r),l=new yw(this,r.deliver,o);l.info=r;try{await this._maybeCreateConsumer(r)}catch(c){throw l.unsubscribe(),c}return l}async subscribe(n,i=Fn()){const r=await this._processOptions(n,i);if(!r.isBind&&!r.config.deliver_subject)throw new Error("push consumer requires deliver_subject");const s=this._buildTypedSubscriptionOpts(r),o=new fd(this,r.deliver,s);o.info=r;try{await this._maybeCreateConsumer(r)}catch(l){throw o.unsubscribe(),l}return o._maybeSetupHbMonitoring(),o}async _processOptions(n,i=Fn()){const r=Ya(i)?i.getOpts():i;if(r.isBind=Ya(i)?i.isBind:!1,r.flow_control={heartbeat_count:0,fc_count:0,consumer_restarts:0},r.ordered){if(r.ordered_consumer_sequence={stream_seq:0,delivery_seq:0},r.config.ack_policy!==mt.NotSet&&r.config.ack_policy!==mt.None)throw new ue("ordered consumer: ack_policy can only be set to 'none'",W.ApiError);if(r.config.durable_name&&r.config.durable_name.length>0)throw new ue("ordered consumer: durable_name cannot be set",W.ApiError);if(r.config.deliver_subject&&r.config.deliver_subject.length>0)throw new ue("ordered consumer: deliver_subject cannot be set",W.ApiError);if(r.config.max_deliver!==void 0&&r.config.max_deliver>1)throw new ue("ordered consumer: max_deliver cannot be set",W.ApiError);if(r.config.deliver_group&&r.config.deliver_group.length>0)throw new ue("ordered consumer: deliver_group cannot be set",W.ApiError);r.config.deliver_subject=Tn(this.nc.options.inboxPrefix),r.config.ack_policy=mt.None,r.config.max_deliver=1,r.config.flow_control=!0,r.config.idle_heartbeat=r.config.idle_heartbeat||ot(5e3),r.config.ack_wait=ot(22*60*60*1e3),r.config.mem_storage=!0,r.config.num_replicas=1}if(r.config.ack_policy===mt.NotSet&&(r.config.ack_policy=mt.All),r.api=this,r.config=r.config||{},r.stream=r.stream?r.stream:await this.findStream(n),r.attached=!1,r.config.durable_name)try{const s=await this.api.info(r.stream,r.config.durable_name);if(s){if(s.config.filter_subject&&s.config.filter_subject!==n)throw new Error("subject does not match consumer");const o=r.config.deliver_group??"";if(o===""&&s.push_bound===!0)throw new Error("duplicate subscription");const l=s.config.deliver_group??"";if(o!==l)throw l===""?new Error("durable requires no queue group"):new Error(`durable requires queue group '${l}'`);r.last=s,r.config=s.config,r.attached=!0,r.config.durable_name||(r.name=s.name)}}catch(s){if(s.code!=="404")throw s}return r.attached||(r.config.filter_subject=n),r.deliver=r.config.deliver_subject||Tn(this.nc.options.inboxPrefix),r}_buildTypedSubscriptionOpts(n){const i={};return i.adapter=ww(n.callbackFn===void 0),i.ingestionFilterFn=_l.ingestionFn(n.ordered),i.protocolFilterFn=(r,s=!1)=>{const o=r;return Lo(o.msg)?(s||o.msg.respond(),!1):!0},!n.mack&&n.config.ack_policy!==mt.None&&(i.dispatchedFn=_w),n.callbackFn&&(i.callback=n.callbackFn),i.max=n.max||0,i.queue=n.queue,i}async _maybeCreateConsumer(n){if(n.attached)return;if(n.isBind)throw new Error(`unable to bind - durable consumer ${n.config.durable_name} doesn't exist in ${n.stream}`);n.config=Object.assign({deliver_policy:Tt.All,ack_policy:mt.Explicit,ack_wait:ot(30*1e3),replay_policy:Ti.Instant},n.config);const i=await this.api.add(n.stream,n.config);n.name=i.name,n.config=i.config,n.last=i}static ingestionFn(n){return(i,r)=>{var c;const s=r;if(!i)return{ingest:!1,protocol:!1};const o=i;if(ki(o.msg)||(c=s.monitor)==null||c.work(),Ha(o.msg)){const a=n?s._checkHbOrderConsumer(o.msg):!0;return n||s.info.flow_control.heartbeat_count++,{ingest:a,protocol:!0}}else if(Lo(o.msg))return s.info.flow_control.fc_count++,{ingest:!0,protocol:!0};return{ingest:n?s._checkOrderedConsumer(i):!0,protocol:!1}}}}class Cl{constructor(t){b(this,"options");b(this,"protocol");b(this,"draining");b(this,"listeners");b(this,"_services");this.draining=!1,this.options=ew(t),this.listeners=[]}static connect(t={}){return new Promise((n,i)=>{const r=new Cl(t);lr.connect(r.options,r).then(s=>{r.protocol=s,async function(){for await(const o of s.status())r.listeners.forEach(l=>{l.push(o)})}(),n(r)}).catch(s=>{i(s)})})}closed(){return this.protocol.closed}async close(){await this.protocol.close()}_check(t,n,i){if(this.isClosed())throw ue.errorForCode(W.ConnectionClosed);if(n&&this.isDraining()||i&&this.protocol.noMorePublishing)throw ue.errorForCode(W.ConnectionDraining);if(t=t||"",t.length===0)throw ue.errorForCode(W.BadSubject)}publish(t,n=Ct,i){if(this._check(t,!1,!0),n&&!kb(n))throw ue.errorForCode(W.BadPayload);this.protocol.publish(t,n,i)}subscribe(t,n={}){this._check(t,!0,!1);const i=new sd(this.protocol,t,n);return this.protocol.subscribe(i),i}_resub(t,n,i){this._check(n,!0,!1);const r=t;r.max=i,i&&(r.max=i+r.received),this.protocol.resub(r,n)}requestMany(t,n=Ct,i={maxWait:1e3,maxMessages:-1}){try{this._check(t,!0,!0)}catch(l){return Promise.reject(l)}if(i.strategy=i.strategy||cn.Timer,i.maxWait=i.maxWait||1e3,i.maxWait<1)return Promise.reject(new ue("timeout",W.InvalidOption));const r=new kt;function s(l){r.push(()=>{r.stop(l)})}function o(l,c){l||c===null?s(l===null?void 0:l):r.push(c)}if(i.noMux){const l=new Error().stack;let c=typeof i.maxMessages=="number"&&i.maxMessages>0?i.maxMessages:-1;const a=this.subscribe(Tn(this.options.inboxPrefix),{callback:(f,v)=>{var C,E;if(((C=v==null?void 0:v.data)==null?void 0:C.length)===0&&((E=v==null?void 0:v.headers)==null?void 0:E.status)===W.NoResponders&&(f=ue.errorForCode(W.NoResponders)),f){f.stack+=`

${l}`,d(f);return}o(null,v),i.strategy===cn.Count&&(c--,c===0&&d()),i.strategy===cn.JitterTimer&&(h(),u=setTimeout(()=>{d()},300)),i.strategy===cn.SentinelMsg&&v&&v.data.length===0&&d()}});a.closed.then(()=>{s()}).catch(f=>{r.stop(f)});const d=f=>{f&&r.push(()=>{throw f}),h(),a.drain().then(()=>{s()}).catch(v=>{s()})};r.iterClosed.then(()=>{h(),a==null||a.unsubscribe()}).catch(f=>{h(),a==null||a.unsubscribe()});try{this.publish(t,Ct,{reply:a.getSubject()})}catch(f){d(f)}let u=setTimeout(()=>{d()},i.maxWait);const h=()=>{u&&clearTimeout(u)}}else{const l=i;l.callback=o,r.iterClosed.then(()=>{c.cancel()}).catch(a=>{c.cancel(a)});const c=new Gb(this.protocol.muxSubscriptions,t,l);this.protocol.request(c);try{this.publish(t,n,{reply:`${this.protocol.muxSubscriptions.baseInbox}${c.token}`,headers:i.headers})}catch(a){c.cancel(a)}}return Promise.resolve(r)}request(t,n=Ct,i={timeout:1e3,noMux:!1}){try{this._check(t,!0,!0)}catch(r){return Promise.reject(r)}if(i.timeout=i.timeout||1e3,i.timeout<1)return Promise.reject(new ue("timeout",W.InvalidOption));if(!i.noMux&&i.reply)return Promise.reject(new ue("reply can only be used with noMux",W.InvalidOption));if(i.noMux){const r=i.reply?i.reply:Tn(this.options.inboxPrefix),s=nt(),o=new Error,l=this.subscribe(r,{max:1,timeout:i.timeout,callback:(c,a)=>{c?(c.code!==W.Timeout&&(c.stack+=`

${o.stack}`),s.reject(c)):(c=qu(a),c?(c.stack+=`

${o.stack}`,s.reject(c)):s.resolve(a))}});return l.requestSubject=t,this.protocol.publish(t,n,{reply:r,headers:i.headers}),s}else{const r=new Qu(this.protocol.muxSubscriptions,t,i);this.protocol.request(r);try{this.publish(t,n,{reply:`${this.protocol.muxSubscriptions.baseInbox}${r.token}`,headers:i.headers})}catch(o){r.cancel(o)}const s=Promise.race([r.timer,r.deferred]);return s.catch(()=>{r.cancel()}),s}}flush(){return this.isClosed()?Promise.reject(ue.errorForCode(W.ConnectionClosed)):this.protocol.flush()}drain(){return this.isClosed()?Promise.reject(ue.errorForCode(W.ConnectionClosed)):this.isDraining()?Promise.reject(ue.errorForCode(W.ConnectionDraining)):(this.draining=!0,this.protocol.drain())}isClosed(){return this.protocol.isClosed()}isDraining(){return this.draining}getServer(){const t=this.protocol.getServer();return t?t.listen:""}status(){const t=new kt;return this.listeners.push(t),t}get info(){return this.protocol.isClosed()?void 0:this.protocol.info}stats(){return{inBytes:this.protocol.inBytes,outBytes:this.protocol.outBytes,inMsgs:this.protocol.inMsgs,outMsgs:this.protocol.outMsgs}}async jetstreamManager(t={}){const n=new uw(this,t);try{await n.getAccountInfo()}catch(i){const r=i;throw r.code===W.NoResponders&&(r.code=W.JetStreamNotEnabled),r}return n}jetstream(t={}){return new _l(this,t)}getServerVersion(){const t=this.info;return t?ii(t.version):void 0}async rtt(){if(!this.protocol._closed&&!this.protocol.connected)throw ue.errorForCode(W.Disconnect);const t=Date.now();return await this.flush(),Date.now()-t}get features(){return this.protocol.features}get services(){return this._services||(this._services=new gw(this)),this._services}}class pw{constructor(t,n={strategy:cn.JitterTimer,maxWait:2e3},i){b(this,"nc");b(this,"prefix");b(this,"opts");this.nc=t,this.prefix=i,this.opts=n}ping(t="",n=""){return this.q(un.PING,t,n)}stats(t="",n=""){return this.q(un.STATS,t,n)}schema(t="",n=""){return this.q(un.SCHEMA,t,n)}info(t="",n=""){return this.q(un.INFO,t,n)}async q(t,n="",i=""){const r=new kt,s=Yt(),o=_s.controlSubject(t,n,i,this.prefix),l=await this.nc.requestMany(o,Ct,this.opts);return(async()=>{for await(const c of l)try{const a=s.decode(c.data);r.push(a)}catch(a){r.push(()=>{r.stop(a)})}r.push(()=>{r.stop()})})().catch(c=>{r.stop(c)}),r}}function mw(e,t){const{proto:n,tls_required:i,tls_available:r}=e;if((n===void 0||n<1)&&t.noEcho)throw new ue("noEcho",W.ServerOptionNotAvailable);const s=i||r||!1;if(t.tls&&!s)throw new ue("tls",W.ServerOptionNotAvailable)}class gw{constructor(t){b(this,"nc");this.nc=t,console.log("\x1B[33m >> service framework is beta functionality \x1B[0m")}add(t){try{return new _s(this.nc,t).start()}catch(n){return Promise.reject(n)}}client(t,n){return new pw(this.nc,t,n)}}class bw{constructor(t){b(this,"subject");b(this,"seq");b(this,"data");b(this,"time");b(this,"header");if(this.subject=t.message.subject,this.seq=t.message.seq,this.time=new Date(Date.parse(t.message.time)),this.data=t.message.data?this._parse(t.message.data):Ct,t.message.hdrs){const n=this._parse(t.message.hdrs);this.header=Ln.decode(n)}else this.header=wn()}_parse(t){const n=atob(t),i=n.length,r=new Uint8Array(i);for(let s=0;s<i;s++)r[s]=n.charCodeAt(s);return r}}class fd extends Qb{constructor(n,i,r){super(n.nc,i,r);b(this,"js");b(this,"monitor");this.js=n,this.monitor=null,this.sub.closed.then(()=>{this.monitor&&this.monitor.cancel()})}set info(n){this.sub.info=n}get info(){return this.sub.info}_resetOrderedConsumer(n){if(this.info===null||this.sub.isClosed())return;const i=Tn(this.js.nc.options.inboxPrefix);this.js.nc._resub(this.sub,i);const s=this.info;s.ordered_consumer_sequence.delivery_seq=0,s.flow_control.heartbeat_count=0,s.flow_control.fc_count=0,s.flow_control.consumer_restarts++,s.deliver=i,s.config.deliver_subject=i,s.config.deliver_policy=Tt.StartSequence,s.config.opt_start_seq=n;const o={};o.stream_name=this.info.stream,o.config=s.config;const l=`${s.api.prefix}.CONSUMER.CREATE.${s.stream}`;this.js._request(l,o).then(c=>{const a=c;this.info.config=a.config,this.info.name=a.name}).catch(c=>{const a=new ue(`unable to recreate ordered consumer ${s.stream} at seq ${n}`,W.RequestError,c);this.sub.callback(a,{})})}_maybeSetupHbMonitoring(){var i,r;const n=((r=(i=this.info)==null?void 0:i.config)==null?void 0:r.idle_heartbeat)||0;n&&this._setupHbMonitoring(xl(n))}_setupHbMonitoring(n,i=0){const r={cancelAfter:0,maxOut:2};i&&(r.cancelAfter=i);const s=this.sub,o=l=>{var d,u,h;const c=Bb(409,`${Wt.IdleHeartbeatMissed}: ${l}`,this.sub.subject);if(!((d=this.info)==null?void 0:d.ordered))this.sub.callback(null,c);else{if(!this.js.nc.protocol.connected)return!1;const f=((h=(u=this.info)==null?void 0:u.ordered_consumer_sequence)==null?void 0:h.stream_seq)||0;return this._resetOrderedConsumer(f+1),!1}return!s.noIterator};this.monitor=new rd(n,o,r)}_checkHbOrderConsumer(n){const i=n.headers.get(Xt.ConsumerStalledHdr);i!==""&&this.js.nc.publish(i);const r=parseInt(n.headers.get(Xt.LastConsumerSeqHdr),10),s=this.info.ordered_consumer_sequence;return this.info.flow_control.heartbeat_count++,r!==s.delivery_seq&&this._resetOrderedConsumer(s.stream_seq+1),!1}_checkOrderedConsumer(n){const i=this.info.ordered_consumer_sequence,r=n.info.streamSequence,s=n.info.deliverySequence;return s!=i.delivery_seq+1?(this._resetOrderedConsumer(i.stream_seq+1),!1):(i.delivery_seq=s,i.stream_seq=r,!0)}async destroy(){this.isClosed()||await this.drain();const n=this.sub.info,i=n.config.durable_name||n.name,r=`${n.api.prefix}.CONSUMER.DELETE.${n.stream}.${i}`;await n.api._request(r)}async consumerInfo(){const n=this.sub.info,i=n.config.durable_name||n.name,r=`${n.api.prefix}.CONSUMER.INFO.${n.stream}.${i}`,s=await n.api._request(r);return n.last=s,s}}class yw extends fd{constructor(t,n,i){super(t,n,i)}pull(t={batch:1}){const{stream:n,config:i,name:r}=this.sub.info,s=i.durable_name??r,o={};if(o.batch=t.batch||1,o.no_wait=t.no_wait||!1,(t.max_bytes??0)>0){const a=this.js.nc.features.get(Ft.JS_PULL_MAX_BYTES);if(!a.ok)throw new Error(`max_bytes is only supported on servers ${a.min} or better`);o.max_bytes=t.max_bytes}let l=0;t.expires&&t.expires>0&&(l=t.expires,o.expires=ot(l));let c=0;if(t.idle_heartbeat&&t.idle_heartbeat>0&&(c=t.idle_heartbeat,o.idle_heartbeat=ot(c)),c&&l===0)throw new Error("idle_heartbeat requires expires");if(c>l)throw new Error("expires must be greater than idle_heartbeat");if(this.info){this.monitor&&this.monitor.cancel(),l&&c&&(this.monitor?this.monitor._change(c,l):this._setupHbMonitoring(c,l));const a=this.info.api,d=`${a.prefix}.CONSUMER.MSG.NEXT.${n}.${s}`,u=this.sub.subject;a.nc.publish(d,a.jc.encode(o),{reply:u})}}}function ww(e){return e?vw:xw}function xw(e,t){return e?[e,null]:(e=ki(t),e?[e,null]:[null,or(t)])}function vw(e,t){if(e)return[e,null];const n=ki(t);return n!==null?[pd(n),null]:[null,or(t)]}function pd(e){if(e!==null)switch(e.code){case W.JetStream404NoMessages:case W.JetStream408RequestTimeout:return null;case W.JetStream409:return Nb(e)?e:null;default:return e}return null}function _w(e){e&&e.ack()}const Cw=(()=>{let e=!1;return t=>{var n;if(!e){e=!0;const{lang:i}=(n=t==null?void 0:t.protocol)==null?void 0:n.transport;console.log(i?`\x1B[33m >> jetstream's materialized views object store functionality in ${i} is beta functionality \x1B[0m`:"\x1B[33m >> jetstream's materialized views object store functionality is beta functionality \x1B[0m")}}})(),Iw="1.12.0",Sw="nats.ws";class Ew{constructor(){b(this,"version");b(this,"lang");b(this,"closeError");b(this,"connected");b(this,"done");b(this,"socket");b(this,"options");b(this,"socketClosed");b(this,"encrypted");b(this,"peeked");b(this,"yields");b(this,"signal");b(this,"closedNotification");this.version=Iw,this.lang=Sw,this.connected=!1,this.done=!1,this.socketClosed=!1,this.encrypted=!1,this.peeked=!1,this.yields=[],this.signal=nt(),this.closedNotification=nt()}async connect(t,n){const i=nt();if(n.tls)return i.reject(new ue("tls",W.InvalidOption)),i;this.options=n;const r=t.src;if(n.wsFactory){const{socket:s,encrypted:o}=await n.wsFactory(t.src,n);this.socket=s,this.encrypted=o}else this.encrypted=r.indexOf("wss://")===0,this.socket=new WebSocket(r);return this.socket.binaryType="arraybuffer",this.socket.onopen=()=>{},this.socket.onmessage=s=>{if(this.yields.push(new Uint8Array(s.data)),this.peeked){this.signal.resolve();return}const o=vs.concat(...this.yields),l=Rb(o);if(l!==""){const c=wy.exec(l);if(!c){n.debug&&console.error("!!!",Bs(o)),i.reject(new Error("unexpected response from server"));return}try{const a=JSON.parse(c[1]);mw(a,this.options),this.peeked=!0,this.connected=!0,this.signal.resolve(),i.resolve()}catch(a){i.reject(a);return}}},this.socket.onclose=s=>{this.socketClosed=!0;let o;this.done||(s.wasClean||(o=new Error(s.reason)),this._closed(o))},this.socket.onerror=s=>{const o=s,l=new ue(o.message,W.Unknown,new Error(o.error));i.reject(l)},i}disconnect(){this._closed(void 0,!0)}async _closed(t,n=!0){if(this.connected&&!this.done){if(this.closeError=t,!t)for(;!this.socketClosed&&this.socket.bufferedAmount>0;)console.log(this.socket.bufferedAmount),await wl(100);this.done=!0;try{this.socket.close(t?1002:1e3,t?t.message:void 0)}catch{}n&&this.closedNotification.resolve(t)}}get isClosed(){return this.done}[Symbol.asyncIterator](){return this.iterate()}async*iterate(){for(;;){this.yields.length===0&&await this.signal;const t=this.yields;this.yields=[];for(let n=0;n<t.length;n++)this.options.debug&&console.info(`> ${Bs(t[n])}`),yield t[n];if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=nt())}}isEncrypted(){return this.connected&&this.encrypted}send(t){if(!this.done)try{this.socket.send(t.buffer),this.options.debug&&console.info(`< ${Bs(t)}`);return}catch(n){this.options.debug&&console.error(`!!! ${Bs(t)}: ${n}`)}}close(t){return this._closed(t,!1)}closed(){return this.closedNotification}}function kw(e){/^(.*:\/\/)(.*)/.test(e)||(e=`https://${e}`);let n=new URL(e);const i=n.protocol.toLowerCase();i!=="https:"&&i!=="http"&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2"),n=new URL(`http://${e}`));let r,s;const o=n.hostname,l=n.pathname,c=n.search||"";switch(i){case"http:":case"ws:":case"nats:":s=n.port||"80",r="ws:";break;default:s=n.port||"443",r="wss:";break}return`${r}//${o}:${s}${l}${c}`}function Pw(e={}){return ey({defaultPort:443,urlParseFn:kw,factory:()=>new Ew}),Cl.connect(e)}let Gn;const lo=ut(!1);function Rw(){const e=ut(!1),t=ut("");en(e,(c,a)=>{console.log(`nats user connection state ${a} -> ${c} `)}),console.log("nats...."),en(t,async c=>{console.log("credentials have changed"),e.value=!1,Gn!==void 0&&(await Gn.close(),Gn=void 0),await i()});const n=new TextEncoder,i=async()=>(console.log("making connection..."),lo.value=!0,Gn==null?(console.log("making new connection..."),Gn=await Pw({servers:"ws://localhost:4888",authenticator:Xy(n.encode(t.value)),debug:!0}),e.value=!0,lo.value=!1,Gn):(console.log("making existing connection..."),e.value=!0,Gn)),r=Yt();return{publish:async(c,a)=>{(await i()).publish(c,r.encode(a))},subscribe:async c=>(await i()).subscribe(c),request:async(c,a)=>{try{const u=await(await i()).request(c,r.encode(a),{timeout:12e3}).then(h=>r.decode(h.data)).catch(h=>(console.error("failed making request",h),{}));return console.log("response.data ",u),u}catch(d){console.log("Caught some error",d)}},connected:e,connecting:lo,credentials:t}}const md=xb(Rw),{connected:Aw,publish:Ow,request:Mw}=md(),gd=kr("event",()=>{en(Aw,(C,E)=>{console.log(`NATS connection state ${E} -> ${C}`)});const e=Nt(new Map),t=Ve(()=>Array.from(e.values())),n=Ve(()=>e.size);function i(C){e.clear(),C.forEach(E=>{e.set(E.uuid,E)})}const r=(C=200)=>{e.clear();for(let E=0;E<C;E++){const P=Li();e.set(P,{severity:Math.floor(Math.random()*6),group:`group ${Math.floor(Math.random()*30)}`,uuid:P,summary:`hello ${E}`,acknowledged:!1,tally:Math.floor(Math.random()*3e4),agent:`agent-${Math.floor(Math.random()*20)}`,node:`localhost-${Math.floor(Math.random()*8)}`,created_at:Date.now()+E,owner_uuid:""})}},s=(C,E)=>{console.log("setting severity",C,E);const P=Array.isArray(C)?C:[C];Mw("event.severity",{uuids:P}).then(O=>{console.log("set severoities",O)}).catch(O=>{console.error("eeee",O)}),P.forEach(O=>{const z=e.get(O);ao(z)&&(z.severity=E,e.set(z.uuid,z))})},o=(C,E)=>{const P=Array.isArray(C)?C:[C];Ow("event.ack",444).catch(O=>{console.log("Failed to set ack",O)}),P.forEach(O=>{const z=e.get(O);ao(z)&&(z.acknowledged=E,e.set(z.uuid,z))})},l=(C,E)=>{(Array.isArray(C)?C:[C]).forEach(O=>{const z=e.get(O);ao(z)&&(z.owner_uuid=E,e.set(z.uuid,z))})},c=Ve(()=>{const C=[0,0,0,0,0];for(const E of e.values())C[E.severity]++;return{sev1:C[0],sev2:C[1],sev3:C[2],sev4:C[3],sev5:C[4]}}),a=Ve(()=>{const C=new Map;for(const E of e.values()){const P=C.get(E.group)||0;C.set(E.group,P+1)}return Array.from(C,E=>({group:E[0],count:E[1]}))}),d=Ve(()=>{const C=new Map;for(const E of e.values()){const P=C.get(E.group)||[0,0,0,0,0,0];P[E.severity]+=1,C.set(E.group,P)}return Array.from(C,E=>({group:E[0],severities:E[1]}))}),u=Ve(()=>{const C=new Map;for(const E of e.values()){const P=C.get(E.agent)||0;C.set(E.agent,P+1)}return C}),h=Ve(()=>{const C=new Map;for(const E of e.values()){const P=C.get(E.node)||{count:0,last_seen:0,sum_tally:0};let O=P.last_seen;E.created_at>O&&(O=E.created_at),C.set(E.node,{count:P.count+1,last_seen:O,sum_tally:E.tally+P.sum_tally})}return C}),f=Ve(()=>{const C=new Map;for(const P of e.values()){const O=C.get(P.node)||0;P.created_at>O&&C.set(P.node,P.created_at)}return Array.from(C,P=>({node:P[0],last_seen:P[1]}))}),v=Ve(()=>{const C=new Set;for(const E of e.values())C.add(E.node);return Array.from(C)});return{event_store:e,eventCount:n,loadEvents:i,generateRandomEvents:r,events:t,setSeverity:s,setAcknowledement:o,setUser:l,lastSeenByNode:f,summaryByGroup:a,summaryBarByGroup:d,summaryByAgent:u,summaryByNode:h,summaryOfNodes:v,summaryBySeverity:c}}),ao=e=>!!e,Vs=e=>({uuid:Li(),name:e}),u_=kr("group",()=>{const e=Nt(new Map),t=Nt([]);let n=ut(e.get(t[0])),i=ut();function r(f){const v=e.get(f);u(v)&&(n.value=v)}function s(f,v){if(i.value=void 0,n.value=void 0,v===void 0)console.log("find needle"),e.forEach(C=>{const E=C.rules.find(P=>P.uuid===f);vi(E)&&(i.value=E)}),vi(i.value)||(n.value=e.get(f));else{const C=e.get(v);u(C)&&(n.value=C,i.value=C.rules.find(E=>E.uuid===f))}}function o(f,v){const C=t.splice(f,1)[0];t.splice(v,0,C)}function l(f,v,C){const E=e.get(f);if(u(E)){const P=E.rules.splice(v,1)[0];E.rules.splice(C,0,P)}}function c(f="new"){const v={uuid:Li(),name:f,rules:[]};e.set(v.uuid,v),t.push(v.uuid)}function a(f,v="new rule"){const C={uuid:Li(),name:v},E=e.get(f);u(E)&&E.rules.push(C)}function d(f){e.clear(),t.splice(0);for(const v of f)e.set(v.uuid,v),t.push(v.uuid)}const u=f=>!!f,h=Ve(()=>t.map(f=>e.get(f)).filter(u).map(f=>({key:f.uuid,label:f.name,children:f.rules.map(v=>({key:v.uuid,label:v.name}))})));return{moveRule:o,moveRuleInGroup:l,addGroup:c,addRuleToGroup:a,load:d,rules:h,group_store:e,setGroupSelected:r,selectedGroupRule:n,setRuleSelected:s,selectedRule:i}}),bd=kr("rule",()=>{const e=Nt(new Map),t=Nt([]);let n=ut(e.get(t[0]));function i(f="new"){const v={uuid:Li(),name:f};e.set(v.uuid,v),t.push(v.uuid)}function r(f,v){const C=t.splice(f,1)[0];t.splice(v,0,C)}function s(f){e.delete(f)}function o(f){console.log("RRR1",f);let v=e.get(f.uuid);vi(v)&&(f.discard===void 0&&delete f.discard,f.all===void 0&&delete f.all,f.equals===void 0&&delete f.equals,rc(f.exists)||delete f.exists,(f.match===void 0||Object.length===0)&&delete f.match,f.ends_with===void 0&&delete f.ends_with,rc(f.missing)||delete f.missing,f.none===void 0&&delete f.none,(f.replace===void 0||f.replace.length===0)&&delete f.replace,f.set===void 0&&delete f.set,f.stop===void 0&&delete f.stop,f.stop_rule===void 0&&delete f.stop_rule,console.log("stashing ",f),e.delete(v.uuid),e.set(v.uuid,f))}const l=Ve(()=>t.flatMap((v,C)=>e.get(v)).filter(vi).map(v=>({key:v.uuid,label:v.name}))),c=Ve(()=>t.flatMap(f=>e.get(f)).filter(vi));function a(f){t.splice(0),e.clear(),f.forEach(v=>{e.set(v.uuid,v),t.push(v.uuid)})}const d=f=>e.get(f);return{rule_order:t,rule_store:e,addRule:i,moveRule:r,deleteRule:s,getUuid:d,globalRules:l,globalOrderedRules:c,loadGlobalRules:a,save:o,selectedRule:n,setSelected:f=>{let v=d(f);v!==void 0&&(n.value=v)},isArray:wd,isString:yd,toFile:()=>{let f={globals:{rules:[]}};return console.log("rule order: ",t),t.forEach((v,C)=>{console.log("Getting ",v,C);const E=e.get(v);vi(E)&&f.globals.rules.push(E)}),f}}}),rc=e=>yd(e)?Boolean(e):wd(e)?Boolean(e.length):!1,yd=e=>typeof e=="string",wd=e=>Array.isArray(e),vi=e=>!!e,Lw=kr("users",()=>{const e=Nt(new Map),t=s=>e.get(s),n=Ve(()=>Array.from(e,s=>s[1])),i=Ve(()=>Array.from(e,s=>({uuid:s[0],username:s[1].username})).sort((s,o)=>s.username>o.username?1:-1));return{all:n,simpleUsers:e,usernames:i,getUserByUUID:t,generateRandomUsers:()=>{e.clear(),["alice","bob","claire","dafydd"].forEach(o=>{console.debug("adding user",o);const l=Li();e.set(l,{uuid:l,username:o,email:`${o}@example.com`,group:"user",created:Date.now()+o.length})})}}}),Tw={class:"mt-8"},Fw=xs({__name:"App",setup(e){const{loadGlobalRules:t}=bd(),{generateRandomUsers:n}=Lw();sl(()=>{t([Vs("global 1"),Vs("global 2"),Vs("global 3"),Vs("global 4")]),n()});const{credentials:i}=md(),r=ut(),s=a=>{r.value.toggle(a)},o=gd(),l=ut(200),c=ut([{label:"Dashboard",to:"/",class:"text-cyan-300"},{separator:!0},{label:"Console",to:"/console",items:[]},{label:"Rules",items:[{label:"Global",to:"/rules/global"},{label:"Groups",to:"/rules/group"},{label:"Agent",to:"/rules/agent"},{separator:!0},{label:"Import",to:"/rules/import"},{label:"Export",to:"/rules/export"}]},{label:"API",to:"/api"},{label:"Admin",to:"/admin"}]);return(a,d)=>(x(),k(fe,null,[ce(me(Ku),{position:"top-right",group:"tr"}),ce(me(Fu),{id:"main-menubar",class:"fixed z-5 w-screen top-0 left-0 px-4 surface-100 text-cyan-300",model:c.value},{start:be(()=>[ce(me(zu),{src:me(mb),height:"45"},null,8,["src"])]),end:be(()=>[ce(me(gl),{class:"p-inputtext-sm",modelValue:l.value,"onUpdate:modelValue":d[0]||(d[0]=u=>l.value=u)},null,8,["modelValue"]),ce(me(Mi),{class:"p-button-sm",onClick:d[1]||(d[1]=u=>me(o).generateRandomEvents(l.value)),label:"generate events"}),_t(" Documentation "),ce(me(Mi),{onClick:s,label:"NatsCreds"}),ce(me(Nu),{ref_key:"op",ref:r,"append-to":"body",id:"overlay_panel","show-close-icon":!0},{default:be(()=>[ce(me(Du),{modelValue:me(i),"onUpdate:modelValue":d[2]||(d[2]=u=>Ze(i)?i.value=u:null),cols:30,rows:10,"auto-resize":!0,style:{"font-family":"monospace"}},null,8,["modelValue"])]),_:1},512)]),_:1},8,["model"]),N("div",Tw,[ce(me(Au))])],64))}});const Dw="modulepreload",Bw=function(e){return"/panther-demo/"+e},oc={},mn=function(t,n,i){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Bw(s),s in oc)return;oc[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!i)for(let d=r.length-1;d>=0;d--){const u=r[d];if(u.href===s&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":Dw,o||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),o)return new Promise((d,u)=>{a.addEventListener("load",d),a.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};var on={name:"Card"};const Nw={class:"p-card p-component"},zw={key:0,class:"p-card-header"},jw={class:"p-card-body"},Kw={key:0,class:"p-card-title"},Vw={key:1,class:"p-card-subtitle"},Hw={class:"p-card-content"},Uw={key:2,class:"p-card-footer"};function $w(e,t,n,i,r,s){return x(),k("div",Nw,[e.$slots.header?(x(),k("div",zw,[Pe(e.$slots,"header")])):H("",!0),N("div",jw,[e.$slots.title?(x(),k("div",Kw,[Pe(e.$slots,"title")])):H("",!0),e.$slots.subtitle?(x(),k("div",Vw,[Pe(e.$slots,"subtitle")])):H("",!0),N("div",Hw,[Pe(e.$slots,"content")]),e.$slots.footer?(x(),k("div",Uw,[Pe(e.$slots,"footer")])):H("",!0)])])}function Gw(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var qw=`
.p-card-header img {
    width: 100%;
}
`;Gw(qw);on.render=$w;var xd={name:"Chart",emits:["select","loaded"],props:{type:String,data:null,options:null,plugins:null,width:{type:Number,default:300},height:{type:Number,default:150},canvasProps:{type:null,default:null}},chart:null,watch:{data:{handler(){this.reinit()},deep:!0},type(){this.reinit()},options(){this.reinit()}},mounted(){this.initChart()},beforeUnmount(){this.chart&&(this.chart.destroy(),this.chart=null)},methods:{initChart(){mn(()=>import("./auto-5a6868c8.js"),[]).then(e=>{this.chart&&(this.chart.destroy(),this.chart=null),e&&e.default&&(this.chart=new e.default(this.$refs.canvas,{type:this.type,data:this.data,options:this.options,plugins:this.plugins})),this.$emit("loaded",this.chart)})},getCanvas(){return this.$canvas},getChart(){return this.chart},getBase64Image(){return this.chart.toBase64Image()},refresh(){this.chart&&this.chart.update()},reinit(){this.initChart()},onCanvasClick(e){if(this.chart){const t=this.chart.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1),n=this.chart.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1);t&&t[0]&&n&&this.$emit("select",{originalEvent:e,element:t[0],dataset:n})}},generateLegend(){if(this.chart)return this.chart.generateLegend()}}};const Ww={class:"p-chart"},Jw=["width","height"];function Yw(e,t,n,i,r,s){return x(),k("div",Ww,[N("canvas",Ye({ref:"canvas",width:n.width,height:n.height,onClick:t[0]||(t[0]=o=>s.onCanvasClick(o))},n.canvasProps),null,16,Jw)])}function Zw(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var Xw=`
.p-chart {
    position: relative;
}
`;Zw(Xw);xd.render=Yw;const ct={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},ur={AND:"and",OR:"or"},No={filter(e,t,n,i,r){let s=[];if(e)for(let o of e)for(let l of t){let c=j.resolveFieldData(o,l);if(this.filters[i](c,n,r)){s.push(o);break}}return s},filters:{startsWith(e,t,n){if(t==null||t.trim()==="")return!0;if(e==null)return!1;let i=j.removeAccents(t.toString()).toLocaleLowerCase(n);return j.removeAccents(e.toString()).toLocaleLowerCase(n).slice(0,i.length)===i},contains(e,t,n){if(t==null||typeof t=="string"&&t.trim()==="")return!0;if(e==null)return!1;let i=j.removeAccents(t.toString()).toLocaleLowerCase(n);return j.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(i)!==-1},notContains(e,t,n){if(t==null||typeof t=="string"&&t.trim()==="")return!0;if(e==null)return!1;let i=j.removeAccents(t.toString()).toLocaleLowerCase(n);return j.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(i)===-1},endsWith(e,t,n){if(t==null||t.trim()==="")return!0;if(e==null)return!1;let i=j.removeAccents(t.toString()).toLocaleLowerCase(n),r=j.removeAccents(e.toString()).toLocaleLowerCase(n);return r.indexOf(i,r.length-i.length)!==-1},equals(e,t,n){return t==null||typeof t=="string"&&t.trim()===""?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()===t.getTime():j.removeAccents(e.toString()).toLocaleLowerCase(n)==j.removeAccents(t.toString()).toLocaleLowerCase(n)},notEquals(e,t,n){return t==null||typeof t=="string"&&t.trim()===""?!1:e==null?!0:e.getTime&&t.getTime?e.getTime()!==t.getTime():j.removeAccents(e.toString()).toLocaleLowerCase(n)!=j.removeAccents(t.toString()).toLocaleLowerCase(n)},in(e,t){if(t==null||t.length===0)return!0;for(let n=0;n<t.length;n++)if(j.equals(e,t[n]))return!0;return!1},between(e,t){return t==null||t[0]==null||t[1]==null?!0:e==null?!1:e.getTime?t[0].getTime()<=e.getTime()&&e.getTime()<=t[1].getTime():t[0]<=e&&e<=t[1]},lt(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<t.getTime():e<t},lte(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<=t.getTime():e<=t},gt(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>t.getTime():e>t},gte(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>=t.getTime():e>=t},dateIs(e,t){return t==null?!0:e==null?!1:e.toDateString()===t.toDateString()},dateIsNot(e,t){return t==null?!0:e==null?!1:e.toDateString()!==t.toDateString()},dateBefore(e,t){return t==null?!0:e==null?!1:e.getTime()<t.getTime()},dateAfter(e,t){return t==null?!0:e==null?!1:e.getTime()>t.getTime()}},register(e,t){this.filters[e]=t}};var Il={name:"VirtualScroller",emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0}},data(){return{first:this.isBoth()?{rows:0,cols:0}:0,last:this.isBoth()?{rows:0,cols:0}:0,numItemsInViewport:this.isBoth()?{rows:0,cols:0}:0,lastScrollPos:this.isBoth()?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,watch:{numToleratedItems(e){this.d_numToleratedItems=e},loading(e){this.d_loading=e},items(e,t){(!t||t.length!==(e||[]).length)&&this.init()},orientation(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0}},mounted(){this.init(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},methods:{init(){this.setSize(),this.calculateOptions(),this.setSpacerSize()},isVertical(){return this.orientation==="vertical"},isHorizontal(){return this.orientation==="horizontal"},isBoth(){return this.orientation==="both"},scrollTo(e){this.element&&this.element.scrollTo(e)},scrollToIndex(e,t="auto"){const n=this.isBoth(),i=this.isHorizontal(),r=this.first,{numToleratedItems:s}=this.calculateNumItems(),o=this.itemSize,l=(d=0,u)=>d<=u?0:d,c=(d,u)=>d*u,a=(d=0,u=0)=>this.scrollTo({left:d,top:u,behavior:t});if(n){const d={rows:l(e[0],s[0]),cols:l(e[1],s[1])};(d.rows!==r.rows||d.cols!==r.cols)&&a(c(d.cols,o[1]),c(d.rows,o[0]))}else{const d=l(e,s);d!==r&&(i?a(c(d,o),0):a(0,c(d,o)))}},scrollInView(e,t,n="auto"){if(t){const i=this.isBoth(),r=this.isHorizontal(),{first:s,viewport:o}=this.getRenderedRange(),l=(d=0,u=0)=>this.scrollTo({left:d,top:u,behavior:n}),c=t==="to-start",a=t==="to-end";if(c){if(i)o.first.rows-s.rows>e[0]?l(o.first.cols*this.itemSize[1],(o.first.rows-1)*this.itemSize[0]):o.first.cols-s.cols>e[1]&&l((o.first.cols-1)*this.itemSize[1],o.first.rows*this.itemSize[0]);else if(o.first-s>e){const d=(o.first-1)*this.itemSize;r?l(d,0):l(0,d)}}else if(a){if(i)o.last.rows-s.rows<=e[0]+1?l(o.first.cols*this.itemSize[1],(o.first.rows+1)*this.itemSize[0]):o.last.cols-s.cols<=e[1]+1&&l((o.first.cols+1)*this.itemSize[1],o.first.rows*this.itemSize[0]);else if(o.last-s<=e+1){const d=(o.first+1)*this.itemSize;r?l(d,0):l(0,d)}}}else this.scrollToIndex(e,n)},getRenderedRange(){const e=(i,r)=>Math.floor(i/(r||i));let t=this.first,n=0;if(this.element){const i=this.isBoth(),r=this.isHorizontal(),s=this.element.scrollTop,o=this.element.scrollLeft;i?(t={rows:e(s,this.itemSize[0]),cols:e(o,this.itemSize[1])},n={rows:t.rows+this.numItemsInViewport.rows,cols:t.cols+this.numItemsInViewport.cols}):(t=e(r?o:s,this.itemSize),n=t+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:t,last:n}}},calculateNumItems(){const e=this.isBoth(),t=this.isHorizontal(),n=this.itemSize,i=this.getContentPosition(),r=this.element?this.element.offsetWidth-i.left:0,s=this.element?this.element.offsetHeight-i.top:0,o=(d,u)=>Math.ceil(d/(u||d)),l=d=>Math.ceil(d/2),c=e?{rows:o(s,n[0]),cols:o(r,n[1])}:o(t?r:s,n),a=this.d_numToleratedItems||(e?[l(c.rows),l(c.cols)]:l(c));return{numItemsInViewport:c,numToleratedItems:a}},calculateOptions(){const e=this.isBoth(),t=this.first,{numItemsInViewport:n,numToleratedItems:i}=this.calculateNumItems(),r=(o,l,c,a)=>this.getLast(o+l+(o<c?2:3)*c,a),s=e?{rows:r(t.rows,n.rows,i[0]),cols:r(t.cols,n.cols,i[1],!0)}:r(t,n,i);this.last=s,this.numItemsInViewport=n,this.d_numToleratedItems=i,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=e?Array.from({length:n.rows}).map(()=>Array.from({length:n.cols})):Array.from({length:n})),this.lazy&&this.$emit("lazy-load",{first:t,last:s})},getLast(e=0,t){return this.items?Math.min(t?(this.columns||this.items[0]).length:this.items.length,e):0},getContentPosition(){if(this.content){const e=getComputedStyle(this.content),t=parseInt(e.paddingLeft,10)+Math.max(parseInt(e.left,10),0),n=parseInt(e.paddingRight,10)+Math.max(parseInt(e.right,10),0),i=parseInt(e.paddingTop,10)+Math.max(parseInt(e.top,10),0),r=parseInt(e.paddingBottom,10)+Math.max(parseInt(e.bottom,10),0);return{left:t,right:n,top:i,bottom:r,x:t+n,y:i+r}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize(){if(this.element){const e=this.isBoth(),t=this.isHorizontal(),n=this.element.parentElement,i=this.scrollWidth||`${this.element.offsetWidth||n.offsetWidth}px`,r=this.scrollHeight||`${this.element.offsetHeight||n.offsetHeight}px`,s=(o,l)=>this.element.style[o]=l;e||t?(s("height",r),s("width",i)):s("height",r)}},setSpacerSize(){const e=this.items;if(e){const t=this.isBoth(),n=this.isHorizontal(),i=this.getContentPosition(),r=(s,o,l,c=0)=>this.spacerStyle={...this.spacerStyle,[`${s}`]:(o||[]).length*l+c+"px"};t?(r("height",e,this.itemSize[0],i.y),r("width",this.columns||e[1],this.itemSize[1],i.x)):n?r("width",this.columns||e,this.itemSize,i.x):r("height",e,this.itemSize,i.y)}},setContentPosition(e){if(this.content){const t=this.isBoth(),n=this.isHorizontal(),i=e?e.first:this.first,r=(o,l)=>o*l,s=(o=0,l=0)=>{this.contentStyle={...this.contentStyle,transform:`translate3d(${o}px, ${l}px, 0)`}};if(t)s(r(i.cols,this.itemSize[1]),r(i.rows,this.itemSize[0]));else{const o=r(i,this.itemSize);n?s(o,0):s(0,o)}}},onScrollPositionChange(e){const t=e.target,n=this.isBoth(),i=this.isHorizontal(),r=this.getContentPosition(),s=(E,P)=>E?E>P?E-P:E:0,o=(E,P)=>Math.floor(E/(P||E)),l=(E,P,O,z,ie,de)=>E<=ie?ie:de?O-z-ie:P+ie-1,c=(E,P,O,z,ie,de,_e)=>E<=de?0:Math.max(0,_e?E<P?O:E-de:E>P?O:E-2*de),a=(E,P,O,z,ie,de)=>{let _e=P+z+2*ie;return E>=ie&&(_e+=ie+1),this.getLast(_e,de)},d=s(t.scrollTop,r.top),u=s(t.scrollLeft,r.left);let h=n?{rows:0,cols:0}:0,f=this.last,v=!1,C=this.lastScrollPos;if(n){const E=this.lastScrollPos.top<=d,P=this.lastScrollPos.left<=u,O={rows:o(d,this.itemSize[0]),cols:o(u,this.itemSize[1])},z={rows:l(O.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],E),cols:l(O.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],P)};h={rows:c(O.rows,z.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],E),cols:c(O.cols,z.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],P)},f={rows:a(O.rows,h.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:a(O.cols,h.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},v=h.rows!==this.first.rows||f.rows!==this.last.rows||h.cols!==this.first.cols||f.cols!==this.last.cols,C={top:d,left:u}}else{const E=i?u:d,P=this.lastScrollPos<=E,O=o(E,this.itemSize),z=l(O,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,P);h=c(O,z,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,P),f=a(O,h,this.last,this.numItemsInViewport,this.d_numToleratedItems),v=h!==this.first||f!==this.last,C=E}return{first:h,last:f,isRangeChanged:v,scrollPos:C}},onScrollChange(e){const{first:t,last:n,isRangeChanged:i,scrollPos:r}=this.onScrollPositionChange(e);if(i){const s={first:t,last:n};this.setContentPosition(s),this.first=t,this.last=n,this.lastScrollPos=r,this.$emit("scroll-index-change",s),this.lazy&&this.$emit("lazy-load",s)}},onScroll(e){if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:t}=this.onScrollPositionChange(e);t&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&!this.lazy&&(this.d_loading=!1)},this.delay)}else this.onScrollChange(e)},getOptions(e){const t=(this.items||[]).length,n=this.isBoth()?this.first.rows+e:this.first+e;return{index:n,count:t,first:n===0,last:n===t-1,even:n%2===0,odd:n%2!==0}},getLoaderOptions(e,t){let n=this.loaderArr.length;return{index:e,count:n,first:e===0,last:e===n-1,even:e%2===0,odd:e%2!==0,...t}},elementRef(e){this.element=e},contentRef(e){this.content=e}},computed:{containerClass(){return["p-virtualscroller",{"p-both-scroll":this.isBoth(),"p-horizontal-scroll":this.isHorizontal()},this.class]},contentClass(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems(){const e=this.items;return e&&!this.d_loading?this.isBoth()?e.slice(this.first.rows,this.last.rows).map(t=>this.columns?t:t.slice(this.first.cols,this.last.cols)):this.isHorizontal()&&this.columns?e:e.slice(this.first,this.last):[]},loadedRows(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns(){if(this.columns){const e=this.isBoth(),t=this.isHorizontal();if(e||t)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}}};const Qw=["tabindex"],e0={key:1,class:"p-virtualscroller-loading-icon pi pi-spinner pi-spin"};function t0(e,t,n,i,r,s){return n.disabled?(x(),k(fe,{key:1},[Pe(e.$slots,"default"),Pe(e.$slots,"content",{items:n.items,rows:n.items,columns:s.loadedColumns})],64)):(x(),k("div",{key:0,ref:s.elementRef,class:ee(s.containerClass),tabindex:n.tabindex,style:$e(n.style),onScroll:t[0]||(t[0]=(...o)=>s.onScroll&&s.onScroll(...o))},[Pe(e.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:r.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:n.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:r.spacerStyle,contentStyle:r.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},()=>[N("div",{ref:s.contentRef,class:ee(s.contentClass),style:$e(r.contentStyle)},[(x(!0),k(fe,null,rt(s.loadedItems,(o,l)=>Pe(e.$slots,"item",{key:l,item:o,options:s.getOptions(l)})),128))],6)]),n.showSpacer?(x(),k("div",{key:0,class:"p-virtualscroller-spacer",style:$e(r.spacerStyle)},null,4)):H("",!0),!n.loaderDisabled&&n.showLoader&&r.d_loading?(x(),k("div",{key:1,class:ee(s.loaderClass)},[e.$slots&&e.$slots.loader?(x(!0),k(fe,{key:0},rt(r.loaderArr,(o,l)=>Pe(e.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:e.d_numItemsInViewport.cols})})),128)):(x(),k("i",e0))],2)):H("",!0)],46,Qw))}function n0(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var i0=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}
.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    contain: content;
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}
.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}
.p-virtualscroller .p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}
.p-virtualscroller-loader.p-component-overlay {
    display: flex;
    align-items: center;
    justify-content: center;
}
`;n0(i0);Il.render=t0;var Tr={name:"Dropdown",emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:String,default:null},inputStyle:{type:null,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:String,default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:"pi pi-times"},dropdownIcon:{type:String,default:"pi pi-chevron-down"},filterIcon:{type:String,default:"pi pi-search"},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!0},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},"aria-label":{type:String,default:null},"aria-labelledby":{type:String,default:null}},outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,focusOnHover:!1,data(){return{id:this.$attrs.id,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||zt()},modelValue(){this.isModelValueChanged=!0},options(){this.autoUpdateModel()}},mounted(){this.id=this.id||zt(),this.autoUpdateModel()},updated(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(it.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t(e).index},getOptionLabel(e){return this.optionLabel?j.resolveFieldData(e,this.optionLabel):e},getOptionValue(e){return this.optionValue?j.resolveFieldData(e,this.optionValue):e},getOptionRenderKey(e,t){return(this.dataKey?j.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+t},isOptionDisabled(e){return this.optionDisabled?j.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel(e){return j.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren(e){return j.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1},show(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,e&&R.focus(this.$refs.focusInput)},hide(e){const t=()=>{this.$emit("before-hide"),this.overlayVisible=!1,this.focusedOptionIndex=-1,this.searchValue="",this.resetFilterOnHide&&(this.filterValue=null),e&&R.focus(this.$refs.focusInput)};setTimeout(()=>{t()},0)},onFocus(e){this.disabled||(this.focused=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,this.overlayVisible&&this.scrollInView(this.focusedOptionIndex),this.$emit("focus",e))},onBlur(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown(e){if(this.disabled){e.preventDefault();return}const t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!t&&j.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}},onEditableInput(e){const t=e.target.value;this.searchValue="",!this.searchOptions(e,t)&&(this.focusedOptionIndex=-1),this.$emit("update:modelValue",t)},onContainerClick(e){this.disabled||this.loading||R.hasClass(e.target,"p-dropdown-clear-icon")||e.target.tagName==="INPUT"||(!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0))},onClearClick(e){this.updateModel(e,null)},onFirstHiddenFocus(e){const t=e.relatedTarget===this.$refs.focusInput?R.getFirstFocusableElement(this.overlay,":not(.p-hidden-focusable)"):this.$refs.focusInput;R.focus(t)},onLastHiddenFocus(e){const t=e.relatedTarget===this.$refs.focusInput?R.getLastFocusableElement(this.overlay,":not(.p-hidden-focusable)"):this.$refs.focusInput;R.focus(t)},onOptionSelect(e,t,n=!0){const i=this.getOptionValue(t);this.updateModel(e,i),n&&this.hide(!0)},onOptionMouseMove(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)},onFilterChange(e){const t=e.target.value;this.filterValue=t,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:t}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur(){this.focusedOptionIndex=-1},onFilterUpdated(){this.overlayVisible&&this.alignOverlay()},onOverlayClick(e){Ht.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey(e){const t=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,t),!this.overlayVisible&&this.show(),e.preventDefault()},onArrowUpKey(e,t=!1){if(e.altKey&&!t)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{const n=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,n),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey(e,t=!1){t&&(this.focusedOptionIndex=-1)},onHomeKey(e,t=!1){t?(e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex=-1):(this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show()),e.preventDefault()},onEndKey(e,t=!1){if(t){const n=e.currentTarget,i=n.value.length;n.setSelectionRange(i,i),this.focusedOptionIndex=-1}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey(e){this.scrollInView(0),e.preventDefault()},onPageDownKey(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):this.onArrowDownKey(e),e.preventDefault()},onSpaceKey(e,t=!1){!t&&this.onEnterKey(e)},onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey(e,t=!1){t||(this.overlayVisible&&this.hasFocusableElements()?(R.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey(e,t=!1){t&&!this.overlayVisible&&this.show()},onOverlayEnter(e){it.set("overlay",e,this.$primevue.config.zIndex.overlay),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&R.focus(this.$refs.filterInput)},onOverlayAfterEnter(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave(e){it.clear(e)},alignOverlay(){this.appendTo==="self"?R.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=R.getOuterWidth(this.$el)+"px",R.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.overlayVisible&&this.overlay&&!this.$el.contains(e.target)&&!this.overlay.contains(e.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new pl(this.$refs.container,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!R.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},hasFocusableElements(){return R.getFocusableElements(this.overlay,":not(.p-hidden-focusable)").length>0},isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))},isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected(e){return j.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex(){return this.visibleOptions.findIndex(e=>this.isValidOption(e))},findLastOptionIndex(){return j.findLastIndex(this.visibleOptions,e=>this.isValidOption(e))},findNextOptionIndex(e){const t=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return t>-1?t+e+1:e},findPrevOptionIndex(e){const t=e>0?j.findLastIndex(this.visibleOptions.slice(0,e),n=>this.isValidOption(n)):-1;return t>-1?t:e},findSelectedOptionIndex(){return this.hasSelectedOption?this.visibleOptions.findIndex(e=>this.isValidSelectedOption(e)):-1},findFirstFocusedOptionIndex(){const e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex(){const e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions(e,t){this.searchValue=(this.searchValue||"")+t;let n=-1,i=!1;return this.focusedOptionIndex!==-1?(n=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(r=>this.isOptionMatched(r)),n=n===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(r=>this.isOptionMatched(r)):n+this.focusedOptionIndex):n=this.visibleOptions.findIndex(r=>this.isOptionMatched(r)),n!==-1&&(i=!0),n===-1&&this.focusedOptionIndex===-1&&(n=this.findFirstFocusedOptionIndex()),n!==-1&&this.changeFocusedOptionIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),i},changeFocusedOptionIndex(e,t){this.focusedOptionIndex!==t&&(this.focusedOptionIndex=t,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[t],!1))},scrollInView(e=-1){const t=e!==-1?`${this.id}_${e}`:this.focusedOptionId,n=R.findSingle(this.list,`li[id="${t}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"start"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroller&&this.virtualScroller.scrollToIndex(e!==-1?e:this.focusedOptionIndex)},0)},autoUpdateModel(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel(e,t){this.$emit("update:modelValue",t),this.$emit("change",{originalEvent:e,value:t})},flatOptions(e){return(e||[]).reduce((t,n,i)=>{t.push({optionGroup:n,group:!0,index:i});const r=this.getOptionGroupChildren(n);return r&&r.forEach(s=>t.push(s)),t},[])},overlayRef(e){this.overlay=e},listRef(e,t){this.list=e,t&&t(e)},virtualScrollerRef(e){this.virtualScroller=e}},computed:{containerClass(){return["p-dropdown p-component p-inputwrapper",{"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-overlay-open":this.overlayVisible}]},inputStyleClass(){return["p-dropdown-label p-inputtext",this.inputClass,{"p-placeholder":!this.editable&&this.label===this.placeholder,"p-dropdown-label-empty":!this.editable&&!this.$slots.value&&(this.label==="p-emptylabel"||this.label.length===0)}]},panelStyleClass(){return["p-dropdown-panel p-component",this.panelClass,{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},dropdownIconClass(){return["p-dropdown-trigger-icon",this.loading?this.loadingIcon:this.dropdownIcon]},visibleOptions(){const e=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){const t=No.filter(e,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){const n=this.options||[],i=[];return n.forEach(r=>{const s=r.items.filter(o=>t.includes(o));s.length>0&&i.push({...r,items:[...s]})}),this.flatOptions(i)}return t}return e},hasSelectedOption(){return j.isNotEmpty(this.modelValue)},label(){const e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue(){const e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey(){return this.optionValue?null:this.dataKey},searchFields(){return this.filterFields||[this.optionLabel]},filterResultMessageText(){return j.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},focusedOptionId(){return this.focusedOptionIndex!==-1?`${this.id}_${this.focusedOptionIndex}`:null},ariaSetSize(){return this.visibleOptions.filter(e=>!this.isOptionGroup(e)).length},virtualScrollerDisabled(){return!this.virtualScrollerOptions}},directives:{ripple:Gt},components:{VirtualScroller:Il,Portal:oi}};const s0=["id"],r0=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant"],o0=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],l0={class:"p-dropdown-trigger"},a0={key:0,class:"p-dropdown-header"},c0={class:"p-dropdown-filter-container"},u0=["value","placeholder","aria-owns","aria-activedescendant"],d0={role:"status","aria-live":"polite",class:"p-hidden-accessible"},h0=["id"],f0=["id"],p0=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove"],m0={key:0,class:"p-dropdown-empty-message",role:"option"},g0={key:1,class:"p-dropdown-empty-message",role:"option"},b0={key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},y0={role:"status","aria-live":"polite",class:"p-hidden-accessible"};function w0(e,t,n,i,r,s){const o=ve("VirtualScroller"),l=ve("Portal"),c=It("ripple");return x(),k("div",{ref:"container",id:r.id,class:ee(s.containerClass),onClick:t[16]||(t[16]=(...a)=>s.onContainerClick&&s.onContainerClick(...a))},[n.editable?(x(),k("input",Ye({key:0,ref:"focusInput",id:n.inputId,type:"text",style:n.inputStyle,class:s.inputStyleClass,value:s.editableInputValue,placeholder:n.placeholder,tabindex:n.disabled?-1:n.tabindex,disabled:n.disabled,autocomplete:"off",role:"combobox","aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":r.overlayVisible,"aria-controls":r.id+"_list","aria-activedescendant":r.focused?s.focusedOptionId:void 0,onFocus:t[0]||(t[0]=(...a)=>s.onFocus&&s.onFocus(...a)),onBlur:t[1]||(t[1]=(...a)=>s.onBlur&&s.onBlur(...a)),onKeydown:t[2]||(t[2]=(...a)=>s.onKeyDown&&s.onKeyDown(...a)),onInput:t[3]||(t[3]=(...a)=>s.onEditableInput&&s.onEditableInput(...a))},n.inputProps),null,16,r0)):(x(),k("span",Ye({key:1,ref:"focusInput",id:n.inputId,style:n.inputStyle,class:s.inputStyleClass,tabindex:n.disabled?-1:n.tabindex,role:"combobox","aria-label":e.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":e.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":r.overlayVisible,"aria-controls":r.id+"_list","aria-activedescendant":r.focused?s.focusedOptionId:void 0,"aria-disabled":n.disabled,onFocus:t[4]||(t[4]=(...a)=>s.onFocus&&s.onFocus(...a)),onBlur:t[5]||(t[5]=(...a)=>s.onBlur&&s.onBlur(...a)),onKeydown:t[6]||(t[6]=(...a)=>s.onKeyDown&&s.onKeyDown(...a))},n.inputProps),[Pe(e.$slots,"value",{value:n.modelValue,placeholder:n.placeholder},()=>[_t(Le(s.label==="p-emptylabel"?"":s.label||"empty"),1)])],16,o0)),n.showClear&&n.modelValue!=null?(x(),k("i",Ye({key:2,class:["p-dropdown-clear-icon",n.clearIcon],onClick:t[7]||(t[7]=(...a)=>s.onClearClick&&s.onClearClick(...a))},n.clearIconProps),null,16)):H("",!0),N("div",l0,[Pe(e.$slots,"indicator",{},()=>[N("span",{class:ee(s.dropdownIconClass),"aria-hidden":"true"},null,2)])]),ce(l,{appendTo:n.appendTo},{default:be(()=>[ce(Nn,{name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},{default:be(()=>[r.overlayVisible?(x(),k("div",Ye({key:0,ref:s.overlayRef,style:n.panelStyle,class:s.panelStyleClass,onClick:t[14]||(t[14]=(...a)=>s.onOverlayClick&&s.onOverlayClick(...a)),onKeydown:t[15]||(t[15]=(...a)=>s.onOverlayKeyDown&&s.onOverlayKeyDown(...a))},n.panelProps),[N("span",{ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:t[8]||(t[8]=(...a)=>s.onFirstHiddenFocus&&s.onFirstHiddenFocus(...a))},null,544),Pe(e.$slots,"header",{value:n.modelValue,options:s.visibleOptions}),n.filter?(x(),k("div",a0,[N("div",c0,[N("input",Ye({ref:"filterInput",type:"text",value:r.filterValue,onVnodeUpdated:t[9]||(t[9]=(...a)=>s.onFilterUpdated&&s.onFilterUpdated(...a)),class:"p-dropdown-filter p-inputtext p-component",placeholder:n.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":r.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:t[10]||(t[10]=(...a)=>s.onFilterKeyDown&&s.onFilterKeyDown(...a)),onBlur:t[11]||(t[11]=(...a)=>s.onFilterBlur&&s.onFilterBlur(...a)),onInput:t[12]||(t[12]=(...a)=>s.onFilterChange&&s.onFilterChange(...a))},n.filterInputProps),null,16,u0),N("span",{class:ee(["p-dropdown-filter-icon",n.filterIcon])},null,2)]),N("span",d0,Le(s.filterResultMessageText),1)])):H("",!0),N("div",{class:"p-dropdown-items-wrapper",style:$e({"max-height":s.virtualScrollerDisabled?n.scrollHeight:""})},[ce(o,Ye({ref:s.virtualScrollerRef},n.virtualScrollerOptions,{items:s.visibleOptions,style:{height:n.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled}),mo({content:be(({styleClass:a,contentRef:d,items:u,getItemOptions:h,contentStyle:f,itemSize:v})=>[N("ul",{ref:C=>s.listRef(C,d),id:r.id+"_list",class:ee(["p-dropdown-items",a]),style:$e(f),role:"listbox"},[(x(!0),k(fe,null,rt(u,(C,E)=>(x(),k(fe,{key:s.getOptionRenderKey(C,s.getOptionIndex(E,h))},[s.isOptionGroup(C)?(x(),k("li",{key:0,id:r.id+"_"+s.getOptionIndex(E,h),style:$e({height:v?v+"px":void 0}),class:"p-dropdown-item-group",role:"option"},[Pe(e.$slots,"optiongroup",{option:C.optionGroup,index:s.getOptionIndex(E,h)},()=>[_t(Le(s.getOptionGroupLabel(C.optionGroup)),1)])],12,f0)):st((x(),k("li",{key:1,id:r.id+"_"+s.getOptionIndex(E,h),style:$e({height:v?v+"px":void 0}),class:ee(["p-dropdown-item",{"p-highlight":s.isSelected(C),"p-focus":r.focusedOptionIndex===s.getOptionIndex(E,h),"p-disabled":s.isOptionDisabled(C)}]),role:"option","aria-label":s.getOptionLabel(C),"aria-selected":s.isSelected(C),"aria-disabled":s.isOptionDisabled(C),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(E,h)),onClick:P=>s.onOptionSelect(P,C),onMousemove:P=>s.onOptionMouseMove(P,s.getOptionIndex(E,h))},[Pe(e.$slots,"option",{option:C,index:s.getOptionIndex(E,h)},()=>[_t(Le(s.getOptionLabel(C)),1)])],46,p0)),[[c]])],64))),128)),r.filterValue&&(!u||u&&u.length===0)?(x(),k("li",m0,[Pe(e.$slots,"emptyfilter",{},()=>[_t(Le(s.emptyFilterMessageText),1)])])):!n.options||n.options&&n.options.length===0?(x(),k("li",g0,[Pe(e.$slots,"empty",{},()=>[_t(Le(s.emptyMessageText),1)])])):H("",!0)],14,h0)]),_:2},[e.$slots.loader?{name:"loader",fn:be(({options:a})=>[Pe(e.$slots,"loader",{options:a})]),key:"0"}:void 0]),1040,["items","style","disabled"])],4),Pe(e.$slots,"footer",{value:n.modelValue,options:s.visibleOptions}),!n.options||n.options&&n.options.length===0?(x(),k("span",b0,Le(s.emptyMessageText),1)):H("",!0),N("span",y0,Le(s.selectedMessageText),1),N("span",{ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:t[13]||(t[13]=(...a)=>s.onLastHiddenFocus&&s.onLastHiddenFocus(...a))},null,544)],16)):H("",!0)]),_:3},8,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo"])],10,s0)}function x0(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var v0=`
.p-dropdown {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
}
.p-dropdown-clear-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}
.p-dropdown-trigger {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}
.p-dropdown-label {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    flex: 1 1 auto;
    width: 1%;
    text-overflow: ellipsis;
    cursor: pointer;
}
.p-dropdown-label-empty {
    overflow: hidden;
    opacity: 0;
}
input.p-dropdown-label {
    cursor: default;
}
.p-dropdown .p-dropdown-panel {
    min-width: 100%;
}
.p-dropdown-panel {
    position: absolute;
    top: 0;
    left: 0;
}
.p-dropdown-items-wrapper {
    overflow: auto;
}
.p-dropdown-item {
    cursor: pointer;
    font-weight: normal;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
}
.p-dropdown-item-group {
    cursor: auto;
}
.p-dropdown-items {
    margin: 0;
    padding: 0;
    list-style-type: none;
}
.p-dropdown-filter {
    width: 100%;
}
.p-dropdown-filter-container {
    position: relative;
}
.p-dropdown-filter-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}
.p-fluid .p-dropdown {
    display: flex;
}
.p-fluid .p-dropdown .p-dropdown-label {
    width: 1%;
}
`;x0(v0);Tr.render=w0;var vd={name:"CurrentPageReport",props:{pageCount:{type:Number,default:0},currentPage:{type:Number,default:0},page:{type:Number,default:0},first:{type:Number,default:0},rows:{type:Number,default:0},totalRecords:{type:Number,default:0},template:{type:String,default:"({currentPage} of {totalPages})"}},computed:{text(){return this.template.replace("{currentPage}",this.currentPage).replace("{totalPages}",this.pageCount).replace("{first}",this.pageCount>0?this.first+1:0).replace("{last}",Math.min(this.first+this.rows,this.totalRecords)).replace("{rows}",this.rows).replace("{totalRecords}",this.totalRecords)}}};const _0={class:"p-paginator-current"};function C0(e,t,n,i,r,s){return x(),k("span",_0,Le(s.text),1)}vd.render=C0;var _d={name:"FirstPageLink",computed:{containerClass(){return["p-paginator-first p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:Gt}};const I0=N("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1),S0=[I0];function E0(e,t,n,i,r,s){const o=It("ripple");return st((x(),k("button",{class:ee(s.containerClass),type:"button"},S0,2)),[[o]])}_d.render=E0;var Cd={name:"JumpToPageDropdown",emits:["page-change"],props:{page:Number,pageCount:Number,disabled:Boolean},methods:{onChange(e){this.$emit("page-change",e)}},computed:{pageOptions(){let e=[];for(let t=0;t<this.pageCount;t++)e.push({label:String(t+1),value:t});return e}},components:{JTPDropdown:Tr}};function k0(e,t,n,i,r,s){const o=ve("JTPDropdown");return x(),se(o,{modelValue:n.page,options:s.pageOptions,optionLabel:"label",optionValue:"value","onUpdate:modelValue":t[0]||(t[0]=l=>s.onChange(l)),class:"p-paginator-page-options",disabled:n.disabled},null,8,["modelValue","options","disabled"])}Cd.render=k0;var Id={name:"JumpToPageInput",inheritAttrs:!1,emits:["page-change"],props:{page:Number,pageCount:Number,disabled:Boolean},data(){return{d_page:this.page}},watch:{page(e){this.d_page=e}},methods:{onChange(e){e!==this.page&&(this.d_page=e,this.$emit("page-change",e-1))}},computed:{inputArialabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.jumpToPageInputLabel:void 0}},components:{JTPInput:gl}};function P0(e,t,n,i,r,s){const o=ve("JTPInput");return x(),se(o,{ref:"jtpInput",modelValue:r.d_page,class:"p-paginator-page-input","aria-label":s.inputArialabel,disabled:n.disabled,"onUpdate:modelValue":s.onChange},null,8,["modelValue","aria-label","disabled","onUpdate:modelValue"])}Id.render=P0;var Sd={name:"LastPageLink",computed:{containerClass(){return["p-paginator-last p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:Gt}};const R0=N("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1),A0=[R0];function O0(e,t,n,i,r,s){const o=It("ripple");return st((x(),k("button",{class:ee(s.containerClass),type:"button"},A0,2)),[[o]])}Sd.render=O0;var Ed={name:"NextPageLink",computed:{containerClass(){return["p-paginator-next p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:Gt}};const M0=N("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1),L0=[M0];function T0(e,t,n,i,r,s){const o=It("ripple");return st((x(),k("button",{class:ee(s.containerClass),type:"button"},L0,2)),[[o]])}Ed.render=T0;var kd={name:"PageLinks",inheritAttrs:!1,emits:["click"],props:{value:Array,page:Number},methods:{onPageLinkClick(e,t){this.$emit("click",{originalEvent:e,value:t})},ariaPageLabel(e){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.pageLabel.replace(/{page}/g,e):void 0}},computed:{},directives:{ripple:Gt}};const F0={class:"p-paginator-pages"},D0=["aria-label","aria-current","onClick"];function B0(e,t,n,i,r,s){const o=It("ripple");return x(),k("span",F0,[(x(!0),k(fe,null,rt(n.value,l=>st((x(),k("button",{key:l,class:ee(["p-paginator-page p-paginator-element p-link",{"p-highlight":l-1===n.page}]),type:"button","aria-label":s.ariaPageLabel(l),"aria-current":l-1===n.page?"page":void 0,onClick:c=>s.onPageLinkClick(c,l)},[_t(Le(l),1)],10,D0)),[[o]])),128))])}kd.render=B0;var Pd={name:"PrevPageLink",computed:{containerClass(){return["p-paginator-prev p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:Gt}};const N0=N("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1),z0=[N0];function j0(e,t,n,i,r,s){const o=It("ripple");return st((x(),k("button",{class:ee(s.containerClass),type:"button"},z0,2)),[[o]])}Pd.render=j0;var Rd={name:"RowsPerPageDropdown",emits:["rows-change"],props:{options:Array,rows:Number,disabled:Boolean},methods:{onChange(e){this.$emit("rows-change",e)}},computed:{rowsOptions(){let e=[];if(this.options)for(let t=0;t<this.options.length;t++)e.push({label:String(this.options[t]),value:this.options[t]});return e}},components:{RPPDropdown:Tr}};function K0(e,t,n,i,r,s){const o=ve("RPPDropdown");return x(),se(o,{modelValue:n.rows,options:s.rowsOptions,optionLabel:"label",optionValue:"value","onUpdate:modelValue":t[0]||(t[0]=l=>s.onChange(l)),class:"p-paginator-rpp-options",disabled:n.disabled},null,8,["modelValue","options","disabled"])}Rd.render=K0;var Ad={name:"Paginator",emits:["update:first","update:rows","page"],props:{totalRecords:{type:Number,default:0},rows:{type:Number,default:0},first:{type:Number,default:0},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},template:{type:[Object,String],default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},currentPageReportTemplate:{type:null,default:"({currentPage} of {totalPages})"},alwaysShow:{type:Boolean,default:!0}},data(){return{d_first:this.first,d_rows:this.rows}},watch:{first(e){this.d_first=e},rows(e){this.d_rows=e},totalRecords(e){this.page>0&&e&&this.d_first>=e&&this.changePage(this.pageCount-1)}},mounted(){this.setPaginatorAttribute(),this.createStyle()},methods:{changePage(e){const t=this.pageCount;if(e>=0&&e<t){this.d_first=this.d_rows*e;const n={page:e,first:this.d_first,rows:this.d_rows,pageCount:t};this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",n)}},changePageToFirst(e){this.isFirstPage||this.changePage(0),e.preventDefault()},changePageToPrev(e){this.changePage(this.page-1),e.preventDefault()},changePageLink(e){this.changePage(e.value-1),e.originalEvent.preventDefault()},changePageToNext(e){this.changePage(this.page+1),e.preventDefault()},changePageToLast(e){this.isLastPage||this.changePage(this.pageCount-1),e.preventDefault()},onRowChange(e){this.d_rows=e,this.changePage(this.page)},createStyle(){if(this.hasBreakpoints()){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";const t=Object.keys(this.template),n={};t.sort((i,r)=>parseInt(i)-parseInt(r)).forEach(i=>{n[i]=this.template[i]});for(const[i,[r]]of Object.entries(Object.entries(n))){const s=Object.entries(n)[i-1]?`and (min-width:${Object.keys(n)[i-1]})`:"";r==="default"?e+=`
                            @media screen ${s} {
                                .paginator[${this.attributeSelector}],
                                .p-paginator-default{
                                    display: flex !important;
                                }
                            }
                        `:e+=`
                        .paginator[${this.attributeSelector}], .p-paginator-${r} {
                                display: none !important;
                            }
                        @media screen ${s} and (max-width: ${r}) {
                            .paginator[${this.attributeSelector}], .p-paginator-${r} {
                                display: flex !important;
                            }
                            .paginator[${this.attributeSelector}],
                            .p-paginator-default{
                                display: none !important;
                            }
                        }
                    `}this.styleElement.innerHTML=e}},hasBreakpoints(){return typeof this.template=="object"},getPaginatorClasses(e){return[{"p-paginator-default":!this.hasBreakpoints(),[`p-paginator-${e}`]:this.hasBreakpoints()}]},setPaginatorAttribute(){this.$refs.paginator&&this.$refs.paginator.length>=0&&[...this.$refs.paginator].forEach(e=>{e.setAttribute(this.attributeSelector,"")})},getAriaLabel(e){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[e]:void 0}},computed:{templateItems(){let e={};if(this.hasBreakpoints()){e=this.template,e.default||(e.default="FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown");for(const t in e)e[t]=this.template[t].split(" ").map(n=>n.trim());return e}return e.default=this.template.split(" ").map(t=>t.trim()),e},page(){return Math.floor(this.d_first/this.d_rows)},pageCount(){return Math.ceil(this.totalRecords/this.d_rows)},isFirstPage(){return this.page===0},isLastPage(){return this.page===this.pageCount-1},calculatePageLinkBoundaries(){const e=this.pageCount,t=Math.min(this.pageLinkSize,e);let n=Math.max(0,Math.ceil(this.page-t/2)),i=Math.min(e-1,n+t-1);const r=this.pageLinkSize-(i-n+1);return n=Math.max(0,n-r),[n,i]},pageLinks(){let e=[],t=this.calculatePageLinkBoundaries,n=t[0],i=t[1];for(var r=n;r<=i;r++)e.push(r+1);return e},currentState(){return{page:this.page,first:this.d_first,rows:this.d_rows}},empty(){return this.pageCount===0},currentPage(){return this.pageCount>0?this.page+1:0},attributeSelector(){return zt()}},components:{CurrentPageReport:vd,FirstPageLink:_d,LastPageLink:Sd,NextPageLink:Ed,PageLinks:kd,PrevPageLink:Pd,RowsPerPageDropdown:Rd,JumpToPageDropdown:Cd,JumpToPageInput:Id}};const V0={key:0},H0={key:0,class:"p-paginator-left-content"},U0={key:1,class:"p-paginator-right-content"};function $0(e,t,n,i,r,s){const o=ve("FirstPageLink"),l=ve("PrevPageLink"),c=ve("NextPageLink"),a=ve("LastPageLink"),d=ve("PageLinks"),u=ve("CurrentPageReport"),h=ve("RowsPerPageDropdown"),f=ve("JumpToPageDropdown"),v=ve("JumpToPageInput");return n.alwaysShow||s.pageLinks&&s.pageLinks.length>1?(x(),k("nav",V0,[(x(!0),k(fe,null,rt(s.templateItems,(C,E)=>(x(),k("div",{key:E,ref_for:!0,ref:"paginator",class:ee(["p-paginator p-component",s.getPaginatorClasses(E)])},[e.$slots.start?(x(),k("div",H0,[Pe(e.$slots,"start",{state:s.currentState})])):H("",!0),(x(!0),k(fe,null,rt(C,P=>(x(),k(fe,{key:P},[P==="FirstPageLink"?(x(),se(o,{key:0,"aria-label":s.getAriaLabel("firstPageLabel"),onClick:t[0]||(t[0]=O=>s.changePageToFirst(O)),disabled:s.isFirstPage||s.empty},null,8,["aria-label","disabled"])):P==="PrevPageLink"?(x(),se(l,{key:1,"aria-label":s.getAriaLabel("prevPageLabel"),onClick:t[1]||(t[1]=O=>s.changePageToPrev(O)),disabled:s.isFirstPage||s.empty},null,8,["aria-label","disabled"])):P==="NextPageLink"?(x(),se(c,{key:2,"aria-label":s.getAriaLabel("nextPageLabel"),onClick:t[2]||(t[2]=O=>s.changePageToNext(O)),disabled:s.isLastPage||s.empty},null,8,["aria-label","disabled"])):P==="LastPageLink"?(x(),se(a,{key:3,"aria-label":s.getAriaLabel("lastPageLabel"),onClick:t[3]||(t[3]=O=>s.changePageToLast(O)),disabled:s.isLastPage||s.empty},null,8,["aria-label","disabled"])):P==="PageLinks"?(x(),se(d,{key:4,"aria-label":s.getAriaLabel("pageLabel"),value:s.pageLinks,page:s.page,onClick:t[4]||(t[4]=O=>s.changePageLink(O))},null,8,["aria-label","value","page"])):P==="CurrentPageReport"?(x(),se(u,{key:5,"aria-live":"polite",template:n.currentPageReportTemplate,currentPage:s.currentPage,page:s.page,pageCount:s.pageCount,first:r.d_first,rows:r.d_rows,totalRecords:n.totalRecords},null,8,["template","currentPage","page","pageCount","first","rows","totalRecords"])):P==="RowsPerPageDropdown"&&n.rowsPerPageOptions?(x(),se(h,{key:6,"aria-label":s.getAriaLabel("rowsPerPageLabel"),rows:r.d_rows,options:n.rowsPerPageOptions,onRowsChange:t[5]||(t[5]=O=>s.onRowChange(O)),disabled:s.empty},null,8,["aria-label","rows","options","disabled"])):P==="JumpToPageDropdown"?(x(),se(f,{key:7,"aria-label":s.getAriaLabel("jumpToPageDropdownLabel"),page:s.page,pageCount:s.pageCount,onPageChange:t[6]||(t[6]=O=>s.changePage(O)),disabled:s.empty},null,8,["aria-label","page","pageCount","disabled"])):P==="JumpToPageInput"?(x(),se(v,{key:8,page:s.currentPage,onPageChange:t[7]||(t[7]=O=>s.changePage(O)),disabled:s.empty},null,8,["page","disabled"])):H("",!0)],64))),128)),e.$slots.end?(x(),k("div",U0,[Pe(e.$slots,"end",{state:s.currentState})])):H("",!0)],2))),128))])):H("",!0)}function G0(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var q0=`
.p-paginator-default {
    display: flex;
}
.p-paginator {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
}
.p-paginator-left-content {
    margin-right: auto;
}
.p-paginator-right-content {
    margin-left: auto;
}
.p-paginator-page,
.p-paginator-next,
.p-paginator-last,
.p-paginator-first,
.p-paginator-prev,
.p-paginator-current {
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    user-select: none;
    overflow: hidden;
    position: relative;
}
.p-paginator-element:focus {
    z-index: 1;
    position: relative;
}
`;G0(q0);Ad.render=$0;var Od={name:"RowCheckbox",emits:["change"],props:{value:null,checked:null},data(){return{focused:!1}},methods:{onClick(e){this.$attrs.disabled||(this.$emit("change",{originalEvent:e,data:this.value}),R.focus(this.$refs.input)),e.preventDefault()},onFocus(){this.focused=!0},onBlur(){this.focused=!1},onKeydown(e){switch(e.code){case"Space":{this.onClick(e);break}}}},computed:{checkboxAriaLabel(){return this.$primevue.config.locale.aria?this.checked?this.$primevue.config.locale.aria.selectRow:this.$primevue.config.locale.aria.unselectRow:void 0}}};const W0={class:"p-hidden-accessible"},J0=["checked","disabled","tabindex","aria-label"];function Y0(e,t,n,i,r,s){return x(),k("div",{class:ee(["p-checkbox p-component",{"p-checkbox-focused":r.focused}]),onClick:t[3]||(t[3]=(...o)=>s.onClick&&s.onClick(...o))},[N("div",W0,[N("input",{ref:"input",type:"checkbox",checked:n.checked,disabled:e.$attrs.disabled,tabindex:e.$attrs.disabled?null:"0","aria-label":s.checkboxAriaLabel,onFocus:t[0]||(t[0]=o=>s.onFocus(o)),onBlur:t[1]||(t[1]=o=>s.onBlur(o)),onKeydown:t[2]||(t[2]=(...o)=>s.onKeydown&&s.onKeydown(...o))},null,40,J0)]),N("div",{ref:"box",class:ee(["p-checkbox-box p-component",{"p-highlight":n.checked,"p-disabled":e.$attrs.disabled,"p-focus":r.focused}])},[N("span",{class:ee(["p-checkbox-icon",{"pi pi-check":n.checked}])},null,2)],2)],2)}Od.render=Y0;var Md={name:"RowRadioButton",inheritAttrs:!1,emits:["change"],props:{value:null,checked:null,name:null},data(){return{focused:!1}},methods:{onClick(e){this.disabled||this.checked||(this.$emit("change",{originalEvent:e,data:this.value}),R.focus(this.$refs.input))},onFocus(){this.focused=!0},onBlur(){this.focused=!1}}};const Z0={class:"p-hidden-accessible"},X0=["checked","disabled","name"],Q0=N("div",{class:"p-radiobutton-icon"},null,-1),ex=[Q0];function tx(e,t,n,i,r,s){return x(),k("div",{class:ee(["p-radiobutton p-component",{"p-radiobutton-focused":r.focused}]),onClick:t[3]||(t[3]=(...o)=>s.onClick&&s.onClick(...o))},[N("div",Z0,[N("input",{ref:"input",type:"radio",checked:n.checked,disabled:e.$attrs.disabled,name:n.name,tabindex:"0",onFocus:t[0]||(t[0]=o=>s.onFocus(o)),onBlur:t[1]||(t[1]=o=>s.onBlur(o)),onKeydown:t[2]||(t[2]=es(hl((...o)=>s.onClick&&s.onClick(...o),["prevent"]),["space"]))},null,40,X0)]),N("div",{ref:"box",class:ee(["p-radiobutton-box p-component",{"p-highlight":n.checked,"p-disabled":e.$attrs.disabled,"p-focus":r.focused}])},ex,2)],2)}Md.render=tx;var Ld={name:"BodyCell",emits:["cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","row-toggle","radio-change","checkbox-change","editing-meta-change"],props:{rowData:{type:Object,default:null},column:{type:Object,default:null},frozenRow:{type:Boolean,default:!1},rowIndex:{type:Number,default:null},index:{type:Number,default:null},rowTogglerIcon:{type:Array,default:null},selected:{type:Boolean,default:!1},editing:{type:Boolean,default:!1},editingMeta:{type:Object,default:null},editMode:{type:String,default:null},responsiveLayout:{type:String,default:"stack"},virtualScrollerContentProps:{type:Object,default:null},ariaControls:{type:String,default:null},name:{type:String,default:null}},documentEditListener:null,selfClick:!1,overlayEventListener:null,data(){return{d_editing:this.editing,styleObject:{},isRowExpanded:!1}},watch:{editing(e){this.d_editing=e},"$data.d_editing":function(e){this.$emit("editing-meta-change",{data:this.rowData,field:this.field||`field_${this.index}`,index:this.rowIndex,editing:e})}},mounted(){this.columnProp("frozen")&&this.updateStickyPosition()},updated(){this.columnProp("frozen")&&this.updateStickyPosition(),this.d_editing&&(this.editMode==="cell"||this.editMode==="row"&&this.columnProp("rowEditor"))&&setTimeout(()=>{const e=R.getFirstFocusableElement(this.$el);e&&e.focus()},1)},beforeUnmount(){this.overlayEventListener&&(Ht.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null)},methods:{columnProp(e){return j.getVNodeProp(this.column,e)},resolveFieldData(){return j.resolveFieldData(this.rowData,this.field)},toggleRow(e){this.isRowExpanded=!this.isRowExpanded,this.$emit("row-toggle",{originalEvent:e,data:this.rowData})},toggleRowWithRadio(e,t){this.$emit("radio-change",{originalEvent:e.originalEvent,index:t,data:e.data})},toggleRowWithCheckbox(e,t){this.$emit("checkbox-change",{originalEvent:e.originalEvent,index:t,data:e.data})},isEditable(){return this.column.children&&this.column.children.editor!=null},bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.selfClick||this.completeEdit(e,"outside"),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))},unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null,this.selfClick=!1)},switchCellToViewMode(){this.d_editing=!1,this.unbindDocumentEditListener(),Ht.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null},onClick(e){this.editMode==="cell"&&this.isEditable()&&(this.selfClick=!0,this.d_editing||(this.d_editing=!0,this.bindDocumentEditListener(),this.$emit("cell-edit-init",{originalEvent:e,data:this.rowData,field:this.field,index:this.rowIndex}),this.overlayEventListener=t=>{this.$el&&this.$el.contains(t.target)&&(this.selfClick=!0)},Ht.on("overlay-click",this.overlayEventListener)))},completeEdit(e,t){const n={originalEvent:e,data:this.rowData,newData:this.editingRowData,value:this.rowData[this.field],newValue:this.editingRowData[this.field],field:this.field,index:this.rowIndex,type:t,defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0}};this.$emit("cell-edit-complete",n),n.defaultPrevented||this.switchCellToViewMode()},onKeyDown(e){if(this.editMode==="cell")switch(e.code){case"Enter":this.completeEdit(e,"enter");break;case"Escape":this.switchCellToViewMode(),this.$emit("cell-edit-cancel",{originalEvent:e,data:this.rowData,field:this.field,index:this.rowIndex});break;case"Tab":this.completeEdit(e,"tab"),e.shiftKey?this.moveToPreviousCell(e):this.moveToNextCell(e);break}},moveToPreviousCell(e){let t=this.findCell(e.target),n=this.findPreviousEditableColumn(t);n&&(R.invokeElementMethod(n,"click"),e.preventDefault())},moveToNextCell(e){let t=this.findCell(e.target),n=this.findNextEditableColumn(t);n&&(R.invokeElementMethod(n,"click"),e.preventDefault())},findCell(e){if(e){let t=e;for(;t&&!R.hasClass(t,"p-cell-editing");)t=t.parentElement;return t}else return null},findPreviousEditableColumn(e){let t=e.previousElementSibling;if(!t){let n=e.parentElement.previousElementSibling;n&&(t=n.lastElementChild)}return t?R.hasClass(t,"p-editable-column")?t:this.findPreviousEditableColumn(t):null},findNextEditableColumn(e){let t=e.nextElementSibling;if(!t){let n=e.parentElement.nextElementSibling;n&&(t=n.firstElementChild)}return t?R.hasClass(t,"p-editable-column")?t:this.findNextEditableColumn(t):null},isEditingCellValid(){return R.find(this.$el,".p-invalid").length===0},onRowEditInit(e){this.$emit("row-edit-init",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},onRowEditSave(e){this.$emit("row-edit-save",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},onRowEditCancel(e){this.$emit("row-edit-cancel",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},editorInitCallback(e){this.$emit("row-edit-init",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},editorSaveCallback(e){this.editMode==="row"?this.$emit("row-edit-save",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex}):this.completeEdit(e,"enter")},editorCancelCallback(e){this.editMode==="row"?this.$emit("row-edit-cancel",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex}):(this.switchCellToViewMode(),this.$emit("cell-edit-cancel",{originalEvent:e,data:this.rowData,field:this.field,index:this.rowIndex}))},updateStickyPosition(){if(this.columnProp("frozen"))if(this.columnProp("alignFrozen")==="right"){let t=0,n=this.$el.nextElementSibling;n&&(t=R.getOuterWidth(n)+parseFloat(n.style.right||0)),this.styleObject.right=t+"px"}else{let t=0,n=this.$el.previousElementSibling;n&&(t=R.getOuterWidth(n)+parseFloat(n.style.left||0)),this.styleObject.left=t+"px"}},getVirtualScrollerProp(e){return this.virtualScrollerContentProps?this.virtualScrollerContentProps[e]:null}},computed:{editingRowData(){return this.editingMeta[this.rowIndex]?this.editingMeta[this.rowIndex].data:this.rowData},field(){return this.columnProp("field")},containerClass(){return[this.columnProp("bodyClass"),this.columnProp("class"),{"p-selection-column":this.columnProp("selectionMode")!=null,"p-editable-column":this.isEditable(),"p-cell-editing":this.d_editing,"p-frozen-column":this.columnProp("frozen")}]},containerStyle(){let e=this.columnProp("bodyStyle"),t=this.columnProp("style");return this.columnProp("frozen")?[t,e,this.styleObject]:[t,e]},loading(){return this.getVirtualScrollerProp("loading")},loadingOptions(){const e=this.getVirtualScrollerProp("getLoaderOptions");return e&&e(this.rowIndex,{cellIndex:this.index,cellFirst:this.index===0,cellLast:this.index===this.getVirtualScrollerProp("columns").length-1,cellEven:this.index%2===0,cellOdd:this.index%2!==0,column:this.column,field:this.field})},expandButtonAriaLabel(){return this.$primevue.config.locale.aria?this.isRowExpanded?this.$primevue.config.locale.aria.expandRow:this.$primevue.config.locale.aria.collapseRow:void 0},initButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.editRow:void 0},saveButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.saveEdit:void 0},cancelButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.cancelEdit:void 0}},components:{DTRadioButton:Md,DTCheckbox:Od},directives:{ripple:Gt}};const nx={key:0,class:"p-column-title"},ix=["aria-expanded","aria-controls","aria-label"],sx=["aria-label"],rx=N("span",{class:"p-row-editor-init-icon pi pi-fw pi-pencil"},null,-1),ox=[rx],lx=["aria-label"],ax=N("span",{class:"p-row-editor-save-icon pi pi-fw pi-check"},null,-1),cx=[ax],ux=["aria-label"],dx=N("span",{class:"p-row-editor-cancel-icon pi pi-fw pi-times"},null,-1),hx=[dx];function fx(e,t,n,i,r,s){const o=ve("DTRadioButton"),l=ve("DTCheckbox"),c=It("ripple");return s.loading?(x(),k("td",{key:0,style:$e(s.containerStyle),class:ee(s.containerClass)},[(x(),se(lt(n.column.children.loading),{data:n.rowData,column:n.column,field:s.field,index:n.rowIndex,frozenRow:n.frozenRow,loadingOptions:s.loadingOptions},null,8,["data","column","field","index","frozenRow","loadingOptions"]))],6)):(x(),k("td",{key:1,style:$e(s.containerStyle),class:ee(s.containerClass),onClick:t[6]||(t[6]=(...a)=>s.onClick&&s.onClick(...a)),onKeydown:t[7]||(t[7]=(...a)=>s.onKeyDown&&s.onKeyDown(...a)),role:"cell"},[n.responsiveLayout==="stack"?(x(),k("span",nx,Le(s.columnProp("header")),1)):H("",!0),n.column.children&&n.column.children.body&&!r.d_editing?(x(),se(lt(n.column.children.body),{key:1,data:n.rowData,column:n.column,field:s.field,index:n.rowIndex,frozenRow:n.frozenRow,editorInitCallback:s.editorInitCallback},null,8,["data","column","field","index","frozenRow","editorInitCallback"])):n.column.children&&n.column.children.editor&&r.d_editing?(x(),se(lt(n.column.children.editor),{key:2,data:s.editingRowData,column:n.column,field:s.field,index:n.rowIndex,frozenRow:n.frozenRow,editorSaveCallback:s.editorSaveCallback,editorCancelCallback:s.editorCancelCallback},null,8,["data","column","field","index","frozenRow","editorSaveCallback","editorCancelCallback"])):n.column.children&&n.column.children.body&&!n.column.children.editor&&r.d_editing?(x(),se(lt(n.column.children.body),{key:3,data:s.editingRowData,column:n.column,field:s.field,index:n.rowIndex,frozenRow:n.frozenRow},null,8,["data","column","field","index","frozenRow"])):s.columnProp("selectionMode")?(x(),k(fe,{key:4},[s.columnProp("selectionMode")==="single"?(x(),se(o,{key:0,value:n.rowData,name:n.name,checked:n.selected,onChange:t[0]||(t[0]=a=>s.toggleRowWithRadio(a,n.rowIndex))},null,8,["value","name","checked"])):s.columnProp("selectionMode")==="multiple"?(x(),se(l,{key:1,value:n.rowData,checked:n.selected,"aria-selected":n.selected?!0:void 0,onChange:t[1]||(t[1]=a=>s.toggleRowWithCheckbox(a,n.rowIndex))},null,8,["value","checked","aria-selected"])):H("",!0)],64)):s.columnProp("rowReorder")?(x(),k("i",{key:5,class:ee(["p-datatable-reorderablerow-handle",s.columnProp("rowReorderIcon")||"pi pi-bars"])},null,2)):s.columnProp("expander")?st((x(),k("button",{key:6,class:"p-row-toggler p-link",type:"button","aria-expanded":r.isRowExpanded,"aria-controls":n.ariaControls,"aria-label":s.expandButtonAriaLabel,onClick:t[2]||(t[2]=(...a)=>s.toggleRow&&s.toggleRow(...a))},[N("span",{class:ee(n.rowTogglerIcon)},null,2)],8,ix)),[[c]]):n.editMode==="row"&&s.columnProp("rowEditor")?(x(),k(fe,{key:7},[r.d_editing?H("",!0):st((x(),k("button",{key:0,class:"p-row-editor-init p-link",type:"button","aria-label":s.initButtonAriaLabel,onClick:t[3]||(t[3]=(...a)=>s.onRowEditInit&&s.onRowEditInit(...a))},ox,8,sx)),[[c]]),r.d_editing?st((x(),k("button",{key:1,class:"p-row-editor-save p-link",type:"button","aria-label":s.saveButtonAriaLabel,onClick:t[4]||(t[4]=(...a)=>s.onRowEditSave&&s.onRowEditSave(...a))},cx,8,lx)),[[c]]):H("",!0),r.d_editing?st((x(),k("button",{key:2,class:"p-row-editor-cancel p-link",type:"button","aria-label":s.cancelButtonAriaLabel,onClick:t[5]||(t[5]=(...a)=>s.onRowEditCancel&&s.onRowEditCancel(...a))},hx,8,ux)),[[c]]):H("",!0)],64)):(x(),k(fe,{key:8},[_t(Le(s.resolveFieldData()),1)],64))],38))}Ld.render=fx;var Td={name:"TableBody",emits:["rowgroup-toggle","row-click","row-dblclick","row-rightclick","row-touchend","row-keydown","row-mousedown","row-dragstart","row-dragover","row-dragleave","row-dragend","row-drop","row-toggle","radio-change","checkbox-change","cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","editing-meta-change"],props:{value:{type:Array,default:null},columns:{type:null,default:null},frozenRow:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},dataKey:{type:String,default:null},expandedRowIcon:{type:String,default:null},collapsedRowIcon:{type:String,default:null},expandedRows:{type:Array,default:null},expandedRowKeys:{type:null,default:null},selection:{type:[Array,Object],default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},rowClass:{type:null,default:null},rowStyle:{type:null,default:null},editMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},editingRows:{type:Array,default:null},editingRowKeys:{type:null,default:null},editingMeta:{type:Object,default:null},templates:{type:null,default:null},scrollable:{type:Boolean,default:!1},responsiveLayout:{type:String,default:"stack"},virtualScrollerContentProps:{type:Object,default:null},isVirtualScrollerDisabled:{type:Boolean,default:!1}},data(){return{rowGroupHeaderStyleObject:{},tabindexArray:[],isARowSelected:!1}},watch:{virtualScrollerContentProps(e,t){!this.isVirtualScrollerDisabled&&this.getVirtualScrollerProp("vertical")&&this.getVirtualScrollerProp("itemSize",t)!==this.getVirtualScrollerProp("itemSize",e)&&this.updateVirtualScrollerPosition()}},mounted(){this.frozenRow&&this.updateFrozenRowStickyPosition(),this.scrollable&&this.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition(),!this.isVirtualScrollerDisabled&&this.getVirtualScrollerProp("vertical")&&this.updateVirtualScrollerPosition()},updated(){this.frozenRow&&this.updateFrozenRowStickyPosition(),this.scrollable&&this.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()},methods:{columnProp(e,t){return j.getVNodeProp(e,t)},shouldRenderRowGroupHeader(e,t,n){let i=j.resolveFieldData(t,this.groupRowsBy),r=e[n-1];if(r){let s=j.resolveFieldData(r,this.groupRowsBy);return i!==s}else return!0},getRowKey(e,t){return this.dataKey?j.resolveFieldData(e,this.dataKey):t},getRowIndex(e){const t=this.getVirtualScrollerProp("getItemOptions");return t?t(e).index:e},getRowClass(e){let t=[];if(this.selectionMode&&t.push("p-selectable-row"),this.selection&&t.push({"p-highlight":this.isSelected(e)}),this.contextMenuSelection&&t.push({"p-highlight-contextmenu":this.isSelectedWithContextMenu(e)}),this.rowClass){let n=this.rowClass(e);n&&t.push(n)}return t},shouldRenderRowGroupFooter(e,t,n){if(this.expandableRowGroups&&!this.isRowGroupExpanded(t))return!1;{let i=j.resolveFieldData(t,this.groupRowsBy),r=e[n+1];if(r){let s=j.resolveFieldData(r,this.groupRowsBy);return i!==s}else return!0}},shouldRenderBodyCell(e,t,n){if(this.rowGroupMode){if(this.rowGroupMode==="subheader")return this.groupRowsBy!==this.columnProp(t,"field");if(this.rowGroupMode==="rowspan")if(this.isGrouped(t)){let i=e[n-1];if(i){let r=j.resolveFieldData(e[n],this.columnProp(t,"field")),s=j.resolveFieldData(i,this.columnProp(t,"field"));return r!==s}else return!0}else return!0}else return!this.columnProp(t,"hidden")},calculateRowGroupSize(e,t,n){if(this.isGrouped(t)){let i=j.resolveFieldData(e[n],this.columnProp(t,"field")),r=i,s=0;for(;i===r;){s++;let o=e[++n];if(o)r=j.resolveFieldData(o,this.columnProp(t,"field"));else break}return s===1?null:s}else return null},rowTogglerIcon(e){return["p-row-toggler-icon pi",this.isRowExpanded(e)?this.expandedRowIcon:this.collapsedRowIcon]},rowGroupTogglerIcon(e){return["p-row-toggler-icon pi",this.isRowGroupExpanded(e)?this.expandedRowIcon:this.collapsedRowIcon]},isGrouped(e){return this.groupRowsBy&&this.columnProp(e,"field")?Array.isArray(this.groupRowsBy)?this.groupRowsBy.indexOf(e.props.field)>-1:this.groupRowsBy===e.props.field:!1},isRowEditing(e){return e&&this.editingRows?this.dataKey?this.editingRowKeys?this.editingRowKeys[j.resolveFieldData(e,this.dataKey)]!==void 0:!1:this.findIndex(e,this.editingRows)>-1:!1},isRowExpanded(e){return e&&this.expandedRows?this.dataKey?this.expandedRowKeys?this.expandedRowKeys[j.resolveFieldData(e,this.dataKey)]!==void 0:!1:this.findIndex(e,this.expandedRows)>-1:!1},isRowGroupExpanded(e){if(this.expandableRowGroups&&this.expandedRowGroups){let t=j.resolveFieldData(e,this.groupRowsBy);return this.expandedRowGroups.indexOf(t)>-1}return!1},isSelected(e){return e&&this.selection?this.dataKey?this.selectionKeys?this.selectionKeys[j.resolveFieldData(e,this.dataKey)]!==void 0:!1:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1},isSelectedWithContextMenu(e){return e&&this.contextMenuSelection?this.equals(e,this.contextMenuSelection,this.dataKey):!1},findIndexInSelection(e){return this.findIndex(e,this.selection)},findIndex(e,t){let n=-1;if(t&&t.length){for(let i=0;i<t.length;i++)if(this.equals(e,t[i])){n=i;break}}return n},equals(e,t){return this.compareSelectionBy==="equals"?e===t:j.equals(e,t,this.dataKey)},onRowGroupToggle(e,t){this.$emit("rowgroup-toggle",{originalEvent:e,data:t})},onRowClick(e,t,n){this.$emit("row-click",{originalEvent:e,data:t,index:n})},onRowDblClick(e,t,n){this.$emit("row-dblclick",{originalEvent:e,data:t,index:n})},onRowRightClick(e,t,n){this.$emit("row-rightclick",{originalEvent:e,data:t,index:n})},onRowTouchEnd(e){this.$emit("row-touchend",e)},onRowKeyDown(e,t,n){this.$emit("row-keydown",{originalEvent:e,data:t,index:n})},onRowMouseDown(e){this.$emit("row-mousedown",e)},onRowDragStart(e,t){this.$emit("row-dragstart",{originalEvent:e,index:t})},onRowDragOver(e,t){this.$emit("row-dragover",{originalEvent:e,index:t})},onRowDragLeave(e){this.$emit("row-dragleave",e)},onRowDragEnd(e){this.$emit("row-dragend",e)},onRowDrop(e){this.$emit("row-drop",e)},onRowToggle(e){this.$emit("row-toggle",e)},onRadioChange(e){this.$emit("radio-change",e)},onCheckboxChange(e){this.$emit("checkbox-change",e)},onCellEditInit(e){this.$emit("cell-edit-init",e)},onCellEditComplete(e){this.$emit("cell-edit-complete",e)},onCellEditCancel(e){this.$emit("cell-edit-cancel",e)},onRowEditInit(e){this.$emit("row-edit-init",e)},onRowEditSave(e){this.$emit("row-edit-save",e)},onRowEditCancel(e){this.$emit("row-edit-cancel",e)},onEditingMetaChange(e){this.$emit("editing-meta-change",e)},updateFrozenRowStickyPosition(){this.$el.style.top=R.getOuterHeight(this.$el.previousElementSibling)+"px"},updateFrozenRowGroupHeaderStickyPosition(){let e=R.getOuterHeight(this.$el.previousElementSibling);this.rowGroupHeaderStyleObject.top=e+"px"},updateVirtualScrollerPosition(){const e=R.getOuterHeight(this.$el.previousElementSibling);this.$el.style.top=(this.$el.style.top||0)+e+"px"},getVirtualScrollerProp(e,t){return t=t||this.virtualScrollerContentProps,t?t[e]:null},bodyRef(e){const t=this.getVirtualScrollerProp("contentRef");t&&t(e)},setRowTabindex(e){return this.selection===null&&(this.selectionMode==="single"||this.selectionMode==="multiple")&&e===0?0:-1}},computed:{columnsLength(){let e=0;return this.columns.forEach(t=>{this.columnProp(t,"hidden")&&e++}),this.columns?this.columns.length-e:0},rowGroupHeaderStyle(){return this.scrollable?{top:this.rowGroupHeaderStyleObject.top}:null},bodyStyle(){return this.getVirtualScrollerProp("contentStyle")},expandedRowId(){return zt()},nameAttributeSelector(){return zt()}},components:{DTBodyCell:Ld}};const px=["colspan"],mx=["onClick"],gx=["tabindex","aria-selected","onClick","onDblclick","onContextmenu","onKeydown","onDragstart","onDragover"],bx=["id"],yx=["colspan"],wx={key:1,class:"p-datatable-emptymessage",role:"row"},xx=["colspan"];function vx(e,t,n,i,r,s){const o=ve("DTBodyCell");return x(),k("tbody",{ref:s.bodyRef,class:"p-datatable-tbody",role:"rowgroup",style:$e(s.bodyStyle)},[n.empty?(x(),k("tr",wx,[N("td",{colspan:s.columnsLength},[n.templates.empty?(x(),se(lt(n.templates.empty),{key:0})):H("",!0)],8,xx)])):(x(!0),k(fe,{key:0},rt(n.value,(l,c)=>(x(),k(fe,{key:s.getRowKey(l,s.getRowIndex(c))+"_subheader"},[n.templates.groupheader&&n.rowGroupMode==="subheader"&&s.shouldRenderRowGroupHeader(n.value,l,s.getRowIndex(c))?(x(),k("tr",{key:0,class:"p-rowgroup-header",style:$e(s.rowGroupHeaderStyle),role:"row"},[N("td",{colspan:s.columnsLength-1},[n.expandableRowGroups?(x(),k("button",{key:0,class:"p-row-toggler p-link",onClick:a=>s.onRowGroupToggle(a,l),type:"button"},[N("span",{class:ee(s.rowGroupTogglerIcon(l))},null,2)],8,mx)):H("",!0),(x(),se(lt(n.templates.groupheader),{data:l,index:s.getRowIndex(c)},null,8,["data","index"]))],8,px)],4)):H("",!0),!n.expandableRowGroups||s.isRowGroupExpanded(l)?(x(),k("tr",{key:s.getRowKey(l,s.getRowIndex(c)),class:ee(s.getRowClass(l)),style:$e(n.rowStyle),tabindex:s.setRowTabindex(c),role:"row","aria-selected":n.selectionMode?s.isSelected(l):null,onClick:a=>s.onRowClick(a,l,s.getRowIndex(c)),onDblclick:a=>s.onRowDblClick(a,l,s.getRowIndex(c)),onContextmenu:a=>s.onRowRightClick(a,l,s.getRowIndex(c)),onTouchend:t[9]||(t[9]=a=>s.onRowTouchEnd(a)),onKeydown:a=>s.onRowKeyDown(a,l,s.getRowIndex(c)),onMousedown:t[10]||(t[10]=a=>s.onRowMouseDown(a)),onDragstart:a=>s.onRowDragStart(a,s.getRowIndex(c)),onDragover:a=>s.onRowDragOver(a,s.getRowIndex(c)),onDragleave:t[11]||(t[11]=a=>s.onRowDragLeave(a)),onDragend:t[12]||(t[12]=a=>s.onRowDragEnd(a)),onDrop:t[13]||(t[13]=a=>s.onRowDrop(a))},[(x(!0),k(fe,null,rt(n.columns,(a,d)=>(x(),k(fe,{key:s.columnProp(a,"columnKey")||s.columnProp(a,"field")||d},[s.shouldRenderBodyCell(n.value,a,s.getRowIndex(c))?(x(),se(o,{key:0,rowData:l,column:a,rowIndex:s.getRowIndex(c),index:d,selected:s.isSelected(l),rowTogglerIcon:s.columnProp(a,"expander")?s.rowTogglerIcon(l):null,frozenRow:n.frozenRow,rowspan:n.rowGroupMode==="rowspan"?s.calculateRowGroupSize(n.value,a,s.getRowIndex(c)):null,editMode:n.editMode,editing:n.editMode==="row"&&s.isRowEditing(l),editingMeta:n.editingMeta,responsiveLayout:n.responsiveLayout,virtualScrollerContentProps:n.virtualScrollerContentProps,ariaControls:s.expandedRowId+"_"+c+"_expansion",name:s.nameAttributeSelector,onRadioChange:t[0]||(t[0]=u=>s.onRadioChange(u)),onCheckboxChange:t[1]||(t[1]=u=>s.onCheckboxChange(u)),onRowToggle:t[2]||(t[2]=u=>s.onRowToggle(u)),onCellEditInit:t[3]||(t[3]=u=>s.onCellEditInit(u)),onCellEditComplete:t[4]||(t[4]=u=>s.onCellEditComplete(u)),onCellEditCancel:t[5]||(t[5]=u=>s.onCellEditCancel(u)),onRowEditInit:t[6]||(t[6]=u=>s.onRowEditInit(u)),onRowEditSave:t[7]||(t[7]=u=>s.onRowEditSave(u)),onRowEditCancel:t[8]||(t[8]=u=>s.onRowEditCancel(u)),onEditingMetaChange:s.onEditingMetaChange},null,8,["rowData","column","rowIndex","index","selected","rowTogglerIcon","frozenRow","rowspan","editMode","editing","editingMeta","responsiveLayout","virtualScrollerContentProps","ariaControls","name","onEditingMetaChange"])):H("",!0)],64))),128))],46,gx)):H("",!0),n.templates.expansion&&n.expandedRows&&s.isRowExpanded(l)?(x(),k("tr",{key:s.getRowKey(l,s.getRowIndex(c))+"_expansion",id:s.expandedRowId+"_"+c+"_expansion",class:"p-datatable-row-expansion",role:"row"},[N("td",{colspan:s.columnsLength},[(x(),se(lt(n.templates.expansion),{data:l,index:s.getRowIndex(c)},null,8,["data","index"]))],8,yx)],8,bx)):H("",!0),n.templates.groupfooter&&n.rowGroupMode==="subheader"&&s.shouldRenderRowGroupFooter(n.value,l,s.getRowIndex(c))?(x(),k("tr",{key:s.getRowKey(l,s.getRowIndex(c))+"_subfooter",class:"p-rowgroup-footer",role:"row"},[(x(),se(lt(n.templates.groupfooter),{data:l,index:s.getRowIndex(c)},null,8,["data","index"]))])):H("",!0)],64))),128))],4)}Td.render=vx;var Fd={name:"FooterCell",props:{column:{type:null,default:null}},data(){return{styleObject:{}}},mounted(){this.columnProp("frozen")&&this.updateStickyPosition()},updated(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp(e){return j.getVNodeProp(this.column,e)},updateStickyPosition(){if(this.columnProp("frozen"))if(this.columnProp("alignFrozen")==="right"){let t=0,n=this.$el.nextElementSibling;n&&(t=R.getOuterWidth(n)+parseFloat(n.style.left)),this.styleObject.right=t+"px"}else{let t=0,n=this.$el.previousElementSibling;n&&(t=R.getOuterWidth(n)+parseFloat(n.style.left)),this.styleObject.left=t+"px"}}},computed:{containerClass(){return[this.columnProp("footerClass"),this.columnProp("class"),{"p-frozen-column":this.columnProp("frozen")}]},containerStyle(){let e=this.columnProp("footerStyle"),t=this.columnProp("style");return this.columnProp("frozen")?[t,e,this.styleObject]:[t,e]}}};const _x=["colspan","rowspan"];function Cx(e,t,n,i,r,s){return x(),k("td",{style:$e(s.containerStyle),class:ee(s.containerClass),role:"cell",colspan:s.columnProp("colspan"),rowspan:s.columnProp("rowspan")},[n.column.children&&n.column.children.footer?(x(),se(lt(n.column.children.footer),{key:0,column:n.column},null,8,["column"])):H("",!0),_t(" "+Le(s.columnProp("footer")),1)],14,_x)}Fd.render=Cx;var Dd={name:"TableFooter",props:{columnGroup:{type:null,default:null},columns:{type:null,default:null}},methods:{columnProp(e,t){return j.getVNodeProp(e,t)},getFooterRows(){let e=[],t=this.columnGroup;if(t.children&&t.children.default){for(let n of t.children.default())n.type.name==="Row"?e.push(n):n.children&&n.children instanceof Array&&(e=n.children);return e}},getFooterColumns(e){let t=[];if(e.children&&e.children.default)return e.children.default().forEach(n=>{n.children&&n.children instanceof Array?t=[...t,...n.children]:n.type.name==="Column"&&t.push(n)}),t}},computed:{hasFooter(){let e=!1;if(this.columnGroup)e=!0;else if(this.columns){for(let t of this.columns)if(this.columnProp(t,"footer")||t.children&&t.children.footer){e=!0;break}}return e}},components:{DTFooterCell:Fd}};const Ix={key:0,class:"p-datatable-tfoot",role:"rowgroup"},Sx={key:0,role:"row"};function Ex(e,t,n,i,r,s){const o=ve("DTFooterCell");return s.hasFooter?(x(),k("tfoot",Ix,[n.columnGroup?(x(!0),k(fe,{key:1},rt(s.getFooterRows(),(l,c)=>(x(),k("tr",{key:c,role:"row"},[(x(!0),k(fe,null,rt(s.getFooterColumns(l),(a,d)=>(x(),k(fe,{key:s.columnProp(a,"columnKey")||s.columnProp(a,"field")||d},[s.columnProp(a,"hidden")?H("",!0):(x(),se(o,{key:0,column:a},null,8,["column"]))],64))),128))]))),128)):(x(),k("tr",Sx,[(x(!0),k(fe,null,rt(n.columns,(l,c)=>(x(),k(fe,{key:s.columnProp(l,"columnKey")||s.columnProp(l,"field")||c},[s.columnProp(l,"hidden")?H("",!0):(x(),se(o,{key:0,column:l},null,8,["column"]))],64))),128))]))])):H("",!0)}Dd.render=Ex;var Sl={name:"ColumnFilter",emits:["filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{field:{type:String,default:null},type:{type:String,default:"text"},display:{type:String,default:null},showMenu:{type:Boolean,default:!0},matchMode:{type:String,default:null},showOperator:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},showApplyButton:{type:Boolean,default:!0},showMatchModes:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},matchModeOptions:{type:Array,default:null},maxConstraints:{type:Number,default:2},filterElement:null,filterHeaderTemplate:null,filterFooterTemplate:null,filterClearTemplate:null,filterApplyTemplate:null,filters:{type:Object,default:null},filtersStore:{type:Object,default:null},filterMenuClass:{type:String,default:null},filterMenuStyle:{type:null,default:null},filterInputProps:{type:null,default:null}},data(){return{overlayVisible:!1,defaultMatchMode:null,defaultOperator:null}},overlay:null,selfClick:!1,overlayEventListener:null,beforeUnmount(){this.overlayEventListener&&(Ht.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.overlay&&(it.clear(this.overlay),this.onOverlayHide())},mounted(){if(this.filters&&this.filters[this.field]){let e=this.filters[this.field];e.operator?(this.defaultMatchMode=e.constraints[0].matchMode,this.defaultOperator=e.operator):this.defaultMatchMode=this.filters[this.field].matchMode}},methods:{clearFilter(){let e={...this.filters};e[this.field].operator?(e[this.field].constraints.splice(1),e[this.field].operator=this.defaultOperator,e[this.field].constraints[0]={value:null,matchMode:this.defaultMatchMode}):(e[this.field].value=null,e[this.field].matchMode=this.defaultMatchMode),this.$emit("filter-clear"),this.$emit("filter-change",e),this.$emit("filter-apply"),this.hide()},applyFilter(){this.$emit("apply-click",{field:this.field,constraints:this.filters[this.field]}),this.$emit("filter-apply"),this.hide()},hasFilter(){if(this.filtersStore){let e=this.filtersStore[this.field];if(e)return e.operator?!this.isFilterBlank(e.constraints[0].value):!this.isFilterBlank(e.value)}return!1},hasRowFilter(){return this.filters[this.field]&&!this.isFilterBlank(this.filters[this.field].value)},isFilterBlank(e){return e!=null?typeof e=="string"&&e.trim().length==0||e instanceof Array&&e.length==0:!0},toggleMenu(){this.overlayVisible=!this.overlayVisible},onToggleButtonKeyDown(e){switch(e.code){case"Enter":case"Space":this.toggleMenu(),e.preventDefault();break;case"Escape":this.overlayVisible=!1;break}},onRowMatchModeChange(e){let t={...this.filters};t[this.field].matchMode=e,this.$emit("matchmode-change",{field:this.field,matchMode:e}),this.$emit("filter-change",t),this.$emit("filter-apply"),this.hide()},onRowMatchModeKeyDown(e){let t=e.target;switch(e.code){case"ArrowDown":var n=this.findNextItem(t);n&&(t.removeAttribute("tabindex"),n.tabIndex="0",n.focus()),e.preventDefault();break;case"ArrowUp":var i=this.findPrevItem(t);i&&(t.removeAttribute("tabindex"),i.tabIndex="0",i.focus()),e.preventDefault();break}},isRowMatchModeSelected(e){return this.filters[this.field].matchMode===e},onOperatorChange(e){let t={...this.filters};t[this.field].operator=e,this.$emit("filter-change",t),this.$emit("operator-change",{field:this.field,operator:e}),this.showApplyButton||this.$emit("filter-apply")},onMenuMatchModeChange(e,t){let n={...this.filters};n[this.field].constraints[t].matchMode=e,this.$emit("matchmode-change",{field:this.field,matchMode:e,index:t}),this.showApplyButton||this.$emit("filter-apply")},addConstraint(){let e={...this.filters},t={value:null,matchMode:this.defaultMatchMode};e[this.field].constraints.push(t),this.$emit("constraint-add",{field:this.field,constraing:t}),this.$emit("filter-change",e),this.showApplyButton||this.$emit("filter-apply")},removeConstraint(e){let t={...this.filters},n=t[this.field].constraints.splice(e,1);this.$emit("constraint-remove",{field:this.field,constraing:n}),this.$emit("filter-change",t),this.showApplyButton||this.$emit("filter-apply")},filterCallback(){this.$emit("filter-apply")},findNextItem(e){let t=e.nextElementSibling;return t?R.hasClass(t,"p-column-filter-separator")?this.findNextItem(t):t:e.parentElement.firstElementChild},findPrevItem(e){let t=e.previousElementSibling;return t?R.hasClass(t,"p-column-filter-separator")?this.findPrevItem(t):t:e.parentElement.lastElementChild},hide(){this.overlayVisible=!1,R.focus(this.$refs.icon)},onContentClick(e){this.selfClick=!0,Ht.emit("overlay-click",{originalEvent:e,target:this.overlay})},onContentMouseDown(){this.selfClick=!0},onOverlayEnter(e){this.filterMenuStyle&&R.applyStyle(this.overlay,this.filterMenuStyle),it.set("overlay",e,this.$primevue.config.zIndex.overlay),R.absolutePosition(this.overlay,this.$refs.icon),this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.overlayEventListener=t=>{this.isOutsideClicked(t.target)||(this.selfClick=!0)},Ht.on("overlay-click",this.overlayEventListener)},onOverlayLeave(){this.onOverlayHide()},onOverlayAfterLeave(e){it.clear(e)},onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.overlay=null,Ht.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null},overlayRef(e){this.overlay=e},isOutsideClicked(e){return!this.isTargetClicked(e)&&this.overlay&&!(this.overlay.isSameNode(e)||this.overlay.contains(e))},isTargetClicked(e){return this.$refs.icon&&(this.$refs.icon.isSameNode(e)||this.$refs.icon.contains(e))},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.overlayVisible&&!this.selfClick&&this.isOutsideClicked(e.target)&&(this.overlayVisible=!1),this.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new pl(this.$refs.icon,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!R.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}},computed:{containerClass(){return["p-column-filter p-fluid",{"p-column-filter-row":this.display==="row","p-column-filter-menu":this.display==="menu"}]},overlayClass(){return[this.filterMenuClass,{"p-column-filter-overlay p-component p-fluid":!0,"p-column-filter-overlay-menu":this.display==="menu","p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},showMenuButton(){return this.showMenu&&(this.display==="row"?this.type!=="boolean":!0)},overlayId(){return zt()},matchModes(){return this.matchModeOptions||this.$primevue.config.filterMatchModeOptions[this.type].map(e=>({label:this.$primevue.config.locale[e],value:e}))},isShowMatchModes(){return this.type!=="boolean"&&this.showMatchModes&&this.matchModes},operatorOptions(){return[{label:this.$primevue.config.locale.matchAll,value:ur.AND},{label:this.$primevue.config.locale.matchAny,value:ur.OR}]},noFilterLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.noFilter:void 0},isShowOperator(){return this.showOperator&&this.filters[this.field].operator},operator(){return this.filters[this.field].operator},fieldConstraints(){return this.filters[this.field].constraints||[this.filters[this.field]]},showRemoveIcon(){return this.fieldConstraints.length>1},removeRuleButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.removeRule:void 0},addRuleButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.addRule:void 0},isShowAddConstraint(){return this.showAddButton&&this.filters[this.field].operator&&this.fieldConstraints&&this.fieldConstraints.length<this.maxConstraints},clearButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.clear:void 0},applyButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.apply:void 0},filterMenuButtonAriaLabel(){return this.$primevue.config.locale?this.overlayVisible?this.$primevue.config.locale.showFilterMenu:this.$primevue.config.locale.hideFilterMenu:void 0},filterOperatorAriaLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.filterOperator:void 0},filterConstraintAriaLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.filterConstraint:void 0}},components:{CFDropdown:Tr,CFButton:Mi,Portal:oi},directives:{focustrap:bl}};const kx=["aria-label","aria-expanded","aria-controls"],Px=N("span",{class:"pi pi-filter-icon pi-filter"},null,-1),Rx=[Px],Ax=N("span",{class:"pi pi-filter-slash"},null,-1),Ox=[Ax],Mx=["id","aria-modal"],Lx={key:0,class:"p-column-filter-row-items"},Tx=["onClick","onKeydown","tabindex"],Fx=N("li",{class:"p-column-filter-separator"},null,-1),Dx={key:0,class:"p-column-filter-operator"},Bx={class:"p-column-filter-constraints"},Nx={key:1,class:"p-column-filter-add-rule"},zx={class:"p-column-filter-buttonbar"};function jx(e,t,n,i,r,s){const o=ve("CFDropdown"),l=ve("CFButton"),c=ve("Portal"),a=It("focustrap");return x(),k("div",{class:ee(s.containerClass)},[n.display==="row"?(x(),k("div",Ye({key:0,class:"p-fluid p-column-filter-element"},n.filterInputProps),[(x(),se(lt(n.filterElement),{field:n.field,filterModel:n.filters[n.field],filterCallback:s.filterCallback},null,8,["field","filterModel","filterCallback"]))],16)):H("",!0),s.showMenuButton?(x(),k("button",{key:1,ref:"icon",type:"button",class:ee(["p-column-filter-menu-button p-link",{"p-column-filter-menu-button-open":r.overlayVisible,"p-column-filter-menu-button-active":s.hasFilter()}]),"aria-label":s.filterMenuButtonAriaLabel,"aria-haspopup":"true","aria-expanded":r.overlayVisible,"aria-controls":s.overlayId,onClick:t[0]||(t[0]=d=>s.toggleMenu()),onKeydown:t[1]||(t[1]=d=>s.onToggleButtonKeyDown(d))},Rx,42,kx)):H("",!0),n.showClearButton&&n.display==="row"?(x(),k("button",{key:2,class:ee([{"p-hidden-space":!s.hasRowFilter()},"p-column-filter-clear-button p-link"]),type:"button",onClick:t[2]||(t[2]=d=>s.clearFilter())},Ox,2)):H("",!0),ce(c,null,{default:be(()=>[ce(Nn,{name:"p-connected-overlay",onEnter:s.onOverlayEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},{default:be(()=>[r.overlayVisible?st((x(),k("div",{key:0,ref:s.overlayRef,id:s.overlayId,"aria-modal":r.overlayVisible,role:"dialog",class:ee(s.overlayClass),onKeydown:t[10]||(t[10]=es((...d)=>s.hide&&s.hide(...d),["escape"])),onClick:t[11]||(t[11]=(...d)=>s.onContentClick&&s.onContentClick(...d)),onMousedown:t[12]||(t[12]=(...d)=>s.onContentMouseDown&&s.onContentMouseDown(...d))},[(x(),se(lt(n.filterHeaderTemplate),{field:n.field,filterModel:n.filters[n.field],filterCallback:s.filterCallback},null,8,["field","filterModel","filterCallback"])),n.display==="row"?(x(),k("ul",Lx,[(x(!0),k(fe,null,rt(s.matchModes,(d,u)=>(x(),k("li",{key:d.label,class:ee(["p-column-filter-row-item",{"p-highlight":s.isRowMatchModeSelected(d.value)}]),onClick:h=>s.onRowMatchModeChange(d.value),onKeydown:[t[3]||(t[3]=h=>s.onRowMatchModeKeyDown(h)),es(hl(h=>s.onRowMatchModeChange(d.value),["prevent"]),["enter"])],tabindex:u===0?"0":null},Le(d.label),43,Tx))),128)),Fx,N("li",{class:"p-column-filter-row-item",onClick:t[4]||(t[4]=d=>s.clearFilter()),onKeydown:[t[5]||(t[5]=d=>s.onRowMatchModeKeyDown(d)),t[6]||(t[6]=es(d=>e.onRowClearItemClick(),["enter"]))]},Le(s.noFilterLabel),33)])):(x(),k(fe,{key:1},[s.isShowOperator?(x(),k("div",Dx,[ce(o,{options:s.operatorOptions,modelValue:s.operator,"aria-label":s.filterOperatorAriaLabel,class:"p-column-filter-operator-dropdown",optionLabel:"label",optionValue:"value","onUpdate:modelValue":t[7]||(t[7]=d=>s.onOperatorChange(d))},null,8,["options","modelValue","aria-label"])])):H("",!0),N("div",Bx,[(x(!0),k(fe,null,rt(s.fieldConstraints,(d,u)=>(x(),k("div",{key:u,class:"p-column-filter-constraint"},[s.isShowMatchModes?(x(),se(o,{key:0,options:s.matchModes,modelValue:d.matchMode,class:"p-column-filter-matchmode-dropdown",optionLabel:"label",optionValue:"value","aria-label":s.filterConstraintAriaLabel,"onUpdate:modelValue":h=>s.onMenuMatchModeChange(h,u)},null,8,["options","modelValue","aria-label","onUpdate:modelValue"])):H("",!0),n.display==="menu"?(x(),se(lt(n.filterElement),{key:1,field:n.field,filterModel:d,filterCallback:s.filterCallback},null,8,["field","filterModel","filterCallback"])):H("",!0),N("div",null,[s.showRemoveIcon?(x(),se(l,{key:0,type:"button",icon:"pi pi-trash",class:"p-column-filter-remove-button p-button-text p-button-danger p-button-sm",onClick:h=>s.removeConstraint(u),label:s.removeRuleButtonLabel},null,8,["onClick","label"])):H("",!0)])]))),128))]),s.isShowAddConstraint?(x(),k("div",Nx,[ce(l,{type:"button",label:s.addRuleButtonLabel,icon:"pi pi-plus",class:"p-column-filter-add-button p-button-text p-button-sm",onClick:t[8]||(t[8]=d=>s.addConstraint())},null,8,["label"])])):H("",!0),N("div",zx,[!n.filterClearTemplate&&n.showClearButton?(x(),se(l,{key:0,type:"button",class:"p-button-outlined p-button-sm",label:s.clearButtonLabel,onClick:s.clearFilter},null,8,["label","onClick"])):(x(),se(lt(n.filterClearTemplate),{key:1,field:n.field,filterModel:n.filters[n.field],filterCallback:s.clearFilter},null,8,["field","filterModel","filterCallback"])),n.showApplyButton?(x(),k(fe,{key:2},[n.filterApplyTemplate?(x(),se(lt(n.filterApplyTemplate),{key:1,field:n.field,filterModel:n.filters[n.field],filterCallback:s.applyFilter},null,8,["field","filterModel","filterCallback"])):(x(),se(l,{key:0,type:"button",class:"p-button-sm",label:s.applyButtonLabel,onClick:t[9]||(t[9]=d=>s.applyFilter())},null,8,["label"]))],64)):H("",!0)])],64)),(x(),se(lt(n.filterFooterTemplate),{field:n.field,filterModel:n.filters[n.field],filterCallback:s.filterCallback},null,8,["field","filterModel","filterCallback"]))],42,Mx)),[[a,{autoFocus:!0}]]):H("",!0)]),_:1},8,["onEnter","onLeave","onAfterLeave"])]),_:1})],2)}Sl.render=jx;var El={name:"HeaderCheckbox",emits:["change"],props:{checked:null,disabled:null},data(){return{focused:!1}},methods:{onClick(e){this.disabled||(this.$emit("change",{originalEvent:e,checked:!this.checked}),R.focus(this.$refs.input))},onFocus(){this.focused=!0},onBlur(){this.focused=!1}},computed:{headerCheckboxAriaLabel(){return this.$primevue.config.locale.aria?this.checked?this.$primevue.config.locale.aria.selectAll:this.$primevue.config.locale.aria.unselectAll:void 0}}};const Kx={class:"p-hidden-accessible"},Vx=["checked","disabled","tabindex","aria-label"];function Hx(e,t,n,i,r,s){return x(),k("div",{class:ee(["p-checkbox p-component",{"p-checkbox-focused":r.focused,"p-disabled":n.disabled}]),onClick:t[2]||(t[2]=(...o)=>s.onClick&&s.onClick(...o)),onKeydown:t[3]||(t[3]=es(hl((...o)=>s.onClick&&s.onClick(...o),["prevent"]),["space"]))},[N("div",Kx,[N("input",{ref:"input",type:"checkbox",checked:n.checked,disabled:n.disabled,tabindex:n.disabled?null:"0","aria-label":s.headerCheckboxAriaLabel,onFocus:t[0]||(t[0]=o=>s.onFocus(o)),onBlur:t[1]||(t[1]=o=>s.onBlur(o))},null,40,Vx)]),N("div",{ref:"box",class:ee(["p-checkbox-box p-component",{"p-highlight":n.checked,"p-disabled":n.disabled,"p-focus":r.focused}])},[N("span",{class:ee(["p-checkbox-icon",{"pi pi-check":n.checked}])},null,2)],2)],34)}El.render=Hx;var Bd={name:"HeaderCell",emits:["column-click","column-mousedown","column-dragstart","column-dragover","column-dragleave","column-drop","column-resizestart","checkbox-change","filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{column:{type:Object,default:null},resizableColumns:{type:Boolean,default:!1},groupRowsBy:{type:[Array,String,Function],default:null},sortMode:{type:String,default:"single"},groupRowSortField:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},allRowsSelected:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},filterDisplay:{type:String,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},filterColumn:{type:Boolean,default:!1},reorderableColumns:{type:Boolean,default:!1},filterInputProps:{type:null,default:null}},data(){return{styleObject:{}}},mounted(){this.columnProp("frozen")&&this.updateStickyPosition()},updated(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp(e){return j.getVNodeProp(this.column,e)},onClick(e){this.$emit("column-click",{originalEvent:e,column:this.column})},onKeyDown(e){(e.code==="Enter"||e.code==="Space")&&e.currentTarget.nodeName==="TH"&&R.hasClass(e.currentTarget,"p-sortable-column")&&(this.$emit("column-click",{originalEvent:e,column:this.column}),e.preventDefault())},onMouseDown(e){this.$emit("column-mousedown",{originalEvent:e,column:this.column})},onDragStart(e){this.$emit("column-dragstart",e)},onDragOver(e){this.$emit("column-dragover",e)},onDragLeave(e){this.$emit("column-dragleave",e)},onDrop(e){this.$emit("column-drop",e)},onResizeStart(e){this.$emit("column-resizestart",e)},getMultiSortMetaIndex(){return this.multiSortMeta.findIndex(e=>e.field===this.columnProp("field")||e.field===this.columnProp("sortField"))},getBadgeValue(){let e=this.getMultiSortMetaIndex();return this.groupRowsBy&&this.groupRowsBy===this.groupRowSortField&&e>-1?e:e+1},isMultiSorted(){return this.sortMode==="multiple"&&this.columnProp("sortable")&&this.getMultiSortMetaIndex()>-1},isColumnSorted(){return this.sortMode==="single"?this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")):this.isMultiSorted()},updateStickyPosition(){if(this.columnProp("frozen")){if(this.columnProp("alignFrozen")==="right"){let n=0,i=this.$el.nextElementSibling;i&&(n=R.getOuterWidth(i)+parseFloat(i.style.right||0)),this.styleObject.right=n+"px"}else{let n=0,i=this.$el.previousElementSibling;i&&(n=R.getOuterWidth(i)+parseFloat(i.style.left||0)),this.styleObject.left=n+"px"}let t=this.$el.parentElement.nextElementSibling;if(t){let n=R.index(this.$el);t.children[n].style.left=this.styleObject.left,t.children[n].style.right=this.styleObject.right}}},onHeaderCheckboxChange(e){this.$emit("checkbox-change",e)}},computed:{containerClass(){return[this.filterColumn?this.columnProp("filterHeaderClass"):this.columnProp("headerClass"),this.columnProp("class"),{"p-sortable-column":this.columnProp("sortable"),"p-resizable-column":this.resizableColumns,"p-highlight":this.isColumnSorted(),"p-filter-column":this.filterColumn,"p-frozen-column":this.columnProp("frozen"),"p-reorderable-column":this.reorderableColumns}]},containerStyle(){let e=this.filterColumn?this.columnProp("filterHeaderStyle"):this.columnProp("headerStyle"),t=this.columnProp("style");return this.columnProp("frozen")?[t,e,this.styleObject]:[t,e]},sortableColumnIcon(){let e=!1,t=null;if(this.sortMode==="single")e=this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")),t=e?this.sortOrder:0;else if(this.sortMode==="multiple"){let n=this.getMultiSortMetaIndex();n>-1&&(e=!0,t=this.multiSortMeta[n].order)}return["p-sortable-column-icon pi pi-fw",{"pi-sort-alt":!e,"pi-sort-amount-up-alt":e&&t>0,"pi-sort-amount-down":e&&t<0}]},ariaSort(){if(this.columnProp("sortable")){const e=this.sortableColumnIcon;return e[1]["pi-sort-amount-down"]?"descending":e[1]["pi-sort-amount-up-alt"]?"ascending":"none"}else return null}},components:{DTHeaderCheckbox:El,DTColumnFilter:Sl}};const Ux=["tabindex","colspan","rowspan","aria-sort"],$x={class:"p-column-header-content"},Gx={key:1,class:"p-column-title"},qx={key:3,class:"p-sortable-column-badge"};function Wx(e,t,n,i,r,s){const o=ve("DTHeaderCheckbox"),l=ve("DTColumnFilter");return x(),k("th",{style:$e(s.containerStyle),class:ee(s.containerClass),tabindex:s.columnProp("sortable")?"0":null,role:"columnheader",colspan:s.columnProp("colspan"),rowspan:s.columnProp("rowspan"),"aria-sort":s.ariaSort,onClick:t[8]||(t[8]=(...c)=>s.onClick&&s.onClick(...c)),onKeydown:t[9]||(t[9]=(...c)=>s.onKeyDown&&s.onKeyDown(...c)),onMousedown:t[10]||(t[10]=(...c)=>s.onMouseDown&&s.onMouseDown(...c)),onDragstart:t[11]||(t[11]=(...c)=>s.onDragStart&&s.onDragStart(...c)),onDragover:t[12]||(t[12]=(...c)=>s.onDragOver&&s.onDragOver(...c)),onDragleave:t[13]||(t[13]=(...c)=>s.onDragLeave&&s.onDragLeave(...c)),onDrop:t[14]||(t[14]=(...c)=>s.onDrop&&s.onDrop(...c))},[n.resizableColumns&&!s.columnProp("frozen")?(x(),k("span",{key:0,class:"p-column-resizer",onMousedown:t[0]||(t[0]=(...c)=>s.onResizeStart&&s.onResizeStart(...c))},null,32)):H("",!0),N("div",$x,[n.column.children&&n.column.children.header?(x(),se(lt(n.column.children.header),{key:0,column:n.column},null,8,["column"])):H("",!0),s.columnProp("header")?(x(),k("span",Gx,Le(s.columnProp("header")),1)):H("",!0),s.columnProp("sortable")?(x(),k("span",{key:2,class:ee(s.sortableColumnIcon)},null,2)):H("",!0),s.isMultiSorted()?(x(),k("span",qx,Le(s.getBadgeValue()),1)):H("",!0),s.columnProp("selectionMode")==="multiple"&&n.filterDisplay!=="row"?(x(),se(o,{key:4,checked:n.allRowsSelected,onChange:s.onHeaderCheckboxChange,disabled:n.empty},null,8,["checked","onChange","disabled"])):H("",!0),n.filterDisplay==="menu"&&n.column.children&&n.column.children.filter?(x(),se(l,{key:5,field:s.columnProp("filterField")||s.columnProp("field"),type:s.columnProp("dataType"),display:"menu",showMenu:s.columnProp("showFilterMenu"),filterElement:n.column.children&&n.column.children.filter,filterHeaderTemplate:n.column.children&&n.column.children.filterheader,filterFooterTemplate:n.column.children&&n.column.children.filterfooter,filterClearTemplate:n.column.children&&n.column.children.filterclear,filterApplyTemplate:n.column.children&&n.column.children.filterapply,filters:n.filters,filtersStore:n.filtersStore,filterInputProps:n.filterInputProps,onFilterChange:t[1]||(t[1]=c=>e.$emit("filter-change",c)),onFilterApply:t[2]||(t[2]=c=>e.$emit("filter-apply")),filterMenuStyle:s.columnProp("filterMenuStyle"),filterMenuClass:s.columnProp("filterMenuClass"),showOperator:s.columnProp("showFilterOperator"),showClearButton:s.columnProp("showClearButton"),showApplyButton:s.columnProp("showApplyButton"),showMatchModes:s.columnProp("showFilterMatchModes"),showAddButton:s.columnProp("showAddButton"),matchModeOptions:s.columnProp("filterMatchModeOptions"),maxConstraints:s.columnProp("maxConstraints"),onOperatorChange:t[3]||(t[3]=c=>e.$emit("operator-change",c)),onMatchmodeChange:t[4]||(t[4]=c=>e.$emit("matchmode-change",c)),onConstraintAdd:t[5]||(t[5]=c=>e.$emit("constraint-add",c)),onConstraintRemove:t[6]||(t[6]=c=>e.$emit("constraint-remove",c)),onApplyClick:t[7]||(t[7]=c=>e.$emit("apply-click",c))},null,8,["field","type","showMenu","filterElement","filterHeaderTemplate","filterFooterTemplate","filterClearTemplate","filterApplyTemplate","filters","filtersStore","filterInputProps","filterMenuStyle","filterMenuClass","showOperator","showClearButton","showApplyButton","showMatchModes","showAddButton","matchModeOptions","maxConstraints"])):H("",!0)])],46,Ux)}Bd.render=Wx;var Nd={name:"TableHeader",emits:["column-click","column-mousedown","column-dragstart","column-dragover","column-dragleave","column-drop","column-resizestart","checkbox-change","filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{columnGroup:{type:null,default:null},columns:{type:null,default:null},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},resizableColumns:{type:Boolean,default:!1},allRowsSelected:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},sortMode:{type:String,default:"single"},groupRowSortField:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},filterDisplay:{type:String,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},reorderableColumns:{type:Boolean,default:!1},filterInputProps:{type:null,default:null}},methods:{columnProp(e,t){return j.getVNodeProp(e,t)},getFilterColumnHeaderClass(e){return["p-filter-column",this.columnProp(e,"filterHeaderClass"),this.columnProp(e,"class"),{"p-frozen-column":this.columnProp(e,"frozen")}]},getFilterColumnHeaderStyle(e){return[this.columnProp(e,"filterHeaderStyle"),this.columnProp(e,"style")]},getHeaderRows(){let e=[],t=this.columnGroup;if(t.children&&t.children.default){for(let n of t.children.default())n.type.name==="Row"?e.push(n):n.children&&n.children instanceof Array&&(e=n.children);return e}},getHeaderColumns(e){let t=[];if(e.children&&e.children.default)return e.children.default().forEach(n=>{n.children&&n.children instanceof Array?t=[...t,...n.children]:n.type.name==="Column"&&t.push(n)}),t}},components:{DTHeaderCell:Bd,DTHeaderCheckbox:El,DTColumnFilter:Sl}};const Jx={class:"p-datatable-thead",role:"rowgroup"},Yx={role:"row"},Zx={key:0,role:"row"};function Xx(e,t,n,i,r,s){const o=ve("DTHeaderCell"),l=ve("DTHeaderCheckbox"),c=ve("DTColumnFilter");return x(),k("thead",Jx,[n.columnGroup?(x(!0),k(fe,{key:1},rt(s.getHeaderRows(),(a,d)=>(x(),k("tr",{key:d,role:"row"},[(x(!0),k(fe,null,rt(s.getHeaderColumns(a),(u,h)=>(x(),k(fe,{key:s.columnProp(u,"columnKey")||s.columnProp(u,"field")||h},[!s.columnProp(u,"hidden")&&(n.rowGroupMode!=="subheader"||n.groupRowsBy!==s.columnProp(u,"field"))&&typeof u.children!="string"?(x(),se(o,{key:0,column:u,onColumnClick:t[23]||(t[23]=f=>e.$emit("column-click",f)),onColumnMousedown:t[24]||(t[24]=f=>e.$emit("column-mousedown",f)),groupRowsBy:n.groupRowsBy,groupRowSortField:n.groupRowSortField,sortMode:n.sortMode,sortField:n.sortField,sortOrder:n.sortOrder,multiSortMeta:n.multiSortMeta,allRowsSelected:n.allRowsSelected,empty:n.empty,onCheckboxChange:t[25]||(t[25]=f=>e.$emit("checkbox-change",f)),filters:n.filters,filterDisplay:n.filterDisplay,filtersStore:n.filtersStore,onFilterChange:t[26]||(t[26]=f=>e.$emit("filter-change",f)),onFilterApply:t[27]||(t[27]=f=>e.$emit("filter-apply")),onOperatorChange:t[28]||(t[28]=f=>e.$emit("operator-change",f)),onMatchmodeChange:t[29]||(t[29]=f=>e.$emit("matchmode-change",f)),onConstraintAdd:t[30]||(t[30]=f=>e.$emit("constraint-add",f)),onConstraintRemove:t[31]||(t[31]=f=>e.$emit("constraint-remove",f)),onApplyClick:t[32]||(t[32]=f=>e.$emit("apply-click",f))},null,8,["column","groupRowsBy","groupRowSortField","sortMode","sortField","sortOrder","multiSortMeta","allRowsSelected","empty","filters","filterDisplay","filtersStore"])):H("",!0)],64))),128))]))),128)):(x(),k(fe,{key:0},[N("tr",Yx,[(x(!0),k(fe,null,rt(n.columns,(a,d)=>(x(),k(fe,{key:s.columnProp(a,"columnKey")||s.columnProp(a,"field")||d},[!s.columnProp(a,"hidden")&&(n.rowGroupMode!=="subheader"||n.groupRowsBy!==s.columnProp(a,"field"))?(x(),se(o,{key:0,column:a,onColumnClick:t[0]||(t[0]=u=>e.$emit("column-click",u)),onColumnMousedown:t[1]||(t[1]=u=>e.$emit("column-mousedown",u)),onColumnDragstart:t[2]||(t[2]=u=>e.$emit("column-dragstart",u)),onColumnDragover:t[3]||(t[3]=u=>e.$emit("column-dragover",u)),onColumnDragleave:t[4]||(t[4]=u=>e.$emit("column-dragleave",u)),onColumnDrop:t[5]||(t[5]=u=>e.$emit("column-drop",u)),groupRowsBy:n.groupRowsBy,groupRowSortField:n.groupRowSortField,reorderableColumns:n.reorderableColumns,resizableColumns:n.resizableColumns,onColumnResizestart:t[6]||(t[6]=u=>e.$emit("column-resizestart",u)),sortMode:n.sortMode,sortField:n.sortField,sortOrder:n.sortOrder,multiSortMeta:n.multiSortMeta,allRowsSelected:n.allRowsSelected,empty:n.empty,onCheckboxChange:t[7]||(t[7]=u=>e.$emit("checkbox-change",u)),filters:n.filters,filterDisplay:n.filterDisplay,filtersStore:n.filtersStore,filterInputProps:n.filterInputProps,onFilterChange:t[8]||(t[8]=u=>e.$emit("filter-change",u)),onFilterApply:t[9]||(t[9]=u=>e.$emit("filter-apply")),onOperatorChange:t[10]||(t[10]=u=>e.$emit("operator-change",u)),onMatchmodeChange:t[11]||(t[11]=u=>e.$emit("matchmode-change",u)),onConstraintAdd:t[12]||(t[12]=u=>e.$emit("constraint-add",u)),onConstraintRemove:t[13]||(t[13]=u=>e.$emit("constraint-remove",u)),onApplyClick:t[14]||(t[14]=u=>e.$emit("apply-click",u))},null,8,["column","groupRowsBy","groupRowSortField","reorderableColumns","resizableColumns","sortMode","sortField","sortOrder","multiSortMeta","allRowsSelected","empty","filters","filterDisplay","filtersStore","filterInputProps"])):H("",!0)],64))),128))]),n.filterDisplay==="row"?(x(),k("tr",Zx,[(x(!0),k(fe,null,rt(n.columns,(a,d)=>(x(),k(fe,{key:s.columnProp(a,"columnKey")||s.columnProp(a,"field")||d},[!s.columnProp(a,"hidden")&&(n.rowGroupMode!=="subheader"||n.groupRowsBy!==s.columnProp(a,"field"))?(x(),k("th",{key:0,style:$e(s.getFilterColumnHeaderStyle(a)),class:ee(s.getFilterColumnHeaderClass(a))},[s.columnProp(a,"selectionMode")==="multiple"?(x(),se(l,{key:0,checked:n.allRowsSelected,disabled:n.empty,onChange:t[15]||(t[15]=u=>e.$emit("checkbox-change",u))},null,8,["checked","disabled"])):H("",!0),a.children&&a.children.filter?(x(),se(c,{key:1,field:s.columnProp(a,"filterField")||s.columnProp(a,"field"),type:s.columnProp(a,"dataType"),display:"row",showMenu:s.columnProp(a,"showFilterMenu"),filterElement:a.children&&a.children.filter,filterHeaderTemplate:a.children&&a.children.filterheader,filterFooterTemplate:a.children&&a.children.filterfooter,filterClearTemplate:a.children&&a.children.filterclear,filterApplyTemplate:a.children&&a.children.filterapply,filters:n.filters,filtersStore:n.filtersStore,filterInputProps:n.filterInputProps,onFilterChange:t[16]||(t[16]=u=>e.$emit("filter-change",u)),onFilterApply:t[17]||(t[17]=u=>e.$emit("filter-apply")),filterMenuStyle:s.columnProp(a,"filterMenuStyle"),filterMenuClass:s.columnProp(a,"filterMenuClass"),showOperator:s.columnProp(a,"showFilterOperator"),showClearButton:s.columnProp(a,"showClearButton"),showApplyButton:s.columnProp(a,"showApplyButton"),showMatchModes:s.columnProp(a,"showFilterMatchModes"),showAddButton:s.columnProp(a,"showAddButton"),matchModeOptions:s.columnProp(a,"filterMatchModeOptions"),maxConstraints:s.columnProp(a,"maxConstraints"),onOperatorChange:t[18]||(t[18]=u=>e.$emit("operator-change",u)),onMatchmodeChange:t[19]||(t[19]=u=>e.$emit("matchmode-change",u)),onConstraintAdd:t[20]||(t[20]=u=>e.$emit("constraint-add",u)),onConstraintRemove:t[21]||(t[21]=u=>e.$emit("constraint-remove",u)),onApplyClick:t[22]||(t[22]=u=>e.$emit("apply-click",u))},null,8,["field","type","showMenu","filterElement","filterHeaderTemplate","filterFooterTemplate","filterClearTemplate","filterApplyTemplate","filters","filtersStore","filterInputProps","filterMenuStyle","filterMenuClass","showOperator","showClearButton","showApplyButton","showMatchModes","showAddButton","matchModeOptions","maxConstraints"])):H("",!0)],6)):H("",!0)],64))),128))])):H("",!0)],64))])}Nd.render=Xx;var zo={name:"DataTable",emits:["value-change","update:first","update:rows","page","update:sortField","update:sortOrder","update:multiSortMeta","sort","filter","row-click","row-dblclick","update:selection","row-select","row-unselect","update:contextMenuSelection","row-contextmenu","row-unselect-all","row-select-all","select-all-change","column-resize-end","column-reorder","row-reorder","update:expandedRows","row-collapse","row-expand","update:expandedRowGroups","rowgroup-collapse","rowgroup-expand","update:filters","state-restore","state-save","cell-edit-init","cell-edit-complete","cell-edit-cancel","update:editingRows","row-edit-init","row-edit-save","row-edit-cancel"],props:{value:{type:Array,default:null},dataKey:{type:[String,Function],default:null},rows:{type:Number,default:0},first:{type:Number,default:0},totalRecords:{type:Number,default:0},paginator:{type:Boolean,default:!1},paginatorPosition:{type:String,default:"bottom"},alwaysShowPaginator:{type:Boolean,default:!0},paginatorTemplate:{type:[Object,String],default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},currentPageReportTemplate:{type:String,default:"({currentPage} of {totalPages})"},lazy:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner"},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},defaultSortOrder:{type:Number,default:1},multiSortMeta:{type:Array,default:null},sortMode:{type:String,default:"single"},removableSort:{type:Boolean,default:!1},filters:{type:Object,default:null},filterDisplay:{type:String,default:null},globalFilterFields:{type:Array,default:null},filterLocale:{type:String,default:void 0},selection:{type:[Array,Object],default:null},selectionMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},metaKeySelection:{type:Boolean,default:!0},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},selectAll:{type:Boolean,default:null},rowHover:{type:Boolean,default:!1},csvSeparator:{type:String,default:","},exportFilename:{type:String,default:"download"},exportFunction:{type:Function,default:null},autoLayout:{type:Boolean,default:!1},resizableColumns:{type:Boolean,default:!1},columnResizeMode:{type:String,default:"fit"},reorderableColumns:{type:Boolean,default:!1},expandedRows:{type:Array,default:null},expandedRowIcon:{type:String,default:"pi-chevron-down"},collapsedRowIcon:{type:String,default:"pi-chevron-right"},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},stateStorage:{type:String,default:"session"},stateKey:{type:String,default:null},editMode:{type:String,default:null},editingRows:{type:Array,default:null},rowClass:{type:null,default:null},rowStyle:{type:null,default:null},scrollable:{type:Boolean,default:!1},scrollDirection:{type:String,default:"vertical"},virtualScrollerOptions:{type:Object,default:null},scrollHeight:{type:String,default:null},frozenValue:{type:Array,default:null},responsiveLayout:{type:String,default:"stack"},breakpoint:{type:String,default:"960px"},showGridlines:{type:Boolean,default:!1},stripedRows:{type:Boolean,default:!1},tableStyle:{type:null,default:null},tableClass:{type:String,default:null},tableProps:{type:null,default:null},filterInputProps:{type:null,default:null}},data(){return{d_first:this.first,d_rows:this.rows,d_sortField:this.sortField,d_sortOrder:this.sortOrder,d_multiSortMeta:this.multiSortMeta?[...this.multiSortMeta]:[],d_groupRowsSortMeta:null,d_selectionKeys:null,d_expandedRowKeys:null,d_columnOrder:null,d_editingRowKeys:null,d_editingMeta:{},d_filters:this.cloneFilters(this.filters)}},rowTouched:!1,anchorRowIndex:null,rangeRowIndex:null,documentColumnResizeListener:null,documentColumnResizeEndListener:null,lastResizeHelperX:null,resizeColumnElement:null,columnResizing:!1,colReorderIconWidth:null,colReorderIconHeight:null,draggedColumn:null,draggedRowIndex:null,droppedRowIndex:null,rowDragging:null,columnWidthsState:null,tableWidthState:null,columnWidthsRestored:!1,watch:{first(e){this.d_first=e},rows(e){this.d_rows=e},sortField(e){this.d_sortField=e},sortOrder(e){this.d_sortOrder=e},multiSortMeta(e){this.d_multiSortMeta=e},selection:{immediate:!0,handler(e){this.dataKey&&this.updateSelectionKeys(e)}},expandedRows(e){this.dataKey&&this.updateExpandedRowKeys(e)},editingRows(e){this.dataKey&&this.updateEditingRowKeys(e)},filters:{deep:!0,handler:function(e){this.d_filters=this.cloneFilters(e)}}},beforeMount(){this.isStateful()&&this.restoreState()},mounted(){this.$el.setAttribute(this.attributeSelector,""),this.responsiveLayout==="stack"&&!this.scrollable&&this.createResponsiveStyle(),this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.editMode==="row"&&this.dataKey&&!this.d_editingRowKeys&&this.updateEditingRowKeys(this.editingRows)},beforeUnmount(){this.unbindColumnResizeEvents(),this.destroyStyleElement(),this.destroyResponsiveStyle()},updated(){this.isStateful()&&this.saveState(),this.editMode==="row"&&this.dataKey&&!this.d_editingRowKeys&&this.updateEditingRowKeys(this.editingRows)},methods:{columnProp(e,t){return j.getVNodeProp(e,t)},onPage(e){this.clearEditingMetaData(),this.d_first=e.first,this.d_rows=e.rows;let t=this.createLazyLoadEvent(e);t.pageCount=e.pageCount,t.page=e.page,this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",t),this.$emit("value-change",this.processedData)},onColumnHeaderClick(e){const t=e.originalEvent,n=e.column;if(this.columnProp(n,"sortable")){const i=t.target,r=this.columnProp(n,"sortField")||this.columnProp(n,"field");(R.hasClass(i,"p-sortable-column")||R.hasClass(i,"p-column-title")||R.hasClass(i,"p-column-header-content")||R.hasClass(i,"p-sortable-column-icon")||R.hasClass(i.parentElement,"p-sortable-column-icon"))&&(R.clearSelection(),this.sortMode==="single"?(this.d_sortField===r?this.removableSort&&this.d_sortOrder*-1===this.defaultSortOrder?(this.d_sortOrder=null,this.d_sortField=null):this.d_sortOrder=this.d_sortOrder*-1:(this.d_sortOrder=this.defaultSortOrder,this.d_sortField=r),this.$emit("update:sortField",this.d_sortField),this.$emit("update:sortOrder",this.d_sortOrder),this.resetPage()):this.sortMode==="multiple"&&(t.metaKey||t.ctrlKey||(this.d_multiSortMeta=this.d_multiSortMeta.filter(o=>o.field===r)),this.addMultiSortField(r),this.$emit("update:multiSortMeta",this.d_multiSortMeta)),this.$emit("sort",this.createLazyLoadEvent(t)),this.$emit("value-change",this.processedData))}},sortSingle(e){if(this.clearEditingMetaData(),this.groupRowsBy&&this.groupRowsBy===this.sortField)return this.d_multiSortMeta=[{field:this.sortField,order:this.sortOrder||this.defaultSortOrder},{field:this.d_sortField,order:this.d_sortOrder}],this.sortMultiple(e);let t=[...e];return t.sort((n,i)=>{let r=j.resolveFieldData(n,this.d_sortField),s=j.resolveFieldData(i,this.d_sortField),o=null;return r==null&&s!=null?o=-1:r!=null&&s==null?o=1:r==null&&s==null?o=0:typeof r=="string"&&typeof s=="string"?o=r.localeCompare(s,void 0,{numeric:!0}):o=r<s?-1:r>s?1:0,this.d_sortOrder*o}),t},sortMultiple(e){if(this.clearEditingMetaData(),this.groupRowsBy&&(this.d_groupRowsSortMeta||this.d_multiSortMeta.length&&this.groupRowsBy===this.d_multiSortMeta[0].field)){const n=this.d_multiSortMeta[0];!this.d_groupRowsSortMeta&&(this.d_groupRowsSortMeta=n),n.field!==this.d_groupRowsSortMeta.field&&(this.d_multiSortMeta=[this.d_groupRowsSortMeta,...this.d_multiSortMeta])}let t=[...e];return t.sort((n,i)=>this.multisortField(n,i,0)),t},multisortField(e,t,n){const i=j.resolveFieldData(e,this.d_multiSortMeta[n].field),r=j.resolveFieldData(t,this.d_multiSortMeta[n].field);let s=null;if(typeof i=="string"||i instanceof String){if(i.localeCompare&&i!==r)return this.d_multiSortMeta[n].order*i.localeCompare(r,void 0,{numeric:!0})}else s=i<r?-1:1;return i===r?this.d_multiSortMeta.length-1>n?this.multisortField(e,t,n+1):0:this.d_multiSortMeta[n].order*s},addMultiSortField(e){let t=this.d_multiSortMeta.findIndex(n=>n.field===e);t>=0?this.removableSort&&this.d_multiSortMeta[t].order*-1===this.defaultSortOrder?this.d_multiSortMeta.splice(t,1):this.d_multiSortMeta[t]={field:e,order:this.d_multiSortMeta[t].order*-1}:this.d_multiSortMeta.push({field:e,order:this.defaultSortOrder}),this.d_multiSortMeta=[...this.d_multiSortMeta]},filter(e){if(!e)return;this.clearEditingMetaData();let t;this.filters.global&&(t=this.globalFilterFields||this.columns.map(r=>this.columnProp(r,"filterField")||this.columnProp(r,"field")));let n=[];for(let r=0;r<e.length;r++){let s=!0,o=!1,l=!1;for(let a in this.filters)if(Object.prototype.hasOwnProperty.call(this.filters,a)&&a!=="global"){l=!0;let d=a,u=this.filters[d];if(u.operator){for(let h of u.constraints)if(s=this.executeLocalFilter(d,e[r],h),u.operator===ur.OR&&s||u.operator===ur.AND&&!s)break}else s=this.executeLocalFilter(d,e[r],u);if(!s)break}if(this.filters.global&&!o&&t)for(let a=0;a<t.length;a++){let d=t[a];if(o=No.filters[this.filters.global.matchMode||ct.CONTAINS](j.resolveFieldData(e[r],d),this.filters.global.value,this.filterLocale),o)break}let c;this.filters.global?c=l?l&&s&&o:o:c=l&&s,c&&n.push(e[r])}n.length===this.value.length&&(n=e);let i=this.createLazyLoadEvent();return i.filteredValue=n,this.$emit("filter",i),this.$emit("value-change",n),n},executeLocalFilter(e,t,n){let i=n.value,r=n.matchMode||ct.STARTS_WITH,s=j.resolveFieldData(t,e),o=No.filters[r];return o(s,i,this.filterLocale)},onRowClick(e){const t=e.originalEvent,n=e.index,i=this.$refs.bodyRef&&this.$refs.bodyRef.$el,r=R.findSingle(i,'tr.p-selectable-row[tabindex="0"]');if(!R.isClickable(t.target)){if(this.$emit("row-click",e),this.selectionMode){const s=e.data,o=this.d_first+e.index;if(this.isMultipleSelectionMode()&&t.shiftKey&&this.anchorRowIndex!=null)R.clearSelection(),this.rangeRowIndex=o,this.selectRange(t);else{const l=this.isSelected(s),c=this.rowTouched?!1:this.metaKeySelection;if(this.anchorRowIndex=o,this.rangeRowIndex=o,c){let a=t.metaKey||t.ctrlKey;if(l&&a){if(this.isSingleSelectionMode())this.$emit("update:selection",null);else{const d=this.findIndexInSelection(s),u=this.selection.filter((h,f)=>f!=d);this.$emit("update:selection",u)}this.$emit("row-unselect",{originalEvent:t,data:s,index:o,type:"row"})}else{if(this.isSingleSelectionMode())this.$emit("update:selection",s);else if(this.isMultipleSelectionMode()){let d=a?this.selection||[]:[];d=[...d,s],this.$emit("update:selection",d)}this.$emit("row-select",{originalEvent:t,data:s,index:o,type:"row"})}}else if(this.selectionMode==="single")l?(this.$emit("update:selection",null),this.$emit("row-unselect",{originalEvent:t,data:s,index:o,type:"row"})):(this.$emit("update:selection",s),this.$emit("row-select",{originalEvent:t,data:s,index:o,type:"row"}));else if(this.selectionMode==="multiple")if(l){const a=this.findIndexInSelection(s),d=this.selection.filter((u,h)=>h!=a);this.$emit("update:selection",d),this.$emit("row-unselect",{originalEvent:t,data:s,index:o,type:"row"})}else{const a=this.selection?[...this.selection,s]:[s];this.$emit("update:selection",a),this.$emit("row-select",{originalEvent:t,data:s,index:o,type:"row"})}}}this.rowTouched=!1,r&&(r.tabIndex="-1",R.find(i,"tr.p-selectable-row")[n].tabIndex="0")}},onRowDblClick(e){const t=e.originalEvent;R.isClickable(t.target)||this.$emit("row-dblclick",e)},onRowRightClick(e){R.clearSelection(),e.originalEvent.target.focus(),this.$emit("update:contextMenuSelection",e.data),this.$emit("row-contextmenu",e)},onRowTouchEnd(){this.rowTouched=!0},onRowKeyDown(e,t){const n=e.originalEvent,i=e.data,r=e.index,s=n.metaKey||n.ctrlKey;if(this.selectionMode){const o=n.target;switch(n.code){case"ArrowDown":this.onArrowDownKey(n,o,r,t);break;case"ArrowUp":this.onArrowUpKey(n,o,r,t);break;case"Home":this.onHomeKey(n,o,r,t);break;case"End":this.onEndKey(n,o,r,t);break;case"Enter":this.onEnterKey(n,i,r);break;case"Space":this.onSpaceKey(n,i,r,t);break;case"Tab":this.onTabKey(n,r);break;default:if(n.code==="KeyA"&&s){const l=this.dataToRender(t.rows);this.$emit("update:selection",l)}break}}},onArrowDownKey(e,t,n,i){const r=this.findNextSelectableRow(t);if(r&&this.focusRowChange(t,r),e.shiftKey){const s=this.dataToRender(i.rows),o=n+1>=s.length?s.length-1:n+1;this.onRowClick({originalEvent:e,data:s[o],index:o})}e.preventDefault()},onArrowUpKey(e,t,n,i){const r=this.findPrevSelectableRow(t);if(r&&this.focusRowChange(t,r),e.shiftKey){const s=this.dataToRender(i.rows),o=n-1<=0?0:n-1;this.onRowClick({originalEvent:e,data:s[o],index:o})}e.preventDefault()},onHomeKey(e,t,n,i){const r=this.findFirstSelectableRow();if(r&&this.focusRowChange(t,r),e.ctrlKey&&e.shiftKey){const s=this.dataToRender(i.rows);this.$emit("update:selection",s.slice(0,n+1))}e.preventDefault()},onEndKey(e,t,n,i){const r=this.findLastSelectableRow();if(r&&this.focusRowChange(t,r),e.ctrlKey&&e.shiftKey){const s=this.dataToRender(i.rows);this.$emit("update:selection",s.slice(n,s.length))}e.preventDefault()},onEnterKey(e,t,n){this.onRowClick({originalEvent:e,data:t,index:n}),e.preventDefault()},onSpaceKey(e,t,n,i){if(this.onEnterKey(e,t,n),e.shiftKey&&this.selection!==null){const r=this.dataToRender(i.rows);let s;if(this.selection.length>0){let l,c;l=j.findIndexInList(this.selection[0],r),c=j.findIndexInList(this.selection[this.selection.length-1],r),s=n<=l?c:l}else s=j.findIndexInList(this.selection,r);const o=s!==n?r.slice(Math.min(s,n),Math.max(s,n)+1):t;this.$emit("update:selection",o)}},onTabKey(e,t){const n=this.$refs.bodyRef&&this.$refs.bodyRef.$el,i=R.find(n,"tr.p-selectable-row");if(e.code==="Tab"&&i&&i.length>0){const r=R.findSingle(n,"tr.p-highlight"),s=R.findSingle(n,'tr.p-selectable-row[tabindex="0"]');r?(r.tabIndex="0",s&&s!==r&&(s.tabIndex="-1")):(i[0].tabIndex="0",s!==i[0]&&(i[t].tabIndex="-1"))}},findNextSelectableRow(e){let t=e.nextElementSibling;return t?R.hasClass(t,"p-selectable-row")?t:this.findNextSelectableRow(t):null},findPrevSelectableRow(e){let t=e.previousElementSibling;return t?R.hasClass(t,"p-selectable-row")?t:this.findPrevSelectableRow(t):null},findFirstSelectableRow(){return R.findSingle(this.$refs.table,".p-selectable-row")},findLastSelectableRow(){const e=R.find(this.$refs.table,".p-selectable-row");return e?e[e.length-1]:null},focusRowChange(e,t){e.tabIndex="-1",t.tabIndex="0",R.focus(t)},toggleRowWithRadio(e){const t=e.data;this.isSelected(t)?(this.$emit("update:selection",null),this.$emit("row-unselect",{originalEvent:e.originalEvent,data:t,index:e.index,type:"radiobutton"})):(this.$emit("update:selection",t),this.$emit("row-select",{originalEvent:e.originalEvent,data:t,index:e.index,type:"radiobutton"}))},toggleRowWithCheckbox(e){const t=e.data;if(this.isSelected(t)){const n=this.findIndexInSelection(t),i=this.selection.filter((r,s)=>s!=n);this.$emit("update:selection",i),this.$emit("row-unselect",{originalEvent:e.originalEvent,data:t,index:e.index,type:"checkbox"})}else{let n=this.selection?[...this.selection]:[];n=[...n,t],this.$emit("update:selection",n),this.$emit("row-select",{originalEvent:e.originalEvent,data:t,index:e.index,type:"checkbox"})}},toggleRowsWithCheckbox(e){if(this.selectAll!==null)this.$emit("select-all-change",e);else{const{originalEvent:t,checked:n}=e;let i=[];n?(i=this.frozenValue?[...this.frozenValue,...this.processedData]:this.processedData,this.$emit("row-select-all",{originalEvent:t,data:i})):this.$emit("row-unselect-all",{originalEvent:t}),this.$emit("update:selection",i)}},isSingleSelectionMode(){return this.selectionMode==="single"},isMultipleSelectionMode(){return this.selectionMode==="multiple"},isSelected(e){return e&&this.selection?this.dataKey?this.d_selectionKeys?this.d_selectionKeys[j.resolveFieldData(e,this.dataKey)]!==void 0:!1:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1},findIndexInSelection(e){return this.findIndex(e,this.selection)},findIndex(e,t){let n=-1;if(t&&t.length){for(let i=0;i<t.length;i++)if(this.equals(e,t[i])){n=i;break}}return n},updateSelectionKeys(e){if(this.d_selectionKeys={},Array.isArray(e))for(let t of e)this.d_selectionKeys[String(j.resolveFieldData(t,this.dataKey))]=1;else this.d_selectionKeys[String(j.resolveFieldData(e,this.dataKey))]=1},updateExpandedRowKeys(e){if(e&&e.length){this.d_expandedRowKeys={};for(let t of e)this.d_expandedRowKeys[String(j.resolveFieldData(t,this.dataKey))]=1}else this.d_expandedRowKeys=null},updateEditingRowKeys(e){if(e&&e.length){this.d_editingRowKeys={};for(let t of e)this.d_editingRowKeys[String(j.resolveFieldData(t,this.dataKey))]=1}else this.d_editingRowKeys=null},equals(e,t){return this.compareSelectionBy==="equals"?e===t:j.equals(e,t,this.dataKey)},selectRange(e){let t,n;this.rangeRowIndex>this.anchorRowIndex?(t=this.anchorRowIndex,n=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(t=this.rangeRowIndex,n=this.anchorRowIndex):(t=this.rangeRowIndex,n=this.rangeRowIndex),this.lazy&&this.paginator&&(t-=this.first,n-=this.first);const i=this.processedData;let r=[];for(let s=t;s<=n;s++){let o=i[s];r.push(o),this.$emit("row-select",{originalEvent:e,data:o,type:"row"})}this.$emit("update:selection",r)},exportCSV(e,t){let n="\uFEFF";t||(t=this.processedData,e&&e.selectionOnly?t=this.selection||[]:this.frozenValue&&(t=t?[...this.frozenValue,...t]:this.frozenValue));let i=!1;for(let s=0;s<this.columns.length;s++){let o=this.columns[s];this.columnProp(o,"exportable")!==!1&&this.columnProp(o,"field")&&(i?n+=this.csvSeparator:i=!0,n+='"'+(this.columnProp(o,"exportHeader")||this.columnProp(o,"header")||this.columnProp(o,"field"))+'"')}t&&t.forEach(s=>{n+=`
`;let o=!1;for(let l=0;l<this.columns.length;l++){let c=this.columns[l];if(this.columnProp(c,"exportable")!==!1&&this.columnProp(c,"field")){o?n+=this.csvSeparator:o=!0;let a=j.resolveFieldData(s,this.columnProp(c,"field"));a!=null?this.exportFunction?a=this.exportFunction({data:a,field:this.columnProp(c,"field")}):a=String(a).replace(/"/g,'""'):a="",n+='"'+a+'"'}}});let r=!1;for(let s=0;s<this.columns.length;s++){let o=this.columns[s];s===0&&(n+=`
`),this.columnProp(o,"exportable")!==!1&&this.columnProp(o,"exportFooter")&&(r?n+=this.csvSeparator:r=!0,n+='"'+(this.columnProp(o,"exportFooter")||this.columnProp(o,"footer")||this.columnProp(o,"field"))+'"')}R.exportCSV(n,this.exportFilename)},resetPage(){this.d_first=0,this.$emit("update:first",this.d_first)},onColumnResizeStart(e){let t=R.getOffset(this.$el).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizeHelperX=e.pageX-t+this.$el.scrollLeft,this.bindColumnResizeEvents()},onColumnResize(e){let t=R.getOffset(this.$el).left;R.addClass(this.$el,"p-unselectable-text"),this.$refs.resizeHelper.style.height=this.$el.offsetHeight+"px",this.$refs.resizeHelper.style.top=0+"px",this.$refs.resizeHelper.style.left=e.pageX-t+this.$el.scrollLeft+"px",this.$refs.resizeHelper.style.display="block"},onColumnResizeEnd(){let e=this.$refs.resizeHelper.offsetLeft-this.lastResizeHelperX,t=this.resizeColumnElement.offsetWidth,n=t+e,i=this.resizeColumnElement.style.minWidth||15;if(t+e>parseInt(i,10)){if(this.columnResizeMode==="fit"){let s=this.resizeColumnElement.nextElementSibling.offsetWidth-e;n>15&&s>15&&this.resizeTableCells(n,s)}else if(this.columnResizeMode==="expand"){const r=this.$refs.table.offsetWidth+e+"px",s=o=>{o&&(o.style.width=o.style.minWidth=r)};if(s(this.$refs.table),!this.virtualScrollerDisabled){const o=this.$refs.bodyRef&&this.$refs.bodyRef.$el,l=this.$refs.frozenBodyRef&&this.$refs.frozenBodyRef.$el;s(o),s(l)}this.resizeTableCells(n)}this.$emit("column-resize-end",{element:this.resizeColumnElement,delta:e})}this.$refs.resizeHelper.style.display="none",this.resizeColumn=null,R.removeClass(this.$el,"p-unselectable-text"),this.unbindColumnResizeEvents(),this.isStateful()&&this.saveState()},resizeTableCells(e,t){let n=R.index(this.resizeColumnElement),i=[];R.find(this.$refs.table,".p-datatable-thead > tr > th").forEach(o=>i.push(R.getOuterWidth(o))),this.destroyStyleElement(),this.createStyleElement();let s="";i.forEach((o,l)=>{let c=l===n?e:t&&l===n+1?t:o,a=this.scrollable?`flex: 1 1 ${c}px !important`:`width: ${c}px !important`;s+=`
                    .p-datatable[${this.attributeSelector}] .p-datatable-thead > tr > th:nth-child(${l+1}),
                    .p-datatable[${this.attributeSelector}] .p-datatable-tbody > tr > td:nth-child(${l+1}),
                    .p-datatable[${this.attributeSelector}] .p-datatable-tfoot > tr > td:nth-child(${l+1}) {
                        ${a}
                    }
                `}),this.styleElement.innerHTML=s},bindColumnResizeEvents(){this.documentColumnResizeListener||(this.documentColumnResizeListener=document.addEventListener("mousemove",()=>{this.columnResizing&&this.onColumnResize(event)})),this.documentColumnResizeEndListener||(this.documentColumnResizeEndListener=document.addEventListener("mouseup",()=>{this.columnResizing&&(this.columnResizing=!1,this.onColumnResizeEnd())}))},unbindColumnResizeEvents(){this.documentColumnResizeListener&&(document.removeEventListener("document",this.documentColumnResizeListener),this.documentColumnResizeListener=null),this.documentColumnResizeEndListener&&(document.removeEventListener("document",this.documentColumnResizeEndListener),this.documentColumnResizeEndListener=null)},onColumnHeaderMouseDown(e){const t=e.originalEvent,n=e.column;this.reorderableColumns&&this.columnProp(n,"reorderableColumn")!==!1&&(t.target.nodeName==="INPUT"||t.target.nodeName==="TEXTAREA"||R.hasClass(t.target,"p-column-resizer")?t.currentTarget.draggable=!1:t.currentTarget.draggable=!0)},onColumnHeaderDragStart(e){if(this.columnResizing){e.preventDefault();return}this.colReorderIconWidth=R.getHiddenElementOuterWidth(this.$refs.reorderIndicatorUp),this.colReorderIconHeight=R.getHiddenElementOuterHeight(this.$refs.reorderIndicatorUp),this.draggedColumn=this.findParentHeader(e.target),e.dataTransfer.setData("text","b")},onColumnHeaderDragOver(e){let t=this.findParentHeader(e.target);if(this.reorderableColumns&&this.draggedColumn&&t){e.preventDefault();let n=R.getOffset(this.$el),i=R.getOffset(t);if(this.draggedColumn!==t){let r=i.left-n.left,s=i.left+t.offsetWidth/2;this.$refs.reorderIndicatorUp.style.top=i.top-n.top-(this.colReorderIconHeight-1)+"px",this.$refs.reorderIndicatorDown.style.top=i.top-n.top+t.offsetHeight+"px",e.pageX>s?(this.$refs.reorderIndicatorUp.style.left=r+t.offsetWidth-Math.ceil(this.colReorderIconWidth/2)+"px",this.$refs.reorderIndicatorDown.style.left=r+t.offsetWidth-Math.ceil(this.colReorderIconWidth/2)+"px",this.dropPosition=1):(this.$refs.reorderIndicatorUp.style.left=r-Math.ceil(this.colReorderIconWidth/2)+"px",this.$refs.reorderIndicatorDown.style.left=r-Math.ceil(this.colReorderIconWidth/2)+"px",this.dropPosition=-1),this.$refs.reorderIndicatorUp.style.display="block",this.$refs.reorderIndicatorDown.style.display="block"}}},onColumnHeaderDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.$refs.reorderIndicatorUp.style.display="none",this.$refs.reorderIndicatorDown.style.display="none")},onColumnHeaderDrop(e){if(e.preventDefault(),this.draggedColumn){let t=R.index(this.draggedColumn),n=R.index(this.findParentHeader(e.target)),i=t!==n;i&&(n-t===1&&this.dropPosition===-1||n-t===-1&&this.dropPosition===1)&&(i=!1),i&&(j.reorderArray(this.columns,t,n),this.updateReorderableColumns(),this.$emit("column-reorder",{originalEvent:e,dragIndex:t,dropIndex:n})),this.$refs.reorderIndicatorUp.style.display="none",this.$refs.reorderIndicatorDown.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}},findParentHeader(e){if(e.nodeName==="TH")return e;{let t=e.parentElement;for(;t.nodeName!=="TH"&&(t=t.parentElement,!!t););return t}},findColumnByKey(e,t){if(e&&e.length)for(let n=0;n<e.length;n++){let i=e[n];if(this.columnProp(i,"columnKey")===t||this.columnProp(i,"field")===t)return i}return null},onRowMouseDown(e){R.hasClass(e.target,"p-datatable-reorderablerow-handle")?e.currentTarget.draggable=!0:e.currentTarget.draggable=!1},onRowDragStart(e){const t=e.originalEvent,n=e.index;this.rowDragging=!0,this.draggedRowIndex=n,t.dataTransfer.setData("text","b")},onRowDragOver(e){const t=e.originalEvent,n=e.index;if(this.rowDragging&&this.draggedRowIndex!==n){let i=t.currentTarget,r=R.getOffset(i).top+R.getWindowScrollTop(),s=t.pageY,o=r+R.getOuterHeight(i)/2,l=i.previousElementSibling;s<o?(R.removeClass(i,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=n,l?R.addClass(l,"p-datatable-dragpoint-bottom"):R.addClass(i,"p-datatable-dragpoint-top")):(l?R.removeClass(l,"p-datatable-dragpoint-bottom"):R.addClass(i,"p-datatable-dragpoint-top"),this.droppedRowIndex=n+1,R.addClass(i,"p-datatable-dragpoint-bottom")),t.preventDefault()}},onRowDragLeave(e){let t=e.currentTarget,n=t.previousElementSibling;n&&R.removeClass(n,"p-datatable-dragpoint-bottom"),R.removeClass(t,"p-datatable-dragpoint-bottom"),R.removeClass(t,"p-datatable-dragpoint-top")},onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null,e.currentTarget.draggable=!1},onRowDrop(e){if(this.droppedRowIndex!=null){let t=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:this.droppedRowIndex===0?0:this.droppedRowIndex-1,n=[...this.processedData];j.reorderArray(n,this.draggedRowIndex+this.d_first,t+this.d_first),this.$emit("row-reorder",{originalEvent:e,dragIndex:this.draggedRowIndex,dropIndex:t,value:n})}this.onRowDragLeave(e),this.onRowDragEnd(e),e.preventDefault()},toggleRow(e){let t=e.data,n,i,r=this.expandedRows?[...this.expandedRows]:[];this.dataKey?n=this.d_expandedRowKeys?this.d_expandedRowKeys[j.resolveFieldData(t,this.dataKey)]!==void 0:!1:(i=this.findIndex(t,this.expandedRows),n=i>-1),n?(i==null&&(i=this.findIndex(t,this.expandedRows)),r.splice(i,1),this.$emit("update:expandedRows",r),this.$emit("row-collapse",e)):(r.push(t),this.$emit("update:expandedRows",r),this.$emit("row-expand",e))},toggleRowGroup(e){const t=e.originalEvent,n=e.data,i=j.resolveFieldData(n,this.groupRowsBy);let r=this.expandedRowGroups?[...this.expandedRowGroups]:[];this.isRowGroupExpanded(n)?(r=r.filter(s=>s!==i),this.$emit("update:expandedRowGroups",r),this.$emit("rowgroup-collapse",{originalEvent:t,data:i})):(r.push(i),this.$emit("update:expandedRowGroups",r),this.$emit("rowgroup-expand",{originalEvent:t,data:i}))},isRowGroupExpanded(e){if(this.expandableRowGroups&&this.expandedRowGroups){let t=j.resolveFieldData(e,this.groupRowsBy);return this.expandedRowGroups.indexOf(t)>-1}return!1},isStateful(){return this.stateKey!=null},getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}},saveState(){const e=this.getStorage();let t={};this.paginator&&(t.first=this.d_first,t.rows=this.d_rows),this.d_sortField&&(t.sortField=this.d_sortField,t.sortOrder=this.d_sortOrder),this.d_multiSortMeta&&(t.multiSortMeta=this.d_multiSortMeta),this.hasFilters&&(t.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(t),this.reorderableColumns&&(t.columnOrder=this.d_columnOrder),this.expandedRows&&(t.expandedRows=this.expandedRows,t.expandedRowKeys=this.d_expandedRowKeys),this.expandedRowGroups&&(t.expandedRowGroups=this.expandedRowGroups),this.selection&&(t.selection=this.selection,t.selectionKeys=this.d_selectionKeys),Object.keys(t).length&&e.setItem(this.stateKey,JSON.stringify(t)),this.$emit("state-save",t)},restoreState(){const t=this.getStorage().getItem(this.stateKey),n=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,i=function(r,s){return typeof s=="string"&&n.test(s)?new Date(s):s};if(t){let r=JSON.parse(t,i);this.paginator&&(this.d_first=r.first,this.d_rows=r.rows),r.sortField&&(this.d_sortField=r.sortField,this.d_sortOrder=r.sortOrder),r.multiSortMeta&&(this.d_multiSortMeta=r.multiSortMeta),r.filters&&this.$emit("update:filters",r.filters),this.resizableColumns&&(this.columnWidthsState=r.columnWidths,this.tableWidthState=r.tableWidth),this.reorderableColumns&&(this.d_columnOrder=r.columnOrder),r.expandedRows&&(this.d_expandedRowKeys=r.expandedRowKeys,this.$emit("update:expandedRows",r.expandedRows)),r.expandedRowGroups&&this.$emit("update:expandedRowGroups",r.expandedRowGroups),r.selection&&(this.d_selectionKeys=r.d_selectionKeys,this.$emit("update:selection",r.selection)),this.$emit("state-restore",r)}},saveColumnWidths(e){let t=[];R.find(this.$el,".p-datatable-thead > tr > th").forEach(i=>t.push(R.getOuterWidth(i))),e.columnWidths=t.join(","),this.columnResizeMode==="expand"&&(e.tableWidth=R.getOuterWidth(this.$refs.table)+"px")},restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if(this.columnResizeMode==="expand"&&this.tableWidthState&&(this.$refs.table.style.width=this.tableWidthState,this.$refs.table.style.minWidth=this.tableWidthState,this.$el.style.width=this.tableWidthState),j.isNotEmpty(e)){this.createStyleElement();let t="";e.forEach((n,i)=>{let r=this.scrollable?`flex: 1 1 ${n}px !important`:`width: ${n}px !important`;t+=`
                            .p-datatable[${this.attributeSelector}] .p-datatable-thead > tr > th:nth-child(${i+1}),
                            .p-datatable[${this.attributeSelector}] .p-datatable-tbody > tr > td:nth-child(${i+1}),
                            .p-datatable[${this.attributeSelector}] .p-datatable-tfoot > tr > td:nth-child(${i+1}) {
                                ${r}
                            }
                        `}),this.styleElement.innerHTML=t}}},onCellEditInit(e){this.$emit("cell-edit-init",e)},onCellEditComplete(e){this.$emit("cell-edit-complete",e)},onCellEditCancel(e){this.$emit("cell-edit-cancel",e)},onRowEditInit(e){let t=this.editingRows?[...this.editingRows]:[];t.push(e.data),this.$emit("update:editingRows",t),this.$emit("row-edit-init",e)},onRowEditSave(e){let t=[...this.editingRows];t.splice(this.findIndex(e.data,t),1),this.$emit("update:editingRows",t),this.$emit("row-edit-save",e)},onRowEditCancel(e){let t=[...this.editingRows];t.splice(this.findIndex(e.data,t),1),this.$emit("update:editingRows",t),this.$emit("row-edit-cancel",e)},onEditingMetaChange(e){let{data:t,field:n,index:i,editing:r}=e,s={...this.d_editingMeta},o=s[i];if(r)!o&&(o=s[i]={data:{...t},fields:[]}),o.fields.push(n);else if(o){const l=o.fields.filter(c=>c!==n);l.length?o.fields=l:delete s[i]}this.d_editingMeta=s},clearEditingMetaData(){this.editMode&&(this.d_editingMeta={})},createLazyLoadEvent(e){return{originalEvent:e,first:this.d_first,rows:this.d_rows,sortField:this.d_sortField,sortOrder:this.d_sortOrder,multiSortMeta:this.d_multiSortMeta,filters:this.d_filters}},hasGlobalFilter(){return this.filters&&Object.prototype.hasOwnProperty.call(this.filters,"global")},getChildren(){return this.$slots.default?this.$slots.default():null},onFilterChange(e){this.d_filters=e},onFilterApply(){this.d_first=0,this.$emit("update:first",this.d_first),this.$emit("update:filters",this.d_filters),this.lazy&&this.$emit("filter",this.createLazyLoadEvent())},cloneFilters(){let e={};return this.filters&&Object.entries(this.filters).forEach(([t,n])=>{e[t]=n.operator?{operator:n.operator,constraints:n.constraints.map(i=>({...i}))}:{...n}}),e},updateReorderableColumns(){let e=[];this.columns.forEach(t=>e.push(this.columnProp(t,"columnKey")||this.columnProp(t,"field"))),this.d_columnOrder=e},createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)},createResponsiveStyle(){if(!this.responsiveStyleElement){this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement);let e=`
@media screen and (max-width: ${this.breakpoint}) {
    .p-datatable[${this.attributeSelector}] .p-datatable-thead > tr > th,
    .p-datatable[${this.attributeSelector}] .p-datatable-tfoot > tr > td {
        display: none !important;
    }

    .p-datatable[${this.attributeSelector}] .p-datatable-tbody > tr > td {
        display: flex;
        width: 100% !important;
        align-items: center;
        justify-content: space-between;
    }

    .p-datatable[${this.attributeSelector}] .p-datatable-tbody > tr > td:not(:last-child) {
        border: 0 none;
    }

    .p-datatable[${this.attributeSelector}].p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {
        border-top: 0;
        border-right: 0;
        border-left: 0;
    }

    .p-datatable[${this.attributeSelector}] .p-datatable-tbody > tr > td > .p-column-title {
        display: block;
    }
}
`;this.responsiveStyleElement.innerHTML=e}},destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)},destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},recursiveGetChildren(e,t){return t||(t=[]),e&&e.length&&e.forEach(n=>{n.children instanceof Array?t.concat(this.recursiveGetChildren(n.children,t)):n.type.name=="Column"&&t.push(n)}),t},dataToRender(e){const t=e||this.processedData;if(t&&this.paginator){const n=this.lazy?0:this.d_first;return t.slice(n,n+this.d_rows)}return t},getVirtualScrollerRef(){return this.$refs.virtualScroller}},computed:{containerClass(){return["p-datatable p-component",{"p-datatable-hoverable-rows":this.rowHover||this.selectionMode,"p-datatable-auto-layout":this.autoLayout,"p-datatable-resizable":this.resizableColumns,"p-datatable-resizable-fit":this.resizableColumns&&this.columnResizeMode==="fit","p-datatable-scrollable":this.scrollable,"p-datatable-scrollable-vertical":this.scrollable&&this.scrollDirection==="vertical","p-datatable-scrollable-horizontal":this.scrollable&&this.scrollDirection==="horizontal","p-datatable-scrollable-both":this.scrollable&&this.scrollDirection==="both","p-datatable-flex-scrollable":this.scrollable&&this.scrollHeight==="flex","p-datatable-responsive-stack":this.responsiveLayout==="stack","p-datatable-responsive-scroll":this.responsiveLayout==="scroll","p-datatable-striped":this.stripedRows,"p-datatable-gridlines":this.showGridlines,"p-datatable-grouped-header":this.headerColumnGroup!=null,"p-datatable-grouped-footer":this.footerColumnGroup!=null}]},columns(){let e=this.getChildren();if(!e)return;const t=this.recursiveGetChildren(e,[]);if(this.reorderableColumns&&this.d_columnOrder){let n=[];for(let i of this.d_columnOrder){let r=this.findColumnByKey(t,i);r&&!this.columnProp(r,"hidden")&&n.push(r)}return[...n,...t.filter(i=>n.indexOf(i)<0)]}return t},headerColumnGroup(){const e=this.getChildren();if(e){for(let t of e)if(t.type.name==="ColumnGroup"&&this.columnProp(t,"type")==="header")return t}return null},footerColumnGroup(){const e=this.getChildren();if(e){for(let t of e)if(t.type.name==="ColumnGroup"&&this.columnProp(t,"type")==="footer")return t}return null},hasFilters(){return this.filters&&Object.keys(this.filters).length>0&&this.filters.constructor===Object},processedData(){let e=this.value||[];return this.lazy||e&&e.length&&(this.hasFilters&&(e=this.filter(e)),this.sorted&&(this.sortMode==="single"?e=this.sortSingle(e):this.sortMode==="multiple"&&(e=this.sortMultiple(e)))),e},totalRecordsLength(){if(this.lazy)return this.totalRecords;{const e=this.processedData;return e?e.length:0}},empty(){const e=this.processedData;return!e||e.length===0},paginatorTop(){return this.paginator&&(this.paginatorPosition!=="bottom"||this.paginatorPosition==="both")},paginatorBottom(){return this.paginator&&(this.paginatorPosition!=="top"||this.paginatorPosition==="both")},sorted(){return this.d_sortField||this.d_multiSortMeta&&this.d_multiSortMeta.length>0},loadingIconClass(){return["p-datatable-loading-icon pi-spin",this.loadingIcon]},allRowsSelected(){if(this.selectAll!==null)return this.selectAll;{const e=this.frozenValue?[...this.frozenValue,...this.processedData]:this.processedData;return j.isNotEmpty(e)&&this.selection&&Array.isArray(this.selection)&&e.every(t=>this.selection.some(n=>this.equals(n,t)))}},attributeSelector(){return zt()},groupRowSortField(){return this.sortMode==="single"?this.sortField:this.d_groupRowsSortMeta?this.d_groupRowsSortMeta.field:null},virtualScrollerDisabled(){return j.isEmpty(this.virtualScrollerOptions)||!this.scrollable}},components:{DTPaginator:Ad,DTTableHeader:Nd,DTTableBody:Td,DTTableFooter:Dd,DTVirtualScroller:Il}};const Qx={key:0,class:"p-datatable-loading-overlay p-component-overlay"},ev={key:1,class:"p-datatable-header"},tv={key:3,class:"p-datatable-footer"},nv={ref:"resizeHelper",class:"p-column-resizer-helper",style:{display:"none"}},iv={key:5,ref:"reorderIndicatorUp",class:"pi pi-arrow-down p-datatable-reorder-indicator-up",style:{position:"absolute",display:"none"}},sv={key:6,ref:"reorderIndicatorDown",class:"pi pi-arrow-up p-datatable-reorder-indicator-down",style:{position:"absolute",display:"none"}};function rv(e,t,n,i,r,s){const o=ve("DTPaginator"),l=ve("DTTableHeader"),c=ve("DTTableBody"),a=ve("DTTableFooter"),d=ve("DTVirtualScroller");return x(),k("div",{class:ee(s.containerClass),"data-scrollselectors":".p-datatable-wrapper"},[Pe(e.$slots,"default"),n.loading?(x(),k("div",Qx,[e.$slots.loading?Pe(e.$slots,"loading",{key:0}):(x(),k("i",{key:1,class:ee(s.loadingIconClass)},null,2))])):H("",!0),e.$slots.header?(x(),k("div",ev,[Pe(e.$slots,"header")])):H("",!0),s.paginatorTop?(x(),se(o,{key:2,rows:r.d_rows,first:r.d_first,totalRecords:s.totalRecordsLength,pageLinkSize:n.pageLinkSize,template:n.paginatorTemplate,rowsPerPageOptions:n.rowsPerPageOptions,currentPageReportTemplate:n.currentPageReportTemplate,class:"p-paginator-top",onPage:t[0]||(t[0]=u=>s.onPage(u)),alwaysShow:n.alwaysShowPaginator},mo({_:2},[e.$slots.paginatorstart?{name:"start",fn:be(()=>[Pe(e.$slots,"paginatorstart")]),key:"0"}:void 0,e.$slots.paginatorend?{name:"end",fn:be(()=>[Pe(e.$slots,"paginatorend")]),key:"1"}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","alwaysShow"])):H("",!0),N("div",{class:"p-datatable-wrapper",style:$e({maxHeight:s.virtualScrollerDisabled?n.scrollHeight:""})},[ce(d,Ye({ref:"virtualScroller"},n.virtualScrollerOptions,{items:s.processedData,columns:s.columns,style:{height:n.scrollHeight},disabled:s.virtualScrollerDisabled,loaderDisabled:"",showSpacer:!1}),{content:be(u=>[N("table",Ye({ref:"table",role:"table",class:[n.tableClass,"p-datatable-table"],style:[n.tableStyle,u.spacerStyle]},n.tableProps),[ce(l,{columnGroup:s.headerColumnGroup,columns:u.columns,rowGroupMode:n.rowGroupMode,groupRowsBy:n.groupRowsBy,groupRowSortField:s.groupRowSortField,reorderableColumns:n.reorderableColumns,resizableColumns:n.resizableColumns,allRowsSelected:s.allRowsSelected,empty:s.empty,sortMode:n.sortMode,sortField:r.d_sortField,sortOrder:r.d_sortOrder,multiSortMeta:r.d_multiSortMeta,filters:r.d_filters,filtersStore:n.filters,filterDisplay:n.filterDisplay,filterInputProps:n.filterInputProps,onColumnClick:t[1]||(t[1]=h=>s.onColumnHeaderClick(h)),onColumnMousedown:t[2]||(t[2]=h=>s.onColumnHeaderMouseDown(h)),onFilterChange:s.onFilterChange,onFilterApply:s.onFilterApply,onColumnDragstart:t[3]||(t[3]=h=>s.onColumnHeaderDragStart(h)),onColumnDragover:t[4]||(t[4]=h=>s.onColumnHeaderDragOver(h)),onColumnDragleave:t[5]||(t[5]=h=>s.onColumnHeaderDragLeave(h)),onColumnDrop:t[6]||(t[6]=h=>s.onColumnHeaderDrop(h)),onColumnResizestart:t[7]||(t[7]=h=>s.onColumnResizeStart(h)),onCheckboxChange:t[8]||(t[8]=h=>s.toggleRowsWithCheckbox(h))},null,8,["columnGroup","columns","rowGroupMode","groupRowsBy","groupRowSortField","reorderableColumns","resizableColumns","allRowsSelected","empty","sortMode","sortField","sortOrder","multiSortMeta","filters","filtersStore","filterDisplay","filterInputProps","onFilterChange","onFilterApply"]),n.frozenValue?(x(),se(c,{key:0,ref:"frozenBodyRef",value:n.frozenValue,frozenRow:!0,class:"p-datatable-frozen-tbody",columns:u.columns,dataKey:n.dataKey,selection:n.selection,selectionKeys:r.d_selectionKeys,selectionMode:n.selectionMode,contextMenu:n.contextMenu,contextMenuSelection:n.contextMenuSelection,rowGroupMode:n.rowGroupMode,groupRowsBy:n.groupRowsBy,expandableRowGroups:n.expandableRowGroups,rowClass:n.rowClass,rowStyle:n.rowStyle,editMode:n.editMode,compareSelectionBy:n.compareSelectionBy,scrollable:n.scrollable,expandedRowIcon:n.expandedRowIcon,collapsedRowIcon:n.collapsedRowIcon,expandedRows:n.expandedRows,expandedRowKeys:r.d_expandedRowKeys,expandedRowGroups:n.expandedRowGroups,editingRows:n.editingRows,editingRowKeys:r.d_editingRowKeys,templates:e.$slots,responsiveLayout:n.responsiveLayout,isVirtualScrollerDisabled:!0,onRowgroupToggle:s.toggleRowGroup,onRowClick:t[9]||(t[9]=h=>s.onRowClick(h)),onRowDblclick:t[10]||(t[10]=h=>s.onRowDblClick(h)),onRowRightclick:t[11]||(t[11]=h=>s.onRowRightClick(h)),onRowTouchend:s.onRowTouchEnd,onRowKeydown:s.onRowKeyDown,onRowMousedown:s.onRowMouseDown,onRowDragstart:t[12]||(t[12]=h=>s.onRowDragStart(h)),onRowDragover:t[13]||(t[13]=h=>s.onRowDragOver(h)),onRowDragleave:t[14]||(t[14]=h=>s.onRowDragLeave(h)),onRowDragend:t[15]||(t[15]=h=>s.onRowDragEnd(h)),onRowDrop:t[16]||(t[16]=h=>s.onRowDrop(h)),onRowToggle:t[17]||(t[17]=h=>s.toggleRow(h)),onRadioChange:t[18]||(t[18]=h=>s.toggleRowWithRadio(h)),onCheckboxChange:t[19]||(t[19]=h=>s.toggleRowWithCheckbox(h)),onCellEditInit:t[20]||(t[20]=h=>s.onCellEditInit(h)),onCellEditComplete:t[21]||(t[21]=h=>s.onCellEditComplete(h)),onCellEditCancel:t[22]||(t[22]=h=>s.onCellEditCancel(h)),onRowEditInit:t[23]||(t[23]=h=>s.onRowEditInit(h)),onRowEditSave:t[24]||(t[24]=h=>s.onRowEditSave(h)),onRowEditCancel:t[25]||(t[25]=h=>s.onRowEditCancel(h)),editingMeta:r.d_editingMeta,onEditingMetaChange:s.onEditingMetaChange},null,8,["value","columns","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowKeys","expandedRowGroups","editingRows","editingRowKeys","templates","responsiveLayout","onRowgroupToggle","onRowTouchend","onRowKeydown","onRowMousedown","editingMeta","onEditingMetaChange"])):H("",!0),ce(c,{ref:"bodyRef",value:s.dataToRender(u.rows),class:ee(u.styleClass),columns:u.columns,empty:s.empty,dataKey:n.dataKey,selection:n.selection,selectionKeys:r.d_selectionKeys,selectionMode:n.selectionMode,contextMenu:n.contextMenu,contextMenuSelection:n.contextMenuSelection,rowGroupMode:n.rowGroupMode,groupRowsBy:n.groupRowsBy,expandableRowGroups:n.expandableRowGroups,rowClass:n.rowClass,rowStyle:n.rowStyle,editMode:n.editMode,compareSelectionBy:n.compareSelectionBy,scrollable:n.scrollable,expandedRowIcon:n.expandedRowIcon,collapsedRowIcon:n.collapsedRowIcon,expandedRows:n.expandedRows,expandedRowKeys:r.d_expandedRowKeys,expandedRowGroups:n.expandedRowGroups,editingRows:n.editingRows,editingRowKeys:r.d_editingRowKeys,templates:e.$slots,responsiveLayout:n.responsiveLayout,virtualScrollerContentProps:u,isVirtualScrollerDisabled:s.virtualScrollerDisabled,onRowgroupToggle:s.toggleRowGroup,onRowClick:t[26]||(t[26]=h=>s.onRowClick(h)),onRowDblclick:t[27]||(t[27]=h=>s.onRowDblClick(h)),onRowRightclick:t[28]||(t[28]=h=>s.onRowRightClick(h)),onRowTouchend:s.onRowTouchEnd,onRowKeydown:h=>s.onRowKeyDown(h,u),onRowMousedown:s.onRowMouseDown,onRowDragstart:t[29]||(t[29]=h=>s.onRowDragStart(h)),onRowDragover:t[30]||(t[30]=h=>s.onRowDragOver(h)),onRowDragleave:t[31]||(t[31]=h=>s.onRowDragLeave(h)),onRowDragend:t[32]||(t[32]=h=>s.onRowDragEnd(h)),onRowDrop:t[33]||(t[33]=h=>s.onRowDrop(h)),onRowToggle:t[34]||(t[34]=h=>s.toggleRow(h)),onRadioChange:t[35]||(t[35]=h=>s.toggleRowWithRadio(h)),onCheckboxChange:t[36]||(t[36]=h=>s.toggleRowWithCheckbox(h)),onCellEditInit:t[37]||(t[37]=h=>s.onCellEditInit(h)),onCellEditComplete:t[38]||(t[38]=h=>s.onCellEditComplete(h)),onCellEditCancel:t[39]||(t[39]=h=>s.onCellEditCancel(h)),onRowEditInit:t[40]||(t[40]=h=>s.onRowEditInit(h)),onRowEditSave:t[41]||(t[41]=h=>s.onRowEditSave(h)),onRowEditCancel:t[42]||(t[42]=h=>s.onRowEditCancel(h)),editingMeta:r.d_editingMeta,onEditingMetaChange:s.onEditingMetaChange},null,8,["value","class","columns","empty","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowKeys","expandedRowGroups","editingRows","editingRowKeys","templates","responsiveLayout","virtualScrollerContentProps","isVirtualScrollerDisabled","onRowgroupToggle","onRowTouchend","onRowKeydown","onRowMousedown","editingMeta","onEditingMetaChange"]),ce(a,{columnGroup:s.footerColumnGroup,columns:u.columns},null,8,["columnGroup","columns"])],16)]),_:1},16,["items","columns","style","disabled"])],4),e.$slots.footer?(x(),k("div",tv,[Pe(e.$slots,"footer")])):H("",!0),s.paginatorBottom?(x(),se(o,{key:4,rows:r.d_rows,first:r.d_first,totalRecords:s.totalRecordsLength,pageLinkSize:n.pageLinkSize,template:n.paginatorTemplate,rowsPerPageOptions:n.rowsPerPageOptions,currentPageReportTemplate:n.currentPageReportTemplate,class:"p-paginator-bottom",onPage:t[43]||(t[43]=u=>s.onPage(u)),alwaysShow:n.alwaysShowPaginator},mo({_:2},[e.$slots.paginatorstart?{name:"start",fn:be(()=>[Pe(e.$slots,"paginatorstart")]),key:"0"}:void 0,e.$slots.paginatorend?{name:"end",fn:be(()=>[Pe(e.$slots,"paginatorend")]),key:"1"}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","alwaysShow"])):H("",!0),N("div",nv,null,512),n.reorderableColumns?(x(),k("span",iv,null,512)):H("",!0),n.reorderableColumns?(x(),k("span",sv,null,512)):H("",!0)],2)}function ov(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var lv=`
.p-datatable {
    position: relative;
}
.p-datatable table {
    border-collapse: collapse;
    min-width: 100%;
    table-layout: fixed;
}
.p-datatable .p-sortable-column {
    cursor: pointer;
    user-select: none;
}
.p-datatable .p-sortable-column .p-column-title,
.p-datatable .p-sortable-column .p-sortable-column-icon,
.p-datatable .p-sortable-column .p-sortable-column-badge {
    vertical-align: middle;
}
.p-datatable .p-sortable-column .p-sortable-column-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}
.p-datatable-responsive-scroll > .p-datatable-wrapper {
    overflow-x: auto;
}
.p-datatable-responsive-scroll > .p-datatable-wrapper > table,
.p-datatable-auto-layout > .p-datatable-wrapper > table {
    table-layout: auto;
}
.p-datatable-hoverable-rows .p-selectable-row {
    cursor: pointer;
}

/* Scrollable */
.p-datatable-scrollable .p-datatable-wrapper {
    position: relative;
    overflow: auto;
}
.p-datatable-scrollable .p-datatable-thead,
.p-datatable-scrollable .p-datatable-tbody,
.p-datatable-scrollable .p-datatable-tfoot {
    display: block;
}
.p-datatable-scrollable .p-datatable-thead > tr,
.p-datatable-scrollable .p-datatable-tbody > tr,
.p-datatable-scrollable .p-datatable-tfoot > tr {
    display: flex;
    flex-wrap: nowrap;
    width: 100%;
}
.p-datatable-scrollable .p-datatable-thead > tr > th,
.p-datatable-scrollable .p-datatable-tbody > tr > td,
.p-datatable-scrollable .p-datatable-tfoot > tr > td {
    display: flex;
    flex: 1 1 0;
    align-items: center;
}
.p-datatable-scrollable .p-datatable-thead {
    position: sticky;
    top: 0;
    z-index: 1;
}
.p-datatable-scrollable .p-datatable-frozen-tbody {
    position: sticky;
    z-index: 1;
}
.p-datatable-scrollable .p-datatable-tfoot {
    position: sticky;
    bottom: 0;
    z-index: 1;
}
.p-datatable-scrollable .p-frozen-column {
    position: sticky;
    background: inherit;
}
.p-datatable-scrollable th.p-frozen-column {
    z-index: 1;
}
.p-datatable-scrollable-both .p-datatable-thead > tr > th,
.p-datatable-scrollable-both .p-datatable-tbody > tr > td,
.p-datatable-scrollable-both .p-datatable-tfoot > tr > td,
.p-datatable-scrollable-horizontal .p-datatable-thead > tr > th .p-datatable-scrollable-horizontal .p-datatable-tbody > tr > td,
.p-datatable-scrollable-horizontal .p-datatable-tfoot > tr > td {
    flex: 1 0 auto;
}
.p-datatable-flex-scrollable {
    display: flex;
    flex-direction: column;
    height: 100%;
}
.p-datatable-flex-scrollable .p-datatable-wrapper {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}
.p-datatable-scrollable .p-rowgroup-header {
    position: sticky;
    z-index: 1;
}
.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead,
.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot {
    display: table;
    border-collapse: collapse;
    width: 100%;
    table-layout: fixed;
}
.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead > tr,
.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot > tr {
    display: table-row;
}
.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead > tr > th,
.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot > tr > td {
    display: table-cell;
}
.p-datatable-scrollable .p-virtualscroller > .p-datatable-table {
    display: inline-block; /* For Safari */
}

/* Resizable */
.p-datatable-resizable > .p-datatable-wrapper {
    overflow-x: auto;
}
.p-datatable-resizable .p-datatable-thead > tr > th,
.p-datatable-resizable .p-datatable-tfoot > tr > td,
.p-datatable-resizable .p-datatable-tbody > tr > td {
    overflow: hidden;
    white-space: nowrap;
}
.p-datatable-resizable .p-resizable-column:not(.p-frozen-column) {
    background-clip: padding-box;
    position: relative;
}
.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer {
    display: none;
}
.p-datatable .p-column-resizer {
    display: block;
    position: absolute !important;
    top: 0;
    right: 0;
    margin: 0;
    width: 0.5rem;
    height: 100%;
    padding: 0px;
    cursor: col-resize;
    border: 1px solid transparent;
}
.p-datatable .p-column-header-content {
    display: flex;
    align-items: center;
}
.p-datatable .p-column-resizer-helper {
    width: 1px;
    position: absolute;
    z-index: 10;
    display: none;
}
.p-datatable .p-row-editor-init,
.p-datatable .p-row-editor-save,
.p-datatable .p-row-editor-cancel {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

/* Expand */
.p-datatable .p-row-toggler {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

/* Reorder */
.p-datatable-reorder-indicator-up,
.p-datatable-reorder-indicator-down {
    position: absolute;
    display: none;
}
.p-reorderable-column,
.p-datatable-reorderablerow-handle {
    cursor: move;
}

/* Loader */
.p-datatable .p-datatable-loading-overlay {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

/* Filter */
.p-column-filter-row {
    display: flex;
    align-items: center;
    width: 100%;
}
.p-column-filter-menu {
    display: inline-flex;
    margin-left: auto;
}
.p-column-filter-row .p-column-filter-element {
    flex: 1 1 auto;
    width: 1%;
}
.p-column-filter-menu-button,
.p-column-filter-clear-button {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
.p-column-filter-overlay {
    position: absolute;
    top: 0;
    left: 0;
}
.p-column-filter-row-items {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-column-filter-row-item {
    cursor: pointer;
}
.p-column-filter-add-button,
.p-column-filter-remove-button {
    justify-content: center;
}
.p-column-filter-add-button .p-button-label,
.p-column-filter-remove-button .p-button-label {
    flex-grow: 0;
}
.p-column-filter-buttonbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.p-column-filter-buttonbar .p-button:not(.p-button-icon-only) {
    width: auto;
}

/* Responsive */
.p-datatable .p-datatable-tbody > tr > td > .p-column-title {
    display: none;
}

/* VirtualScroller */
.p-datatable .p-virtualscroller-loading {
    transform: none !important;
    min-height: 0;
    position: sticky;
    top: 0;
    left: 0;
}
`;ov(lv);zo.render=rv;var zd={name:"ContextMenuSub",emits:["item-click","item-mouseenter"],props:{items:{type:Array,default:null},menuId:{type:String,default:null},focusedItemId:{type:String,default:null},root:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},level:{type:Number,default:0},template:{type:Function,default:null},exact:{type:Boolean,default:!0},activeItemPath:{type:Object,default:null}},methods:{getItemId(e){return`${this.menuId}_${e.key}`},getItemKey(e){return this.getItemId(e)},getItemProp(e,t,n){return e&&e.item?j.getItemValue(e.item[t],n):void 0},getItemLabel(e){return this.getItemProp(e,"label")},isItemActive(e){return this.activeItemPath.some(t=>t.key===e.key)},isItemVisible(e){return this.getItemProp(e,"visible")!==!1},isItemDisabled(e){return this.getItemProp(e,"disabled")},isItemFocused(e){return this.focusedItemId===this.getItemId(e)},isItemGroup(e){return j.isNotEmpty(e.items)},onItemClick(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.$emit("item-click",{originalEvent:e,processedItem:t,isFocus:!0})},onItemMouseEnter(e,t){this.$emit("item-mouseenter",{originalEvent:e,processedItem:t})},onItemActionClick(e,t){t&&t(e)},getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length},getAriaPosInset(e){return e-this.items.slice(0,e).filter(t=>this.isItemVisible(t)&&this.getItemProp(t,"separator")).length+1},onEnter(){this.position()},position(){const e=this.$refs.container.parentElement,t=R.getOffset(this.$refs.container.parentElement),n=R.getViewport(),i=this.$refs.container.offsetParent?this.$refs.container.offsetWidth:R.getHiddenElementOuterWidth(this.$refs.container),r=R.getOuterWidth(e.children[0]);this.$refs.container.style.top="0px",parseInt(t.left,10)+r+i>n.width-R.calculateScrollbarWidth()?this.$refs.container.style.left=-1*i+"px":this.$refs.container.style.left=r+"px"},getItemClass(e){return["p-menuitem",this.getItemProp(e,"class"),{"p-menuitem-active p-highlight":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)}]},getItemActionClass(e,t){return["p-menuitem-link",{"router-link-active":t&&t.isActive,"router-link-active-exact":this.exact&&t&&t.isExactActive}]},getItemIconClass(e){return["p-menuitem-icon",this.getItemProp(e,"icon")]},getSeparatorItemClass(e){return["p-menuitem-separator",this.getItemProp(e,"class")]}},directives:{ripple:Gt}};const av={key:0,ref:"container"},cv=["id","aria-label","aria-disabled","aria-expanded","aria-haspopup","aria-level","aria-setsize","aria-posinset"],uv=["onClick","onMouseenter"],dv=["href","onClick"],hv={class:"p-menuitem-text"},fv=["href","target"],pv={class:"p-menuitem-text"},mv={key:1,class:"p-submenu-icon pi pi-angle-right"},gv=["id"];function bv(e,t,n,i,r,s){const o=ve("router-link"),l=ve("ContextMenuSub",!0),c=It("ripple");return x(),se(Nn,{name:"p-contextmenusub",onEnter:s.onEnter},{default:be(()=>[n.root||n.visible?(x(),k("ul",av,[(x(!0),k(fe,null,rt(n.items,(a,d)=>(x(),k(fe,{key:s.getItemKey(a)},[s.isItemVisible(a)&&!s.getItemProp(a,"separator")?(x(),k("li",{key:0,id:s.getItemId(a),style:$e(s.getItemProp(a,"style")),class:ee(s.getItemClass(a)),role:"menuitem","aria-label":s.getItemLabel(a),"aria-disabled":s.isItemDisabled(a)||void 0,"aria-expanded":s.isItemGroup(a)?s.isItemActive(a):void 0,"aria-haspopup":s.isItemGroup(a)&&!s.getItemProp(a,"to")?"menu":void 0,"aria-level":n.level+1,"aria-setsize":s.getAriaSetSize(),"aria-posinset":s.getAriaPosInset(d)},[N("div",{class:"p-menuitem-content",onClick:u=>s.onItemClick(u,a),onMouseenter:u=>s.onItemMouseEnter(u,a)},[n.template?(x(),se(lt(n.template),{key:1,item:a.item},null,8,["item"])):(x(),k(fe,{key:0},[s.getItemProp(a,"to")&&!s.isItemDisabled(a)?(x(),se(o,{key:0,to:s.getItemProp(a,"to"),custom:""},{default:be(({navigate:u,href:h,isActive:f,isExactActive:v})=>[st((x(),k("a",{href:h,class:ee(s.getItemActionClass(a,{isActive:f,isExactActive:v})),tabindex:"-1","aria-hidden":"true",onClick:C=>s.onItemActionClick(C,u)},[s.getItemProp(a,"icon")?(x(),k("span",{key:0,class:ee(s.getItemIconClass(a))},null,2)):H("",!0),N("span",hv,Le(s.getItemLabel(a)),1)],10,dv)),[[c]])]),_:2},1032,["to"])):st((x(),k("a",{key:1,href:s.getItemProp(a,"url"),class:ee(s.getItemActionClass(a)),target:s.getItemProp(a,"target"),tabindex:"-1","aria-hidden":"true"},[s.getItemProp(a,"icon")?(x(),k("span",{key:0,class:ee(s.getItemIconClass(a))},null,2)):H("",!0),N("span",pv,Le(s.getItemLabel(a)),1),s.getItemProp(a,"items")?(x(),k("span",mv)):H("",!0)],10,fv)),[[c]])],64))],40,uv),s.isItemVisible(a)&&s.isItemGroup(a)?(x(),se(l,{key:0,id:s.getItemId(a)+"_list",role:"menu",class:"p-submenu-list",menuId:n.menuId,focusedItemId:n.focusedItemId,items:a.items,template:n.template,activeItemPath:n.activeItemPath,exact:n.exact,level:n.level+1,visible:s.isItemActive(a)&&s.isItemGroup(a),onItemClick:t[0]||(t[0]=u=>e.$emit("item-click",u)),onItemMouseenter:t[1]||(t[1]=u=>e.$emit("item-mouseenter",u))},null,8,["id","menuId","focusedItemId","items","template","activeItemPath","exact","level","visible"])):H("",!0)],14,cv)):H("",!0),s.isItemVisible(a)&&s.getItemProp(a,"separator")?(x(),k("li",{key:1,id:s.getItemId(a),style:$e(s.getItemProp(a,"style")),class:ee(s.getSeparatorItemClass(a)),role:"separator"},null,14,gv)):H("",!0)],64))),128))],512)):H("",!0)]),_:1},8,["onEnter"])}zd.render=bv;var jd={name:"ContextMenu",inheritAttrs:!1,emits:["focus","blur","show","hide"],props:{model:{type:Array,default:null},appendTo:{type:String,default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},global:{type:Boolean,default:!1},exact:{type:Boolean,default:!0},tabindex:{type:Number,default:0},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},target:null,outsideClickListener:null,resizeListener:null,documentContextMenuListener:null,pageX:null,pageY:null,container:null,list:null,data(){return{id:this.$attrs.id,focused:!1,focusedItemInfo:{index:-1,level:0,parentKey:""},activeItemPath:[],visible:!1,submenuVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||zt()},activeItemPath(e){j.isNotEmpty(e)?(this.bindOutsideClickListener(),this.bindResizeListener(),this.bindDocumentContextMenuListener()):this.visible||(this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindDocumentContextMenuListener())}},beforeUnmount(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.unbindDocumentContextMenuListener(),this.container&&this.autoZIndex&&it.clear(this.container),this.target=null,this.container=null},mounted(){this.id=this.id||zt(),this.global&&this.bindDocumentContextMenuListener()},methods:{getItemProp(e,t){return e?j.getItemValue(e[t]):void 0},getItemLabel(e){return this.getItemProp(e,"label")},isItemDisabled(e){return this.getItemProp(e,"disabled")},isItemGroup(e){return j.isNotEmpty(this.getItemProp(e,"items"))},isItemSeparator(e){return this.getItemProp(e,"separator")},getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0},isProccessedItemGroup(e){return e&&j.isNotEmpty(e.items)},toggle(e){this.visible?this.hide():this.show(e)},show(e){this.activeItemPath=[],this.focusedItemInfo={index:-1,level:0,parentKey:""},R.focus(this.list),this.pageX=e.pageX,this.pageY=e.pageY,this.visible?this.position():this.visible=!0,e.stopPropagation(),e.preventDefault()},hide(){this.visible=!1,this.activeItemPath=[],this.focusedItemInfo={index:-1,level:0,parentKey:""}},onFocus(e){this.focused=!0,this.focusedItemInfo=this.focusedItemInfo.index!==-1?this.focusedItemInfo:{index:-1,level:0,parentKey:""},this.$emit("focus",e)},onBlur(e){this.focused=!1,this.focusedItemInfo={index:-1,level:0,parentKey:""},this.searchValue="",this.$emit("blur",e)},onKeyDown(e){const t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&j.isPrintableCharacter(e.key)&&this.searchItems(e,e.key);break}},onItemChange(e){const{processedItem:t,isFocus:n}=e;if(j.isEmpty(t))return;const{index:i,key:r,level:s,parentKey:o,items:l}=t,c=j.isNotEmpty(l),a=this.activeItemPath.filter(d=>d.parentKey!==o&&d.parentKey!==r);c&&(a.push(t),this.submenuVisible=!0),this.focusedItemInfo={index:i,level:s,parentKey:o},this.activeItemPath=a,n&&R.focus(this.list)},onItemClick(e){const{processedItem:t}=e,n=this.isProccessedItemGroup(t);if(this.isSelected(t)){const{index:r,key:s,level:o,parentKey:l}=t;this.activeItemPath=this.activeItemPath.filter(c=>s!==c.key&&s.startsWith(c.key)),this.focusedItemInfo={index:r,level:o,parentKey:l},R.focus(this.list)}else n?this.onItemChange(e):this.hide()},onItemMouseEnter(e){this.onItemChange(e)},onArrowDownKey(e){const t=this.focusedItemInfo.index!==-1?this.findNextItemIndex(this.focusedItemInfo.index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()},onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo.index!==-1){const t=this.visibleItems[this.focusedItemInfo.index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.popup&&this.hide(),e.preventDefault()}else{const t=this.focusedItemInfo.index!==-1?this.findPrevItemIndex(this.focusedItemInfo.index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}},onArrowLeftKey(e){const t=this.visibleItems[this.focusedItemInfo.index],n=this.activeItemPath.find(r=>r.key===t.parentKey);j.isEmpty(t.parent)||(this.focusedItemInfo={index:-1,parentKey:n?n.parentKey:""},this.searchValue="",this.onArrowDownKey(e)),this.activeItemPath=this.activeItemPath.filter(r=>r.parentKey!==this.focusedItemInfo.parentKey),e.preventDefault()},onArrowRightKey(e){const t=this.visibleItems[this.focusedItemInfo.index];this.isProccessedItemGroup(t)&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo={index:-1,parentKey:t.key},this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()},onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()},onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()},onEnterKey(e){if(this.focusedItemInfo.index!==-1){const t=R.findSingle(this.list,`li[id="${`${this.focusedItemId}`}"]`),n=t&&R.findSingle(t,".p-menuitem-link");n?n.click():t&&t.click();const i=this.visibleItems[this.focusedItemInfo.index];!this.isProccessedItemGroup(i)&&(this.focusedItemInfo.index=this.findFirstFocusedItemIndex())}e.preventDefault()},onSpaceKey(e){this.onEnterKey(e)},onEscapeKey(e){this.hide(),!this.popup&&(this.focusedItemInfo.index=this.findFirstFocusedItemIndex()),e.preventDefault()},onTabKey(e){if(this.focusedItemInfo.index!==-1){const t=this.visibleItems[this.focusedItemInfo.index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()},onEnter(e){this.position(),this.autoZIndex&&it.set("menu",e,this.baseZIndex+this.$primevue.config.zIndex.menu)},onAfterEnter(){this.bindOutsideClickListener(),this.bindResizeListener(),this.bindDocumentContextMenuListener(),this.$emit("show"),R.focus(this.list)},onLeave(){this.$emit("hide"),this.container=null},onAfterLeave(e){this.autoZIndex&&it.clear(e),this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindDocumentContextMenuListener()},position(){let e=this.pageX+1,t=this.pageY+1,n=this.container.offsetParent?this.container.offsetWidth:R.getHiddenElementOuterWidth(this.container),i=this.container.offsetParent?this.container.offsetHeight:R.getHiddenElementOuterHeight(this.container),r=R.getViewport();e+n-document.body.scrollLeft>r.width&&(e-=n),t+i-document.body.scrollTop>r.height&&(t-=i),e<document.body.scrollLeft&&(e=document.body.scrollLeft),t<document.body.scrollTop&&(t=document.body.scrollTop),this.container.style.left=e+"px",this.container.style.top=t+"px"},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{const t=this.container&&!this.container.contains(e.target),n=this.visible?!(this.target&&(this.target===e.target||this.target.contains(e.target))):!0;t&&n&&this.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.visible&&!R.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindDocumentContextMenuListener(){this.documentContextMenuListener||(this.documentContextMenuListener=e=>{e.button!==2?this.show(e):this.hide()},document.addEventListener("contextmenu",this.documentContextMenuListener))},unbindDocumentContextMenuListener(){this.documentContextMenuListener&&(document.removeEventListener("contextmenu",this.documentContextMenuListener),this.documentContextMenuListener=null)},isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())},isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)},isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)},isSelected(e){return this.activeItemPath.some(t=>t.key===e.key)},findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))},findLastItemIndex(){return j.findLastIndex(this.visibleItems,e=>this.isValidItem(e))},findNextItemIndex(e){const t=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(n=>this.isValidItem(n)):-1;return t>-1?t+e+1:e},findPrevItemIndex(e){const t=e>0?j.findLastIndex(this.visibleItems.slice(0,e),n=>this.isValidItem(n)):-1;return t>-1?t:e},findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))},findFirstFocusedItemIndex(){const e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e},findLastFocusedItemIndex(){const e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e},searchItems(e,t){this.searchValue=(this.searchValue||"")+t;let n=-1,i=!1;return this.focusedItemInfo.index!==-1?(n=this.visibleItems.slice(this.focusedItemInfo.index).findIndex(r=>this.isItemMatched(r)),n=n===-1?this.visibleItems.slice(0,this.focusedItemInfo.index).findIndex(r=>this.isItemMatched(r)):n+this.focusedItemInfo.index):n=this.visibleItems.findIndex(r=>this.isItemMatched(r)),n!==-1&&(i=!0),n===-1&&this.focusedItemInfo.index===-1&&(n=this.findFirstFocusedItemIndex()),n!==-1&&this.changeFocusedItemIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),i},changeFocusedItemIndex(e,t){this.focusedItemInfo.index!==t&&(this.focusedItemInfo.index=t,this.scrollInView())},scrollInView(e=-1){const t=e!==-1?`${this.id}_${e}`:this.focusedItemId,n=R.findSingle(this.list,`li[id="${t}"]`);n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"start"})},createProcessedItems(e,t=0,n={},i=""){const r=[];return e&&e.forEach((s,o)=>{const l=(i!==""?i+"_":"")+o,c={item:s,index:o,level:t,key:l,parent:n,parentKey:i};c.items=this.createProcessedItems(s.items,t+1,c,l),r.push(c)}),r},containerRef(e){this.container=e},listRef(e){this.list=e?e.$el:void 0}},computed:{containerClass(){return["p-contextmenu p-component",{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},processedItems(){return this.createProcessedItems(this.model||[])},visibleItems(){const e=this.activeItemPath.find(t=>t.key===this.focusedItemInfo.parentKey);return e?e.items:this.processedItems},focusedItemId(){return this.focusedItemInfo.index!==-1?`${this.id}${j.isNotEmpty(this.focusedItemInfo.parentKey)?"_"+this.focusedItemInfo.parentKey:""}_${this.focusedItemInfo.index}`:null}},components:{ContextMenuSub:zd,Portal:oi}};function yv(e,t,n,i,r,s){const o=ve("ContextMenuSub"),l=ve("Portal");return x(),se(l,{appendTo:n.appendTo},{default:be(()=>[ce(Nn,{name:"p-contextmenu",onEnter:s.onEnter,onAfterEnter:s.onAfterEnter,onLeave:s.onLeave,onAfterLeave:s.onAfterLeave},{default:be(()=>[r.visible?(x(),k("div",Ye({key:0,ref:s.containerRef,class:s.containerClass},e.$attrs),[ce(o,{ref:s.listRef,id:r.id+"_list",class:"p-contextmenu-root-list",role:"menubar",root:!0,tabindex:n.tabindex,"aria-orientation":"vertical","aria-activedescendant":r.focused?s.focusedItemId:void 0,menuId:r.id,focusedItemId:r.focused?s.focusedItemId:void 0,items:s.processedItems,template:e.$slots.item,activeItemPath:r.activeItemPath,exact:n.exact,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,level:0,visible:r.submenuVisible,onFocus:s.onFocus,onBlur:s.onBlur,onKeydown:s.onKeyDown,onItemClick:s.onItemClick,onItemMouseenter:s.onItemMouseEnter},null,8,["id","tabindex","aria-activedescendant","menuId","focusedItemId","items","template","activeItemPath","exact","aria-labelledby","aria-label","visible","onFocus","onBlur","onKeydown","onItemClick","onItemMouseenter"])],16)):H("",!0)]),_:1},8,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]),_:1},8,["appendTo"])}function wv(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var xv=`
.p-contextmenu {
    position: absolute;
}
.p-contextmenu ul {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-contextmenu .p-submenu-list {
    position: absolute;
    min-width: 100%;
    z-index: 1;
}
.p-contextmenu .p-menuitem-link {
    cursor: pointer;
    display: flex;
    align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
.p-contextmenu .p-menuitem-text {
    line-height: 1;
}
.p-contextmenu .p-menuitem {
    position: relative;
}
.p-contextmenu .p-menuitem-link .p-submenu-icon {
    margin-left: auto;
}
.p-contextmenu-enter-from {
    opacity: 0;
}
.p-contextmenu-enter-active {
    transition: opacity 250ms;
}
`;wv(xv);jd.render=yv;var qi={name:"Column",props:{columnKey:{type:null,default:null},field:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},filterField:{type:[String,Function],default:null},dataType:{type:String,default:"text"},sortable:{type:Boolean,default:!1},header:{type:null,default:null},footer:{type:null,default:null},style:{type:null,default:null},class:{type:String,default:null},headerStyle:{type:null,default:null},headerClass:{type:String,default:null},bodyStyle:{type:null,default:null},bodyClass:{type:String,default:null},footerStyle:{type:null,default:null},footerClass:{type:String,default:null},showFilterMenu:{type:Boolean,default:!0},showFilterOperator:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},showApplyButton:{type:Boolean,default:!0},showFilterMatchModes:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},filterMatchModeOptions:{type:Array,default:null},maxConstraints:{type:Number,default:2},excludeGlobalFilter:{type:Boolean,default:!1},filterHeaderClass:{type:String,default:null},filterHeaderStyle:{type:null,default:null},filterMenuClass:{type:String,default:null},filterMenuStyle:{type:null,default:null},selectionMode:{type:String,default:null},expander:{type:Boolean,default:!1},colspan:{type:Number,default:null},rowspan:{type:Number,default:null},rowReorder:{type:Boolean,default:!1},rowReorderIcon:{type:String,default:"pi pi-bars"},reorderableColumn:{type:Boolean,default:!0},rowEditor:{type:Boolean,default:!1},frozen:{type:Boolean,default:!1},alignFrozen:{type:String,default:"left"},exportable:{type:Boolean,default:!0},exportHeader:{type:String,default:null},exportFooter:{type:String,default:null},filterMatchMode:{type:String,default:null},hidden:{type:Boolean,default:!1}},render(){return null}},Kd={name:"Skeleton",props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},computed:{containerClass(){return["p-skeleton p-component",{"p-skeleton-circle":this.shape==="circle","p-skeleton-none":this.animation==="none"}]},containerStyle(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function vv(e,t,n,i,r,s){return x(),k("div",{style:$e(s.containerStyle),class:ee(s.containerClass),"aria-hidden":"true"},null,6)}function _v(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var Cv=`
.p-skeleton {
    position: relative;
    overflow: hidden;
}
.p-skeleton::after {
    content: '';
    animation: p-skeleton-animation 1.2s infinite;
    height: 100%;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    transform: translateX(-100%);
    z-index: 1;
}
.p-skeleton.p-skeleton-circle {
    border-radius: 50%;
}
.p-skeleton-none::after {
    animation: none;
}
@keyframes p-skeleton-animation {
from {
        transform: translateX(-100%);
}
to {
        transform: translateX(100%);
}
}
`;_v(Cv);Kd.render=vv;const li=e=>(Qh("data-v-7e6ee1b2"),e=e(),ef(),e),Iv={class:"grid p-fluid"},Sv={class:"col-12 md:col-4 justify-items-start"},Ev=li(()=>N("div",{id:"console-name"},"Default",-1)),kv=li(()=>N("div",{id:"welcome"},"welcome back",-1)),Pv={class:"col-12 md:col-8"},Rv={class:"grid"},Av={class:"text-center text-7xl"},Ov=li(()=>N("div",{class:"text-center ev-card-1"},"Intermediate",-1)),Mv={class:"text-center text-7xl"},Lv=li(()=>N("div",{class:"text-center ev-card-2"},"Warning",-1)),Tv={class:"text-center text-7xl"},Fv=li(()=>N("div",{class:"text-center ev-card-3"},"Major",-1)),Dv={class:"text-center text-7xl"},Bv=li(()=>N("div",{class:"text-center ev-card-4"},"Minor",-1)),Nv={class:"text-center text-7xl"},zv=li(()=>N("div",{class:"text-center ev-card-5"},"Critical",-1)),jv={class:"col-12 md:col-6"},Kv={class:"col-12 md:col-6"},Vv=xs({__name:"Dashboard",setup(e){const t=Vm(),n=gd();bd();const i=ut(),r=ut([{label:"Delete",command:()=>{}}]),s=ut(),o=a=>{s.value.show(a.originalEvent)},l=a=>{let d=a.map(u=>({type:"bar",data:[u],backgroundColor:""}));return d[0].backgroundColor="green",d[1].backgroundColor="#2196f3",d[2].backgroundColor="#af50bf",d[3].backgroundColor="#fccc55",d[4].backgroundColor="#f79530",d[5].backgroundColor="#ff6459",console.debug("sevs",a),{labels:[""],datasets:d}},c=ut({indexAxis:"y",layout:{padding:0},plugins:{tooltip:{enabled:!0,mode:"nearest",intersect:!0,bodyFont:{size:28},bodySpacing:8},legend:{display:!1}},scales:{x:{stacked:!0,display:!1},y:{stacked:!0}}});return(a,d)=>(x(),se(me(on),null,{content:be(()=>[N("div",Iv,[N("div",Sv,[Ev,kv,ce(me(Mi),{label:"Open Console",onClick:d[0]||(d[0]=u=>me(t).push("/console"))})]),N("div",Pv,[N("div",Rv,[ce(me(on),{class:"col-2"},{content:be(()=>[N("div",Av,Le(me(n).summaryBySeverity.sev1),1)]),footer:be(()=>[Ov]),_:1}),ce(me(on),{class:"col-2"},{content:be(()=>[N("div",Mv,Le(me(n).summaryBySeverity.sev2),1)]),footer:be(()=>[Lv]),_:1}),ce(me(on),{class:"col-2"},{content:be(()=>[N("div",Tv,Le(me(n).summaryBySeverity.sev3),1)]),footer:be(()=>[Fv]),_:1}),ce(me(on),{class:"col-2"},{content:be(()=>[N("div",Dv,Le(me(n).summaryBySeverity.sev4),1)]),footer:be(()=>[Bv]),_:1}),ce(me(on),{class:"col-2"},{content:be(()=>[N("div",Nv,Le(me(n).summaryBySeverity.sev5),1)]),footer:be(()=>[zv]),_:1})])]),N("div",jv,[me(n).eventCount>0?(x(),se(me(on),{key:0},{title:be(()=>[_t("Event Groups")]),content:be(()=>[ce(me(zo),{value:me(n).summaryBarByGroup,scrollable:!0,"scroll-height":"400px"},{default:be(()=>[ce(me(qi),{field:"group",header:"Group",sortable:!0}),ce(me(qi),{field:"severities",header:"Count",sortable:!0},{body:be(u=>[ce(me(xd),{type:"bar",height:40,data:l(u.data.severities),options:c.value},null,8,["data","options"])]),_:1}),ce(me(qi),{header:"Total"},{body:be(u=>[_t(Le(u.data.severities.reduce((h,f)=>h+f,0)),1)]),_:1})]),_:1},8,["value"])]),_:1})):H("",!0)]),N("div",Kv,[me(n).eventCount>0?(x(),se(me(on),{key:0},{title:be(()=>[_t("Activity Streams")]),content:be(()=>[ce(me(Kd),{height:"5rem"})]),_:1})):H("",!0),me(n).eventCount>0?(x(),se(me(on),{key:1},{title:be(()=>[_t("Inventory")]),content:be(()=>[ce(me(zo),{value:me(n).lastSeenByNode,scrollable:!0,"scroll-height":"400px","context-menu":"","context-menu-selection":i.value,"onUpdate:contextMenuSelection":d[1]||(d[1]=u=>i.value=u),onRowContextmenu:o},{default:be(()=>[ce(me(qi),{field:"node",header:"hostname",sortable:!0}),ce(me(qi),{field:"last_seen",header:"Last seen",sortable:!0},{body:be(u=>[_t(Le(new Date(u.data.last_seen).toISOString()),1)]),_:1})]),_:1},8,["value","context-menu-selection"]),ce(me(jd),{model:r.value,ref_key:"imm",ref:s},null,8,["model"])]),_:1})):H("",!0)])])]),_:1}))}});const Hv=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},Uv=Hv(Vv,[["__scopeId","data-v-7e6ee1b2"]]),$v={class:"mx-8"},Gv=xs({__name:"DashboardView",setup(e){return(t,n)=>(x(),k("div",$v,[ce(Uv)]))}}),qv=jm({history:im("/panther-demo"),routes:[{path:"/",name:"Dashboard",component:Gv},{path:"/console",name:"Console",component:()=>mn(()=>import("./ConsoleView-8e62d20e.js"),["assets/ConsoleView-8e62d20e.js","assets/splitbutton.esm-ff001a0a.js","assets/toolbar.esm-e548da93.js","assets/divider.esm-509f9124.js","assets/ConsoleView-9afe25f2.css"])},{path:"/login",name:"login",component:()=>mn(()=>import("./LoginView-f36fcbc8.js"),["assets/LoginView-f36fcbc8.js","assets/LoginView-7e0d4663.css"])},{path:"/rules/global",name:"global",component:()=>mn(()=>import("./GlobalRulesView-9ed54507.js"),["assets/GlobalRulesView-9ed54507.js","assets/panel.esm-ebdd0bb0.js","assets/divider.esm-509f9124.js","assets/splitbutton.esm-ff001a0a.js","assets/GlobalRulesView-038fa79b.css"])},{path:"/rules/group",name:"group",component:()=>mn(()=>import("./GroupRulesView-3e073b6d.js"),["assets/GroupRulesView-3e073b6d.js","assets/panel.esm-ebdd0bb0.js","assets/splitbutton.esm-ff001a0a.js","assets/toolbar.esm-e548da93.js","assets/divider.esm-509f9124.js"])},{path:"/rules/import",name:"import",component:()=>mn(()=>import("./ImportRulesView-8caa3365.js"),[])},{path:"/rules/export",name:"export",component:()=>mn(()=>import("./ExportRulesView-e0105ae4.js"),[])},{path:"/api",name:"api",component:()=>mn(()=>import("./ApiView-88c40e01.js"),["assets/ApiView-88c40e01.js","assets/divider.esm-509f9124.js","assets/apikey-0d5c4c14.js"])},{path:"/admin",name:"admin",component:()=>mn(()=>import("./AdminView-33c73e68.js"),["assets/AdminView-33c73e68.js","assets/apikey-0d5c4c14.js"])}]}),lc={ripple:!1,inputStyle:"outlined",locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}},filterMatchModeOptions:{text:[ct.STARTS_WITH,ct.CONTAINS,ct.NOT_CONTAINS,ct.ENDS_WITH,ct.EQUALS,ct.NOT_EQUALS],numeric:[ct.EQUALS,ct.NOT_EQUALS,ct.LESS_THAN,ct.LESS_THAN_OR_EQUAL_TO,ct.GREATER_THAN,ct.GREATER_THAN_OR_EQUAL_TO],date:[ct.DATE_IS,ct.DATE_IS_NOT,ct.DATE_BEFORE,ct.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}},Wv=Symbol();var Jv={install:(e,t)=>{let n=t?{...lc,...t}:{...lc};const i={config:Nt(n)};e.config.globalProperties.$primevue=i,e.provide(Wv,i)}};const Vd=Symbol();function d_(){const e=Dt(Vd);if(!e)throw new Error("No PrimeVue Toast provided!");return e}var Yv={install:e=>{const t={add:n=>{bn.emit("add",n)},removeGroup:n=>{bn.emit("remove-group",n)},removeAllGroups:()=>{bn.emit("remove-all-groups")}};e.config.globalProperties.$toast=t,e.provide(Vd,t)}};const Hd=Symbol();function h_(){const e=Dt(Hd);if(!e)throw new Error("No PrimeVue Dialog provided!");return e}var ac=ml(),Zv={install:e=>{const t={open:(n,i)=>{const r={content:n&&si(n),options:i||{},data:i&&i.data,close:s=>{ac.emit("close",{instance:r,params:s})}};return ac.emit("open",{instance:r}),r}};e.config.unwrapInjectedRef=!0,e.config.globalProperties.$dialog=t,e.provide(Hd,t)}};const Bi=Mp(Fw);Bi.use(Fp());Bi.use(qv);Bi.use(Jv,{inputStyle:"outlined"});Bi.use(Yv);Bi.use(Zv);Bi.mount("#app");export{j as $,Dt as A,h_ as B,ut as C,R as D,ao as E,bl as F,sl as G,me as H,on as I,Mi as J,md as K,a_ as L,ct as M,ur as N,Tr as O,Bu as P,xd as Q,Gt as R,qi as S,Nn as T,zt as U,zo as V,jd as W,Qh as X,ef as Y,it as Z,Hv as _,It as a,$e as a0,Ht as a1,pl as a2,Qt as a3,nh as a4,Qe as a5,dt as a6,ye as a7,kr as a8,Kd as a9,wd as aa,yd as ab,d_ as ac,bd as ad,es as ae,Qv as af,en as ag,Gc as ah,Nt as ai,e_ as aj,u_ as ak,Li as al,Du as am,zh as an,l_ as ao,r_ as ap,Vu as aq,i_ as ar,bi as as,n_ as at,s_ as au,Ze as av,o_ as aw,gl as ax,k as b,se as c,ce as d,st as e,N as f,Pe as g,H as h,Ve as i,_t as j,ac as k,rt as l,Ye as m,ee as n,x as o,mo as p,fe as q,ve as r,oi as s,Le as t,lt as u,t_ as v,be as w,xs as x,Lw as y,gd as z};
