import{s as p}from"./card.esm-41638ff4.js";import{a as y,s as o}from"./column.esm-7066eb35.js";import{L as g,N as U,Q as _,M as m,d as h,a3 as k,c as S,f as a,w as s,g as e,F as w,o as A,h as u,t as f,s as D}from"./index-0aac089a.js";import"./overlayeventbus.esm-57d5aec1.js";const K=g("users",()=>{const t=U(new Map),n=r=>t.get(r);return{all:_(()=>Array.from(t,r=>r[1])),simpleUsers:t,getUserByUUID:n,generateRandomUsers:()=>{t.clear(),["alice","bob","claire","dafydd"].forEach(l=>{console.debug("adding user",l);const c=m();t.set(c,{uuid:c,username:l,email:`${l}@example.com`,group:"user",created:Date.now()+l.length})})}}}),b=g("apikey",()=>{const t=U(new Array);return{keys:t,getKeyByUUID:d=>t.find(r=>r.uuid===d),add:d=>{const r={uuid:m(),key:`random-key-${m()}`,creator:d,created:Date.now()};t.push(r)}}}),B=h({__name:"AdminView",setup(t){const n=K(),i=b();k(()=>{console.log("making users"),n.generateRandomUsers()});const d=()=>{i.add(n.all[0].username)};return(r,l)=>(A(),S(w,null,[a(e(p),null,{title:s(()=>[u("Console Users")]),content:s(()=>[a(e(y),{value:e(n).all},{default:s(()=>[a(e(o),{field:"username",header:"Username"}),a(e(o),{field:"email",header:"Email Address"}),a(e(o),{field:"group",header:"Group"}),a(e(o),{field:"created",header:"Created"},{body:s(c=>[u(f(new Date(c.data.created).toISOString()),1)]),_:1})]),_:1},8,["value"])]),_:1}),a(e(p),null,{title:s(()=>[u("API Keys")]),content:s(()=>[a(e(y),{value:e(i).keys},{default:s(()=>[a(e(o),{field:"key",header:"Key"}),a(e(o),{field:"creator",header:"creator"}),a(e(o),{field:"created",header:"Created"},{body:s(c=>[u(f(new Date(c.data.created).toISOString()),1)]),_:1})]),_:1},8,["value"]),a(e(D),{class:"p-button-success",label:"Add Key",onClick:d})]),_:1})],64))}});export{B as default};
