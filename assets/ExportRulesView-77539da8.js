import{x as qa,ae as Ka,C as za,G as Ba,e as Ja,b as Cr,H as Ir,f as Qs,o as Ha,an as Ga,J as _n}from"./index-db3394f4.js";var Wa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gr={},Ya={get exports(){return Gr},set exports(e){Gr=e}},Si={},De={},Ut={},$r={},W={},yr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(w){if(super(),!e.IDENTIFIER.test(w))throw new Error("CodeGen: name must be a valid identifier");this.str=w}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(w){super(),this._items=typeof w=="string"?[w]:w}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const w=this._items[0];return w===""||w==='""'}get str(){var w;return(w=this._str)!==null&&w!==void 0?w:this._str=this._items.reduce((S,T)=>`${S}${T}`,"")}get names(){var w;return(w=this._names)!==null&&w!==void 0?w:this._names=this._items.reduce((S,T)=>(T instanceof r&&(S[T.str]=(S[T.str]||0)+1),S),{})}}e._Code=n,e.nil=new n("");function s(m,...w){const S=[m[0]];let T=0;for(;T<w.length;)o(S,w[T]),S.push(m[++T]);return new n(S)}e._=s;const i=new n("+");function a(m,...w){const S=[_(m[0])];let T=0;for(;T<w.length;)S.push(i),o(S,w[T]),S.push(i,_(m[++T]));return l(S),new n(S)}e.str=a;function o(m,w){w instanceof n?m.push(...w._items):w instanceof r?m.push(w):m.push(h(w))}e.addCodeArg=o;function l(m){let w=1;for(;w<m.length-1;){if(m[w]===i){const S=u(m[w-1],m[w+1]);if(S!==void 0){m.splice(w-1,3,S);continue}m[w++]="+"}w++}}function u(m,w){if(w==='""')return m;if(m==='""')return w;if(typeof m=="string")return w instanceof r||m[m.length-1]!=='"'?void 0:typeof w!="string"?`${m.slice(0,-1)}${w}"`:w[0]==='"'?m.slice(0,-1)+w.slice(1):void 0;if(typeof w=="string"&&w[0]==='"'&&!(m instanceof r))return`"${m}${w.slice(1)}`}function d(m,w){return w.emptyStr()?m:m.emptyStr()?w:a`${m}${w}`}e.strConcat=d;function h(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:_(Array.isArray(m)?m.join(","):m)}function O(m){return new n(_(m))}e.stringify=O;function _(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=_;function b(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):s`[${m}]`}e.getProperty=b;function v(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=v;function y(m){return new n(m.toString())}e.regexpCode=y})(yr);var Tn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=yr;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:u,parent:d}={}){this._names={},this._prefixes=u,this._parent=d}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const d=this._names[u]||this._nameGroup(u);return`${u}${d.index++}`}_nameGroup(u){var d,h;if(!((h=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||h===void 0)&&h.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=s;class i extends t.Name{constructor(u,d){super(d),this.prefix=u}setValue(u,{property:d,itemIndex:h}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(d)}[${h}]`}}e.ValueScopeName=i;const a=(0,t._)`\n`;class o extends s{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?a:t.nil}}get(){return this._scope}name(u){return new i(u,this._newName(u))}value(u,d){var h;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const O=this.toName(u),{prefix:_}=O,b=(h=d.key)!==null&&h!==void 0?h:d.ref;let v=this._values[_];if(v){const w=v.get(b);if(w)return w}else v=this._values[_]=new Map;v.set(b,O);const y=this._scope[_]||(this._scope[_]=[]),m=y.length;return y[m]=d.ref,O.setValue(d,{property:_,itemIndex:m}),O}getValue(u,d){const h=this._values[u];if(h)return h.get(d)}scopeRefs(u,d=this._values){return this._reduceValues(d,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${u}${h.scopePath}`})}scopeCode(u=this._values,d,h){return this._reduceValues(u,O=>{if(O.value===void 0)throw new Error(`CodeGen: name "${O}" has no value`);return O.value.code},d,h)}_reduceValues(u,d,h={},O){let _=t.nil;for(const b in u){const v=u[b];if(!v)continue;const y=h[b]=h[b]||new Map;v.forEach(m=>{if(y.has(m))return;y.set(m,n.Started);let w=d(m);if(w){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;_=(0,t._)`${_}${S} ${m} = ${w};${this.opts._n}`}else if(w=O==null?void 0:O(m))_=(0,t._)`${_}${w}${this.opts._n}`;else throw new r(m);y.set(m,n.Completed)})}return _}}e.ValueScope=o})(Tn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=yr,r=Tn;var n=yr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Tn;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(c,g){return this}}class a extends i{constructor(c,g,k){super(),this.varKind=c,this.name=g,this.rhs=k}render({es5:c,_n:g}){const k=c?r.varKinds.var:this.varKind,F=this.rhs===void 0?"":` = ${this.rhs}`;return`${k} ${this.name}${F};`+g}optimizeNames(c,g){if(c[this.name.str])return this.rhs&&(this.rhs=de(this.rhs,c,g)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class o extends i{constructor(c,g,k){super(),this.lhs=c,this.rhs=g,this.sideEffects=k}render({_n:c}){return`${this.lhs} = ${this.rhs};`+c}optimizeNames(c,g){if(!(this.lhs instanceof t.Name&&!c[this.lhs.str]&&!this.sideEffects))return this.rhs=de(this.rhs,c,g),this}get names(){const c=this.lhs instanceof t.Name?{}:{...this.lhs.names};return Ne(c,this.rhs)}}class l extends o{constructor(c,g,k,F){super(c,k,F),this.op=g}render({_n:c}){return`${this.lhs} ${this.op}= ${this.rhs};`+c}}class u extends i{constructor(c){super(),this.label=c,this.names={}}render({_n:c}){return`${this.label}:`+c}}class d extends i{constructor(c){super(),this.label=c,this.names={}}render({_n:c}){return`break${this.label?` ${this.label}`:""};`+c}}class h extends i{constructor(c){super(),this.error=c}render({_n:c}){return`throw ${this.error};`+c}get names(){return this.error.names}}class O extends i{constructor(c){super(),this.code=c}render({_n:c}){return`${this.code};`+c}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(c,g){return this.code=de(this.code,c,g),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class _ extends i{constructor(c=[]){super(),this.nodes=c}render(c){return this.nodes.reduce((g,k)=>g+k.render(c),"")}optimizeNodes(){const{nodes:c}=this;let g=c.length;for(;g--;){const k=c[g].optimizeNodes();Array.isArray(k)?c.splice(g,1,...k):k?c[g]=k:c.splice(g,1)}return c.length>0?this:void 0}optimizeNames(c,g){const{nodes:k}=this;let F=k.length;for(;F--;){const L=k[F];L.optimizeNames(c,g)||(at(c,L.names),k.splice(F,1))}return k.length>0?this:void 0}get names(){return this.nodes.reduce((c,g)=>J(c,g.names),{})}}class b extends _{render(c){return"{"+c._n+super.render(c)+"}"+c._n}}class v extends _{}class y extends b{}y.kind="else";class m extends b{constructor(c,g){super(g),this.condition=c}render(c){let g=`if(${this.condition})`+super.render(c);return this.else&&(g+="else "+this.else.render(c)),g}optimizeNodes(){super.optimizeNodes();const c=this.condition;if(c===!0)return this.nodes;let g=this.else;if(g){const k=g.optimizeNodes();g=this.else=Array.isArray(k)?new y(k):k}if(g)return c===!1?g instanceof m?g:g.nodes:this.nodes.length?this:new m(ot(c),g instanceof m?[g]:g.nodes);if(!(c===!1||!this.nodes.length))return this}optimizeNames(c,g){var k;if(this.else=(k=this.else)===null||k===void 0?void 0:k.optimizeNames(c,g),!!(super.optimizeNames(c,g)||this.else))return this.condition=de(this.condition,c,g),this}get names(){const c=super.names;return Ne(c,this.condition),this.else&&J(c,this.else.names),c}}m.kind="if";class w extends b{}w.kind="for";class S extends w{constructor(c){super(),this.iteration=c}render(c){return`for(${this.iteration})`+super.render(c)}optimizeNames(c,g){if(super.optimizeNames(c,g))return this.iteration=de(this.iteration,c,g),this}get names(){return J(super.names,this.iteration.names)}}class T extends w{constructor(c,g,k,F){super(),this.varKind=c,this.name=g,this.from=k,this.to=F}render(c){const g=c.es5?r.varKinds.var:this.varKind,{name:k,from:F,to:L}=this;return`for(${g} ${k}=${F}; ${k}<${L}; ${k}++)`+super.render(c)}get names(){const c=Ne(super.names,this.from);return Ne(c,this.to)}}class A extends w{constructor(c,g,k,F){super(),this.loop=c,this.varKind=g,this.name=k,this.iterable=F}render(c){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(c)}optimizeNames(c,g){if(super.optimizeNames(c,g))return this.iterable=de(this.iterable,c,g),this}get names(){return J(super.names,this.iterable.names)}}class E extends b{constructor(c,g,k){super(),this.name=c,this.args=g,this.async=k}render(c){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(c)}}E.kind="func";class I extends _{render(c){return"return "+super.render(c)}}I.kind="return";class D extends b{render(c){let g="try"+super.render(c);return this.catch&&(g+=this.catch.render(c)),this.finally&&(g+=this.finally.render(c)),g}optimizeNodes(){var c,g;return super.optimizeNodes(),(c=this.catch)===null||c===void 0||c.optimizeNodes(),(g=this.finally)===null||g===void 0||g.optimizeNodes(),this}optimizeNames(c,g){var k,F;return super.optimizeNames(c,g),(k=this.catch)===null||k===void 0||k.optimizeNames(c,g),(F=this.finally)===null||F===void 0||F.optimizeNames(c,g),this}get names(){const c=super.names;return this.catch&&J(c,this.catch.names),this.finally&&J(c,this.finally.names),c}}class K extends b{constructor(c){super(),this.error=c}render(c){return`catch(${this.error})`+super.render(c)}}K.kind="catch";class H extends b{render(c){return"finally"+super.render(c)}}H.kind="finally";class te{constructor(c,g={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...g,_n:g.lines?`
`:""},this._extScope=c,this._scope=new r.Scope({parent:c}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(c){return this._scope.name(c)}scopeName(c){return this._extScope.name(c)}scopeValue(c,g){const k=this._extScope.value(c,g);return(this._values[k.prefix]||(this._values[k.prefix]=new Set)).add(k),k}getScopeValue(c,g){return this._extScope.getValue(c,g)}scopeRefs(c){return this._extScope.scopeRefs(c,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(c,g,k,F){const L=this._scope.toName(g);return k!==void 0&&F&&(this._constants[L.str]=k),this._leafNode(new a(c,L,k)),L}const(c,g,k){return this._def(r.varKinds.const,c,g,k)}let(c,g,k){return this._def(r.varKinds.let,c,g,k)}var(c,g,k){return this._def(r.varKinds.var,c,g,k)}assign(c,g,k){return this._leafNode(new o(c,g,k))}add(c,g){return this._leafNode(new l(c,e.operators.ADD,g))}code(c){return typeof c=="function"?c():c!==t.nil&&this._leafNode(new O(c)),this}object(...c){const g=["{"];for(const[k,F]of c)g.length>1&&g.push(","),g.push(k),(k!==F||this.opts.es5)&&(g.push(":"),(0,t.addCodeArg)(g,F));return g.push("}"),new t._Code(g)}if(c,g,k){if(this._blockNode(new m(c)),g&&k)this.code(g).else().code(k).endIf();else if(g)this.code(g).endIf();else if(k)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(c){return this._elseNode(new m(c))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(m,y)}_for(c,g){return this._blockNode(c),g&&this.code(g).endFor(),this}for(c,g){return this._for(new S(c),g)}forRange(c,g,k,F,L=this.opts.es5?r.varKinds.var:r.varKinds.let){const Q=this._scope.toName(c);return this._for(new T(L,Q,g,k),()=>F(Q))}forOf(c,g,k,F=r.varKinds.const){const L=this._scope.toName(c);if(this.opts.es5){const Q=g instanceof t.Name?g:this.var("_arr",g);return this.forRange("_i",0,(0,t._)`${Q}.length`,X=>{this.var(L,(0,t._)`${Q}[${X}]`),k(L)})}return this._for(new A("of",F,L,g),()=>k(L))}forIn(c,g,k,F=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(c,(0,t._)`Object.keys(${g})`,k);const L=this._scope.toName(c);return this._for(new A("in",F,L,g),()=>k(L))}endFor(){return this._endBlockNode(w)}label(c){return this._leafNode(new u(c))}break(c){return this._leafNode(new d(c))}return(c){const g=new I;if(this._blockNode(g),this.code(c),g.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(I)}try(c,g,k){if(!g&&!k)throw new Error('CodeGen: "try" without "catch" and "finally"');const F=new D;if(this._blockNode(F),this.code(c),g){const L=this.name("e");this._currNode=F.catch=new K(L),g(L)}return k&&(this._currNode=F.finally=new H,this.code(k)),this._endBlockNode(K,H)}throw(c){return this._leafNode(new h(c))}block(c,g){return this._blockStarts.push(this._nodes.length),c&&this.code(c).endBlock(g),this}endBlock(c){const g=this._blockStarts.pop();if(g===void 0)throw new Error("CodeGen: not in self-balancing block");const k=this._nodes.length-g;if(k<0||c!==void 0&&k!==c)throw new Error(`CodeGen: wrong number of nodes: ${k} vs ${c} expected`);return this._nodes.length=g,this}func(c,g=t.nil,k,F){return this._blockNode(new E(c,g,k)),F&&this.code(F).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(c=1){for(;c-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(c){return this._currNode.nodes.push(c),this}_blockNode(c){this._currNode.nodes.push(c),this._nodes.push(c)}_endBlockNode(c,g){const k=this._currNode;if(k instanceof c||g&&k instanceof g)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${g?`${c.kind}/${g.kind}`:c.kind}"`)}_elseNode(c){const g=this._currNode;if(!(g instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=g.else=c,this}get _root(){return this._nodes[0]}get _currNode(){const c=this._nodes;return c[c.length-1]}set _currNode(c){const g=this._nodes;g[g.length-1]=c}}e.CodeGen=te;function J(P,c){for(const g in c)P[g]=(P[g]||0)+(c[g]||0);return P}function Ne(P,c){return c instanceof t._CodeOrName?J(P,c.names):P}function de(P,c,g){if(P instanceof t.Name)return k(P);if(!F(P))return P;return new t._Code(P._items.reduce((L,Q)=>(Q instanceof t.Name&&(Q=k(Q)),Q instanceof t._Code?L.push(...Q._items):L.push(Q),L),[]));function k(L){const Q=g[L.str];return Q===void 0||c[L.str]!==1?L:(delete c[L.str],Q)}function F(L){return L instanceof t._Code&&L._items.some(Q=>Q instanceof t.Name&&c[Q.str]===1&&g[Q.str]!==void 0)}}function at(P,c){for(const g in c)P[g]=(P[g]||0)-(c[g]||0)}function ot(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${R(P)}`}e.not=ot;const bt=N(e.operators.AND);function Wt(...P){return P.reduce(bt)}e.and=Wt;const Et=N(e.operators.OR);function M(...P){return P.reduce(Et)}e.or=M;function N(P){return(c,g)=>c===t.nil?g:g===t.nil?c:(0,t._)`${R(c)} ${P} ${R(g)}`}function R(P){return P instanceof t.Name?P:(0,t._)`(${P})`}})(W);var x={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=W,r=yr;function n(E){const I={};for(const D of E)I[D]=!0;return I}e.toHash=n;function s(E,I){return typeof I=="boolean"?I:Object.keys(I).length===0?!0:(i(E,I),!a(I,E.self.RULES.all))}e.alwaysValidSchema=s;function i(E,I=E.schema){const{opts:D,self:K}=E;if(!D.strictSchema||typeof I=="boolean")return;const H=K.RULES.keywords;for(const te in I)H[te]||A(E,`unknown keyword: "${te}"`)}e.checkUnknownRules=i;function a(E,I){if(typeof E=="boolean")return!E;for(const D in E)if(I[D])return!0;return!1}e.schemaHasRules=a;function o(E,I){if(typeof E=="boolean")return!E;for(const D in E)if(D!=="$ref"&&I.all[D])return!0;return!1}e.schemaHasRulesButRef=o;function l({topSchemaRef:E,schemaPath:I},D,K,H){if(!H){if(typeof D=="number"||typeof D=="boolean")return D;if(typeof D=="string")return(0,t._)`${D}`}return(0,t._)`${E}${I}${(0,t.getProperty)(K)}`}e.schemaRefOrVal=l;function u(E){return O(decodeURIComponent(E))}e.unescapeFragment=u;function d(E){return encodeURIComponent(h(E))}e.escapeFragment=d;function h(E){return typeof E=="number"?`${E}`:E.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=h;function O(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=O;function _(E,I){if(Array.isArray(E))for(const D of E)I(D);else I(E)}e.eachItem=_;function b({mergeNames:E,mergeToName:I,mergeValues:D,resultToName:K}){return(H,te,J,Ne)=>{const de=J===void 0?te:J instanceof t.Name?(te instanceof t.Name?E(H,te,J):I(H,te,J),J):te instanceof t.Name?(I(H,J,te),te):D(te,J);return Ne===t.Name&&!(de instanceof t.Name)?K(H,de):de}}e.mergeEvaluated={props:b({mergeNames:(E,I,D)=>E.if((0,t._)`${D} !== true && ${I} !== undefined`,()=>{E.if((0,t._)`${I} === true`,()=>E.assign(D,!0),()=>E.assign(D,(0,t._)`${D} || {}`).code((0,t._)`Object.assign(${D}, ${I})`))}),mergeToName:(E,I,D)=>E.if((0,t._)`${D} !== true`,()=>{I===!0?E.assign(D,!0):(E.assign(D,(0,t._)`${D} || {}`),y(E,D,I))}),mergeValues:(E,I)=>E===!0?!0:{...E,...I},resultToName:v}),items:b({mergeNames:(E,I,D)=>E.if((0,t._)`${D} !== true && ${I} !== undefined`,()=>E.assign(D,(0,t._)`${I} === true ? true : ${D} > ${I} ? ${D} : ${I}`)),mergeToName:(E,I,D)=>E.if((0,t._)`${D} !== true`,()=>E.assign(D,I===!0?!0:(0,t._)`${D} > ${I} ? ${D} : ${I}`)),mergeValues:(E,I)=>E===!0?!0:Math.max(E,I),resultToName:(E,I)=>E.var("items",I)})};function v(E,I){if(I===!0)return E.var("props",!0);const D=E.var("props",(0,t._)`{}`);return I!==void 0&&y(E,D,I),D}e.evaluatedPropsToName=v;function y(E,I,D){Object.keys(D).forEach(K=>E.assign((0,t._)`${I}${(0,t.getProperty)(K)}`,!0))}e.setEvaluated=y;const m={};function w(E,I){return E.scopeValue("func",{ref:I,code:m[I.code]||(m[I.code]=new r._Code(I.code))})}e.useFunc=w;var S;(function(E){E[E.Num=0]="Num",E[E.Str=1]="Str"})(S=e.Type||(e.Type={}));function T(E,I,D){if(E instanceof t.Name){const K=I===S.Num;return D?K?(0,t._)`"[" + ${E} + "]"`:(0,t._)`"['" + ${E} + "']"`:K?(0,t._)`"/" + ${E}`:(0,t._)`"/" + ${E}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return D?(0,t.getProperty)(E).toString():"/"+h(E)}e.getErrorPath=T;function A(E,I,D=E.opts.strictSchema){if(D){if(I=`strict mode: ${I}`,D===!0)throw new Error(I);E.self.logger.warn(I)}}e.checkStrictMode=A})(x);var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0});const ve=W,Xa={data:new ve.Name("data"),valCxt:new ve.Name("valCxt"),instancePath:new ve.Name("instancePath"),parentData:new ve.Name("parentData"),parentDataProperty:new ve.Name("parentDataProperty"),rootData:new ve.Name("rootData"),dynamicAnchors:new ve.Name("dynamicAnchors"),vErrors:new ve.Name("vErrors"),errors:new ve.Name("errors"),this:new ve.Name("this"),self:new ve.Name("self"),scope:new ve.Name("scope"),json:new ve.Name("json"),jsonPos:new ve.Name("jsonPos"),jsonLen:new ve.Name("jsonLen"),jsonPart:new ve.Name("jsonPart")};Ge.default=Xa;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=W,r=x,n=Ge;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:m})=>m?(0,t.str)`"${y}" keyword must be ${m} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function s(y,m=e.keywordError,w,S){const{it:T}=y,{gen:A,compositeRule:E,allErrors:I}=T,D=h(y,m,w);S??(E||I)?l(A,D):u(T,(0,t._)`[${D}]`)}e.reportError=s;function i(y,m=e.keywordError,w){const{it:S}=y,{gen:T,compositeRule:A,allErrors:E}=S,I=h(y,m,w);l(T,I),A||E||u(S,n.default.vErrors)}e.reportExtraError=i;function a(y,m){y.assign(n.default.errors,m),y.if((0,t._)`${n.default.vErrors} !== null`,()=>y.if(m,()=>y.assign((0,t._)`${n.default.vErrors}.length`,m),()=>y.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function o({gen:y,keyword:m,schemaValue:w,data:S,errsCount:T,it:A}){if(T===void 0)throw new Error("ajv implementation error");const E=y.name("err");y.forRange("i",T,n.default.errors,I=>{y.const(E,(0,t._)`${n.default.vErrors}[${I}]`),y.if((0,t._)`${E}.instancePath === undefined`,()=>y.assign((0,t._)`${E}.instancePath`,(0,t.strConcat)(n.default.instancePath,A.errorPath))),y.assign((0,t._)`${E}.schemaPath`,(0,t.str)`${A.errSchemaPath}/${m}`),A.opts.verbose&&(y.assign((0,t._)`${E}.schema`,w),y.assign((0,t._)`${E}.data`,S))})}e.extendErrors=o;function l(y,m){const w=y.const("err",m);y.if((0,t._)`${n.default.vErrors} === null`,()=>y.assign(n.default.vErrors,(0,t._)`[${w}]`),(0,t._)`${n.default.vErrors}.push(${w})`),y.code((0,t._)`${n.default.errors}++`)}function u(y,m){const{gen:w,validateName:S,schemaEnv:T}=y;T.$async?w.throw((0,t._)`new ${y.ValidationError}(${m})`):(w.assign((0,t._)`${S}.errors`,m),w.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(y,m,w){const{createErrors:S}=y.it;return S===!1?(0,t._)`{}`:O(y,m,w)}function O(y,m,w={}){const{gen:S,it:T}=y,A=[_(T,w),b(y,w)];return v(y,m,A),S.object(...A)}function _({errorPath:y},{instancePath:m}){const w=m?(0,t.str)`${y}${(0,r.getErrorPath)(m,r.Type.Str)}`:y;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,w)]}function b({keyword:y,it:{errSchemaPath:m}},{schemaPath:w,parentSchema:S}){let T=S?m:(0,t.str)`${m}/${y}`;return w&&(T=(0,t.str)`${T}${(0,r.getErrorPath)(w,r.Type.Str)}`),[d.schemaPath,T]}function v(y,{params:m,message:w},S){const{keyword:T,data:A,schemaValue:E,it:I}=y,{opts:D,propertyName:K,topSchemaRef:H,schemaPath:te}=I;S.push([d.keyword,T],[d.params,typeof m=="function"?m(y):m||(0,t._)`{}`]),D.messages&&S.push([d.message,typeof w=="function"?w(y):w]),D.verbose&&S.push([d.schema,E],[d.parentSchema,(0,t._)`${H}${te}`],[n.default.data,A]),K&&S.push([d.propertyName,K])}})($r);Object.defineProperty(Ut,"__esModule",{value:!0});Ut.boolOrEmptySchema=Ut.topBoolOrEmptySchema=void 0;const Za=$r,xa=W,eo=Ge,to={message:"boolean schema is false"};function ro(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Oi(e,!1):typeof r=="object"&&r.$async===!0?t.return(eo.default.data):(t.assign((0,xa._)`${n}.errors`,null),t.return(!0))}Ut.topBoolOrEmptySchema=ro;function no(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Oi(e)):r.var(t,!0)}Ut.boolOrEmptySchema=no;function Oi(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Za.reportError)(s,to,void 0,t)}var vr={},$t={};Object.defineProperty($t,"__esModule",{value:!0});$t.getRules=$t.isJSONType=void 0;const so=["string","number","integer","boolean","null","object","array"],io=new Set(so);function ao(e){return typeof e=="string"&&io.has(e)}$t.isJSONType=ao;function oo(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}$t.getRules=oo;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.shouldUseRule=Ye.shouldUseGroup=Ye.schemaHasRulesForType=void 0;function co({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Ni(e,n)}Ye.schemaHasRulesForType=co;function Ni(e,t){return t.rules.some(r=>Pi(e,r))}Ye.shouldUseGroup=Ni;function Pi(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Ye.shouldUseRule=Pi;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=$t,r=Ye,n=$r,s=W,i=x;var a;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(a=e.DataType||(e.DataType={}));function o(S){const T=l(S.type);if(T.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!T.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&T.push("null")}return T}e.getSchemaTypes=o;function l(S){const T=Array.isArray(S)?S:S?[S]:[];if(T.every(t.isJSONType))return T;throw new Error("type must be JSONType or JSONType[]: "+T.join(","))}e.getJSONTypes=l;function u(S,T){const{gen:A,data:E,opts:I}=S,D=h(T,I.coerceTypes),K=T.length>0&&!(D.length===0&&T.length===1&&(0,r.schemaHasRulesForType)(S,T[0]));if(K){const H=v(T,E,I.strictNumbers,a.Wrong);A.if(H,()=>{D.length?O(S,T,D):m(S)})}return K}e.coerceAndCheckDataType=u;const d=new Set(["string","number","integer","boolean","null"]);function h(S,T){return T?S.filter(A=>d.has(A)||T==="array"&&A==="array"):[]}function O(S,T,A){const{gen:E,data:I,opts:D}=S,K=E.let("dataType",(0,s._)`typeof ${I}`),H=E.let("coerced",(0,s._)`undefined`);D.coerceTypes==="array"&&E.if((0,s._)`${K} == 'object' && Array.isArray(${I}) && ${I}.length == 1`,()=>E.assign(I,(0,s._)`${I}[0]`).assign(K,(0,s._)`typeof ${I}`).if(v(T,I,D.strictNumbers),()=>E.assign(H,I))),E.if((0,s._)`${H} !== undefined`);for(const J of A)(d.has(J)||J==="array"&&D.coerceTypes==="array")&&te(J);E.else(),m(S),E.endIf(),E.if((0,s._)`${H} !== undefined`,()=>{E.assign(I,H),_(S,H)});function te(J){switch(J){case"string":E.elseIf((0,s._)`${K} == "number" || ${K} == "boolean"`).assign(H,(0,s._)`"" + ${I}`).elseIf((0,s._)`${I} === null`).assign(H,(0,s._)`""`);return;case"number":E.elseIf((0,s._)`${K} == "boolean" || ${I} === null
              || (${K} == "string" && ${I} && ${I} == +${I})`).assign(H,(0,s._)`+${I}`);return;case"integer":E.elseIf((0,s._)`${K} === "boolean" || ${I} === null
              || (${K} === "string" && ${I} && ${I} == +${I} && !(${I} % 1))`).assign(H,(0,s._)`+${I}`);return;case"boolean":E.elseIf((0,s._)`${I} === "false" || ${I} === 0 || ${I} === null`).assign(H,!1).elseIf((0,s._)`${I} === "true" || ${I} === 1`).assign(H,!0);return;case"null":E.elseIf((0,s._)`${I} === "" || ${I} === 0 || ${I} === false`),E.assign(H,null);return;case"array":E.elseIf((0,s._)`${K} === "string" || ${K} === "number"
              || ${K} === "boolean" || ${I} === null`).assign(H,(0,s._)`[${I}]`)}}}function _({gen:S,parentData:T,parentDataProperty:A},E){S.if((0,s._)`${T} !== undefined`,()=>S.assign((0,s._)`${T}[${A}]`,E))}function b(S,T,A,E=a.Correct){const I=E===a.Correct?s.operators.EQ:s.operators.NEQ;let D;switch(S){case"null":return(0,s._)`${T} ${I} null`;case"array":D=(0,s._)`Array.isArray(${T})`;break;case"object":D=(0,s._)`${T} && typeof ${T} == "object" && !Array.isArray(${T})`;break;case"integer":D=K((0,s._)`!(${T} % 1) && !isNaN(${T})`);break;case"number":D=K();break;default:return(0,s._)`typeof ${T} ${I} ${S}`}return E===a.Correct?D:(0,s.not)(D);function K(H=s.nil){return(0,s.and)((0,s._)`typeof ${T} == "number"`,H,A?(0,s._)`isFinite(${T})`:s.nil)}}e.checkDataType=b;function v(S,T,A,E){if(S.length===1)return b(S[0],T,A,E);let I;const D=(0,i.toHash)(S);if(D.array&&D.object){const K=(0,s._)`typeof ${T} != "object"`;I=D.null?K:(0,s._)`!${T} || ${K}`,delete D.null,delete D.array,delete D.object}else I=s.nil;D.number&&delete D.integer;for(const K in D)I=(0,s.and)(I,b(K,T,A,E));return I}e.checkDataTypes=v;const y={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:T})=>typeof S=="string"?(0,s._)`{type: ${S}}`:(0,s._)`{type: ${T}}`};function m(S){const T=w(S);(0,n.reportError)(T,y)}e.reportTypeError=m;function w(S){const{gen:T,data:A,schema:E}=S,I=(0,i.schemaRefOrVal)(S,E,"type");return{gen:T,keyword:"type",data:A,schema:E.type,schemaCode:I,schemaValue:I,parentSchema:E,params:{},it:S}}})(vr);var nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.assignDefaults=void 0;const It=W,lo=x;function uo(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)Ys(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,i)=>Ys(e,i,s.default))}nn.assignDefaults=uo;function Ys(e,t,r){const{gen:n,compositeRule:s,data:i,opts:a}=e;if(r===void 0)return;const o=(0,It._)`${i}${(0,It.getProperty)(t)}`;if(s){(0,lo.checkStrictMode)(e,`default is ignored for: ${o}`);return}let l=(0,It._)`${o} === undefined`;a.useDefaults==="empty"&&(l=(0,It._)`${l} || ${o} === null || ${o} === ""`),n.if(l,(0,It._)`${o} = ${(0,It.stringify)(r)}`)}var Je={},G={};Object.defineProperty(G,"__esModule",{value:!0});G.validateUnion=G.validateArray=G.usePattern=G.callValidateCode=G.schemaProperties=G.allSchemaProperties=G.noPropertyInData=G.propertyInData=G.isOwnProperty=G.hasPropFunc=G.reportMissingProp=G.checkMissingProp=G.checkReportMissingProp=void 0;const se=W,Ln=x,xe=Ge,fo=x;function ho(e,t){const{gen:r,data:n,it:s}=e;r.if(Un(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,se._)`${t}`},!0),e.error()})}G.checkReportMissingProp=ho;function mo({gen:e,data:t,it:{opts:r}},n,s){return(0,se.or)(...n.map(i=>(0,se.and)(Un(e,t,i,r.ownProperties),(0,se._)`${s} = ${i}`)))}G.checkMissingProp=mo;function po(e,t){e.setParams({missingProperty:t},!0),e.error()}G.reportMissingProp=po;function ji(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,se._)`Object.prototype.hasOwnProperty`})}G.hasPropFunc=ji;function Vn(e,t,r){return(0,se._)`${ji(e)}.call(${t}, ${r})`}G.isOwnProperty=Vn;function yo(e,t,r,n){const s=(0,se._)`${t}${(0,se.getProperty)(r)} !== undefined`;return n?(0,se._)`${s} && ${Vn(e,t,r)}`:s}G.propertyInData=yo;function Un(e,t,r,n){const s=(0,se._)`${t}${(0,se.getProperty)(r)} === undefined`;return n?(0,se.or)(s,(0,se.not)(Vn(e,t,r))):s}G.noPropertyInData=Un;function Ti(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}G.allSchemaProperties=Ti;function go(e,t){return Ti(t).filter(r=>!(0,Ln.alwaysValidSchema)(e,t[r]))}G.schemaProperties=go;function $o({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:i},it:a},o,l,u){const d=u?(0,se._)`${e}, ${t}, ${n}${s}`:t,h=[[xe.default.instancePath,(0,se.strConcat)(xe.default.instancePath,i)],[xe.default.parentData,a.parentData],[xe.default.parentDataProperty,a.parentDataProperty],[xe.default.rootData,xe.default.rootData]];a.opts.dynamicRef&&h.push([xe.default.dynamicAnchors,xe.default.dynamicAnchors]);const O=(0,se._)`${d}, ${r.object(...h)}`;return l!==se.nil?(0,se._)`${o}.call(${l}, ${O})`:(0,se._)`${o}(${O})`}G.callValidateCode=$o;const vo=(0,se._)`new RegExp`;function _o({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,i=s(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,se._)`${s.code==="new RegExp"?vo:(0,fo.useFunc)(e,s)}(${r}, ${n})`})}G.usePattern=_o;function wo(e){const{gen:t,data:r,keyword:n,it:s}=e,i=t.name("valid");if(s.allErrors){const o=t.let("valid",!0);return a(()=>t.assign(o,!1)),o}return t.var(i,!0),a(()=>t.break()),i;function a(o){const l=t.const("len",(0,se._)`${r}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:Ln.Type.Num},i),t.if((0,se.not)(i),o)})}}G.validateArray=wo;function bo(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,Ln.alwaysValidSchema)(s,l))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),o=t.name("_valid");t.block(()=>r.forEach((l,u)=>{const d=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},o);t.assign(a,(0,se._)`${a} || ${o}`),e.mergeValidEvaluated(d,o)||t.if((0,se.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}G.validateUnion=bo;Object.defineProperty(Je,"__esModule",{value:!0});Je.validateKeywordUsage=Je.validSchemaType=Je.funcKeywordCode=Je.macroKeywordCode=void 0;const _e=W,mt=Ge,Eo=G,So=$r;function Oo(e,t){const{gen:r,keyword:n,schema:s,parentSchema:i,it:a}=e,o=t.macro.call(a.self,s,i,a),l=Ci(r,n,o);a.opts.validateSchema!==!1&&a.self.validateSchema(o,!0);const u=r.name("valid");e.subschema({schema:o,schemaPath:_e.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}Je.macroKeywordCode=Oo;function No(e,t){var r;const{gen:n,keyword:s,schema:i,parentSchema:a,$data:o,it:l}=e;jo(l,t);const u=!o&&t.compile?t.compile.call(l.self,i,a,l):t.validate,d=Ci(n,s,u),h=n.let("valid");e.block$data(h,O),e.ok((r=t.valid)!==null&&r!==void 0?r:h);function O(){if(t.errors===!1)v(),t.modifying&&Xs(e),y(()=>e.error());else{const m=t.async?_():b();t.modifying&&Xs(e),y(()=>Po(e,m))}}function _(){const m=n.let("ruleErrs",null);return n.try(()=>v((0,_e._)`await `),w=>n.assign(h,!1).if((0,_e._)`${w} instanceof ${l.ValidationError}`,()=>n.assign(m,(0,_e._)`${w}.errors`),()=>n.throw(w))),m}function b(){const m=(0,_e._)`${d}.errors`;return n.assign(m,null),v(_e.nil),m}function v(m=t.async?(0,_e._)`await `:_e.nil){const w=l.opts.passContext?mt.default.this:mt.default.self,S=!("compile"in t&&!o||t.schema===!1);n.assign(h,(0,_e._)`${m}${(0,Eo.callValidateCode)(e,d,w,S)}`,t.modifying)}function y(m){var w;n.if((0,_e.not)((w=t.valid)!==null&&w!==void 0?w:h),m)}}Je.funcKeywordCode=No;function Xs(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,_e._)`${n.parentData}[${n.parentDataProperty}]`))}function Po(e,t){const{gen:r}=e;r.if((0,_e._)`Array.isArray(${t})`,()=>{r.assign(mt.default.vErrors,(0,_e._)`${mt.default.vErrors} === null ? ${t} : ${mt.default.vErrors}.concat(${t})`).assign(mt.default.errors,(0,_e._)`${mt.default.vErrors}.length`),(0,So.extendErrors)(e)},()=>e.error())}function jo({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Ci(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,_e.stringify)(r)})}function To(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Je.validSchemaType=To;function Co({schema:e,opts:t,self:r,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");const a=s.dependencies;if(a!=null&&a.some(o=>!Object.prototype.hasOwnProperty.call(e,o)))throw new Error(`parent schema must have dependencies of ${i}: ${a.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[i])){const l=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Je.validateKeywordUsage=Co;var st={};Object.defineProperty(st,"__esModule",{value:!0});st.extendSubschemaMode=st.extendSubschemaData=st.getSubschema=void 0;const Be=W,Ii=x;function Io(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:a}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const o=e.schema[t];return r===void 0?{schema:o,schemaPath:(0,Be._)`${e.schemaPath}${(0,Be.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[r],schemaPath:(0,Be._)`${e.schemaPath}${(0,Be.getProperty)(t)}${(0,Be.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Ii.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||i===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:a,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}st.getSubschema=Io;function ko(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:i,propertyName:a}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=t;if(r!==void 0){const{errorPath:u,dataPathArr:d,opts:h}=t,O=o.let("data",(0,Be._)`${t.data}${(0,Be.getProperty)(r)}`,!0);l(O),e.errorPath=(0,Be.str)`${u}${(0,Ii.getErrorPath)(r,n,h.jsPropertySyntax)}`,e.parentDataProperty=(0,Be._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(s!==void 0){const u=s instanceof Be.Name?s:o.let("data",s,!0);l(u),a!==void 0&&(e.propertyName=a)}i&&(e.dataTypes=i);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}st.extendSubschemaData=ko;function Ao(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}st.extendSubschemaMode=Ao;var $e={},ki=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var a=i[s];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r},Cn={},Ro={get exports(){return Cn},set exports(e){Cn=e}},rt=Ro.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Ur(t,n,s,e,"",e)};rt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};rt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};rt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};rt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ur(e,t,r,n,s,i,a,o,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,i,a,o,l,u);for(var d in n){var h=n[d];if(Array.isArray(h)){if(d in rt.arrayKeywords)for(var O=0;O<h.length;O++)Ur(e,t,r,h[O],s+"/"+d+"/"+O,i,s,d,n,O)}else if(d in rt.propsKeywords){if(h&&typeof h=="object")for(var _ in h)Ur(e,t,r,h[_],s+"/"+d+"/"+Do(_),i,s,d,n,_)}else(d in rt.keywords||e.allKeys&&!(d in rt.skipKeywords))&&Ur(e,t,r,h,s+"/"+d,i,s,d,n)}r(n,s,i,a,o,l,u)}}function Do(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty($e,"__esModule",{value:!0});$e.getSchemaRefs=$e.resolveUrl=$e.normalizeId=$e._getFullPath=$e.getFullPath=$e.inlineRef=void 0;const Mo=x,Fo=ki,Lo=Cn,Vo=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Uo(e,t=!0){return typeof e=="boolean"?!0:t===!0?!In(e):t?Ai(e)<=t:!1}$e.inlineRef=Uo;const qo=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function In(e){for(const t in e){if(qo.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(In)||typeof r=="object"&&In(r))return!0}return!1}function Ai(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Vo.has(r)&&(typeof e[r]=="object"&&(0,Mo.eachItem)(e[r],n=>t+=Ai(n)),t===1/0))return 1/0}return t}function Ri(e,t="",r){r!==!1&&(t=Ft(t));const n=e.parse(t);return Di(e,n)}$e.getFullPath=Ri;function Di(e,t){return e.serialize(t).split("#")[0]+"#"}$e._getFullPath=Di;const Ko=/#\/?$/;function Ft(e){return e?e.replace(Ko,""):""}$e.normalizeId=Ft;function zo(e,t,r){return r=Ft(r),e.resolve(t,r)}$e.resolveUrl=zo;const Bo=/^[a-z_][-a-z0-9._]*$/i;function Jo(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=Ft(e[r]||t),i={"":s},a=Ri(n,s,!1),o={},l=new Set;return Lo(e,{allKeys:!0},(h,O,_,b)=>{if(b===void 0)return;const v=a+O;let y=i[b];typeof h[r]=="string"&&(y=m.call(this,h[r])),w.call(this,h.$anchor),w.call(this,h.$dynamicAnchor),i[O]=y;function m(S){const T=this.opts.uriResolver.resolve;if(S=Ft(y?T(y,S):S),l.has(S))throw d(S);l.add(S);let A=this.refs[S];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?u(h,A.schema,S):S!==Ft(v)&&(S[0]==="#"?(u(h,o[S],S),o[S]=h):this.refs[S]=v),S}function w(S){if(typeof S=="string"){if(!Bo.test(S))throw new Error(`invalid anchor "${S}"`);m.call(this,`#${S}`)}}}),o;function u(h,O,_){if(O!==void 0&&!Fo(h,O))throw d(_)}function d(h){return new Error(`reference "${h}" resolves to more than one schema`)}}$e.getSchemaRefs=Jo;Object.defineProperty(De,"__esModule",{value:!0});De.getData=De.KeywordCxt=De.validateFunctionCode=void 0;const Mi=Ut,Zs=vr,qn=Ye,Wr=vr,Ho=nn,lr=Je,wn=st,V=W,z=Ge,Go=$e,Xe=x,sr=$r;function Wo(e){if(Vi(e)&&(Ui(e),Li(e))){Xo(e);return}Fi(e,()=>(0,Mi.topBoolOrEmptySchema)(e))}De.validateFunctionCode=Wo;function Fi({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},i){s.code.es5?e.func(t,(0,V._)`${z.default.data}, ${z.default.valCxt}`,n.$async,()=>{e.code((0,V._)`"use strict"; ${xs(r,s)}`),Yo(e,s),e.code(i)}):e.func(t,(0,V._)`${z.default.data}, ${Qo(s)}`,n.$async,()=>e.code(xs(r,s)).code(i))}function Qo(e){return(0,V._)`{${z.default.instancePath}="", ${z.default.parentData}, ${z.default.parentDataProperty}, ${z.default.rootData}=${z.default.data}${e.dynamicRef?(0,V._)`, ${z.default.dynamicAnchors}={}`:V.nil}}={}`}function Yo(e,t){e.if(z.default.valCxt,()=>{e.var(z.default.instancePath,(0,V._)`${z.default.valCxt}.${z.default.instancePath}`),e.var(z.default.parentData,(0,V._)`${z.default.valCxt}.${z.default.parentData}`),e.var(z.default.parentDataProperty,(0,V._)`${z.default.valCxt}.${z.default.parentDataProperty}`),e.var(z.default.rootData,(0,V._)`${z.default.valCxt}.${z.default.rootData}`),t.dynamicRef&&e.var(z.default.dynamicAnchors,(0,V._)`${z.default.valCxt}.${z.default.dynamicAnchors}`)},()=>{e.var(z.default.instancePath,(0,V._)`""`),e.var(z.default.parentData,(0,V._)`undefined`),e.var(z.default.parentDataProperty,(0,V._)`undefined`),e.var(z.default.rootData,z.default.data),t.dynamicRef&&e.var(z.default.dynamicAnchors,(0,V._)`{}`)})}function Xo(e){const{schema:t,opts:r,gen:n}=e;Fi(e,()=>{r.$comment&&t.$comment&&Ki(e),rc(e),n.let(z.default.vErrors,null),n.let(z.default.errors,0),r.unevaluated&&Zo(e),qi(e),ic(e)})}function Zo(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,V._)`${r}.evaluated`),t.if((0,V._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,V._)`${e.evaluated}.props`,(0,V._)`undefined`)),t.if((0,V._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,V._)`${e.evaluated}.items`,(0,V._)`undefined`))}function xs(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,V._)`/*# sourceURL=${r} */`:V.nil}function xo(e,t){if(Vi(e)&&(Ui(e),Li(e))){ec(e,t);return}(0,Mi.boolOrEmptySchema)(e,t)}function Li({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Vi(e){return typeof e.schema!="boolean"}function ec(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&Ki(e),nc(e),sc(e);const i=n.const("_errs",z.default.errors);qi(e,i),n.var(t,(0,V._)`${i} === ${z.default.errors}`)}function Ui(e){(0,Xe.checkUnknownRules)(e),tc(e)}function qi(e,t){if(e.opts.jtd)return ei(e,[],!1,t);const r=(0,Zs.getSchemaTypes)(e.schema),n=(0,Zs.coerceAndCheckDataType)(e,r);ei(e,r,!n,t)}function tc(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Xe.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function rc(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Xe.checkStrictMode)(e,"default is ignored in the schema root")}function nc(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Go.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function sc(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Ki({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const i=r.$comment;if(s.$comment===!0)e.code((0,V._)`${z.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){const a=(0,V.str)`${n}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code((0,V._)`${z.default.self}.opts.$comment(${i}, ${a}, ${o}.schema)`)}}function ic(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:i}=e;r.$async?t.if((0,V._)`${z.default.errors} === 0`,()=>t.return(z.default.data),()=>t.throw((0,V._)`new ${s}(${z.default.vErrors})`)):(t.assign((0,V._)`${n}.errors`,z.default.vErrors),i.unevaluated&&ac(e),t.return((0,V._)`${z.default.errors} === 0`))}function ac({gen:e,evaluated:t,props:r,items:n}){r instanceof V.Name&&e.assign((0,V._)`${t}.props`,r),n instanceof V.Name&&e.assign((0,V._)`${t}.items`,n)}function ei(e,t,r,n){const{gen:s,schema:i,data:a,allErrors:o,opts:l,self:u}=e,{RULES:d}=u;if(i.$ref&&(l.ignoreKeywordsWithRef||!(0,Xe.schemaHasRulesButRef)(i,d))){s.block(()=>Ji(e,"$ref",d.all.$ref.definition));return}l.jtd||oc(e,t),s.block(()=>{for(const O of d.rules)h(O);h(d.post)});function h(O){(0,qn.shouldUseGroup)(i,O)&&(O.type?(s.if((0,Wr.checkDataType)(O.type,a,l.strictNumbers)),ti(e,O),t.length===1&&t[0]===O.type&&r&&(s.else(),(0,Wr.reportTypeError)(e)),s.endIf()):ti(e,O),o||s.if((0,V._)`${z.default.errors} === ${n||0}`))}}function ti(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,Ho.assignDefaults)(e,t.type),r.block(()=>{for(const i of t.rules)(0,qn.shouldUseRule)(n,i)&&Ji(e,i.keyword,i.definition,t.type)})}function oc(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(cc(e,t),e.opts.allowUnionTypes||lc(e,t),uc(e,e.dataTypes))}function cc(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{zi(e.dataTypes,r)||Kn(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),dc(e,t)}}function lc(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Kn(e,"use allowUnionTypes to allow union type keyword")}function uc(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,qn.shouldUseRule)(e.schema,s)){const{type:i}=s.definition;i.length&&!i.some(a=>fc(t,a))&&Kn(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function fc(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function zi(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function dc(e,t){const r=[];for(const n of e.dataTypes)zi(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Kn(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Xe.checkStrictMode)(e,t,e.opts.strictTypes)}class Bi{constructor(t,r,n){if((0,lr.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Xe.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Hi(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,lr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",z.default.errors))}result(t,r,n){this.failResult((0,V.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,V.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,V._)`${r} !== undefined && (${(0,V.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?sr.reportExtraError:sr.reportError)(this,this.def.error,r)}$dataError(){(0,sr.reportError)(this,this.def.$dataError||sr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,sr.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=V.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=V.nil,r=V.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:i,def:a}=this;n.if((0,V.or)((0,V._)`${s} === undefined`,r)),t!==V.nil&&n.assign(t,!0),(i.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==V.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:i}=this;return(0,V.or)(a(),o());function a(){if(n.length){if(!(r instanceof V.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,V._)`${(0,Wr.checkDataTypes)(l,r,i.opts.strictNumbers,Wr.DataType.Wrong)}`}return V.nil}function o(){if(s.validateSchema){const l=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,V._)`!${l}(${r})`}return V.nil}}subschema(t,r){const n=(0,wn.getSubschema)(this.it,t);(0,wn.extendSubschemaData)(n,this.it,t),(0,wn.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return xo(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Xe.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Xe.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,V.Name)),!0}}De.KeywordCxt=Bi;function Ji(e,t,r,n){const s=new Bi(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,lr.funcKeywordCode)(s,r):"macro"in r?(0,lr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,lr.funcKeywordCode)(s,r)}const hc=/^\/(?:[^~]|~0|~1)*$/,mc=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Hi(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,i;if(e==="")return z.default.rootData;if(e[0]==="/"){if(!hc.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,i=z.default.rootData}else{const u=mc.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const d=+u[1];if(s=u[2],s==="#"){if(d>=t)throw new Error(l("property/index",d));return n[t-d]}if(d>t)throw new Error(l("data",d));if(i=r[t-d],!s)return i}let a=i;const o=s.split("/");for(const u of o)u&&(i=(0,V._)`${i}${(0,V.getProperty)((0,Xe.unescapeJsonPointer)(u))}`,a=(0,V._)`${a} && ${i}`);return a;function l(u,d){return`Cannot access ${u} ${d} levels up, current level is ${t}`}}De.getData=Hi;var _r={};Object.defineProperty(_r,"__esModule",{value:!0});class pc extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}_r.default=pc;var wr={};Object.defineProperty(wr,"__esModule",{value:!0});const bn=$e;class yc extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,bn.resolveUrl)(t,r,n),this.missingSchema=(0,bn.normalizeId)((0,bn.getFullPath)(t,this.missingRef))}}wr.default=yc;var Se={};Object.defineProperty(Se,"__esModule",{value:!0});Se.resolveSchema=Se.getCompilingSchema=Se.resolveRef=Se.compileSchema=Se.SchemaEnv=void 0;const ke=W,gc=_r,dt=Ge,Re=$e,ri=x,$c=De;class sn{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Re.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Se.SchemaEnv=sn;function zn(e){const t=Gi.call(this,e);if(t)return t;const r=(0,Re.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,a=new ke.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i});let o;e.$async&&(o=a.scopeValue("Error",{ref:gc.default,code:(0,ke._)`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");e.validateName=l;const u={gen:a,allErrors:this.opts.allErrors,data:dt.default.data,parentData:dt.default.parentData,parentDataProperty:dt.default.parentDataProperty,dataNames:[dt.default.data],dataPathArr:[ke.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ke.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:o,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:ke.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ke._)`""`,opts:this.opts,self:this};let d;try{this._compilations.add(e),(0,$c.validateFunctionCode)(u),a.optimize(this.opts.code.optimize);const h=a.toString();d=`${a.scopeRefs(dt.default.scope)}return ${h}`,this.opts.code.process&&(d=this.opts.code.process(d,e));const _=new Function(`${dt.default.self}`,`${dt.default.scope}`,d)(this,this.scope.get());if(this.scope.value(l,{ref:_}),_.errors=null,_.schema=e.schema,_.schemaEnv=e,e.$async&&(_.$async=!0),this.opts.code.source===!0&&(_.source={validateName:l,validateCode:h,scopeValues:a._values}),this.opts.unevaluated){const{props:b,items:v}=u;_.evaluated={props:b instanceof ke.Name?void 0:b,items:v instanceof ke.Name?void 0:v,dynamicProps:b instanceof ke.Name,dynamicItems:v instanceof ke.Name},_.source&&(_.source.evaluated=(0,ke.stringify)(_.evaluated))}return e.validate=_,e}catch(h){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),h}finally{this._compilations.delete(e)}}Se.compileSchema=zn;function vc(e,t,r){var n;r=(0,Re.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let i=bc.call(this,e,r);if(i===void 0){const a=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;a&&(i=new sn({schema:a,schemaId:o,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=_c.call(this,i)}Se.resolveRef=vc;function _c(e){return(0,Re.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:zn.call(this,e)}function Gi(e){for(const t of this._compilations)if(wc(t,e))return t}Se.getCompilingSchema=Gi;function wc(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function bc(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||an.call(this,e,t)}function an(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Re._getFullPath)(this.opts.uriResolver,r);let s=(0,Re.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return En.call(this,r,e);const i=(0,Re.normalizeId)(n),a=this.refs[i]||this.schemas[i];if(typeof a=="string"){const o=an.call(this,e,a);return typeof(o==null?void 0:o.schema)!="object"?void 0:En.call(this,r,o)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||zn.call(this,a),i===(0,Re.normalizeId)(t)){const{schema:o}=a,{schemaId:l}=this.opts,u=o[l];return u&&(s=(0,Re.resolveUrl)(this.opts.uriResolver,s,u)),new sn({schema:o,schemaId:l,root:e,baseId:s})}return En.call(this,r,a)}}Se.resolveSchema=an;const Ec=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function En(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const o of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,ri.unescapeFragment)(o)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!Ec.has(o)&&u&&(t=(0,Re.resolveUrl)(this.opts.uriResolver,t,u))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,ri.schemaHasRulesButRef)(r,this.RULES)){const o=(0,Re.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=an.call(this,n,o)}const{schemaId:a}=this.opts;if(i=i||new sn({schema:r,schemaId:a,root:n,baseId:t}),i.schema!==i.root.schema)return i}const Sc="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Oc="Meta-schema for $data reference (JSON AnySchema extension proposal)",Nc="object",Pc=["$data"],jc={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Tc=!1,Cc={$id:Sc,description:Oc,type:Nc,required:Pc,properties:jc,additionalProperties:Tc};var Bn={},Qr={},Ic={get exports(){return Qr},set exports(e){Qr=e}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(Wa,function(r){function n(){for(var p=arguments.length,f=Array(p),$=0;$<p;$++)f[$]=arguments[$];if(f.length>1){f[0]=f[0].slice(0,-1);for(var C=f.length-1,j=1;j<C;++j)f[j]=f[j].slice(1,-1);return f[C]=f[C].slice(1),f.join("")}else return f[0]}function s(p){return"(?:"+p+")"}function i(p){return p===void 0?"undefined":p===null?"null":Object.prototype.toString.call(p).split(" ").pop().split("]").shift().toLowerCase()}function a(p){return p.toUpperCase()}function o(p){return p!=null?p instanceof Array?p:typeof p.length!="number"||p.split||p.setInterval||p.call?[p]:Array.prototype.slice.call(p):[]}function l(p,f){var $=p;if(f)for(var C in f)$[C]=f[C];return $}function u(p){var f="[A-Za-z]",$="[0-9]",C=n($,"[A-Fa-f]"),j=s(s("%[EFef]"+C+"%"+C+C+"%"+C+C)+"|"+s("%[89A-Fa-f]"+C+"%"+C+C)+"|"+s("%"+C+C)),U="[\\:\\/\\?\\#\\[\\]\\@]",q="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Z=n(U,q),ne=p?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",le=p?"[\\uE000-\\uF8FF]":"[]",Y=n(f,$,"[\\-\\.\\_\\~]",ne);s(f+n(f,$,"[\\+\\-\\.]")+"*"),s(s(j+"|"+n(Y,q,"[\\:]"))+"*");var re=s(s("25[0-5]")+"|"+s("2[0-4]"+$)+"|"+s("1"+$+$)+"|"+s("0?[1-9]"+$)+"|0?0?"+$),ue=s(re+"\\."+re+"\\."+re+"\\."+re),B=s(C+"{1,4}"),ie=s(s(B+"\\:"+B)+"|"+ue),he=s(s(B+"\\:")+"{6}"+ie),ae=s("\\:\\:"+s(B+"\\:")+"{5}"+ie),Ze=s(s(B)+"?\\:\\:"+s(B+"\\:")+"{4}"+ie),Ue=s(s(s(B+"\\:")+"{0,1}"+B)+"?\\:\\:"+s(B+"\\:")+"{3}"+ie),qe=s(s(s(B+"\\:")+"{0,2}"+B)+"?\\:\\:"+s(B+"\\:")+"{2}"+ie),Ct=s(s(s(B+"\\:")+"{0,3}"+B)+"?\\:\\:"+B+"\\:"+ie),ut=s(s(s(B+"\\:")+"{0,4}"+B)+"?\\:\\:"+ie),je=s(s(s(B+"\\:")+"{0,5}"+B)+"?\\:\\:"+B),Ke=s(s(s(B+"\\:")+"{0,6}"+B)+"?\\:\\:"),ft=s([he,ae,Ze,Ue,qe,Ct,ut,je,Ke].join("|")),We=s(s(Y+"|"+j)+"+");s("[vV]"+C+"+\\."+n(Y,q,"[\\:]")+"+"),s(s(j+"|"+n(Y,q))+"*");var rr=s(j+"|"+n(Y,q,"[\\:\\@]"));return s(s(j+"|"+n(Y,q,"[\\@]"))+"+"),s(s(rr+"|"+n("[\\/\\?]",le))+"*"),{NOT_SCHEME:new RegExp(n("[^]",f,$,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Y,q),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Y,q),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Y,q),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Y,q),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Y,q,"[\\:\\@\\/\\?]",le),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Y,q,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Y,q),"g"),UNRESERVED:new RegExp(Y,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Y,Z),"g"),PCT_ENCODED:new RegExp(j,"g"),IPV4ADDRESS:new RegExp("^("+ue+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ft+")"+s(s("\\%25|\\%(?!"+C+"{2})")+"("+We+")")+"?\\]?$")}}var d=u(!1),h=u(!0),O=function(){function p(f,$){var C=[],j=!0,U=!1,q=void 0;try{for(var Z=f[Symbol.iterator](),ne;!(j=(ne=Z.next()).done)&&(C.push(ne.value),!($&&C.length===$));j=!0);}catch(le){U=!0,q=le}finally{try{!j&&Z.return&&Z.return()}finally{if(U)throw q}}return C}return function(f,$){if(Array.isArray(f))return f;if(Symbol.iterator in Object(f))return p(f,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(p){if(Array.isArray(p)){for(var f=0,$=Array(p.length);f<p.length;f++)$[f]=p[f];return $}else return Array.from(p)},b=2147483647,v=36,y=1,m=26,w=38,S=700,T=72,A=128,E="-",I=/^xn--/,D=/[^\0-\x7E]/,K=/[\x2E\u3002\uFF0E\uFF61]/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},te=v-y,J=Math.floor,Ne=String.fromCharCode;function de(p){throw new RangeError(H[p])}function at(p,f){for(var $=[],C=p.length;C--;)$[C]=f(p[C]);return $}function ot(p,f){var $=p.split("@"),C="";$.length>1&&(C=$[0]+"@",p=$[1]),p=p.replace(K,".");var j=p.split("."),U=at(j,f).join(".");return C+U}function bt(p){for(var f=[],$=0,C=p.length;$<C;){var j=p.charCodeAt($++);if(j>=55296&&j<=56319&&$<C){var U=p.charCodeAt($++);(U&64512)==56320?f.push(((j&1023)<<10)+(U&1023)+65536):(f.push(j),$--)}else f.push(j)}return f}var Wt=function(f){return String.fromCodePoint.apply(String,_(f))},Et=function(f){return f-48<10?f-22:f-65<26?f-65:f-97<26?f-97:v},M=function(f,$){return f+22+75*(f<26)-(($!=0)<<5)},N=function(f,$,C){var j=0;for(f=C?J(f/S):f>>1,f+=J(f/$);f>te*m>>1;j+=v)f=J(f/te);return J(j+(te+1)*f/(f+w))},R=function(f){var $=[],C=f.length,j=0,U=A,q=T,Z=f.lastIndexOf(E);Z<0&&(Z=0);for(var ne=0;ne<Z;++ne)f.charCodeAt(ne)>=128&&de("not-basic"),$.push(f.charCodeAt(ne));for(var le=Z>0?Z+1:0;le<C;){for(var Y=j,re=1,ue=v;;ue+=v){le>=C&&de("invalid-input");var B=Et(f.charCodeAt(le++));(B>=v||B>J((b-j)/re))&&de("overflow"),j+=B*re;var ie=ue<=q?y:ue>=q+m?m:ue-q;if(B<ie)break;var he=v-ie;re>J(b/he)&&de("overflow"),re*=he}var ae=$.length+1;q=N(j-Y,ae,Y==0),J(j/ae)>b-U&&de("overflow"),U+=J(j/ae),j%=ae,$.splice(j++,0,U)}return String.fromCodePoint.apply(String,$)},P=function(f){var $=[];f=bt(f);var C=f.length,j=A,U=0,q=T,Z=!0,ne=!1,le=void 0;try{for(var Y=f[Symbol.iterator](),re;!(Z=(re=Y.next()).done);Z=!0){var ue=re.value;ue<128&&$.push(Ne(ue))}}catch(nr){ne=!0,le=nr}finally{try{!Z&&Y.return&&Y.return()}finally{if(ne)throw le}}var B=$.length,ie=B;for(B&&$.push(E);ie<C;){var he=b,ae=!0,Ze=!1,Ue=void 0;try{for(var qe=f[Symbol.iterator](),Ct;!(ae=(Ct=qe.next()).done);ae=!0){var ut=Ct.value;ut>=j&&ut<he&&(he=ut)}}catch(nr){Ze=!0,Ue=nr}finally{try{!ae&&qe.return&&qe.return()}finally{if(Ze)throw Ue}}var je=ie+1;he-j>J((b-U)/je)&&de("overflow"),U+=(he-j)*je,j=he;var Ke=!0,ft=!1,We=void 0;try{for(var rr=f[Symbol.iterator](),Js;!(Ke=(Js=rr.next()).done);Ke=!0){var Hs=Js.value;if(Hs<j&&++U>b&&de("overflow"),Hs==j){for(var Pr=U,jr=v;;jr+=v){var Tr=jr<=q?y:jr>=q+m?m:jr-q;if(Pr<Tr)break;var Gs=Pr-Tr,Ws=v-Tr;$.push(Ne(M(Tr+Gs%Ws,0))),Pr=J(Gs/Ws)}$.push(Ne(M(Pr,0))),q=N(U,je,ie==B),U=0,++ie}}}catch(nr){ft=!0,We=nr}finally{try{!Ke&&rr.return&&rr.return()}finally{if(ft)throw We}}++U,++j}return $.join("")},c=function(f){return ot(f,function($){return I.test($)?R($.slice(4).toLowerCase()):$})},g=function(f){return ot(f,function($){return D.test($)?"xn--"+P($):$})},k={version:"2.1.0",ucs2:{decode:bt,encode:Wt},decode:R,encode:P,toASCII:g,toUnicode:c},F={};function L(p){var f=p.charCodeAt(0),$=void 0;return f<16?$="%0"+f.toString(16).toUpperCase():f<128?$="%"+f.toString(16).toUpperCase():f<2048?$="%"+(f>>6|192).toString(16).toUpperCase()+"%"+(f&63|128).toString(16).toUpperCase():$="%"+(f>>12|224).toString(16).toUpperCase()+"%"+(f>>6&63|128).toString(16).toUpperCase()+"%"+(f&63|128).toString(16).toUpperCase(),$}function Q(p){for(var f="",$=0,C=p.length;$<C;){var j=parseInt(p.substr($+1,2),16);if(j<128)f+=String.fromCharCode(j),$+=3;else if(j>=194&&j<224){if(C-$>=6){var U=parseInt(p.substr($+4,2),16);f+=String.fromCharCode((j&31)<<6|U&63)}else f+=p.substr($,6);$+=6}else if(j>=224){if(C-$>=9){var q=parseInt(p.substr($+4,2),16),Z=parseInt(p.substr($+7,2),16);f+=String.fromCharCode((j&15)<<12|(q&63)<<6|Z&63)}else f+=p.substr($,9);$+=9}else f+=p.substr($,3),$+=3}return f}function X(p,f){function $(C){var j=Q(C);return j.match(f.UNRESERVED)?j:C}return p.scheme&&(p.scheme=String(p.scheme).replace(f.PCT_ENCODED,$).toLowerCase().replace(f.NOT_SCHEME,"")),p.userinfo!==void 0&&(p.userinfo=String(p.userinfo).replace(f.PCT_ENCODED,$).replace(f.NOT_USERINFO,L).replace(f.PCT_ENCODED,a)),p.host!==void 0&&(p.host=String(p.host).replace(f.PCT_ENCODED,$).toLowerCase().replace(f.NOT_HOST,L).replace(f.PCT_ENCODED,a)),p.path!==void 0&&(p.path=String(p.path).replace(f.PCT_ENCODED,$).replace(p.scheme?f.NOT_PATH:f.NOT_PATH_NOSCHEME,L).replace(f.PCT_ENCODED,a)),p.query!==void 0&&(p.query=String(p.query).replace(f.PCT_ENCODED,$).replace(f.NOT_QUERY,L).replace(f.PCT_ENCODED,a)),p.fragment!==void 0&&(p.fragment=String(p.fragment).replace(f.PCT_ENCODED,$).replace(f.NOT_FRAGMENT,L).replace(f.PCT_ENCODED,a)),p}function oe(p){return p.replace(/^0*(.*)/,"$1")||"0"}function Fe(p,f){var $=p.match(f.IPV4ADDRESS)||[],C=O($,2),j=C[1];return j?j.split(".").map(oe).join("."):p}function St(p,f){var $=p.match(f.IPV6ADDRESS)||[],C=O($,3),j=C[1],U=C[2];if(j){for(var q=j.toLowerCase().split("::").reverse(),Z=O(q,2),ne=Z[0],le=Z[1],Y=le?le.split(":").map(oe):[],re=ne.split(":").map(oe),ue=f.IPV4ADDRESS.test(re[re.length-1]),B=ue?7:8,ie=re.length-B,he=Array(B),ae=0;ae<B;++ae)he[ae]=Y[ae]||re[ie+ae]||"";ue&&(he[B-1]=Fe(he[B-1],f));var Ze=he.reduce(function(je,Ke,ft){if(!Ke||Ke==="0"){var We=je[je.length-1];We&&We.index+We.length===ft?We.length++:je.push({index:ft,length:1})}return je},[]),Ue=Ze.sort(function(je,Ke){return Ke.length-je.length})[0],qe=void 0;if(Ue&&Ue.length>1){var Ct=he.slice(0,Ue.index),ut=he.slice(Ue.index+Ue.length);qe=Ct.join(":")+"::"+ut.join(":")}else qe=he.join(":");return U&&(qe+="%"+U),qe}else return p}var Qt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Yt="".match(/(){0}/)[1]===void 0;function Oe(p){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$={},C=f.iri!==!1?h:d;f.reference==="suffix"&&(p=(f.scheme?f.scheme+":":"")+"//"+p);var j=p.match(Qt);if(j){Yt?($.scheme=j[1],$.userinfo=j[3],$.host=j[4],$.port=parseInt(j[5],10),$.path=j[6]||"",$.query=j[7],$.fragment=j[8],isNaN($.port)&&($.port=j[5])):($.scheme=j[1]||void 0,$.userinfo=p.indexOf("@")!==-1?j[3]:void 0,$.host=p.indexOf("//")!==-1?j[4]:void 0,$.port=parseInt(j[5],10),$.path=j[6]||"",$.query=p.indexOf("?")!==-1?j[7]:void 0,$.fragment=p.indexOf("#")!==-1?j[8]:void 0,isNaN($.port)&&($.port=p.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?j[4]:void 0)),$.host&&($.host=St(Fe($.host,C),C)),$.scheme===void 0&&$.userinfo===void 0&&$.host===void 0&&$.port===void 0&&!$.path&&$.query===void 0?$.reference="same-document":$.scheme===void 0?$.reference="relative":$.fragment===void 0?$.reference="absolute":$.reference="uri",f.reference&&f.reference!=="suffix"&&f.reference!==$.reference&&($.error=$.error||"URI is not a "+f.reference+" reference.");var U=F[(f.scheme||$.scheme||"").toLowerCase()];if(!f.unicodeSupport&&(!U||!U.unicodeSupport)){if($.host&&(f.domainHost||U&&U.domainHost))try{$.host=k.toASCII($.host.replace(C.PCT_ENCODED,Q).toLowerCase())}catch(q){$.error=$.error||"Host's domain name can not be converted to ASCII via punycode: "+q}X($,d)}else X($,C);U&&U.parse&&U.parse($,f)}else $.error=$.error||"URI can not be parsed.";return $}function Xt(p,f){var $=f.iri!==!1?h:d,C=[];return p.userinfo!==void 0&&(C.push(p.userinfo),C.push("@")),p.host!==void 0&&C.push(St(Fe(String(p.host),$),$).replace($.IPV6ADDRESS,function(j,U,q){return"["+U+(q?"%25"+q:"")+"]"})),(typeof p.port=="number"||typeof p.port=="string")&&(C.push(":"),C.push(String(p.port))),C.length?C.join(""):void 0}var Ot=/^\.\.?\//,Nt=/^\/\.(\/|$)/,Pt=/^\/\.\.(\/|$)/,Zt=/^\/?(?:.|\n)*?(?=\/|$)/;function Le(p){for(var f=[];p.length;)if(p.match(Ot))p=p.replace(Ot,"");else if(p.match(Nt))p=p.replace(Nt,"/");else if(p.match(Pt))p=p.replace(Pt,"/"),f.pop();else if(p==="."||p==="..")p="";else{var $=p.match(Zt);if($){var C=$[0];p=p.slice(C.length),f.push(C)}else throw new Error("Unexpected dot segment condition")}return f.join("")}function we(p){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=f.iri?h:d,C=[],j=F[(f.scheme||p.scheme||"").toLowerCase()];if(j&&j.serialize&&j.serialize(p,f),p.host&&!$.IPV6ADDRESS.test(p.host)){if(f.domainHost||j&&j.domainHost)try{p.host=f.iri?k.toUnicode(p.host):k.toASCII(p.host.replace($.PCT_ENCODED,Q).toLowerCase())}catch(Z){p.error=p.error||"Host's domain name can not be converted to "+(f.iri?"Unicode":"ASCII")+" via punycode: "+Z}}X(p,$),f.reference!=="suffix"&&p.scheme&&(C.push(p.scheme),C.push(":"));var U=Xt(p,f);if(U!==void 0&&(f.reference!=="suffix"&&C.push("//"),C.push(U),p.path&&p.path.charAt(0)!=="/"&&C.push("/")),p.path!==void 0){var q=p.path;!f.absolutePath&&(!j||!j.absolutePath)&&(q=Le(q)),U===void 0&&(q=q.replace(/^\/\//,"/%2F")),C.push(q)}return p.query!==void 0&&(C.push("?"),C.push(p.query)),p.fragment!==void 0&&(C.push("#"),C.push(p.fragment)),C.join("")}function jt(p,f){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=arguments[3],j={};return C||(p=Oe(we(p,$),$),f=Oe(we(f,$),$)),$=$||{},!$.tolerant&&f.scheme?(j.scheme=f.scheme,j.userinfo=f.userinfo,j.host=f.host,j.port=f.port,j.path=Le(f.path||""),j.query=f.query):(f.userinfo!==void 0||f.host!==void 0||f.port!==void 0?(j.userinfo=f.userinfo,j.host=f.host,j.port=f.port,j.path=Le(f.path||""),j.query=f.query):(f.path?(f.path.charAt(0)==="/"?j.path=Le(f.path):((p.userinfo!==void 0||p.host!==void 0||p.port!==void 0)&&!p.path?j.path="/"+f.path:p.path?j.path=p.path.slice(0,p.path.lastIndexOf("/")+1)+f.path:j.path=f.path,j.path=Le(j.path)),j.query=f.query):(j.path=p.path,f.query!==void 0?j.query=f.query:j.query=p.query),j.userinfo=p.userinfo,j.host=p.host,j.port=p.port),j.scheme=p.scheme),j.fragment=f.fragment,j}function xt(p,f,$){var C=l({scheme:"null"},$);return we(jt(Oe(p,C),Oe(f,C),C,!0),C)}function ct(p,f){return typeof p=="string"?p=we(Oe(p,f),f):i(p)==="object"&&(p=Oe(we(p,f),f)),p}function er(p,f,$){return typeof p=="string"?p=we(Oe(p,$),$):i(p)==="object"&&(p=we(p,$)),typeof f=="string"?f=we(Oe(f,$),$):i(f)==="object"&&(f=we(f,$)),p===f}function Nr(p,f){return p&&p.toString().replace(!f||!f.iri?d.ESCAPE:h.ESCAPE,L)}function Pe(p,f){return p&&p.toString().replace(!f||!f.iri?d.PCT_ENCODED:h.PCT_ENCODED,Q)}var lt={scheme:"http",domainHost:!0,parse:function(f,$){return f.host||(f.error=f.error||"HTTP URIs must have a host."),f},serialize:function(f,$){var C=String(f.scheme).toLowerCase()==="https";return(f.port===(C?443:80)||f.port==="")&&(f.port=void 0),f.path||(f.path="/"),f}},Fs={scheme:"https",domainHost:lt.domainHost,parse:lt.parse,serialize:lt.serialize};function Ls(p){return typeof p.secure=="boolean"?p.secure:String(p.scheme).toLowerCase()==="wss"}var tr={scheme:"ws",domainHost:!0,parse:function(f,$){var C=f;return C.secure=Ls(C),C.resourceName=(C.path||"/")+(C.query?"?"+C.query:""),C.path=void 0,C.query=void 0,C},serialize:function(f,$){if((f.port===(Ls(f)?443:80)||f.port==="")&&(f.port=void 0),typeof f.secure=="boolean"&&(f.scheme=f.secure?"wss":"ws",f.secure=void 0),f.resourceName){var C=f.resourceName.split("?"),j=O(C,2),U=j[0],q=j[1];f.path=U&&U!=="/"?U:void 0,f.query=q,f.resourceName=void 0}return f.fragment=void 0,f}},Vs={scheme:"wss",domainHost:tr.domainHost,parse:tr.parse,serialize:tr.serialize},Ca={},Us="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ve="[0-9A-Fa-f]",Ia=s(s("%[EFef]"+Ve+"%"+Ve+Ve+"%"+Ve+Ve)+"|"+s("%[89A-Fa-f]"+Ve+"%"+Ve+Ve)+"|"+s("%"+Ve+Ve)),ka="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Aa="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ra=n(Aa,'[\\"\\\\]'),Da="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Ma=new RegExp(Us,"g"),Tt=new RegExp(Ia,"g"),Fa=new RegExp(n("[^]",ka,"[\\.]",'[\\"]',Ra),"g"),qs=new RegExp(n("[^]",Us,Da),"g"),La=qs;function vn(p){var f=Q(p);return f.match(Ma)?f:p}var Ks={scheme:"mailto",parse:function(f,$){var C=f,j=C.to=C.path?C.path.split(","):[];if(C.path=void 0,C.query){for(var U=!1,q={},Z=C.query.split("&"),ne=0,le=Z.length;ne<le;++ne){var Y=Z[ne].split("=");switch(Y[0]){case"to":for(var re=Y[1].split(","),ue=0,B=re.length;ue<B;++ue)j.push(re[ue]);break;case"subject":C.subject=Pe(Y[1],$);break;case"body":C.body=Pe(Y[1],$);break;default:U=!0,q[Pe(Y[0],$)]=Pe(Y[1],$);break}}U&&(C.headers=q)}C.query=void 0;for(var ie=0,he=j.length;ie<he;++ie){var ae=j[ie].split("@");if(ae[0]=Pe(ae[0]),$.unicodeSupport)ae[1]=Pe(ae[1],$).toLowerCase();else try{ae[1]=k.toASCII(Pe(ae[1],$).toLowerCase())}catch(Ze){C.error=C.error||"Email address's domain name can not be converted to ASCII via punycode: "+Ze}j[ie]=ae.join("@")}return C},serialize:function(f,$){var C=f,j=o(f.to);if(j){for(var U=0,q=j.length;U<q;++U){var Z=String(j[U]),ne=Z.lastIndexOf("@"),le=Z.slice(0,ne).replace(Tt,vn).replace(Tt,a).replace(Fa,L),Y=Z.slice(ne+1);try{Y=$.iri?k.toUnicode(Y):k.toASCII(Pe(Y,$).toLowerCase())}catch(ie){C.error=C.error||"Email address's domain name can not be converted to "+($.iri?"Unicode":"ASCII")+" via punycode: "+ie}j[U]=le+"@"+Y}C.path=j.join(",")}var re=f.headers=f.headers||{};f.subject&&(re.subject=f.subject),f.body&&(re.body=f.body);var ue=[];for(var B in re)re[B]!==Ca[B]&&ue.push(B.replace(Tt,vn).replace(Tt,a).replace(qs,L)+"="+re[B].replace(Tt,vn).replace(Tt,a).replace(La,L));return ue.length&&(C.query=ue.join("&")),C}},Va=/^([^\:]+)\:(.*)/,zs={scheme:"urn",parse:function(f,$){var C=f.path&&f.path.match(Va),j=f;if(C){var U=$.scheme||j.scheme||"urn",q=C[1].toLowerCase(),Z=C[2],ne=U+":"+($.nid||q),le=F[ne];j.nid=q,j.nss=Z,j.path=void 0,le&&(j=le.parse(j,$))}else j.error=j.error||"URN can not be parsed.";return j},serialize:function(f,$){var C=$.scheme||f.scheme||"urn",j=f.nid,U=C+":"+($.nid||j),q=F[U];q&&(f=q.serialize(f,$));var Z=f,ne=f.nss;return Z.path=(j||$.nid)+":"+ne,Z}},Ua=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Bs={scheme:"urn:uuid",parse:function(f,$){var C=f;return C.uuid=C.nss,C.nss=void 0,!$.tolerant&&(!C.uuid||!C.uuid.match(Ua))&&(C.error=C.error||"UUID is not valid."),C},serialize:function(f,$){var C=f;return C.nss=(f.uuid||"").toLowerCase(),C}};F[lt.scheme]=lt,F[Fs.scheme]=Fs,F[tr.scheme]=tr,F[Vs.scheme]=Vs,F[Ks.scheme]=Ks,F[zs.scheme]=zs,F[Bs.scheme]=Bs,r.SCHEMES=F,r.pctEncChar=L,r.pctDecChars=Q,r.parse=Oe,r.removeDotSegments=Le,r.serialize=we,r.resolveComponents=jt,r.resolve=xt,r.normalize=ct,r.equal=er,r.escapeComponent=Nr,r.unescapeComponent=Pe,Object.defineProperty(r,"__esModule",{value:!0})})})(Ic,Qr);Object.defineProperty(Bn,"__esModule",{value:!0});const Wi=Qr;Wi.code='require("ajv/dist/runtime/uri").default';Bn.default=Wi;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=De;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=W;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=_r,s=wr,i=$t,a=Se,o=W,l=$e,u=vr,d=x,h=Cc,O=Bn,_=(M,N)=>new RegExp(M,N);_.code="new RegExp";const b=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},w=200;function S(M){var N,R,P,c,g,k,F,L,Q,X,oe,Fe,St,Qt,Yt,Oe,Xt,Ot,Nt,Pt,Zt,Le,we,jt,xt;const ct=M.strict,er=(N=M.code)===null||N===void 0?void 0:N.optimize,Nr=er===!0||er===void 0?1:er||0,Pe=(P=(R=M.code)===null||R===void 0?void 0:R.regExp)!==null&&P!==void 0?P:_,lt=(c=M.uriResolver)!==null&&c!==void 0?c:O.default;return{strictSchema:(k=(g=M.strictSchema)!==null&&g!==void 0?g:ct)!==null&&k!==void 0?k:!0,strictNumbers:(L=(F=M.strictNumbers)!==null&&F!==void 0?F:ct)!==null&&L!==void 0?L:!0,strictTypes:(X=(Q=M.strictTypes)!==null&&Q!==void 0?Q:ct)!==null&&X!==void 0?X:"log",strictTuples:(Fe=(oe=M.strictTuples)!==null&&oe!==void 0?oe:ct)!==null&&Fe!==void 0?Fe:"log",strictRequired:(Qt=(St=M.strictRequired)!==null&&St!==void 0?St:ct)!==null&&Qt!==void 0?Qt:!1,code:M.code?{...M.code,optimize:Nr,regExp:Pe}:{optimize:Nr,regExp:Pe},loopRequired:(Yt=M.loopRequired)!==null&&Yt!==void 0?Yt:w,loopEnum:(Oe=M.loopEnum)!==null&&Oe!==void 0?Oe:w,meta:(Xt=M.meta)!==null&&Xt!==void 0?Xt:!0,messages:(Ot=M.messages)!==null&&Ot!==void 0?Ot:!0,inlineRefs:(Nt=M.inlineRefs)!==null&&Nt!==void 0?Nt:!0,schemaId:(Pt=M.schemaId)!==null&&Pt!==void 0?Pt:"$id",addUsedSchema:(Zt=M.addUsedSchema)!==null&&Zt!==void 0?Zt:!0,validateSchema:(Le=M.validateSchema)!==null&&Le!==void 0?Le:!0,validateFormats:(we=M.validateFormats)!==null&&we!==void 0?we:!0,unicodeRegExp:(jt=M.unicodeRegExp)!==null&&jt!==void 0?jt:!0,int32range:(xt=M.int32range)!==null&&xt!==void 0?xt:!0,uriResolver:lt}}class T{constructor(N={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,N=this.opts={...N,...S(N)};const{es5:R,lines:P}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:v,es5:R,lines:P}),this.logger=J(N.logger);const c=N.validateFormats;N.validateFormats=!1,this.RULES=(0,i.getRules)(),A.call(this,y,N,"NOT SUPPORTED"),A.call(this,m,N,"DEPRECATED","warn"),this._metaOpts=H.call(this),N.formats&&D.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),N.keywords&&K.call(this,N.keywords),typeof N.meta=="object"&&this.addMetaSchema(N.meta),I.call(this),N.validateFormats=c}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:N,meta:R,schemaId:P}=this.opts;let c=h;P==="id"&&(c={...h},c.id=c.$id,delete c.$id),R&&N&&this.addMetaSchema(c,c[P],!1)}defaultMeta(){const{meta:N,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof N=="object"?N[R]||N:void 0}validate(N,R){let P;if(typeof N=="string"){if(P=this.getSchema(N),!P)throw new Error(`no schema with key or ref "${N}"`)}else P=this.compile(N);const c=P(R);return"$async"in P||(this.errors=P.errors),c}compile(N,R){const P=this._addSchema(N,R);return P.validate||this._compileSchemaEnv(P)}compileAsync(N,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:P}=this.opts;return c.call(this,N,R);async function c(X,oe){await g.call(this,X.$schema);const Fe=this._addSchema(X,oe);return Fe.validate||k.call(this,Fe)}async function g(X){X&&!this.getSchema(X)&&await c.call(this,{$ref:X},!0)}async function k(X){try{return this._compileSchemaEnv(X)}catch(oe){if(!(oe instanceof s.default))throw oe;return F.call(this,oe),await L.call(this,oe.missingSchema),k.call(this,X)}}function F({missingSchema:X,missingRef:oe}){if(this.refs[X])throw new Error(`AnySchema ${X} is loaded but ${oe} cannot be resolved`)}async function L(X){const oe=await Q.call(this,X);this.refs[X]||await g.call(this,oe.$schema),this.refs[X]||this.addSchema(oe,X,R)}async function Q(X){const oe=this._loading[X];if(oe)return oe;try{return await(this._loading[X]=P(X))}finally{delete this._loading[X]}}}addSchema(N,R,P,c=this.opts.validateSchema){if(Array.isArray(N)){for(const k of N)this.addSchema(k,void 0,P,c);return this}let g;if(typeof N=="object"){const{schemaId:k}=this.opts;if(g=N[k],g!==void 0&&typeof g!="string")throw new Error(`schema ${k} must be string`)}return R=(0,l.normalizeId)(R||g),this._checkUnique(R),this.schemas[R]=this._addSchema(N,P,R,c,!0),this}addMetaSchema(N,R,P=this.opts.validateSchema){return this.addSchema(N,R,!0,P),this}validateSchema(N,R){if(typeof N=="boolean")return!0;let P;if(P=N.$schema,P!==void 0&&typeof P!="string")throw new Error("$schema must be a string");if(P=P||this.opts.defaultMeta||this.defaultMeta(),!P)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const c=this.validate(P,N);if(!c&&R){const g="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(g);else throw new Error(g)}return c}getSchema(N){let R;for(;typeof(R=E.call(this,N))=="string";)N=R;if(R===void 0){const{schemaId:P}=this.opts,c=new a.SchemaEnv({schema:{},schemaId:P});if(R=a.resolveSchema.call(this,c,N),!R)return;this.refs[N]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(N){if(N instanceof RegExp)return this._removeAllSchemas(this.schemas,N),this._removeAllSchemas(this.refs,N),this;switch(typeof N){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=E.call(this,N);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[N],delete this.refs[N],this}case"object":{const R=N;this._cache.delete(R);let P=N[this.opts.schemaId];return P&&(P=(0,l.normalizeId)(P),delete this.schemas[P],delete this.refs[P]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(N){for(const R of N)this.addKeyword(R);return this}addKeyword(N,R){let P;if(typeof N=="string")P=N,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=P);else if(typeof N=="object"&&R===void 0){if(R=N,P=R.keyword,Array.isArray(P)&&!P.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(de.call(this,P,R),!R)return(0,d.eachItem)(P,g=>at.call(this,g)),this;bt.call(this,R);const c={...R,type:(0,u.getJSONTypes)(R.type),schemaType:(0,u.getJSONTypes)(R.schemaType)};return(0,d.eachItem)(P,c.type.length===0?g=>at.call(this,g,c):g=>c.type.forEach(k=>at.call(this,g,c,k))),this}getKeyword(N){const R=this.RULES.all[N];return typeof R=="object"?R.definition:!!R}removeKeyword(N){const{RULES:R}=this;delete R.keywords[N],delete R.all[N];for(const P of R.rules){const c=P.rules.findIndex(g=>g.keyword===N);c>=0&&P.rules.splice(c,1)}return this}addFormat(N,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[N]=R,this}errorsText(N=this.errors,{separator:R=", ",dataVar:P="data"}={}){return!N||N.length===0?"No errors":N.map(c=>`${P}${c.instancePath} ${c.message}`).reduce((c,g)=>c+R+g)}$dataMetaSchema(N,R){const P=this.RULES.all;N=JSON.parse(JSON.stringify(N));for(const c of R){const g=c.split("/").slice(1);let k=N;for(const F of g)k=k[F];for(const F in P){const L=P[F];if(typeof L!="object")continue;const{$data:Q}=L.definition,X=k[F];Q&&X&&(k[F]=Et(X))}}return N}_removeAllSchemas(N,R){for(const P in N){const c=N[P];(!R||R.test(P))&&(typeof c=="string"?delete N[P]:c&&!c.meta&&(this._cache.delete(c.schema),delete N[P]))}}_addSchema(N,R,P,c=this.opts.validateSchema,g=this.opts.addUsedSchema){let k;const{schemaId:F}=this.opts;if(typeof N=="object")k=N[F];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof N!="boolean")throw new Error("schema must be object or boolean")}let L=this._cache.get(N);if(L!==void 0)return L;P=(0,l.normalizeId)(k||P);const Q=l.getSchemaRefs.call(this,N,P);return L=new a.SchemaEnv({schema:N,schemaId:F,meta:R,baseId:P,localRefs:Q}),this._cache.set(L.schema,L),g&&!P.startsWith("#")&&(P&&this._checkUnique(P),this.refs[P]=L),c&&this.validateSchema(N,!0),L}_checkUnique(N){if(this.schemas[N]||this.refs[N])throw new Error(`schema with key or id "${N}" already exists`)}_compileSchemaEnv(N){if(N.meta?this._compileMetaSchema(N):a.compileSchema.call(this,N),!N.validate)throw new Error("ajv implementation error");return N.validate}_compileMetaSchema(N){const R=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,N)}finally{this.opts=R}}}e.default=T,T.ValidationError=n.default,T.MissingRefError=s.default;function A(M,N,R,P="error"){for(const c in M){const g=c;g in N&&this.logger[P](`${R}: option ${c}. ${M[g]}`)}}function E(M){return M=(0,l.normalizeId)(M),this.schemas[M]||this.refs[M]}function I(){const M=this.opts.schemas;if(M)if(Array.isArray(M))this.addSchema(M);else for(const N in M)this.addSchema(M[N],N)}function D(){for(const M in this.opts.formats){const N=this.opts.formats[M];N&&this.addFormat(M,N)}}function K(M){if(Array.isArray(M)){this.addVocabulary(M);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const N in M){const R=M[N];R.keyword||(R.keyword=N),this.addKeyword(R)}}function H(){const M={...this.opts};for(const N of b)delete M[N];return M}const te={log(){},warn(){},error(){}};function J(M){if(M===!1)return te;if(M===void 0)return console;if(M.log&&M.warn&&M.error)return M;throw new Error("logger must implement log, warn and error methods")}const Ne=/^[a-z_$][a-z0-9_$:-]*$/i;function de(M,N){const{RULES:R}=this;if((0,d.eachItem)(M,P=>{if(R.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!Ne.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}function at(M,N,R){var P;const c=N==null?void 0:N.post;if(R&&c)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:g}=this;let k=c?g.post:g.rules.find(({type:L})=>L===R);if(k||(k={type:R,rules:[]},g.rules.push(k)),g.keywords[M]=!0,!N)return;const F={keyword:M,definition:{...N,type:(0,u.getJSONTypes)(N.type),schemaType:(0,u.getJSONTypes)(N.schemaType)}};N.before?ot.call(this,k,F,N.before):k.rules.push(F),g.all[M]=F,(P=N.implements)===null||P===void 0||P.forEach(L=>this.addKeyword(L))}function ot(M,N,R){const P=M.rules.findIndex(c=>c.keyword===R);P>=0?M.rules.splice(P,0,N):(M.rules.push(N),this.logger.warn(`rule ${R} is not defined`))}function bt(M){let{metaSchema:N}=M;N!==void 0&&(M.$data&&this.opts.$data&&(N=Et(N)),M.validateSchema=this.compile(N,!0))}const Wt={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Et(M){return{anyOf:[M,Wt]}}})(Si);var Jn={},Hn={},Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});const kc={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Gn.default=kc;var vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.callRef=vt.getValidate=void 0;const Ac=wr,ni=G,be=W,kt=Ge,si=Se,kr=x,Rc={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:i,validateName:a,opts:o,self:l}=n,{root:u}=i;if((r==="#"||r==="#/")&&s===u.baseId)return h();const d=si.resolveRef.call(l,u,s,r);if(d===void 0)throw new Ac.default(n.opts.uriResolver,s,r);if(d instanceof si.SchemaEnv)return O(d);return _(d);function h(){if(i===u)return qr(e,a,i,i.$async);const b=t.scopeValue("root",{ref:u});return qr(e,(0,be._)`${b}.validate`,u,u.$async)}function O(b){const v=Qi(e,b);qr(e,v,b,b.$async)}function _(b){const v=t.scopeValue("schema",o.code.source===!0?{ref:b,code:(0,be.stringify)(b)}:{ref:b}),y=t.name("valid"),m=e.subschema({schema:b,dataTypes:[],schemaPath:be.nil,topSchemaRef:v,errSchemaPath:r},y);e.mergeEvaluated(m),e.ok(y)}}};function Qi(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,be._)`${r.scopeValue("wrapper",{ref:t})}.validate`}vt.getValidate=Qi;function qr(e,t,r,n){const{gen:s,it:i}=e,{allErrors:a,schemaEnv:o,opts:l}=i,u=l.passContext?kt.default.this:be.nil;n?d():h();function d(){if(!o.$async)throw new Error("async schema referenced by sync schema");const b=s.let("valid");s.try(()=>{s.code((0,be._)`await ${(0,ni.callValidateCode)(e,t,u)}`),_(t),a||s.assign(b,!0)},v=>{s.if((0,be._)`!(${v} instanceof ${i.ValidationError})`,()=>s.throw(v)),O(v),a||s.assign(b,!1)}),e.ok(b)}function h(){e.result((0,ni.callValidateCode)(e,t,u),()=>_(t),()=>O(t))}function O(b){const v=(0,be._)`${b}.errors`;s.assign(kt.default.vErrors,(0,be._)`${kt.default.vErrors} === null ? ${v} : ${kt.default.vErrors}.concat(${v})`),s.assign(kt.default.errors,(0,be._)`${kt.default.vErrors}.length`)}function _(b){var v;if(!i.opts.unevaluated)return;const y=(v=r==null?void 0:r.validate)===null||v===void 0?void 0:v.evaluated;if(i.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(i.props=kr.mergeEvaluated.props(s,y.props,i.props));else{const m=s.var("props",(0,be._)`${b}.evaluated.props`);i.props=kr.mergeEvaluated.props(s,m,i.props,be.Name)}if(i.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(i.items=kr.mergeEvaluated.items(s,y.items,i.items));else{const m=s.var("items",(0,be._)`${b}.evaluated.items`);i.items=kr.mergeEvaluated.items(s,m,i.items,be.Name)}}}vt.callRef=qr;vt.default=Rc;Object.defineProperty(Hn,"__esModule",{value:!0});const Dc=Gn,Mc=vt,Fc=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Dc.default,Mc.default];Hn.default=Fc;var Wn={},Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});const Yr=W,et=Yr.operators,Xr={maximum:{okStr:"<=",ok:et.LTE,fail:et.GT},minimum:{okStr:">=",ok:et.GTE,fail:et.LT},exclusiveMaximum:{okStr:"<",ok:et.LT,fail:et.GTE},exclusiveMinimum:{okStr:">",ok:et.GT,fail:et.LTE}},Lc={message:({keyword:e,schemaCode:t})=>(0,Yr.str)`must be ${Xr[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Yr._)`{comparison: ${Xr[e].okStr}, limit: ${t}}`},Vc={keyword:Object.keys(Xr),type:"number",schemaType:"number",$data:!0,error:Lc,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Yr._)`${r} ${Xr[t].fail} ${n} || isNaN(${r})`)}};Qn.default=Vc;var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});const ur=W,Uc={message:({schemaCode:e})=>(0,ur.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,ur._)`{multipleOf: ${e}}`},qc={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Uc,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,i=s.opts.multipleOfPrecision,a=t.let("res"),o=i?(0,ur._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${i}`:(0,ur._)`${a} !== parseInt(${a})`;e.fail$data((0,ur._)`(${n} === 0 || (${a} = ${r}/${n}, ${o}))`)}};Yn.default=qc;var Xn={},Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});function Yi(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}Zn.default=Yi;Yi.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Xn,"__esModule",{value:!0});const pt=W,Kc=x,zc=Zn,Bc={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,pt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,pt._)`{limit: ${e}}`},Jc={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Bc,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,i=t==="maxLength"?pt.operators.GT:pt.operators.LT,a=s.opts.unicode===!1?(0,pt._)`${r}.length`:(0,pt._)`${(0,Kc.useFunc)(e.gen,zc.default)}(${r})`;e.fail$data((0,pt._)`${a} ${i} ${n}`)}};Xn.default=Jc;var xn={};Object.defineProperty(xn,"__esModule",{value:!0});const Hc=G,Zr=W,Gc={message:({schemaCode:e})=>(0,Zr.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Zr._)`{pattern: ${e}}`},Wc={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Gc,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:i}=e,a=i.opts.unicodeRegExp?"u":"",o=r?(0,Zr._)`(new RegExp(${s}, ${a}))`:(0,Hc.usePattern)(e,n);e.fail$data((0,Zr._)`!${o}.test(${t})`)}};xn.default=Wc;var es={};Object.defineProperty(es,"__esModule",{value:!0});const fr=W,Qc={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,fr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,fr._)`{limit: ${e}}`},Yc={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Qc,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?fr.operators.GT:fr.operators.LT;e.fail$data((0,fr._)`Object.keys(${r}).length ${s} ${n}`)}};es.default=Yc;var ts={};Object.defineProperty(ts,"__esModule",{value:!0});const ir=G,dr=W,Xc=x,Zc={message:({params:{missingProperty:e}})=>(0,dr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,dr._)`{missingProperty: ${e}}`},xc={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Zc,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:i,it:a}=e,{opts:o}=a;if(!i&&r.length===0)return;const l=r.length>=o.loopRequired;if(a.allErrors?u():d(),o.strictRequired){const _=e.parentSchema.properties,{definedProperties:b}=e.it;for(const v of r)if((_==null?void 0:_[v])===void 0&&!b.has(v)){const y=a.schemaEnv.baseId+a.errSchemaPath,m=`required property "${v}" is not defined at "${y}" (strictRequired)`;(0,Xc.checkStrictMode)(a,m,a.opts.strictRequired)}}function u(){if(l||i)e.block$data(dr.nil,h);else for(const _ of r)(0,ir.checkReportMissingProp)(e,_)}function d(){const _=t.let("missing");if(l||i){const b=t.let("valid",!0);e.block$data(b,()=>O(_,b)),e.ok(b)}else t.if((0,ir.checkMissingProp)(e,r,_)),(0,ir.reportMissingProp)(e,_),t.else()}function h(){t.forOf("prop",n,_=>{e.setParams({missingProperty:_}),t.if((0,ir.noPropertyInData)(t,s,_,o.ownProperties),()=>e.error())})}function O(_,b){e.setParams({missingProperty:_}),t.forOf(_,n,()=>{t.assign(b,(0,ir.propertyInData)(t,s,_,o.ownProperties)),t.if((0,dr.not)(b),()=>{e.error(),t.break()})},dr.nil)}}};ts.default=xc;var rs={};Object.defineProperty(rs,"__esModule",{value:!0});const hr=W,el={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,hr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,hr._)`{limit: ${e}}`},tl={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:el,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?hr.operators.GT:hr.operators.LT;e.fail$data((0,hr._)`${r}.length ${s} ${n}`)}};rs.default=tl;var ns={},br={};Object.defineProperty(br,"__esModule",{value:!0});const Xi=ki;Xi.code='require("ajv/dist/runtime/equal").default';br.default=Xi;Object.defineProperty(ns,"__esModule",{value:!0});const Sn=vr,ge=W,rl=x,nl=br,sl={message:({params:{i:e,j:t}})=>(0,ge.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,ge._)`{i: ${e}, j: ${t}}`},il={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:sl,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:i,schemaCode:a,it:o}=e;if(!n&&!s)return;const l=t.let("valid"),u=i.items?(0,Sn.getSchemaTypes)(i.items):[];e.block$data(l,d,(0,ge._)`${a} === false`),e.ok(l);function d(){const b=t.let("i",(0,ge._)`${r}.length`),v=t.let("j");e.setParams({i:b,j:v}),t.assign(l,!0),t.if((0,ge._)`${b} > 1`,()=>(h()?O:_)(b,v))}function h(){return u.length>0&&!u.some(b=>b==="object"||b==="array")}function O(b,v){const y=t.name("item"),m=(0,Sn.checkDataTypes)(u,y,o.opts.strictNumbers,Sn.DataType.Wrong),w=t.const("indices",(0,ge._)`{}`);t.for((0,ge._)`;${b}--;`,()=>{t.let(y,(0,ge._)`${r}[${b}]`),t.if(m,(0,ge._)`continue`),u.length>1&&t.if((0,ge._)`typeof ${y} == "string"`,(0,ge._)`${y} += "_"`),t.if((0,ge._)`typeof ${w}[${y}] == "number"`,()=>{t.assign(v,(0,ge._)`${w}[${y}]`),e.error(),t.assign(l,!1).break()}).code((0,ge._)`${w}[${y}] = ${b}`)})}function _(b,v){const y=(0,rl.useFunc)(t,nl.default),m=t.name("outer");t.label(m).for((0,ge._)`;${b}--;`,()=>t.for((0,ge._)`${v} = ${b}; ${v}--;`,()=>t.if((0,ge._)`${y}(${r}[${b}], ${r}[${v}])`,()=>{e.error(),t.assign(l,!1).break(m)})))}}};ns.default=il;var ss={};Object.defineProperty(ss,"__esModule",{value:!0});const kn=W,al=x,ol=br,cl={message:"must be equal to constant",params:({schemaCode:e})=>(0,kn._)`{allowedValue: ${e}}`},ll={keyword:"const",$data:!0,error:cl,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,kn._)`!${(0,al.useFunc)(t,ol.default)}(${r}, ${s})`):e.fail((0,kn._)`${i} !== ${r}`)}};ss.default=ll;var is={};Object.defineProperty(is,"__esModule",{value:!0});const ar=W,ul=x,fl=br,dl={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,ar._)`{allowedValues: ${e}}`},hl={keyword:"enum",schemaType:"array",$data:!0,error:dl,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:i,it:a}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const o=s.length>=a.opts.loopEnum;let l;const u=()=>l??(l=(0,ul.useFunc)(t,fl.default));let d;if(o||n)d=t.let("valid"),e.block$data(d,h);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const _=t.const("vSchema",i);d=(0,ar.or)(...s.map((b,v)=>O(_,v)))}e.pass(d);function h(){t.assign(d,!1),t.forOf("v",i,_=>t.if((0,ar._)`${u()}(${r}, ${_})`,()=>t.assign(d,!0).break()))}function O(_,b){const v=s[b];return typeof v=="object"&&v!==null?(0,ar._)`${u()}(${r}, ${_}[${b}])`:(0,ar._)`${r} === ${v}`}}};is.default=hl;Object.defineProperty(Wn,"__esModule",{value:!0});const ml=Qn,pl=Yn,yl=Xn,gl=xn,$l=es,vl=ts,_l=rs,wl=ns,bl=ss,El=is,Sl=[ml.default,pl.default,yl.default,gl.default,$l.default,vl.default,_l.default,wl.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},bl.default,El.default];Wn.default=Sl;var as={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.validateAdditionalItems=void 0;const yt=W,An=x,Ol={message:({params:{len:e}})=>(0,yt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,yt._)`{limit: ${e}}`},Nl={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Ol,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,An.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Zi(e,n)}};function Zi(e,t){const{gen:r,schema:n,data:s,keyword:i,it:a}=e;a.items=!0;const o=r.const("len",(0,yt._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,yt._)`${o} <= ${t.length}`);else if(typeof n=="object"&&!(0,An.alwaysValidSchema)(a,n)){const u=r.var("valid",(0,yt._)`${o} <= ${t.length}`);r.if((0,yt.not)(u),()=>l(u)),e.ok(u)}function l(u){r.forRange("i",t.length,o,d=>{e.subschema({keyword:i,dataProp:d,dataPropType:An.Type.Num},u),a.allErrors||r.if((0,yt.not)(u),()=>r.break())})}}Kt.validateAdditionalItems=Zi;Kt.default=Nl;var os={},zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.validateTuple=void 0;const ii=W,Kr=x,Pl=G,jl={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return xi(e,"additionalItems",t);r.items=!0,!(0,Kr.alwaysValidSchema)(r,t)&&e.ok((0,Pl.validateArray)(e))}};function xi(e,t,r=e.schema){const{gen:n,parentSchema:s,data:i,keyword:a,it:o}=e;d(s),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=Kr.mergeEvaluated.items(n,r.length,o.items));const l=n.name("valid"),u=n.const("len",(0,ii._)`${i}.length`);r.forEach((h,O)=>{(0,Kr.alwaysValidSchema)(o,h)||(n.if((0,ii._)`${u} > ${O}`,()=>e.subschema({keyword:a,schemaProp:O,dataProp:O},l)),e.ok(l))});function d(h){const{opts:O,errSchemaPath:_}=o,b=r.length,v=b===h.minItems&&(b===h.maxItems||h[t]===!1);if(O.strictTuples&&!v){const y=`"${a}" is ${b}-tuple, but minItems or maxItems/${t} are not specified or different at path "${_}"`;(0,Kr.checkStrictMode)(o,y,O.strictTuples)}}}zt.validateTuple=xi;zt.default=jl;Object.defineProperty(os,"__esModule",{value:!0});const Tl=zt,Cl={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Tl.validateTuple)(e,"items")};os.default=Cl;var cs={};Object.defineProperty(cs,"__esModule",{value:!0});const ai=W,Il=x,kl=G,Al=Kt,Rl={message:({params:{len:e}})=>(0,ai.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ai._)`{limit: ${e}}`},Dl={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Rl,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,Il.alwaysValidSchema)(n,t)&&(s?(0,Al.validateAdditionalItems)(e,s):e.ok((0,kl.validateArray)(e)))}};cs.default=Dl;var ls={};Object.defineProperty(ls,"__esModule",{value:!0});const Te=W,Ar=x,Ml={message:({params:{min:e,max:t}})=>t===void 0?(0,Te.str)`must contain at least ${e} valid item(s)`:(0,Te.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Te._)`{minContains: ${e}}`:(0,Te._)`{minContains: ${e}, maxContains: ${t}}`},Fl={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Ml,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;let a,o;const{minContains:l,maxContains:u}=n;i.opts.next?(a=l===void 0?1:l,o=u):a=1;const d=t.const("len",(0,Te._)`${s}.length`);if(e.setParams({min:a,max:o}),o===void 0&&a===0){(0,Ar.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&a>o){(0,Ar.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Ar.alwaysValidSchema)(i,r)){let v=(0,Te._)`${d} >= ${a}`;o!==void 0&&(v=(0,Te._)`${v} && ${d} <= ${o}`),e.pass(v);return}i.items=!0;const h=t.name("valid");o===void 0&&a===1?_(h,()=>t.if(h,()=>t.break())):a===0?(t.let(h,!0),o!==void 0&&t.if((0,Te._)`${s}.length > 0`,O)):(t.let(h,!1),O()),e.result(h,()=>e.reset());function O(){const v=t.name("_valid"),y=t.let("count",0);_(v,()=>t.if(v,()=>b(y)))}function _(v,y){t.forRange("i",0,d,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:Ar.Type.Num,compositeRule:!0},v),y()})}function b(v){t.code((0,Te._)`${v}++`),o===void 0?t.if((0,Te._)`${v} >= ${a}`,()=>t.assign(h,!0).break()):(t.if((0,Te._)`${v} > ${o}`,()=>t.assign(h,!1).break()),a===1?t.assign(h,!0):t.if((0,Te._)`${v} >= ${a}`,()=>t.assign(h,!0)))}}};ls.default=Fl;var ea={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=W,r=x,n=G;e.error={message:({params:{property:l,depsCount:u,deps:d}})=>{const h=u===1?"property":"properties";return(0,t.str)`must have ${h} ${d} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:d,missingProperty:h}})=>(0,t._)`{property: ${l},
    missingProperty: ${h},
    depsCount: ${u},
    deps: ${d}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,d]=i(l);a(l,u),o(l,d)}};function i({schema:l}){const u={},d={};for(const h in l){if(h==="__proto__")continue;const O=Array.isArray(l[h])?u:d;O[h]=l[h]}return[u,d]}function a(l,u=l.schema){const{gen:d,data:h,it:O}=l;if(Object.keys(u).length===0)return;const _=d.let("missing");for(const b in u){const v=u[b];if(v.length===0)continue;const y=(0,n.propertyInData)(d,h,b,O.opts.ownProperties);l.setParams({property:b,depsCount:v.length,deps:v.join(", ")}),O.allErrors?d.if(y,()=>{for(const m of v)(0,n.checkReportMissingProp)(l,m)}):(d.if((0,t._)`${y} && (${(0,n.checkMissingProp)(l,v,_)})`),(0,n.reportMissingProp)(l,_),d.else())}}e.validatePropertyDeps=a;function o(l,u=l.schema){const{gen:d,data:h,keyword:O,it:_}=l,b=d.name("valid");for(const v in u)(0,r.alwaysValidSchema)(_,u[v])||(d.if((0,n.propertyInData)(d,h,v,_.opts.ownProperties),()=>{const y=l.subschema({keyword:O,schemaProp:v},b);l.mergeValidEvaluated(y,b)},()=>d.var(b,!0)),l.ok(b))}e.validateSchemaDeps=o,e.default=s})(ea);var us={};Object.defineProperty(us,"__esModule",{value:!0});const ta=W,Ll=x,Vl={message:"property name must be valid",params:({params:e})=>(0,ta._)`{propertyName: ${e.propertyName}}`},Ul={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Vl,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,Ll.alwaysValidSchema)(s,r))return;const i=t.name("valid");t.forIn("key",n,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},i),t.if((0,ta.not)(i),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(i)}};us.default=Ul;var on={};Object.defineProperty(on,"__esModule",{value:!0});const Rr=G,Ae=W,ql=Ge,Dr=x,Kl={message:"must NOT have additional properties",params:({params:e})=>(0,Ae._)`{additionalProperty: ${e.additionalProperty}}`},zl={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Kl,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:i,it:a}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:o,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,Dr.alwaysValidSchema)(a,r))return;const u=(0,Rr.allSchemaProperties)(n.properties),d=(0,Rr.allSchemaProperties)(n.patternProperties);h(),e.ok((0,Ae._)`${i} === ${ql.default.errors}`);function h(){t.forIn("key",s,y=>{!u.length&&!d.length?b(y):t.if(O(y),()=>b(y))})}function O(y){let m;if(u.length>8){const w=(0,Dr.schemaRefOrVal)(a,n.properties,"properties");m=(0,Rr.isOwnProperty)(t,w,y)}else u.length?m=(0,Ae.or)(...u.map(w=>(0,Ae._)`${y} === ${w}`)):m=Ae.nil;return d.length&&(m=(0,Ae.or)(m,...d.map(w=>(0,Ae._)`${(0,Rr.usePattern)(e,w)}.test(${y})`))),(0,Ae.not)(m)}function _(y){t.code((0,Ae._)`delete ${s}[${y}]`)}function b(y){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){_(y);return}if(r===!1){e.setParams({additionalProperty:y}),e.error(),o||t.break();return}if(typeof r=="object"&&!(0,Dr.alwaysValidSchema)(a,r)){const m=t.name("valid");l.removeAdditional==="failing"?(v(y,m,!1),t.if((0,Ae.not)(m),()=>{e.reset(),_(y)})):(v(y,m),o||t.if((0,Ae.not)(m),()=>t.break()))}}function v(y,m,w){const S={keyword:"additionalProperties",dataProp:y,dataPropType:Dr.Type.Str};w===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,m)}}};on.default=zl;var fs={};Object.defineProperty(fs,"__esModule",{value:!0});const Bl=De,oi=G,On=x,ci=on,Jl={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&ci.default.code(new Bl.KeywordCxt(i,ci.default,"additionalProperties"));const a=(0,oi.allSchemaProperties)(r);for(const h of a)i.definedProperties.add(h);i.opts.unevaluated&&a.length&&i.props!==!0&&(i.props=On.mergeEvaluated.props(t,(0,On.toHash)(a),i.props));const o=a.filter(h=>!(0,On.alwaysValidSchema)(i,r[h]));if(o.length===0)return;const l=t.name("valid");for(const h of o)u(h)?d(h):(t.if((0,oi.propertyInData)(t,s,h,i.opts.ownProperties)),d(h),i.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(h),e.ok(l);function u(h){return i.opts.useDefaults&&!i.compositeRule&&r[h].default!==void 0}function d(h){e.subschema({keyword:"properties",schemaProp:h,dataProp:h},l)}}};fs.default=Jl;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});const li=G,Mr=W,ui=x,fi=x,Hl={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:i}=e,{opts:a}=i,o=(0,li.allSchemaProperties)(r),l=o.filter(v=>(0,ui.alwaysValidSchema)(i,r[v]));if(o.length===0||l.length===o.length&&(!i.opts.unevaluated||i.props===!0))return;const u=a.strictSchema&&!a.allowMatchingProperties&&s.properties,d=t.name("valid");i.props!==!0&&!(i.props instanceof Mr.Name)&&(i.props=(0,fi.evaluatedPropsToName)(t,i.props));const{props:h}=i;O();function O(){for(const v of o)u&&_(v),i.allErrors?b(v):(t.var(d,!0),b(v),t.if(d))}function _(v){for(const y in u)new RegExp(v).test(y)&&(0,ui.checkStrictMode)(i,`property ${y} matches pattern ${v} (use allowMatchingProperties)`)}function b(v){t.forIn("key",n,y=>{t.if((0,Mr._)`${(0,li.usePattern)(e,v)}.test(${y})`,()=>{const m=l.includes(v);m||e.subschema({keyword:"patternProperties",schemaProp:v,dataProp:y,dataPropType:fi.Type.Str},d),i.opts.unevaluated&&h!==!0?t.assign((0,Mr._)`${h}[${y}]`,!0):!m&&!i.allErrors&&t.if((0,Mr.not)(d),()=>t.break())})})}}};ds.default=Hl;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});const Gl=x,Wl={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Gl.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};hs.default=Wl;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});const Ql=G,Yl={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ql.validateUnion,error:{message:"must match a schema in anyOf"}};ms.default=Yl;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});const zr=W,Xl=x,Zl={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,zr._)`{passingSchemas: ${e.passing}}`},xl={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Zl,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const i=r,a=t.let("valid",!1),o=t.let("passing",null),l=t.name("_valid");e.setParams({passing:o}),t.block(u),e.result(a,()=>e.reset(),()=>e.error(!0));function u(){i.forEach((d,h)=>{let O;(0,Xl.alwaysValidSchema)(s,d)?t.var(l,!0):O=e.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},l),h>0&&t.if((0,zr._)`${l} && ${a}`).assign(a,!1).assign(o,(0,zr._)`[${o}, ${h}]`).else(),t.if(l,()=>{t.assign(a,!0),t.assign(o,h),O&&e.mergeEvaluated(O,zr.Name)})})}}};ps.default=xl;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});const eu=x,tu={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((i,a)=>{if((0,eu.alwaysValidSchema)(n,i))return;const o=e.subschema({keyword:"allOf",schemaProp:a},s);e.ok(s),e.mergeEvaluated(o)})}};ys.default=tu;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});const xr=W,ra=x,ru={message:({params:e})=>(0,xr.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,xr._)`{failingKeyword: ${e.ifClause}}`},nu={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:ru,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,ra.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=di(n,"then"),i=di(n,"else");if(!s&&!i)return;const a=t.let("valid",!0),o=t.name("_valid");if(l(),e.reset(),s&&i){const d=t.let("ifClause");e.setParams({ifClause:d}),t.if(o,u("then",d),u("else",d))}else s?t.if(o,u("then")):t.if((0,xr.not)(o),u("else"));e.pass(a,()=>e.error(!0));function l(){const d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);e.mergeEvaluated(d)}function u(d,h){return()=>{const O=e.subschema({keyword:d},o);t.assign(a,o),e.mergeValidEvaluated(O,a),h?t.assign(h,(0,xr._)`${d}`):e.setParams({ifClause:d})}}}};function di(e,t){const r=e.schema[t];return r!==void 0&&!(0,ra.alwaysValidSchema)(e,r)}gs.default=nu;var $s={};Object.defineProperty($s,"__esModule",{value:!0});const su=x,iu={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,su.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};$s.default=iu;Object.defineProperty(as,"__esModule",{value:!0});const au=Kt,ou=os,cu=zt,lu=cs,uu=ls,fu=ea,du=us,hu=on,mu=fs,pu=ds,yu=hs,gu=ms,$u=ps,vu=ys,_u=gs,wu=$s;function bu(e=!1){const t=[yu.default,gu.default,$u.default,vu.default,_u.default,wu.default,du.default,hu.default,fu.default,mu.default,pu.default];return e?t.push(ou.default,lu.default):t.push(au.default,cu.default),t.push(uu.default),t}as.default=bu;var vs={},_s={};Object.defineProperty(_s,"__esModule",{value:!0});const fe=W,Eu={message:({schemaCode:e})=>(0,fe.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,fe._)`{format: ${e}}`},Su={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Eu,code(e,t){const{gen:r,data:n,$data:s,schema:i,schemaCode:a,it:o}=e,{opts:l,errSchemaPath:u,schemaEnv:d,self:h}=o;if(!l.validateFormats)return;s?O():_();function O(){const b=r.scopeValue("formats",{ref:h.formats,code:l.code.formats}),v=r.const("fDef",(0,fe._)`${b}[${a}]`),y=r.let("fType"),m=r.let("format");r.if((0,fe._)`typeof ${v} == "object" && !(${v} instanceof RegExp)`,()=>r.assign(y,(0,fe._)`${v}.type || "string"`).assign(m,(0,fe._)`${v}.validate`),()=>r.assign(y,(0,fe._)`"string"`).assign(m,v)),e.fail$data((0,fe.or)(w(),S()));function w(){return l.strictSchema===!1?fe.nil:(0,fe._)`${a} && !${m}`}function S(){const T=d.$async?(0,fe._)`(${v}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,fe._)`${m}(${n})`,A=(0,fe._)`(typeof ${m} == "function" ? ${T} : ${m}.test(${n}))`;return(0,fe._)`${m} && ${m} !== true && ${y} === ${t} && !${A}`}}function _(){const b=h.formats[i];if(!b){w();return}if(b===!0)return;const[v,y,m]=S(b);v===t&&e.pass(T());function w(){if(l.strictSchema===!1){h.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${i}" ignored in schema at path "${u}"`}}function S(A){const E=A instanceof RegExp?(0,fe.regexpCode)(A):l.code.formats?(0,fe._)`${l.code.formats}${(0,fe.getProperty)(i)}`:void 0,I=r.scopeValue("formats",{key:i,ref:A,code:E});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,fe._)`${I}.validate`]:["string",A,I]}function T(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!d.$async)throw new Error("async format in sync schema");return(0,fe._)`await ${m}(${n})`}return typeof y=="function"?(0,fe._)`${m}(${n})`:(0,fe._)`${m}.test(${n})`}}}};_s.default=Su;Object.defineProperty(vs,"__esModule",{value:!0});const Ou=_s,Nu=[Ou.default];vs.default=Nu;var qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.contentVocabulary=qt.metadataVocabulary=void 0;qt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];qt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Jn,"__esModule",{value:!0});const Pu=Hn,ju=Wn,Tu=as,Cu=vs,hi=qt,Iu=[Pu.default,ju.default,(0,Tu.default)(),Cu.default,hi.metadataVocabulary,hi.contentVocabulary];Jn.default=Iu;var ws={},na={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(na);Object.defineProperty(ws,"__esModule",{value:!0});const Rt=W,Rn=na,mi=Se,ku=x,Au={message:({params:{discrError:e,tagName:t}})=>e===Rn.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Rt._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Ru={keyword:"discriminator",type:"object",schemaType:"object",error:Au,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:i}=e,{oneOf:a}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,Rt._)`${r}${(0,Rt.getProperty)(o)}`);t.if((0,Rt._)`typeof ${u} == "string"`,()=>d(),()=>e.error(!1,{discrError:Rn.DiscrError.Tag,tag:u,tagName:o})),e.ok(l);function d(){const _=O();t.if(!1);for(const b in _)t.elseIf((0,Rt._)`${u} === ${b}`),t.assign(l,h(_[b]));t.else(),e.error(!1,{discrError:Rn.DiscrError.Mapping,tag:u,tagName:o}),t.endIf()}function h(_){const b=t.name("valid"),v=e.subschema({keyword:"oneOf",schemaProp:_},b);return e.mergeEvaluated(v,Rt.Name),b}function O(){var _;const b={},v=m(s);let y=!0;for(let T=0;T<a.length;T++){let A=a[T];A!=null&&A.$ref&&!(0,ku.schemaHasRulesButRef)(A,i.self.RULES)&&(A=mi.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,A==null?void 0:A.$ref),A instanceof mi.SchemaEnv&&(A=A.schema));const E=(_=A==null?void 0:A.properties)===null||_===void 0?void 0:_[o];if(typeof E!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);y=y&&(v||m(A)),w(E,T)}if(!y)throw new Error(`discriminator: "${o}" must be required`);return b;function m({required:T}){return Array.isArray(T)&&T.includes(o)}function w(T,A){if(T.const)S(T.const,A);else if(T.enum)for(const E of T.enum)S(E,A);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function S(T,A){if(typeof T!="string"||T in b)throw new Error(`discriminator: "${o}" values must be unique strings`);b[T]=A}}}};ws.default=Ru;const Du="http://json-schema.org/draft-07/schema#",Mu="http://json-schema.org/draft-07/schema#",Fu="Core schema meta-schema",Lu={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Vu=["object","boolean"],Uu={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},qu={$schema:Du,$id:Mu,title:Fu,definitions:Lu,type:Vu,properties:Uu,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Si,n=Jn,s=ws,i=qu,a=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(b=>this.addVocabulary(b)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const b=this.opts.$data?this.$dataMetaSchema(i,a):i;this.addMetaSchema(b,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=De;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=W;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=_r;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var O=wr;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return O.default}})})(Ya,Gr);const Ku=Qa(Gr),zu={type:"string"},Bu={$schema:"http://json-schema.org/draft-07/schema#",definitions:{MyRecord:{type:"object",additionalProperties:!0,required:[]},OneOrManyString:{oneOf:[{type:"string"},{type:"array",items:{type:"string"},minItems:1}]}},type:"object",required:["globals"],properties:{globals:{type:"object",required:["rules"],properties:{rules:{type:"array",items:{type:"object",required:["name","uuid"],additionalProperties:!0,properties:{name:{type:"string"},uuid:{type:"string",maxLength:36,minLength:36,pattern:"^[0-9a-f]{8}"},all:{type:"boolean",nullable:!0},none:{type:"boolean",nullable:!0},exists:{$ref:"#/definitions/OneOrManyString"},missing:{$ref:"#/definitions/OneOrManyString"},match:{$ref:"#/definitions/MyRecord"},equals:{$ref:"#/definitions/MyRecord"},set:{$ref:"#/definitions/MyRecord"},starts_with:{$ref:"#/definitions/MyRecord"},ends_with:{$ref:"#/definitions/MyRecord"},discard:{type:"boolean",nullable:!0},stop:{type:"boolean",nullable:!0},stop_rule:{type:"boolean",nullable:!0},replace:{nullable:!0,type:"array",items:{type:"object",required:["field","this","with"],properties:{field:{type:"string",pattern:"[0-9a-z]{4,32}"},this:{type:"string"},with:{type:"string"}}}}}}}}}}},sa=new Ku,pi=sa.compile(Bu),Ju=sa.compile(zu);var ze=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:globalThis;function Hu(e,t){return typeof t>"u"?t={autoBom:!1}:typeof t!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function Nn(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){en(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function yi(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Fr(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var gi=ze.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),en=ze.saveAs||(typeof window!="object"||window!==ze?function(){}:"download"in HTMLAnchorElement.prototype&&!gi?function(t,r,n){var s=ze.URL||ze.webkitURL,i=document.createElement("a");r=r||t.name||"download",i.download=r,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?yi(i.href)?Nn(t,r,n):Fr(i,i.target="_blank"):Fr(i)):(i.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(i.href)},4e4),setTimeout(function(){Fr(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,n){if(r=r||t.name||"download",typeof t=="string")if(yi(t))Nn(t,r,n);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){Fr(s)})}else navigator.msSaveOrOpenBlob(Hu(t,n),r)}:function(t,r,n,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return Nn(t,r,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(ze.HTMLElement)||ze.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a||gi)&&typeof FileReader<"u"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=h:location=h,s=null},l.readAsDataURL(t)}else{var u=ze.URL||ze.webkitURL,d=u.createObjectURL(t);s?s.location=d:location.href=d,s=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});ze.saveAs=en.saveAs=en;const bs=Symbol.for("yaml.alias"),Dn=Symbol.for("yaml.document"),it=Symbol.for("yaml.map"),ia=Symbol.for("yaml.pair"),cn=Symbol.for("yaml.scalar"),Bt=Symbol.for("yaml.seq"),Ie=Symbol.for("yaml.node.type"),Jt=e=>!!e&&typeof e=="object"&&e[Ie]===bs,Es=e=>!!e&&typeof e=="object"&&e[Ie]===Dn,Er=e=>!!e&&typeof e=="object"&&e[Ie]===it,pe=e=>!!e&&typeof e=="object"&&e[Ie]===ia,ce=e=>!!e&&typeof e=="object"&&e[Ie]===cn,Sr=e=>!!e&&typeof e=="object"&&e[Ie]===Bt;function me(e){if(e&&typeof e=="object")switch(e[Ie]){case it:case Bt:return!0}return!1}function ye(e){if(e&&typeof e=="object")switch(e[Ie]){case bs:case it:case cn:case Bt:return!0}return!1}const Gu=e=>(ce(e)||me(e))&&!!e.anchor;class Ss{constructor(t){Object.defineProperty(this,Ie,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}}const ht=Symbol("break visit"),Wu=Symbol("skip children"),mr=Symbol("remove node");function _t(e,t){const r=Qu(t);Es(e)?Dt(null,e.contents,r,Object.freeze([e]))===mr&&(e.contents=null):Dt(null,e,r,Object.freeze([]))}_t.BREAK=ht;_t.SKIP=Wu;_t.REMOVE=mr;function Dt(e,t,r,n){const s=Yu(e,t,r,n);if(ye(s)||pe(s))return Xu(e,n,s),Dt(e,s,r,n);if(typeof s!="symbol"){if(me(t)){n=Object.freeze(n.concat(t));for(let i=0;i<t.items.length;++i){const a=Dt(i,t.items[i],r,n);if(typeof a=="number")i=a-1;else{if(a===ht)return ht;a===mr&&(t.items.splice(i,1),i-=1)}}}else if(pe(t)){n=Object.freeze(n.concat(t));const i=Dt("key",t.key,r,n);if(i===ht)return ht;i===mr&&(t.key=null);const a=Dt("value",t.value,r,n);if(a===ht)return ht;a===mr&&(t.value=null)}}return s}function Qu(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function Yu(e,t,r,n){var s,i,a,o,l;if(typeof r=="function")return r(e,t,n);if(Er(t))return(s=r.Map)==null?void 0:s.call(r,e,t,n);if(Sr(t))return(i=r.Seq)==null?void 0:i.call(r,e,t,n);if(pe(t))return(a=r.Pair)==null?void 0:a.call(r,e,t,n);if(ce(t))return(o=r.Scalar)==null?void 0:o.call(r,e,t,n);if(Jt(t))return(l=r.Alias)==null?void 0:l.call(r,e,t,n)}function Xu(e,t,r){const n=t[t.length-1];if(me(n))n.items[e]=r;else if(pe(n))e==="key"?n.key=r:n.value=r;else if(Es(n))n.contents=r;else{const s=Jt(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const Zu={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},xu=e=>e.replace(/[!,[\]{}]/g,t=>Zu[t]);class Ee{constructor(t,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Ee.defaultYaml,t),this.tags=Object.assign({},Ee.defaultTags,r)}clone(){const t=new Ee(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Ee(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Ee.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Ee.defaultTags);break}return t}add(t,r){this.atNextDocument&&(this.yaml={explicit:Ee.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Ee.defaultTags),this.atNextDocument=!1);const n=t.trim().split(/[ \t]+/),s=n.shift();switch(s){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[i,a]=n;return this.tags[i]=a,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return r(0,"%YAML directive should contain exactly one part"),!1;const[i]=n;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const a=/^\d+\.\d+$/.test(i);return r(6,`Unsupported YAML version ${i}`,a),!1}}default:return r(0,`Unknown directive ${s}`,!0),!1}}tagName(t,r){if(t==="!")return"!";if(t[0]!=="!")return r(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const a=t.slice(2,-1);return a==="!"||a==="!!"?(r(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&r("Verbatim tags must end with a >"),a)}const[,n,s]=t.match(/^(.*!)([^!]*)$/);s||r(`The ${t} tag has no suffix`);const i=this.tags[n];return i?i+decodeURIComponent(s):n==="!"?t:(r(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[r,n]of Object.entries(this.tags))if(t.startsWith(n))return r+xu(t.substring(n.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let s;if(t&&n.length>0&&ye(t.contents)){const i={};_t(t.contents,(a,o)=>{ye(o)&&o.tag&&(i[o.tag]=!0)}),s=Object.keys(i)}else s=[];for(const[i,a]of n)i==="!!"&&a==="tag:yaml.org,2002:"||(!t||s.some(o=>o.startsWith(a)))&&r.push(`%TAG ${i} ${a}`);return r.join(`
`)}}Ee.defaultYaml={explicit:!1,version:"1.2"};Ee.defaultTags={"!!":"tag:yaml.org,2002:"};function aa(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(r)}return!0}function oa(e){const t=new Set;return _t(e,{Value(r,n){n.anchor&&t.add(n.anchor)}}),t}function ca(e,t){for(let r=1;;++r){const n=`${e}${r}`;if(!t.has(n))return n}}function ef(e,t){const r=[],n=new Map;let s=null;return{onAnchor:i=>{r.push(i),s||(s=oa(e));const a=ca(t,s);return s.add(a),a},setAnchors:()=>{for(const i of r){const a=n.get(i);if(typeof a=="object"&&a.anchor&&(ce(a.node)||me(a.node)))a.node.anchor=a.anchor;else{const o=new Error("Failed to resolve repeated object (this should not happen)");throw o.source=i,o}}},sourceObjects:n}}class la extends Ss{constructor(t){super(bs),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let r;return _t(t,{Node:(n,s)=>{if(s===this)return _t.BREAK;s.anchor===this.source&&(r=s)}}),r}toJSON(t,r){if(!r)return{source:this.source};const{anchors:n,doc:s,maxAliasCount:i}=r,a=this.resolve(s);if(!a){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}const o=n.get(a);if(!o||o.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(o.count+=1,o.aliasCount===0&&(o.aliasCount=Br(s,a,n)),o.count*o.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return o.res}toString(t,r,n){const s=`*${this.source}`;if(t){if(aa(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(t.implicitKey)return`${s} `}return s}}function Br(e,t,r){if(Jt(t)){const n=t.resolve(e),s=r&&n&&r.get(n);return s?s.count*s.aliasCount:0}else if(me(t)){let n=0;for(const s of t.items){const i=Br(e,s,r);i>n&&(n=i)}return n}else if(pe(t)){const n=Br(e,t.key,r),s=Br(e,t.value,r);return Math.max(n,s)}return 1}function He(e,t,r){if(Array.isArray(e))return e.map((n,s)=>He(n,String(s),r));if(e&&typeof e.toJSON=="function"){if(!r||!Gu(e))return e.toJSON(t,r);const n={aliasCount:0,count:1,res:void 0};r.anchors.set(e,n),r.onCreate=i=>{n.res=i,delete r.onCreate};const s=e.toJSON(t,r);return r.onCreate&&r.onCreate(s),s}return typeof e=="bigint"&&!(r!=null&&r.keep)?Number(e):e}const ua=e=>!e||typeof e!="function"&&typeof e!="object";class ee extends Ss{constructor(t){super(cn),this.value=t}toJSON(t,r){return r!=null&&r.keep?this.value:He(this.value,t,r)}toString(){return String(this.value)}}ee.BLOCK_FOLDED="BLOCK_FOLDED";ee.BLOCK_LITERAL="BLOCK_LITERAL";ee.PLAIN="PLAIN";ee.QUOTE_DOUBLE="QUOTE_DOUBLE";ee.QUOTE_SINGLE="QUOTE_SINGLE";const tf="tag:yaml.org,2002:";function rf(e,t,r){if(t){const n=r.filter(i=>i.tag===t),s=n.find(i=>!i.format)??n[0];if(!s)throw new Error(`Tag ${t} not found`);return s}return r.find(n=>{var s;return((s=n.identify)==null?void 0:s.call(n,e))&&!n.format})}function gr(e,t,r){var h,O;if(Es(e)&&(e=e.contents),ye(e))return e;if(pe(e)){const _=(O=(h=r.schema[it]).createNode)==null?void 0:O.call(h,r.schema,null,r);return _.items.push(e),_}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:n,onAnchor:s,onTagObj:i,schema:a,sourceObjects:o}=r;let l;if(n&&e&&typeof e=="object"){if(l=o.get(e),l)return l.anchor||(l.anchor=s(e)),new la(l.anchor);l={anchor:null,node:null},o.set(e,l)}t!=null&&t.startsWith("!!")&&(t=tf+t.slice(2));let u=rf(e,t,a.tags);if(!u){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const _=new ee(e);return l&&(l.node=_),_}u=e instanceof Map?a[it]:Symbol.iterator in Object(e)?a[Bt]:a[it]}i&&(i(u),delete r.onTagObj);const d=u!=null&&u.createNode?u.createNode(r.schema,e,r):new ee(e);return t&&(d.tag=t),l&&(l.node=d),d}function tn(e,t,r){let n=r;for(let s=t.length-1;s>=0;--s){const i=t[s];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const a=[];a[i]=n,n=a}else n=new Map([[i,n]])}return gr(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const or=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class ln extends Ss{constructor(t,r){super(t),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(t){const r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(r.schema=t),r.items=r.items.map(n=>ye(n)||pe(n)?n.clone(t):n),this.range&&(r.range=this.range.slice()),r}addIn(t,r){if(or(t))this.add(r);else{const[n,...s]=t,i=this.get(n,!0);if(me(i))i.addIn(s,r);else if(i===void 0&&this.schema)this.set(n,tn(this.schema,s,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}}deleteIn(t){const[r,...n]=t;if(n.length===0)return this.delete(r);const s=this.get(r,!0);if(me(s))return s.deleteIn(n);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(t,r){const[n,...s]=t,i=this.get(n,!0);return s.length===0?!r&&ce(i)?i.value:i:me(i)?i.getIn(s,r):void 0}hasAllNullValues(t){return this.items.every(r=>{if(!pe(r))return!1;const n=r.value;return n==null||t&&ce(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(t){const[r,...n]=t;if(n.length===0)return this.has(r);const s=this.get(r,!0);return me(s)?s.hasIn(n):!1}setIn(t,r){const[n,...s]=t;if(s.length===0)this.set(n,r);else{const i=this.get(n,!0);if(me(i))i.setIn(s,r);else if(i===void 0&&this.schema)this.set(n,tn(this.schema,s,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}}}ln.maxFlowStringSingleLineLength=60;const nf=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Qe(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const nt=(e,t,r)=>e.endsWith(`
`)?Qe(r,t):r.includes(`
`)?`
`+Qe(r,t):(e.endsWith(" ")?"":" ")+r,fa="flow",Mn="block",Jr="quoted";function un(e,t,r="flow",{indentAtStart:n,lineWidth:s=80,minContentWidth:i=20,onFold:a,onOverflow:o}={}){if(!s||s<0)return e;const l=Math.max(1+i,1+s-t.length);if(e.length<=l)return e;const u=[],d={};let h=s-t.length;typeof n=="number"&&(n>s-Math.max(2,i)?u.push(0):h=s-n);let O,_,b=!1,v=-1,y=-1,m=-1;r===Mn&&(v=$i(e,v),v!==-1&&(h=v+l));for(let S;S=e[v+=1];){if(r===Jr&&S==="\\"){switch(y=v,e[v+1]){case"x":v+=3;break;case"u":v+=5;break;case"U":v+=9;break;default:v+=1}m=v}if(S===`
`)r===Mn&&(v=$i(e,v)),h=v+l,O=void 0;else{if(S===" "&&_&&_!==" "&&_!==`
`&&_!=="	"){const T=e[v+1];T&&T!==" "&&T!==`
`&&T!=="	"&&(O=v)}if(v>=h)if(O)u.push(O),h=O+l,O=void 0;else if(r===Jr){for(;_===" "||_==="	";)_=S,S=e[v+=1],b=!0;const T=v>m+1?v-2:y-1;if(d[T])return e;u.push(T),d[T]=!0,h=T+l,O=void 0}else b=!0}_=S}if(b&&o&&o(),u.length===0)return e;a&&a();let w=e.slice(0,u[0]);for(let S=0;S<u.length;++S){const T=u[S],A=u[S+1]||e.length;T===0?w=`
${t}${e.slice(0,A)}`:(r===Jr&&d[T]&&(w+=`${e[T]}\\`),w+=`
${t}${e.slice(T+1,A)}`)}return w}function $i(e,t){let r=e[t+1];for(;r===" "||r==="	";){do r=e[t+=1];while(r&&r!==`
`);r=e[t+1]}return t}const fn=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),dn=e=>/^(%|---|\.\.\.)/m.test(e);function sf(e,t,r){if(!t||t<0)return!1;const n=t-r,s=e.length;if(s<=n)return!1;for(let i=0,a=0;i<s;++i)if(e[i]===`
`){if(i-a>n)return!0;if(a=i+1,s-a<=n)return!1}return!0}function pr(e,t){const r=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return r;const{implicitKey:n}=t,s=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(dn(e)?"  ":"");let a="",o=0;for(let l=0,u=r[l];u;u=r[++l])if(u===" "&&r[l+1]==="\\"&&r[l+2]==="n"&&(a+=r.slice(o,l)+"\\ ",l+=1,o=l,u="\\"),u==="\\")switch(r[l+1]){case"u":{a+=r.slice(o,l);const d=r.substr(l+2,4);switch(d){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:d.substr(0,2)==="00"?a+="\\x"+d.substr(2):a+=r.substr(l,6)}l+=5,o=l+1}break;case"n":if(n||r[l+2]==='"'||r.length<s)l+=1;else{for(a+=r.slice(o,l)+`

`;r[l+2]==="\\"&&r[l+3]==="n"&&r[l+4]!=='"';)a+=`
`,l+=2;a+=i,r[l+2]===" "&&(a+="\\"),l+=1,o=l+1}break;default:l+=1}return a=o?a+r.slice(o):r,n?a:un(a,i,Jr,fn(t))}function Fn(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return pr(e,t);const r=t.indent||(dn(e)?"  ":""),n="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return t.implicitKey?n:un(n,r,fa,fn(t))}function Mt(e,t){const{singleQuote:r}=t.options;let n;if(r===!1)n=pr;else{const s=e.includes('"'),i=e.includes("'");s&&!i?n=Fn:i&&!s?n=pr:n=r?Fn:pr}return n(e,t)}function Hr({comment:e,type:t,value:r},n,s,i){const{blockQuote:a,commentString:o,lineWidth:l}=n.options;if(!a||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return Mt(r,n);const u=n.indent||(n.forceBlockIndent||dn(r)?"  ":""),d=a==="literal"?!0:a==="folded"||t===ee.BLOCK_FOLDED?!1:t===ee.BLOCK_LITERAL?!0:!sf(r,l,u.length);if(!r)return d?`|
`:`>
`;let h,O;for(O=r.length;O>0;--O){const E=r[O-1];if(E!==`
`&&E!=="	"&&E!==" ")break}let _=r.substring(O);const b=_.indexOf(`
`);b===-1?h="-":r===_||b!==_.length-1?(h="+",i&&i()):h="",_&&(r=r.slice(0,-_.length),_[_.length-1]===`
`&&(_=_.slice(0,-1)),_=_.replace(/\n+(?!\n|$)/g,`$&${u}`));let v=!1,y,m=-1;for(y=0;y<r.length;++y){const E=r[y];if(E===" ")v=!0;else if(E===`
`)m=y;else break}let w=r.substring(0,m<y?m+1:y);w&&(r=r.substring(w.length),w=w.replace(/\n+/g,`$&${u}`));let T=(d?"|":">")+(v?u?"2":"1":"")+h;if(e&&(T+=" "+o(e.replace(/ ?[\r\n]+/g," ")),s&&s()),d)return r=r.replace(/\n+/g,`$&${u}`),`${T}
${u}${w}${r}${_}`;r=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);const A=un(`${w}${r}${_}`,u,Mn,fn(n));return`${T}
${u}${A}`}function af(e,t,r,n){const{type:s,value:i}=e,{actualString:a,implicitKey:o,indent:l,indentStep:u,inFlow:d}=t;if(o&&/[\n[\]{},]/.test(i)||d&&/[[\]{},]/.test(i))return Mt(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return o||d||!i.includes(`
`)?Mt(i,t):Hr(e,t,r,n);if(!o&&!d&&s!==ee.PLAIN&&i.includes(`
`))return Hr(e,t,r,n);if(dn(i)){if(l==="")return t.forceBlockIndent=!0,Hr(e,t,r,n);if(o&&l===u)return Mt(i,t)}const h=i.replace(/\n+/g,`$&
${l}`);if(a){const O=v=>{var y;return v.default&&v.tag!=="tag:yaml.org,2002:str"&&((y=v.test)==null?void 0:y.test(h))},{compat:_,tags:b}=t.doc.schema;if(b.some(O)||_!=null&&_.some(O))return Mt(i,t)}return o?h:un(h,l,fa,fn(t))}function Os(e,t,r,n){const{implicitKey:s,inFlow:i}=t,a=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:o}=e;o!==ee.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(o=ee.QUOTE_DOUBLE);const l=d=>{switch(d){case ee.BLOCK_FOLDED:case ee.BLOCK_LITERAL:return s||i?Mt(a.value,t):Hr(a,t,r,n);case ee.QUOTE_DOUBLE:return pr(a.value,t);case ee.QUOTE_SINGLE:return Fn(a.value,t);case ee.PLAIN:return af(a,t,r,n);default:return null}};let u=l(o);if(u===null){const{defaultKeyType:d,defaultStringType:h}=t.options,O=s&&d||h;if(u=l(O),u===null)throw new Error(`Unsupported default string type ${O}`)}return u}function da(e,t){const r=Object.assign({blockQuote:!0,commentString:nf,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,flowCollectionPadding:r.flowCollectionPadding?" ":"",indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function of(e,t){var s;if(t.tag){const i=e.filter(a=>a.tag===t.tag);if(i.length>0)return i.find(a=>a.format===t.format)??i[0]}let r,n;if(ce(t)){n=t.value;const i=e.filter(a=>{var o;return(o=a.identify)==null?void 0:o.call(a,n)});r=i.find(a=>a.format===t.format)??i.find(a=>!a.format)}else n=t,r=e.find(i=>i.nodeClass&&n instanceof i.nodeClass);if(!r){const i=((s=n==null?void 0:n.constructor)==null?void 0:s.name)??typeof n;throw new Error(`Tag not resolved for ${i} value`)}return r}function cf(e,t,{anchors:r,doc:n}){if(!n.directives)return"";const s=[],i=(ce(e)||me(e))&&e.anchor;i&&aa(i)&&(r.add(i),s.push(`&${i}`));const a=e.tag?e.tag:t.default?null:t.tag;return a&&s.push(n.directives.tagString(a)),s.join(" ")}function wt(e,t,r,n){var l;if(pe(e))return e.toString(t,r,n);if(Jt(e)){if(t.doc.directives)return e.toString(t);if((l=t.resolvedAliases)!=null&&l.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let s;const i=ye(e)?e:t.doc.createNode(e,{onTagObj:u=>s=u});s||(s=of(t.doc.schema.tags,i));const a=cf(i,s,t);a.length>0&&(t.indentAtStart=(t.indentAtStart??0)+a.length+1);const o=typeof s.stringify=="function"?s.stringify(i,t,r,n):ce(i)?Os(i,t,r,n):i.toString(t,r,n);return a?ce(i)||o[0]==="{"||o[0]==="["?`${a} ${o}`:`${a}
${t.indent}${o}`:o}function lf({key:e,value:t},r,n,s){const{allNullValues:i,doc:a,indent:o,indentStep:l,options:{commentString:u,indentSeq:d,simpleKeys:h}}=r;let O=ye(e)&&e.comment||null;if(h){if(O)throw new Error("With simple keys, key nodes cannot have comments");if(me(e)){const I="With simple keys, collection cannot be used as a key value";throw new Error(I)}}let _=!h&&(!e||O&&t==null&&!r.inFlow||me(e)||(ce(e)?e.type===ee.BLOCK_FOLDED||e.type===ee.BLOCK_LITERAL:typeof e=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!_&&(h||!i),indent:o+l});let b=!1,v=!1,y=wt(e,r,()=>b=!0,()=>v=!0);if(!_&&!r.inFlow&&y.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");_=!0}if(r.inFlow){if(i||t==null)return b&&n&&n(),y===""?"?":_?`? ${y}`:y}else if(i&&!h||t==null&&_)return y=`? ${y}`,O&&!b?y+=nt(y,r.indent,u(O)):v&&s&&s(),y;b&&(O=null),_?(O&&(y+=nt(y,r.indent,u(O))),y=`? ${y}
${o}:`):(y=`${y}:`,O&&(y+=nt(y,r.indent,u(O))));let m,w,S;ye(t)?(m=!!t.spaceBefore,w=t.commentBefore,S=t.comment):(m=!1,w=null,S=null,t&&typeof t=="object"&&(t=a.createNode(t))),r.implicitKey=!1,!_&&!O&&ce(t)&&(r.indentAtStart=y.length+1),v=!1,!d&&l.length>=2&&!r.inFlow&&!_&&Sr(t)&&!t.flow&&!t.tag&&!t.anchor&&(r.indent=r.indent.substring(2));let T=!1;const A=wt(t,r,()=>T=!0,()=>v=!0);let E=" ";if(O||m||w){if(E=m?`
`:"",w){const I=u(w);E+=`
${Qe(I,r.indent)}`}A===""&&!r.inFlow?E===`
`&&(E=`

`):E+=`
${r.indent}`}else if(!_&&me(t)){const I=A[0],D=A.indexOf(`
`),K=D!==-1,H=r.inFlow??t.flow??t.items.length===0;if(K||!H){let te=!1;if(K&&(I==="&"||I==="!")){let J=A.indexOf(" ");I==="&"&&J!==-1&&J<D&&A[J+1]==="!"&&(J=A.indexOf(" ",J+1)),(J===-1||D<J)&&(te=!0)}te||(E=`
${r.indent}`)}}else(A===""||A[0]===`
`)&&(E="");return y+=E+A,r.inFlow?T&&n&&n():S&&!T?y+=nt(y,r.indent,u(S)):v&&s&&s(),y}function uf(e,t){(e==="debug"||e==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const vi="<<";function ha(e,t,{key:r,value:n}){if(e!=null&&e.doc.schema.merge&&ff(r))if(n=Jt(n)?n.resolve(e.doc):n,Sr(n))for(const s of n.items)Pn(e,t,s);else if(Array.isArray(n))for(const s of n)Pn(e,t,s);else Pn(e,t,n);else{const s=He(r,"",e);if(t instanceof Map)t.set(s,He(n,s,e));else if(t instanceof Set)t.add(s);else{const i=df(r,s,e),a=He(n,i,e);i in t?Object.defineProperty(t,i,{value:a,writable:!0,enumerable:!0,configurable:!0}):t[i]=a}}return t}const ff=e=>e===vi||ce(e)&&e.value===vi&&(!e.type||e.type===ee.PLAIN);function Pn(e,t,r){const n=e&&Jt(r)?r.resolve(e.doc):r;if(!Er(n))throw new Error("Merge sources must be maps or map aliases");const s=n.toJSON(null,e,Map);for(const[i,a]of s)t instanceof Map?t.has(i)||t.set(i,a):t instanceof Set?t.add(i):Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{value:a,writable:!0,enumerable:!0,configurable:!0});return t}function df(e,t,r){if(t===null)return"";if(typeof t!="object")return String(t);if(ye(e)&&r&&r.doc){const n=da(r.doc,{});n.anchors=new Set;for(const i of r.anchors.keys())n.anchors.add(i.anchor);n.inFlow=!0,n.inStringifyKey=!0;const s=e.toString(n);if(!r.mapKeyWarned){let i=JSON.stringify(s);i.length>40&&(i=i.substring(0,36)+'..."'),uf(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return s}return JSON.stringify(t)}function Ns(e,t,r){const n=gr(e,void 0,r),s=gr(t,void 0,r);return new Ce(n,s)}class Ce{constructor(t,r=null){Object.defineProperty(this,Ie,{value:ia}),this.key=t,this.value=r}clone(t){let{key:r,value:n}=this;return ye(r)&&(r=r.clone(t)),ye(n)&&(n=n.clone(t)),new Ce(r,n)}toJSON(t,r){const n=r!=null&&r.mapAsMap?new Map:{};return ha(r,n,this)}toString(t,r,n){return t!=null&&t.doc?lf(this,t,r,n):JSON.stringify(this)}}function ma(e,t,r){return(t.inFlow??e.flow?mf:hf)(e,t,r)}function hf({comment:e,items:t},r,{blockItemPrefix:n,flowChars:s,itemIndent:i,onChompKeep:a,onComment:o}){const{indent:l,options:{commentString:u}}=r,d=Object.assign({},r,{indent:i,type:null});let h=!1;const O=[];for(let b=0;b<t.length;++b){const v=t[b];let y=null;if(ye(v))!h&&v.spaceBefore&&O.push(""),rn(r,O,v.commentBefore,h),v.comment&&(y=v.comment);else if(pe(v)){const w=ye(v.key)?v.key:null;w&&(!h&&w.spaceBefore&&O.push(""),rn(r,O,w.commentBefore,h))}h=!1;let m=wt(v,d,()=>y=null,()=>h=!0);y&&(m+=nt(m,i,u(y))),h&&y&&(h=!1),O.push(n+m)}let _;if(O.length===0)_=s.start+s.end;else{_=O[0];for(let b=1;b<O.length;++b){const v=O[b];_+=v?`
${l}${v}`:`
`}}return e?(_+=`
`+Qe(u(e),l),o&&o()):h&&a&&a(),_}function mf({comment:e,items:t},r,{flowChars:n,itemIndent:s,onComment:i}){const{indent:a,indentStep:o,flowCollectionPadding:l,options:{commentString:u}}=r;s+=o;const d=Object.assign({},r,{indent:s,inFlow:!0,type:null});let h=!1,O=0;const _=[];for(let m=0;m<t.length;++m){const w=t[m];let S=null;if(ye(w))w.spaceBefore&&_.push(""),rn(r,_,w.commentBefore,!1),w.comment&&(S=w.comment);else if(pe(w)){const A=ye(w.key)?w.key:null;A&&(A.spaceBefore&&_.push(""),rn(r,_,A.commentBefore,!1),A.comment&&(h=!0));const E=ye(w.value)?w.value:null;E?(E.comment&&(S=E.comment),E.commentBefore&&(h=!0)):w.value==null&&A&&A.comment&&(S=A.comment)}S&&(h=!0);let T=wt(w,d,()=>S=null);m<t.length-1&&(T+=","),S&&(T+=nt(T,s,u(S))),!h&&(_.length>O||T.includes(`
`))&&(h=!0),_.push(T),O=_.length}let b;const{start:v,end:y}=n;if(_.length===0)b=v+y;else if(h||(h=_.reduce((w,S)=>w+S.length+2,2)>ln.maxFlowStringSingleLineLength),h){b=v;for(const m of _)b+=m?`
${o}${a}${m}`:`
`;b+=`
${a}${y}`}else b=`${v}${l}${_.join(" ")}${l}${y}`;return e&&(b+=nt(b,u(e),a),i&&i()),b}function rn({indent:e,options:{commentString:t}},r,n,s){if(n&&s&&(n=n.replace(/^\n+/,"")),n){const i=Qe(t(n),e);r.push(i.trimStart())}}function gt(e,t){const r=ce(t)?t.value:t;for(const n of e)if(pe(n)&&(n.key===t||n.key===r||ce(n.key)&&n.key.value===r))return n}class tt extends ln{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(it,t),this.items=[]}add(t,r){var a;let n;pe(t)?n=t:!t||typeof t!="object"||!("key"in t)?n=new Ce(t,t==null?void 0:t.value):n=new Ce(t.key,t.value);const s=gt(this.items,n.key),i=(a=this.schema)==null?void 0:a.sortMapEntries;if(s){if(!r)throw new Error(`Key ${n.key} already set`);ce(s.value)&&ua(n.value)?s.value.value=n.value:s.value=n.value}else if(i){const o=this.items.findIndex(l=>i(n,l)<0);o===-1?this.items.push(n):this.items.splice(o,0,n)}else this.items.push(n)}delete(t){const r=gt(this.items,t);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(t,r){const n=gt(this.items,t),s=n==null?void 0:n.value;return(!r&&ce(s)?s.value:s)??void 0}has(t){return!!gt(this.items,t)}set(t,r){this.add(new Ce(t,r),!0)}toJSON(t,r,n){const s=n?new n:r!=null&&r.mapAsMap?new Map:{};r!=null&&r.onCreate&&r.onCreate(s);for(const i of this.items)ha(r,s,i);return s}toString(t,r,n){if(!t)return JSON.stringify(this);for(const s of this.items)if(!pe(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),ma(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:r})}}function pf(e,t,r){const{keepUndefined:n,replacer:s}=r,i=new tt(e),a=(o,l)=>{if(typeof s=="function")l=s.call(t,o,l);else if(Array.isArray(s)&&!s.includes(o))return;(l!==void 0||n)&&i.items.push(Ns(o,l,r))};if(t instanceof Map)for(const[o,l]of t)a(o,l);else if(t&&typeof t=="object")for(const o of Object.keys(t))a(o,t[o]);return typeof e.sortMapEntries=="function"&&i.items.sort(e.sortMapEntries),i}const Ht={collection:"map",createNode:pf,default:!0,nodeClass:tt,tag:"tag:yaml.org,2002:map",resolve(e,t){return Er(e)||t("Expected a mapping for this tag"),e}};class hn extends ln{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Bt,t),this.items=[]}add(t){this.items.push(t)}delete(t){const r=Lr(t);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(t,r){const n=Lr(t);if(typeof n!="number")return;const s=this.items[n];return!r&&ce(s)?s.value:s}has(t){const r=Lr(t);return typeof r=="number"&&r<this.items.length}set(t,r){const n=Lr(t);if(typeof n!="number")throw new Error(`Expected a valid index, not ${t}.`);const s=this.items[n];ce(s)&&ua(r)?s.value=r:this.items[n]=r}toJSON(t,r){const n=[];r!=null&&r.onCreate&&r.onCreate(n);let s=0;for(const i of this.items)n.push(He(i,String(s++),r));return n}toString(t,r,n){return t?ma(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}}function Lr(e){let t=ce(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}function yf(e,t,r){const{replacer:n}=r,s=new hn(e);if(t&&Symbol.iterator in Object(t)){let i=0;for(let a of t){if(typeof n=="function"){const o=t instanceof Set?a:String(i++);a=n.call(t,o,a)}s.items.push(gr(a,void 0,r))}}return s}const Gt={collection:"seq",createNode:yf,default:!0,nodeClass:hn,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Sr(e)||t("Expected a sequence for this tag"),e}},mn={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,r,n){return t=Object.assign({actualString:!0},t),Os(e,t,r,n)}},pn={identify:e=>e==null,createNode:()=>new ee(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new ee(null),stringify:({source:e},t)=>typeof e=="string"&&pn.test.test(e)?e:t.options.nullStr},Ps={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new ee(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},r){if(e&&Ps.test.test(e)){const n=e[0]==="t"||e[0]==="T";if(t===n)return e}return t?r.options.trueStr:r.options.falseStr}};function Me({format:e,minFractionDigits:t,tag:r,value:n}){if(typeof n=="bigint")return String(n);const s=typeof n=="number"?n:Number(n);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=JSON.stringify(n);if(!e&&t&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let a=i.indexOf(".");a<0&&(a=i.length,i+=".");let o=t-(i.length-a-1);for(;o-- >0;)i+="0"}return i}const pa={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Me},ya={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Me(e)}},ga={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new ee(parseFloat(e)),r=e.indexOf(".");return r!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-r-1),t},stringify:Me},yn=e=>typeof e=="bigint"||Number.isInteger(e),js=(e,t,r,{intAsBigInt:n})=>n?BigInt(e):parseInt(e.substring(t),r);function $a(e,t,r){const{value:n}=e;return yn(n)&&n>=0?r+n.toString(t):Me(e)}const va={identify:e=>yn(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,r)=>js(e,2,8,r),stringify:e=>$a(e,8,"0o")},_a={identify:yn,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,r)=>js(e,0,10,r),stringify:Me},wa={identify:e=>yn(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,r)=>js(e,2,16,r),stringify:e=>$a(e,16,"0x")},gf=[Ht,Gt,mn,pn,Ps,va,_a,wa,pa,ya,ga];function _i(e){return typeof e=="bigint"||Number.isInteger(e)}const Vr=({value:e})=>JSON.stringify(e),$f=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Vr},{identify:e=>e==null,createNode:()=>new ee(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Vr},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:Vr},{identify:_i,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:r})=>r?BigInt(e):parseInt(e,10),stringify:({value:e})=>_i(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Vr}],vf={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},_f=[Ht,Gt].concat($f,vf),Ts={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const r=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let s=0;s<r.length;++s)n[s]=r.charCodeAt(s);return n}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:r},n,s,i){const a=r;let o;if(typeof Buffer=="function")o=a instanceof Buffer?a.toString("base64"):Buffer.from(a.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);o=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=ee.BLOCK_LITERAL),t!==ee.QUOTE_DOUBLE){const l=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),u=Math.ceil(o.length/l),d=new Array(u);for(let h=0,O=0;h<u;++h,O+=l)d[h]=o.substr(O,l);o=d.join(t===ee.BLOCK_LITERAL?`
`:" ")}return Os({comment:e,type:t,value:o},n,s,i)}};function ba(e,t){if(Sr(e))for(let r=0;r<e.items.length;++r){let n=e.items[r];if(!pe(n)){if(Er(n)){n.items.length>1&&t("Each pair must have its own sequence indicator");const s=n.items[0]||new Ce(new ee(null));if(n.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${n.commentBefore}
${s.key.commentBefore}`:n.commentBefore),n.comment){const i=s.value??s.key;i.comment=i.comment?`${n.comment}
${i.comment}`:n.comment}n=s}e.items[r]=pe(n)?n:new Ce(n)}}else t("Expected a sequence for this tag");return e}function Ea(e,t,r){const{replacer:n}=r,s=new hn(e);s.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let a of t){typeof n=="function"&&(a=n.call(t,String(i++),a));let o,l;if(Array.isArray(a))if(a.length===2)o=a[0],l=a[1];else throw new TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){const u=Object.keys(a);if(u.length===1)o=u[0],l=a[o];else throw new TypeError(`Expected { key: value } tuple: ${a}`)}else o=a;s.items.push(Ns(o,l,r))}return s}const Cs={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:ba,createNode:Ea};class Lt extends hn{constructor(){super(),this.add=tt.prototype.add.bind(this),this.delete=tt.prototype.delete.bind(this),this.get=tt.prototype.get.bind(this),this.has=tt.prototype.has.bind(this),this.set=tt.prototype.set.bind(this),this.tag=Lt.tag}toJSON(t,r){if(!r)return super.toJSON(t);const n=new Map;r!=null&&r.onCreate&&r.onCreate(n);for(const s of this.items){let i,a;if(pe(s)?(i=He(s.key,"",r),a=He(s.value,i,r)):i=He(s,"",r),n.has(i))throw new Error("Ordered maps must not include duplicate keys");n.set(i,a)}return n}}Lt.tag="tag:yaml.org,2002:omap";const Is={collection:"seq",identify:e=>e instanceof Map,nodeClass:Lt,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const r=ba(e,t),n=[];for(const{key:s}of r.items)ce(s)&&(n.includes(s.value)?t(`Ordered maps must not include duplicate keys: ${s.value}`):n.push(s.value));return Object.assign(new Lt,r)},createNode(e,t,r){const n=Ea(e,t,r),s=new Lt;return s.items=n.items,s}};function Sa({value:e,source:t},r){return t&&(e?Oa:Na).test.test(t)?t:e?r.options.trueStr:r.options.falseStr}const Oa={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new ee(!0),stringify:Sa},Na={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new ee(!1),stringify:Sa},wf={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Me},bf={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Me(e)}},Ef={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new ee(parseFloat(e.replace(/_/g,""))),r=e.indexOf(".");if(r!==-1){const n=e.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(t.minFractionDigits=n.length)}return t},stringify:Me},Or=e=>typeof e=="bigint"||Number.isInteger(e);function gn(e,t,r,{intAsBigInt:n}){const s=e[0];if((s==="-"||s==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),n){switch(r){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const a=BigInt(e);return s==="-"?BigInt(-1)*a:a}const i=parseInt(e,r);return s==="-"?-1*i:i}function ks(e,t,r){const{value:n}=e;if(Or(n)){const s=n.toString(t);return n<0?"-"+r+s.substr(1):r+s}return Me(e)}const Sf={identify:Or,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,r)=>gn(e,2,2,r),stringify:e=>ks(e,2,"0b")},Of={identify:Or,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,r)=>gn(e,1,8,r),stringify:e=>ks(e,8,"0")},Nf={identify:Or,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,r)=>gn(e,0,10,r),stringify:Me},Pf={identify:Or,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,r)=>gn(e,2,16,r),stringify:e=>ks(e,16,"0x")};class Vt extends tt{constructor(t){super(t),this.tag=Vt.tag}add(t){let r;pe(t)?r=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?r=new Ce(t.key,null):r=new Ce(t,null),gt(this.items,r.key)||this.items.push(r)}get(t,r){const n=gt(this.items,t);return!r&&pe(n)?ce(n.key)?n.key.value:n.key:n}set(t,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);const n=gt(this.items,t);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new Ce(t))}toJSON(t,r){return super.toJSON(t,r,Set)}toString(t,r,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}}Vt.tag="tag:yaml.org,2002:set";const As={collection:"map",identify:e=>e instanceof Set,nodeClass:Vt,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(Er(e)){if(e.hasAllNullValues(!0))return Object.assign(new Vt,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,r){const{replacer:n}=r,s=new Vt(e);if(t&&Symbol.iterator in Object(t))for(let i of t)typeof n=="function"&&(i=n.call(t,i,i)),s.items.push(Ns(i,null,r));return s}};function Rs(e,t){const r=e[0],n=r==="-"||r==="+"?e.substring(1):e,s=a=>t?BigInt(a):Number(a),i=n.replace(/_/g,"").split(":").reduce((a,o)=>a*s(60)+s(o),s(0));return r==="-"?s(-1)*i:i}function Pa(e){let{value:t}=e,r=a=>a;if(typeof t=="bigint")r=a=>BigInt(a);else if(isNaN(t)||!isFinite(t))return Me(e);let n="";t<0&&(n="-",t*=r(-1));const s=r(60),i=[t%s];return t<60?i.unshift(0):(t=(t-i[0])/s,i.unshift(t%s),t>=60&&(t=(t-i[0])/s,i.unshift(t))),n+i.map(a=>a<10?"0"+String(a):String(a)).join(":").replace(/000000\d*$/,"")}const ja={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:r})=>Rs(e,r),stringify:Pa},Ta={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Rs(e,!1),stringify:Pa},$n={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match($n.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,r,n,s,i,a,o]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let u=Date.UTC(r,n-1,s,i||0,a||0,o||0,l);const d=t[8];if(d&&d!=="Z"){let h=Rs(d,!1);Math.abs(h)<30&&(h*=60),u-=6e4*h}return new Date(u)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},wi=[Ht,Gt,mn,pn,Oa,Na,Sf,Of,Nf,Pf,wf,bf,Ef,Ts,Is,Cs,As,ja,Ta,$n],bi=new Map([["core",gf],["failsafe",[Ht,Gt,mn]],["json",_f],["yaml11",wi],["yaml-1.1",wi]]),Ei={binary:Ts,bool:Ps,float:ga,floatExp:ya,floatNaN:pa,floatTime:Ta,int:_a,intHex:wa,intOct:va,intTime:ja,map:Ht,null:pn,omap:Is,pairs:Cs,seq:Gt,set:As,timestamp:$n},jf={"tag:yaml.org,2002:binary":Ts,"tag:yaml.org,2002:omap":Is,"tag:yaml.org,2002:pairs":Cs,"tag:yaml.org,2002:set":As,"tag:yaml.org,2002:timestamp":$n};function jn(e,t){let r=bi.get(t);if(!r)if(Array.isArray(e))r=[];else{const n=Array.from(bi.keys()).filter(s=>s!=="yaml11").map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${n} or define customTags array`)}if(Array.isArray(e))for(const n of e)r=r.concat(n);else typeof e=="function"&&(r=e(r.slice()));return r.map(n=>{if(typeof n!="string")return n;const s=Ei[n];if(s)return s;const i=Object.keys(Ei).map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${i}`)})}const Tf=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Ds{constructor({compat:t,customTags:r,merge:n,resolveKnownTags:s,schema:i,sortMapEntries:a,toStringDefaults:o}){this.compat=Array.isArray(t)?jn(t,"compat"):t?jn(null,t):null,this.merge=!!n,this.name=typeof i=="string"&&i||"core",this.knownTags=s?jf:{},this.tags=jn(r,this.name),this.toStringOptions=o??null,Object.defineProperty(this,it,{value:Ht}),Object.defineProperty(this,cn,{value:mn}),Object.defineProperty(this,Bt,{value:Gt}),this.sortMapEntries=typeof a=="function"?a:a===!0?Tf:null}clone(){const t=Object.create(Ds.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function Cf(e,t){var l;const r=[];let n=t.directives===!0;if(t.directives!==!1&&e.directives){const u=e.directives.toString(e);u?(r.push(u),n=!0):e.directives.docStart&&(n=!0)}n&&r.push("---");const s=da(e,t),{commentString:i}=s.options;if(e.commentBefore){r.length!==1&&r.unshift("");const u=i(e.commentBefore);r.unshift(Qe(u,""))}let a=!1,o=null;if(e.contents){if(ye(e.contents)){if(e.contents.spaceBefore&&n&&r.push(""),e.contents.commentBefore){const h=i(e.contents.commentBefore);r.push(Qe(h,""))}s.forceBlockIndent=!!e.comment,o=e.contents.comment}const u=o?void 0:()=>a=!0;let d=wt(e.contents,s,()=>o=null,u);o&&(d+=nt(d,"",i(o))),(d[0]==="|"||d[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${d}`:r.push(d)}else r.push(wt(e.contents,s));if((l=e.directives)!=null&&l.docEnd)if(e.comment){const u=i(e.comment);u.includes(`
`)?(r.push("..."),r.push(Qe(u,""))):r.push(`... ${u}`)}else r.push("...");else{let u=e.comment;u&&a&&(u=u.replace(/^\n+/,"")),u&&((!a||o)&&r[r.length-1]!==""&&r.push(""),r.push(Qe(i(u),"")))}return r.join(`
`)+`
`}function cr(e,t,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let s=0,i=n.length;s<i;++s){const a=n[s],o=cr(e,n,String(s),a);o===void 0?delete n[s]:o!==a&&(n[s]=o)}else if(n instanceof Map)for(const s of Array.from(n.keys())){const i=n.get(s),a=cr(e,n,s,i);a===void 0?n.delete(s):a!==i&&n.set(s,a)}else if(n instanceof Set)for(const s of Array.from(n)){const i=cr(e,n,s,s);i===void 0?n.delete(s):i!==s&&(n.delete(s),n.add(i))}else for(const[s,i]of Object.entries(n)){const a=cr(e,n,s,i);a===void 0?delete n[s]:a!==i&&(n[s]=a)}return e.call(t,r,n)}class Ms{constructor(t,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Ie,{value:Dn});let s=null;typeof r=="function"||Array.isArray(r)?s=r:n===void 0&&r&&(n=r,r=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=i;let{version:a}=i;n!=null&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(a=this.directives.yaml.version)):this.directives=new Ee({version:a}),this.setSchema(a,n),t===void 0?this.contents=null:this.contents=this.createNode(t,s,n)}clone(){const t=Object.create(Ms.prototype,{[Ie]:{value:Dn}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=ye(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){At(this.contents)&&this.contents.add(t)}addIn(t,r){At(this.contents)&&this.contents.addIn(t,r)}createAlias(t,r){if(!t.anchor){const n=oa(this);t.anchor=!r||n.has(r)?ca(r||"a",n):r}return new la(t.anchor)}createNode(t,r,n){let s;if(typeof r=="function")t=r.call({"":t},"",t),s=r;else if(Array.isArray(r)){const y=w=>typeof w=="number"||w instanceof String||w instanceof Number,m=r.filter(y).map(String);m.length>0&&(r=r.concat(m)),s=r}else n===void 0&&r&&(n=r,r=void 0);const{aliasDuplicateObjects:i,anchorPrefix:a,flow:o,keepUndefined:l,onTagObj:u,tag:d}=n??{},{onAnchor:h,setAnchors:O,sourceObjects:_}=ef(this,a||"a"),b={aliasDuplicateObjects:i??!0,keepUndefined:l??!1,onAnchor:h,onTagObj:u,replacer:s,schema:this.schema,sourceObjects:_},v=gr(t,d,b);return o&&me(v)&&(v.flow=!0),O(),v}createPair(t,r,n={}){const s=this.createNode(t,null,n),i=this.createNode(r,null,n);return new Ce(s,i)}delete(t){return At(this.contents)?this.contents.delete(t):!1}deleteIn(t){return or(t)?this.contents==null?!1:(this.contents=null,!0):At(this.contents)?this.contents.deleteIn(t):!1}get(t,r){return me(this.contents)?this.contents.get(t,r):void 0}getIn(t,r){return or(t)?!r&&ce(this.contents)?this.contents.value:this.contents:me(this.contents)?this.contents.getIn(t,r):void 0}has(t){return me(this.contents)?this.contents.has(t):!1}hasIn(t){return or(t)?this.contents!==void 0:me(this.contents)?this.contents.hasIn(t):!1}set(t,r){this.contents==null?this.contents=tn(this.schema,[t],r):At(this.contents)&&this.contents.set(t,r)}setIn(t,r){or(t)?this.contents=r:this.contents==null?this.contents=tn(this.schema,Array.from(t),r):At(this.contents)&&this.contents.setIn(t,r)}setSchema(t,r={}){typeof t=="number"&&(t=String(t));let n;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Ee({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Ee({version:t}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const s=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new Ds(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:r,mapAsMap:n,maxAliasCount:s,onAnchor:i,reviver:a}={}){const o={anchors:new Map,doc:this,keep:!t,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100,stringify:wt},l=He(this.contents,r??"",o);if(typeof i=="function")for(const{count:u,res:d}of o.anchors.values())i(d,u);return typeof a=="function"?cr(a,{"":l},"",l):l}toJSON(t,r){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:r})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const r=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return Cf(this,t)}}function At(e){if(me(e))return!0;throw new Error("Expected a YAML collection as document contents")}function If(e,t,r){let n=null;if(typeof t=="function"||Array.isArray(t)?n=t:r===void 0&&t&&(r=t),typeof r=="string"&&(r=r.length),typeof r=="number"){const s=Math.round(r);r=s<1?void 0:s>8?{indent:8}:{indent:s}}if(e===void 0){const{keepUndefined:s}=r??t??{};if(!s)return}return new Ms(e,n,r).toString(r)}const kf={class:"flex flex-row"},Af={class:"flex"},Rf={class:"flex flex-col mx-2"},Mf=qa({__name:"ExportRulesView",setup(e){const{toFile:t}=Ka(),r=za(""),n=()=>{r.value=If(t(),null,2)},s=()=>{let a=Ju(t());console.log("VO: ",a);let o=pi(t());console.log("GR: ",o,pi.errors)},i=()=>{let a=new Blob([r.value],{type:"text/plain;charset=utf-8"});en(a,"panther.rules")};return Ba(()=>{n()}),(a,o)=>(Ha(),Ja("div",kf,[Cr(Ir(Ga),{readonly:!0,value:r.value,style:{"font-family":"monospace"},rows:40,cols:120},null,8,["value"]),Qs("div",Af,[Qs("div",Rf,[Cr(Ir(_n),{label:"Generate",onClick:n}),Cr(Ir(_n),{label:"Download",onClick:i}),Cr(Ir(_n),{label:"Validate",onClick:s})])])]))}});export{Mf as default};
