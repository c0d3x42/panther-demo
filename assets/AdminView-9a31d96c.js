import{W as g,ac as y,a0 as _,ae as h,k as S,a4 as U,b,j as a,w as t,x as e,F as A,o as k,A as c,E as m,B as r,t as p,X as f,L as w}from"./index-1f3a0ab2.js";import{u as v}from"./apikey-58fbf4d8.js";const x=g("users",()=>{const s=y(new Map),n=d=>s.get(d);return{all:_(()=>Array.from(s,d=>d[1])),simpleUsers:s,getUserByUUID:n,generateRandomUsers:()=>{s.clear(),["alice","bob","claire","dafydd"].forEach(l=>{console.debug("adding user",l);const o=h();s.set(o,{uuid:o,username:l,email:`${l}@example.com`,group:"user",created:Date.now()+l.length})})}}}),D=S({__name:"AdminView",setup(s){const n=x(),i=v();U(()=>{console.log("making users"),n.generateRandomUsers()});const u=()=>{i.add(n.all[0].username)};return(d,l)=>(k(),b(A,null,[a(e(f),null,{title:t(()=>[c("Console Users")]),content:t(()=>[a(e(m),{value:e(n).all},{default:t(()=>[a(e(r),{field:"username",header:"Username"}),a(e(r),{field:"email",header:"Email Address"}),a(e(r),{field:"group",header:"Group"}),a(e(r),{field:"created",header:"Created"},{body:t(o=>[c(p(new Date(o.data.created).toISOString()),1)]),_:1})]),_:1},8,["value"])]),_:1}),a(e(f),null,{title:t(()=>[c("API Keys")]),content:t(()=>[a(e(m),{value:e(i).keys},{default:t(()=>[a(e(r),{field:"key",header:"Key"}),a(e(r),{field:"creator",header:"creator"}),a(e(r),{field:"created",header:"Created"},{body:t(o=>[c(p(new Date(o.data.created).toISOString()),1)]),_:1})]),_:1},8,["value"]),a(e(w),{class:"p-button-success",label:"Add Key",onClick:u})]),_:1})],64))}});export{D as default};
