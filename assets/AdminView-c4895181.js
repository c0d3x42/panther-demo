import{W as g,ac as U,a0 as _,ae as p,k as h,a4 as k,b as S,j as a,w as s,x as e,F as w,o as A,A as i,E as m,B as n,t as y,X as f,L as b}from"./index-e442c57d.js";const D=g("users",()=>{const t=U(new Map),o=r=>t.get(r);return{all:_(()=>Array.from(t,r=>r[1])),simpleUsers:t,getUserByUUID:o,generateRandomUsers:()=>{t.clear(),["alice","bob","claire","dafydd"].forEach(l=>{console.debug("adding user",l);const c=p();t.set(c,{uuid:c,username:l,email:`${l}@example.com`,group:"user",created:Date.now()+l.length})})}}}),K=g("apikey",()=>{const t=U(new Array);return{keys:t,getKeyByUUID:d=>t.find(r=>r.uuid===d),add:d=>{const r={uuid:p(),key:`random-key-${p()}`,creator:d,created:Date.now()};t.push(r)}}}),x=h({__name:"AdminView",setup(t){const o=D(),u=K();k(()=>{console.log("making users"),o.generateRandomUsers()});const d=()=>{u.add(o.all[0].username)};return(r,l)=>(A(),S(w,null,[a(e(f),null,{title:s(()=>[i("Console Users")]),content:s(()=>[a(e(m),{value:e(o).all},{default:s(()=>[a(e(n),{field:"username",header:"Username"}),a(e(n),{field:"email",header:"Email Address"}),a(e(n),{field:"group",header:"Group"}),a(e(n),{field:"created",header:"Created"},{body:s(c=>[i(y(new Date(c.data.created).toISOString()),1)]),_:1})]),_:1},8,["value"])]),_:1}),a(e(f),null,{title:s(()=>[i("API Keys")]),content:s(()=>[a(e(m),{value:e(u).keys},{default:s(()=>[a(e(n),{field:"key",header:"Key"}),a(e(n),{field:"creator",header:"creator"}),a(e(n),{field:"created",header:"Created"},{body:s(c=>[i(y(new Date(c.data.created).toISOString()),1)]),_:1})]),_:1},8,["value"]),a(e(b),{class:"p-button-success",label:"Add Key",onClick:d})]),_:1})],64))}});export{x as default};
