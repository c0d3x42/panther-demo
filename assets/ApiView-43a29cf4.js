import{r as I,ai as G,a3 as ue,aj as pe,ak as q,a8 as te,al as ve,am as _e,an as L,ao as me,ap as M,aq as ye,ar as he,d as xe,aa as Oe,af as ge,z as be,f as se,h as i,o as oe,l as Pe,g as e,e as y,s as je,j as S,n as we,P as ae,ah as Te,c as Ee,t as Ie,H as Fe,a0 as Ve}from"./index-ce3b542e.js";import"./divider.esm-e9beee8a.js";import{u as Ce}from"./apikey-a7ca94c0.js";const Ne=ve?window:void 0,z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J="__vueuse_ssr_handlers__";z[J]=z[J]||{};z[J];var Se=Object.defineProperty,$e=Object.defineProperties,Be=Object.getOwnPropertyDescriptors,ne=Object.getOwnPropertySymbols,Ue=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable,le=(s,t,o)=>t in s?Se(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o,f=(s,t)=>{for(var o in t||(t={}))Ue.call(t,o)&&le(s,o,t[o]);if(ne)for(var o of ne(t))Ae.call(t,o)&&le(s,o,t[o]);return s},E=(s,t)=>$e(s,Be(t));const De={json:"application/json",text:"text/plain"};function ie(s){return _e(s,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch")}function W(s){return typeof Headers<"u"&&s instanceof Headers?Object.fromEntries([...s.entries()]):s}function ke(s,...t){var o;const x=typeof AbortController=="function";let r={},n={immediate:!0,refetch:!1,timeout:0};const a={method:"GET",type:"text",payload:void 0};t.length>0&&(ie(t[0])?n=f(f({},n),t[0]):r=t[0]),t.length>1&&ie(t[1])&&(n=f(f({},n),t[1]));const{fetch:$=(o=Ne)==null?void 0:o.fetch,initialData:R,timeout:B}=n,b=M(),U=M(),l=M(),c=I(!1),P=I(!1),A=I(!1),j=I(null),D=G(null),k=G(null),H=G(R),fe=ue(()=>x&&P.value);let O,w;const X=()=>{x&&O&&O.abort()},Q=d=>{P.value=d,c.value=!d};B&&(w=pe(X,B,{immediate:!1}));const F=async(d=!1)=>{var v;Q(!0),k.value=null,j.value=null,A.value=!1,O=void 0,x&&(O=new AbortController,O.signal.onabort=()=>A.value=!0,r=E(f({},r),{signal:O.signal}));const p={method:a.method,headers:{}};if(a.payload){const C=W(p.headers);a.payloadType&&(C["Content-Type"]=(v=De[a.payloadType])!=null?v:a.payloadType);const N=L(a.payload);p.body=a.payloadType==="json"?JSON.stringify(N):N}let g=!1;const _={url:L(s),options:f(f({},p),r),cancel:()=>{g=!0}};if(n.beforeFetch&&Object.assign(_,await n.beforeFetch(_)),g||!$)return Q(!1),Promise.resolve(null);let m=null;return w&&w.start(),new Promise((C,N)=>{var Z;$(_.url,E(f(f({},p),_.options),{headers:f(f({},W(p.headers)),W((Z=_.options)==null?void 0:Z.headers))})).then(async u=>{if(D.value=u,j.value=u.status,m=await u[a.type](),n.afterFetch&&j.value>=200&&j.value<300&&({data:m}=await n.afterFetch({data:m,response:u})),H.value=m,!u.ok)throw new Error(u.statusText);return b.trigger(u),C(u)}).catch(async u=>{let ee=u.message||u.name;return n.onFetchError&&({data:m,error:ee}=await n.onFetchError({data:m,error:u,response:D.value})),H.value=m,k.value=ee,U.trigger(u),d?N(u):C(null)}).finally(()=>{Q(!1),w&&w.stop(),l.trigger(null)})})},Y=q(n.refetch);te([Y,q(s)],([d])=>d&&F(),{deep:!0});const V={isFinished:c,statusCode:j,response:D,error:k,data:H,isFetching:P,canAbort:fe,aborted:A,abort:X,execute:F,onFetchResponse:b.on,onFetchError:U.on,onFetchFinally:l.on,get:h("GET"),put:h("PUT"),post:h("POST"),delete:h("DELETE"),patch:h("PATCH"),head:h("HEAD"),options:h("OPTIONS"),json:T("json"),text:T("text"),blob:T("blob"),arrayBuffer:T("arrayBuffer"),formData:T("formData")};function h(d){return(v,p)=>{if(!P.value){a.method=d,a.payload=v,a.payloadType=p,ye(a.payload)&&te([Y,q(a.payload)],([_])=>_&&F(),{deep:!0});const g=L(a.payload);return!p&&g&&Object.getPrototypeOf(g)===Object.prototype&&!(g instanceof FormData)&&(a.payloadType="json"),E(f({},V),{then(_,m){return K().then(_,m)}})}}}function K(){return new Promise((d,v)=>{he(c).toBe(!0).then(()=>d(V)).catch(p=>v(p))})}function T(d){return()=>{if(!P.value)return a.type=d,E(f({},V),{then(v,p){return K().then(v,p)}})}}return n.immediate&&setTimeout(F,0),E(f({},V),{then(d,v){return K().then(d,v)}})}var re;(function(s){s.UP="UP",s.RIGHT="RIGHT",s.DOWN="DOWN",s.LEFT="LEFT",s.NONE="NONE"})(re||(re={}));var He=Object.defineProperty,ce=Object.getOwnPropertySymbols,Qe=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable,de=(s,t,o)=>t in s?He(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o,Ge=(s,t)=>{for(var o in t||(t={}))Qe.call(t,o)&&de(s,o,t[o]);if(ce)for(var o of ce(t))Ke.call(t,o)&&de(s,o,t[o]);return s};const qe={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Ge({linear:me},qe);const Le={class:"grid p-fluid"},Me={class:"flex col-12"},We=e("div",{class:"col-2 flex justify-content-end"},[e("div",{class:"flex align-items-center"},"API Key")],-1),ze={class:"col-9 flex justify-content-start"},Je={class:"flex align-items-center"},Re={class:"flex col-12"},Xe=e("div",{class:"col-2 flex justify-content-end"},[e("div",{class:"flex align-items-center"},"Node")],-1),Ye={class:"col-9 flex justify-content-start"},Ze={class:"flex align-items-center"},et={class:"flex col-12"},tt=e("div",{class:"col-2 flex justify-content-end"},[e("div",{class:"flex align-items-center"},"Tag")],-1),st={class:"col-9 flex justify-content-start"},ot={class:"flex align-items-center"},at={class:"flex col-12"},nt=e("div",{class:"col-2 flex justify-content-end"},[e("div",{class:"flex align-items-center"},"Summary")],-1),lt={class:"col-9 flex justify-content-start"},it={class:"flex align-items-center"},rt={class:"flex col-12"},ct=e("div",{class:"col-2 flex justify-content-end"},[e("div",{class:"flex align-items-center"},"Severity")],-1),dt={class:"col-9 flex justify-content-start"},ut={class:"flex align-items-center"},ft={class:"flex col-12"},pt={class:"col-2 flex justify-content-end"},vt={class:"flex align-items-center"},_t={class:"flex col-12"},mt=e("div",{class:"col-2 flex justify-content-end"},[e("div",{class:"flex align-items-center"},"URL")],-1),yt={class:"col-9 flex justify-content-start"},ht={class:"flex align-items-center"},xt={class:"flex col-12"},Ot=e("div",{class:"col-2 flex justify-content-end"},[e("div",{class:"flex align-items-center"},"Request Body")],-1),gt={class:"col-9 flex justify-content-start"},bt={class:"flex align-items-center"},Pt={key:0},Et=xe({__name:"ApiView",setup(s){const t=I(),o="http://localhost:5173/blah",x=Ce(),r=Oe({event:{node:"",tag:"",summary:"",severity:0}}),n=ue(()=>JSON.stringify(r,null,4)),{execute:a,data:$,isFetching:R,error:B,statusCode:b}=ke(o,{immediate:!1}).post();return ge(()=>{x.generateKeys()}),(U,l)=>(oe(),be(i(Ve),null,{title:se(()=>[Pe("Event API")]),content:se(()=>[e("div",Le,[e("div",Me,[We,e("div",ze,[e("div",Je,[y(i(je),{placeholder:"Select a Key",modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=c=>t.value=c),options:i(x).keys,"option-label":"key","option-value":"uuid"},null,8,["modelValue","options"])])])]),e("div",Re,[Xe,e("div",Ye,[e("div",Ze,[y(i(S),{modelValue:r.event.node,"onUpdate:modelValue":l[1]||(l[1]=c=>r.event.node=c),placeholder:"Hostname"},null,8,["modelValue"])])])]),e("div",et,[tt,e("div",st,[e("div",ot,[y(i(S),{modelValue:r.event.tag,"onUpdate:modelValue":l[2]||(l[2]=c=>r.event.tag=c),placeholder:"Tag"},null,8,["modelValue"])])])]),e("div",at,[nt,e("div",lt,[e("div",it,[y(i(S),{modelValue:r.event.summary,"onUpdate:modelValue":l[3]||(l[3]=c=>r.event.summary=c),placeholder:"Summary"},null,8,["modelValue"])])])]),e("div",rt,[ct,e("div",dt,[e("div",ut,[y(i(we),{modelValue:r.event.severity,"onUpdate:modelValue":l[4]||(l[4]=c=>r.event.severity=c),mode:"decimal",min:1,max:5},null,8,["modelValue"])])])]),e("div",ft,[e("div",pt,[e("div",vt,[y(i(ae),{label:"Send",onClick:l[5]||(l[5]=c=>i(a)())}),y(i(ae),{label:"Reset"})])])]),e("div",_t,[mt,e("div",yt,[e("div",ht,[y(i(S),{readonly:!0,value:o})])])]),e("div",xt,[Ot,e("div",gt,[e("div",bt,[y(i(Te),{style:{"font-family":"monospace"},readonly:!0,"auto-resize":!0,rows:"5",cols:"30",value:i(n)},null,8,["value"])])])]),i(b)?(oe(),Ee("div",Pt,"statusCode "+Ie(i(b)),1)):Fe("",!0)])]),_:1}))}});export{Et as default};
