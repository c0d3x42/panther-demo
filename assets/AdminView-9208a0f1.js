import{$ as g,aa as y,a3 as _,ag as h,d as S,af as U,c as b,e as a,f as t,h as e,v,o as A,l as c,p as m,m as r,t as p,a0 as f,P as k}from"./index-ce3b542e.js";import{u as w}from"./apikey-a7ca94c0.js";const C=g("users",()=>{const s=y(new Map),n=d=>s.get(d);return{all:_(()=>Array.from(s,d=>d[1])),simpleUsers:s,getUserByUUID:n,generateRandomUsers:()=>{s.clear(),["alice","bob","claire","dafydd"].forEach(l=>{console.debug("adding user",l);const o=h();s.set(o,{uuid:o,username:l,email:`${l}@example.com`,group:"user",created:Date.now()+l.length})})}}}),D=S({__name:"AdminView",setup(s){const n=C(),i=w();U(()=>{console.log("making users"),n.generateRandomUsers()});const u=()=>{i.add(n.all[0].username)};return(d,l)=>(A(),b(v,null,[a(e(f),null,{title:t(()=>[c("Console Users")]),content:t(()=>[a(e(m),{value:e(n).all},{default:t(()=>[a(e(r),{field:"username",header:"Username"}),a(e(r),{field:"email",header:"Email Address"}),a(e(r),{field:"group",header:"Group"}),a(e(r),{field:"created",header:"Created"},{body:t(o=>[c(p(new Date(o.data.created).toISOString()),1)]),_:1})]),_:1},8,["value"])]),_:1}),a(e(f),null,{title:t(()=>[c("API Keys")]),content:t(()=>[a(e(m),{value:e(i).keys},{default:t(()=>[a(e(r),{field:"key",header:"Key"}),a(e(r),{field:"creator",header:"creator"}),a(e(r),{field:"created",header:"Created"},{body:t(o=>[c(p(new Date(o.data.created).toISOString()),1)]),_:1})]),_:1},8,["value"]),a(e(k),{class:"p-button-success",label:"Add Key",onClick:u})]),_:1})],64))}});export{D as default};
